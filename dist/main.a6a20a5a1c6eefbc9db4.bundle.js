webpackJsonp([0],{"++do":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("x5SG");i.b.prototype.switchMap=r.a},"+HRN":function(t,e,n){"use strict";var i=n("X3l8").Buffer,r=n(5);t.exports=function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,r=0;n;)n.data.copy(e,r),r+=n.data.length,n=n.next;return e},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},"/Euu":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL");n.d(e,"ReplaySubject",function(){return i.c})},"/Kc/":function(t,e,n){"use strict";e.a=function t(e,n,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof n?function(r){return r.pipe(t(function(t,i){return Object(s.a)(e(t,i)).pipe(Object(a.a)(function(e,r){return n(t,e,i,r)}))},i))}:("number"==typeof n&&(i=n),function(t){return t.lift(new u(e,i))})};var i=n("TToO"),r=n("3SjU"),o=n("1E73"),l=n("pHYG"),a=n("rylm"),s=n("5XgX"),u=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))},t}(),c=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=t.call(this,e)||this;return r.project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return i.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new l.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},"/Nc3":function(t,e,n){"use strict";function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},"/azD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("O4tu"))&&"object"==typeof i&&"default"in i?i.default:i,o=n("U49t"),l=n("Pxmi");n("AXSE");var a,s,u,c,h,d=n("fjI4"),p="0.2.7",f="FB-PERF-TRACE-START",g="FB-PERF-TRACE-STOP",m="FB-PERF-TRACE-MEASURE",v="@firebase/performance/config",y="@firebase/performance/configexpire",b=((a={})["trace started"]="Trace {$traceName} was started before.",a["trace stopped"]="Trace {$traceName} is not running.",a["no window"]="Window is not available.",a["no app id"]="App id is not available.",a["no project id"]="Project id is not available.",a["no api key"]="Api key is not available.",a["invalid cc log"]="Attempted to queue invalid cc event",a["FB not default"]="Performance can only start when Firebase app instance is the default one.",a["RC response not ok"]="RC response is not ok",a),w=new l.ErrorFactory("performance","Performance",b),_=function(){function t(t){if(!t)throw w.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.localStorage=t.localStorage,t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,i=t.getEntries();n<i.length;n++)e(i[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===s&&(s=new t(u)),s},t}(),C=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw w.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw w.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw w.create("no api key");return t},t.getInstance=function(){return void 0===c&&(c=new t),c},t}();function x(){return h}var S=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t[t.PRERENDER=3]="PRERENDER",t[t.UNLOADED=4]="UNLOADED",t}({});function E(){switch(_.getInstance().document.visibilityState){case"visible":return S.VISIBLE;case"hidden":return S.HIDDEN;case"prerender":return S.PRERENDER;default:return S.UNKNOWN}}var T=new d.Logger("Performance");T.logLevel=d.LogLevel.INFO;var k="0.0.1",A={loggingEnabled:!0},D="FIREBASE_INSTALLATIONS_AUTH",O="Could not fetch config, will use default configs";function I(t){if(!t)return t;var e=C.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):A.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=R(e.tracesSamplingRate),e.logNetworkAfterSampling=R(e.networkRequestsSamplingRate),t}function R(t){return Math.random()<=t}var P,M=1;function N(){var t;return M=2,P=P||(t=_.getInstance().document,new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})).then(function(){return(t=C.getInstance().firebaseAppInstance.installations().getId()).then(function(t){h=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=_.getInstance().localStorage,e=t.getItem(y);if(e&&Number(e)>Date.now()){var n=t.getItem(v);if(n)try{return JSON.parse(n)}catch(t){return}}}();return e?(I(e),Promise.resolve()):function(t){return(e=C.getInstance().firebaseAppInstance.installations().getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+C.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+C.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:D+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:C.getInstance().getAppId(),app_version:p,sdk_version:k})});return fetch(i).then(function(t){if(t.ok)return t.json();throw w.create("RC response not ok")})}).catch(function(){T.info(O)});var e}(t).then(function(t){return I(t)}).then(function(t){return function(t){if(t){var e=_.getInstance().localStorage;e.setItem(v,JSON.stringify(t)),e.setItem(y,String(Date.now()+60*C.getInstance().configTimeToLive*60*1e3))}}(t)},function(){})}(t)}).then(function(){return j()},function(){return j()})}function j(){M=3}var L,F=3,V=[];function B(){if(L)return L;var t=function(t){return function(e,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];!function(t){if(!t.eventTime||!t.message)throw w.create("invalid cc log");V=V.concat([t])}({message:t.apply(void 0,i),eventTime:Date.now()})}}(W);return(L=new d.Logger("@firebase/performance/cc")).logHandler=t,L}function U(t){var e=C.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&(t.isAuto&&E()!==S.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===M?q(t):N().then(function(){return q(t)},function(){return q(t)})))}function q(t){x()&&setTimeout(function(){return B().log(t,1)},0)}function W(t,e){return 0===e?(i={url:(n=t).url,http_method:1,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},r={application_info:H(),network_request_metric:i},JSON.stringify(r)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=z(t.counters));var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=z(n));var i={application_info:H(),trace_metric:e};return JSON.stringify(i)}(t);var n,i,r}function H(){return{google_app_id:C.getInstance().getAppId(),app_instance_id:x(),web_app_info:{sdk_version:p,page_url:_.getInstance().getUrl(),service_worker_status:(t=_.getInstance().navigator,"serviceWorker"in t?t.serviceWorker.controller?2:3:1),visibility_state:E(),effective_connection_type:function(){var t=_.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}function z(t){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})}!function t(e){setTimeout(function(){if(0!==F){if(!V.length)return t(1e4);var e=V.slice();V=[];var n=e.map(function(t){return{source_extension_json:t.message,event_time_ms:String(t.eventTime)}}),i={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:C.getInstance().logSource,log_event:n};fetch(C.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(i)}).then(function(t){return t.ok||T.info("Call to Firebase backend failed."),t.json()}).then(function(e){var n=Number(e.next_request_wait_millis),i=isNaN(n)?1e4:Math.max(1e4,n);F=3,t(i)}).catch(function(){V=e.concat(V),T.info("Tries left: "+--F+"."),t(1e4)})}},e)}(5500);var G=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=_.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=f+"-"+this.randomId+"-"+this.name,this.traceStopMark=g+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||m+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw w.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw w.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),U(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=o.__assign({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var l=r[i];isNaN(Number(n.metrics[l]))||(this.counters[l]=Number(Math.floor(n.metrics[l])))}U(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&(this.counters[t]=0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){this.customAttributes[t]=e},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return o.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,i){var r=_.getInstance().getUrl();if(r){var o=new t("_wt_"+r,!0),l=Math.floor(1e3*_.getInstance().getTimeOrigin());if(o.setStartTime(l),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.incrementMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.incrementMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.incrementMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.incrementMetric("_fp",Math.floor(1e3*a.startTime));var s=n.find(function(t){return"first-contentful-paint"===t.name});s&&s.startTime&&o.incrementMetric("_fcp",Math.floor(1e3*s.startTime)),i&&o.incrementMetric("_fid",Math.floor(1e3*i))}U(o)}},t.createUserTimingTrace=function(e){U(new t(e,!1,e))},t}();function Y(t){var e=t;if(e&&void 0!==e.responseStart){var n=_.getInstance().getTimeOrigin(),i=Math.floor(1e3*(e.startTime+n)),r=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=C.getInstance();e.instrumentationEnabled&&t.url!==e.logEndPointUrl.split("?")[0]&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return B().log(t,0)},0)}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}var X=5e3;function K(){x()&&(setTimeout(function(){return function(){var t=_.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout(function(){G.createOobTrace(e,n),i=void 0},X);t.onFirstInputDelay(function(t){i&&(clearTimeout(i),G.createOobTrace(e,n,t))})}else G.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=_.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)Y(n[e]);t.setupObserver("resource",Y)}()},0),setTimeout(function(){return function(){for(var t=_.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)Q(n[e]);t.setupObserver("measure",Q)}()},0))}function Q(t){var e=t.name;e.substring(0,m.length)!==m&&G.createUserTimingTrace(e)}var Z=function(){function t(t){this.app=t,N().then(K,K)}return t.prototype.trace=function(t){return new G(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return C.getInstance().instrumentationEnabled},set:function(t){C.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return C.getInstance().dataCollectionEnabled},set:function(t){C.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}(),J="[DEFAULT]";function $(t){t.INTERNAL.registerService("performance",function(t){if(t.name!==J)throw w.create("FB not default");return C.getInstance().firebaseAppInstance=t,new Z(t)},{})}window&&fetch&&Promise?(function(t){u=t}(window),$(r)):T.info("Firebase Performance cannot start if browser does not support fetch and Promise."),e.registerPerformance=$},"/qTI":function(t,e,n){"use strict";e.a=function(){return function(t){return t.lift(new o(t))}};var i=n("TToO"),r=n("p1Bo"),o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new l(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),l=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return i.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},e}(r.a)},0:function(t,e){},"01M/":function(t,e,n){var i;!function(){function r(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function l(t,e,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:o).apply(null,arguments)}var a=Date.now||function(){return+new Date},s=!!window.FontFace;function u(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function c(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,l=0;l<i.length;l+=1)if(e[r]===i[l]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,l=0;l<n.length;l+=1)if(i[r]===n[l]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function f(t,e,n){function i(){a&&r&&o&&(a(l),a=null)}e=u(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,o=!0,l=null,a=n||null;s?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,l=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),c(t,"head",e)}function g(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var o=u(t,"script",{src:e}),l=!1;return o.onload=o.onreadystatechange=function(){l||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(l=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){l||(l=!0,n&&n(Error("Script load timeout")))},i||5e3),o}return null}function m(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,b(t)}}function y(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function _(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function C(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function x(t){return t.a+t.f}function S(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function E(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function T(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),d(t.f,n,i)}k(t,"inactive")}function k(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,x(n)):t.h[e]())}function A(t,e){this.c=t,this.f=e,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function D(t){c(t.c,"body",t.a)}function O(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+C(t.c)+";font-style:"+S(t)+";font-weight:"+t.f+"00;"}function I(t,e,n,i,r,o){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function R(t,e,n,i,r,o,l){this.v=t,this.B=e,this.c=n,this.a=i,this.s=l||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=O(t=new _(this.a.c+",serif",x(this.a))),this.g.a.style.cssText=t,t=O(t=new _(this.a.c+",sans-serif",x(this.a))),this.h.a.style.cssText=t,t=O(t=new _("serif",x(this.a))),this.j.a.style.cssText=t,t=O(t=new _("sans-serif",x(this.a))),this.m.a.style.cssText=t,D(this.g),D(this.h),D(this.j),D(this.m)}w.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},I.prototype.start=function(){var t=this.c.o.document,e=this,n=a(),i=new Promise(function(i,r){!function o(){a()-n>=e.f?r():t.fonts.load(function(t){return S(t)+" "+t.f+"00 300px "+C(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(o,25)},function(){r()})}()}),r=null,o=new Promise(function(t,n){r=setTimeout(n,e.f)});Promise.race([o,i]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var P={D:"serif",C:"sans-serif"},M=null;function N(){if(null===M){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);M=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return M}function j(t,e,n){for(var i in P)if(P.hasOwnProperty(i)&&e===t.f[P[i]]&&n===t.f[P[i]])return!0;return!1}function L(t,e){setTimeout(l(function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),e(this.a)},t),0)}function F(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),function t(e){var n,i=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(n=i===e.f.serif&&r===e.f["sans-serif"])||(n=N()&&j(e,i,r)),n?a()-e.A>=e.w?N()&&j(e,i,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?L(e,e.v):L(e,e.B):function(e){setTimeout(l(function(){t(this)},e),50)}(e):L(e,e.v)}(this)};var V=null;function B(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),k(t,"active")):T(t.a))}function U(t){this.j=t,this.a=new function(){this.c={}},this.h=0,this.f=this.g=!0}function q(t,e,n,i,r){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,a=i||{};if(0===n.length&&o)T(e.a);else{e.f+=n.length,o&&(e.j=o);var s,u=[];for(s=0;s<n.length;s++){var c=n[s],h=a[c.c],p=e.a,f=c;if(p.g&&d(p.f,[p.a.c("wf",f.c,x(f).toString(),"loading")]),k(p,"fontloading",f),p=null,null===V)if(window.FontFace){f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);V=f?42<parseInt(f[1],10):!g}else V=!1;p=V?new I(l(e.g,e),l(e.h,e),e.c,c,e.s,h):new R(l(e.g,e),l(e.h,e),e.c,c,e.s,t,h),u.push(p)}for(s=0;s<u.length;s++)u[s].start()}},0)}function W(t,e){this.c=t,this.a=e}function H(t,e){this.c=t,this.a=e}F.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,x(t).toString(),"active")],[e.a.c("wf",t.c,x(t).toString(),"loading"),e.a.c("wf",t.c,x(t).toString(),"inactive")]),k(e,"fontactive",t),this.m=!0,B(this)},F.prototype.h=function(t){var e=this.a;if(e.g){var n=p(e.f,e.a.c("wf",t.c,x(t).toString(),"active")),i=[],r=[e.a.c("wf",t.c,x(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,x(t).toString(),"inactive")),d(e.f,i,r)}k(e,"fontinactive",t),B(this)},U.prototype.load=function(t){this.c=new function(t,e){this.a=t,this.o=e||t,this.c=this.o.document}(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],r=n.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),k(t,"loading")}(e),i=function(t,e,n){var i,r=[];for(i in e)if(e.hasOwnProperty(i)){var o=t.c[i];o&&r.push(o(e[i],n))}return r}(t.a,n,t.c);var o=new F(t.c,e,r);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load(function(e,n,i){q(t,o,e,n,i)})}(this,new function(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}(this.c,t),t)},W.prototype.load=function(t){var e=this,n=e.a.projectId,i=e.a.version;if(n){var r=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(i){i?t([]):(r["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(r["__mti_fntLst"+n]){var i=r["__mti_fntLst"+n](),o=[];if(i)for(var l=0;l<i.length;l++){var a=i[l].fontfamily;o.push(void 0!=i[l].fontStyle&&void 0!=i[l].fontWeight?new _(a,i[l].fontStyle+i[l].fontWeight):new _(a))}t(o)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},H.prototype.load=function(t){var e,n,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},l=new m;for(e=0,n=i.length;e<n;e++)f(this.c,i[e],v(l));var a=[];for(e=0,n=r.length;e<n;e++)if((i=r[e].split(":"))[1])for(var s=i[1].split(","),u=0;u<s.length;u+=1)a.push(new _(i[0],s[u]));else a.push(new _(i[0]));y(l,function(){t(a,o)})};var z={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},G={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Y={i:"i",italic:"i",n:"n",normal:"n"},X=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function K(t,e){this.c=t,this.a=e}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function Z(t,e){this.c=t,this.a=e}function J(t,e){this.c=t,this.f=e,this.a=[]}K.prototype.load=function(t){var e=new m,n=this.c,i=new function(t,e){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=e||""}(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}(i,r);var o=new function(t){this.f=r,this.a=[],this.c={}}(0);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var l;if(l=[],a=i[1])for(var a,s=(a=a.split(",")).length,u=0;u<s;u++){var c;if((c=a[u]).match(/^[\w-]+$/))if(null==(h=X.exec(c.toLowerCase())))c="";else{if(c=null==(c=h[2])||""==c?"n":Y[c],null==(h=h[1])||""==h)h="4";else var h=G[h]||(isNaN(h)?"4":h.substr(0,1));c=[c,h].join("")}else c="";c&&l.push(c)}0<l.length&&(o=l),3==i.length&&(l=[],0<(i=(i=i[2])?i.split(","):l).length&&(i=z[i[0]])&&(t.c[r]=i))}for(t.c[r]||(i=z[r])&&(t.c[r]=i),i=0;i<o.length;i+=1)t.a.push(new _(r,o[i]))}}(o),f(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),v(e)),y(e,function(){t(o.a,o.c,Q)})},Z.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],r=0;r<e.length;r+=2)for(var o=e[r],l=e[r+1],a=0;a<l.length;a++)i.push(new _(o,l[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},J.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var r=0,o=n.fonts.length;r<o;++r){var l=n.fonts[r];i.a.push(new _(l.name,E("font-weight:"+l.weight+";font-style:"+l.style)))}t(i.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var $=new U(window);$.a.c.custom=function(t,e){return new H(e,t)},$.a.c.fontdeck=function(t,e){return new J(e,t)},$.a.c.monotype=function(t,e){return new W(e,t)},$.a.c.typekit=function(t,e){return new Z(e,t)},$.a.c.google=function(t,e){return new K(e,t)};var tt={load:l($.load,$)};void 0===(i=(function(){return tt}).call(e,n,e,t))||(t.exports=i)}()},"03ca":function(t,e,n){"use strict";e.a=function(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0};var i=n("YgML")},"0gQV":function(t,e,n){"use strict";var i=n("TToO"),r=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return i.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},e}(n("2mZA").a),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n("g8cW").a);n.d(e,"a",function(){return l});var l=new o(r)},"0nHL":function(t,e,n){"use strict";var i=n("lWPP"),r=(n("gne3"),n("SYCm"),n("V9Cg")),o=n("tUzZ"),l=n("0snD"),a=n("NG/L"),s=n("0uOn"),u=n("wdeq"),c=n("QX4X"),h=n("0gQV"),d=n("TToO"),p=n("2mZA"),f=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return d.__extends(e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(p.a),g=n("g8cW"),m=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(g.a))(f),v=function(t){function e(e,n){void 0===e&&(e=y),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return d.__extends(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,i=this.maxFrames;(e=n[0])&&e.delay<=i&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(g.a),y=function(t){function e(e,n,i){void 0===i&&(i=e.index+=1);var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.index=i,r.active=!0,r.index=e.index=i,r}return d.__extends(e,t),e.prototype.schedule=function(n,i){if(void 0===i&&(i=0),!this.id)return t.prototype.schedule.call(this,n,i);this.active=!1;var r=new e(this.scheduler,this.work);return this.add(r),r.schedule(n,i)},e.prototype.requestAsyncId=function(t,n,i){void 0===i&&(i=0),this.delay=t.frame+i;var r=t.actions;return r.push(this),r.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(p.a),b=n("Wubi"),w=n("HC03"),_=n("p1Bo"),C=n("NGRO"),x=n("eYUY"),S=n("VWaN"),E=n("92UZ");function T(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var k=n("uxTV"),A=n("/Nc3"),D=n("LHMe"),O=n("kk5+"),I=n("7mk3"),R=n("rylm"),P=n("Qw/m"),M=n("YgML"),N=n("5eyr");function j(t,e,n){if(e){if(!Object(N.a)(e))return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return j(t,n).apply(void 0,i).pipe(Object(R.a)(function(t){return Object(M.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o,l=this,a={context:l,subject:o,callbackFunc:t,scheduler:n};return new i.a(function(i){if(n)return n.schedule(L,0,{args:e,subscriber:i,params:a});if(!o){o=new s.a;try{t.apply(l,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.next(t.length<=1?t[0]:t),o.complete()}]))}catch(t){Object(P.a)(o)?o.error(t):console.warn(t)}}return o.subscribe(i)})}}function L(t){var e=this,n=t.args,i=t.subscriber,r=t.params,o=r.callbackFunc,l=r.context,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new s.a;try{o.apply(l,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.add(a.schedule(F,0,{value:t.length<=1?t[0]:t,subject:u}))}]))}catch(t){u.error(t)}}this.add(u.subscribe(i))}function F(t){var e=t.subject;e.next(t.value),e.complete()}function V(t,e,n){if(e){if(!Object(N.a)(e))return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return V(t,n).apply(void 0,i).pipe(Object(R.a)(function(t){return Object(M.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new i.a(function(i){var r=o.context,l=o.subject;if(n)return n.schedule(B,0,{params:o,subscriber:i,context:r});if(!l){l=o.subject=new s.a;try{t.apply(r,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?l.error(n):(l.next(t.length<=1?t[0]:t),l.complete())}]))}catch(t){Object(P.a)(l)?l.error(t):console.warn(t)}}return l.subscribe(i)})}}function B(t){var e=this,n=t.params,i=t.subscriber,r=t.context,o=n.callbackFunc,l=n.args,a=n.scheduler,u=n.subject;if(!u){u=n.subject=new s.a;try{o.apply(r,l.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.shift();e.add(i?a.schedule(q,0,{err:i,subject:u}):a.schedule(U,0,{value:t.length<=1?t[0]:t,subject:u}))}]))}catch(t){this.add(a.schedule(q,0,{err:t,subject:u}))}}this.add(u.subscribe(i))}function U(t){var e=t.subject;e.next(t.value),e.complete()}function q(t){t.subject.error(t.err)}n("jAXq");var W=n("S/xh"),H=n("JBKL"),z=n("w5lW"),G=n("ai7y"),Y=n("5XgX");function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(Object(M.a)(n))return K(n,null);if(Object(G.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var i=Object.keys(n);return K(i.map(function(t){return n[t]}),i)}}if("function"==typeof t[t.length-1]){var r=t.pop();return K(t=1===t.length&&Object(M.a)(t[0])?t[0]:t,null).pipe(Object(R.a)(function(t){return r.apply(void 0,t)}))}return K(t,null)}function K(t,e){return new i.a(function(n){var i=t.length;if(0!==i)for(var r=new Array(i),o=0,l=0,a=function(a){var s=Object(Y.a)(t[a]),u=!1;n.add(s.subscribe({next:function(t){u||(u=!0,l++),r[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==i&&u||(l===i&&n.next(e?e.reduce(function(t,e,n){return t[e]=r[n],t},{}):r),n.complete())}}))},s=0;s<i;s++)a(s);else n.complete()})}var Q=n("bOhj");function Z(t,e,n,r){return Object(Q.a)(n)&&(r=n,n=void 0),r?Z(t,e,n).pipe(Object(R.a)(function(t){return Object(M.a)(t)?r.apply(void 0,t):r(t)})):new i.a(function(i){!function t(e,n,i,r,o){var l;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,i,o),l=function(){return a.removeEventListener(n,i,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var s=e;e.on(n,i),l=function(){return s.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,i),l=function(){return u.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,i,r,o)}r.add(l)}(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function J(t,e,n){return n?J(t,e).pipe(Object(R.a)(function(t){return Object(M.a)(t)?n.apply(void 0,t):n(t)})):new i.a(function(n){var i,r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{i=t(r)}catch(t){return void n.error(t)}if(Object(Q.a)(e))return function(){return e(r,i)}})}function $(t,e,n,r,o){var l,a;return 1==arguments.length?(a=t.initialState,e=t.condition,n=t.iterate,l=t.resultSelector||E.a,o=t.scheduler):void 0===r||Object(N.a)(r)?(a=t,l=E.a,o=r):(a=t,l=r),new i.a(function(t){var i=a;if(o)return o.schedule(tt,0,{subscriber:t,iterate:n,condition:e,resultSelector:l,state:i});for(;;){if(e){var r=void 0;try{r=e(i)}catch(e){return void t.error(e)}if(!r){t.complete();break}}var s=void 0;try{s=l(i)}catch(e){return void t.error(e)}if(t.next(s),t.closed)break;try{i=n(i)}catch(e){return void t.error(e)}}})}function tt(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var i=void 0;try{i=n(t.state)}catch(t){return void e.error(t)}if(!i)return void e.complete();if(e.closed)return}var r;try{r=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(r),!e.closed))return this.schedule(t)}}function et(t,e,n){return void 0===e&&(e=z.a),void 0===n&&(n=z.a),Object(H.a)(function(){return t()?e:n})}Object;var nt=n("03ca");function it(t,e){return void 0===t&&(t=0),void 0===e&&(e=c.a),(!Object(nt.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=c.a),new i.a(function(n){return n.add(e.schedule(rt,t,{subscriber:n,counter:0,period:t})),n})}function rt(t){var e=t.subscriber,n=t.counter,i=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var ot=n("im1K"),lt=new i.a(S.a);function at(){return lt}var st=n("MnTv");function ut(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return z.a;var n=t[0],r=t.slice(1);return 1===t.length&&Object(M.a)(n)?ut.apply(void 0,n):new i.a(function(t){var e=function(){return t.add(ut.apply(void 0,r).subscribe(t))};return Object(Y.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function ct(t,e){return new i.a(e?function(n){var i=Object.keys(t),r=new w.a;return r.add(e.schedule(ht,0,{keys:i,index:0,subscriber:n,subscription:r,obj:t})),r}:function(e){for(var n=Object.keys(t),i=0;i<n.length&&!e.closed;i++){var r=n[i];t.hasOwnProperty(r)&&e.next([r,t[r]])}e.complete()})}function ht(t){var e=t.keys,n=t.index,i=t.subscriber,r=t.subscription,o=t.obj;if(!i.closed)if(n<e.length){var l=e[n];i.next([l,o[l]]),r.add(this.schedule({keys:e,index:n+1,subscriber:i,subscription:r,obj:o}))}else i.complete()}var dt=n("8LP5"),pt=n("dfzL"),ft=n("QZ9O");function gt(t,e,n){return[Object(ft.a)(e,n)(new i.a(Object(pt.a)(t))),Object(ft.a)(Object(dt.a)(e,n))(new i.a(Object(pt.a)(t)))]}var mt=n("v38c"),vt=(n("j+ls"),n("G0Bs")),yt=n("cCSk");function bt(t,e){return new i.a(function(n){var i,r;try{i=t()}catch(t){return void n.error(t)}try{r=e(i)}catch(t){return void n.error(t)}var o=(r?Object(Y.a)(r):z.a).subscribe(n);return function(){o.unsubscribe(),i&&i.unsubscribe()}})}var wt=n("lyWU"),_t=n("Yrc+"),Ct=n("lKpf");n.d(e,"b",function(){return i.a}),n.d(e,!1,function(){}),n.d(e,!1,function(){}),n.d(e,!1,function(){return r.a}),n.d(e,"d",function(){return o.b}),n.d(e,"a",function(){return l.a}),n.d(e,"c",function(){return a.a}),n.d(e,!1,function(){return s.a}),n.d(e,!1,function(){return u.a}),n.d(e,"f",function(){return c.a}),n.d(e,"m",function(){return h.a}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return b.a}),n.d(e,"e",function(){return w.a}),n.d(e,!1,function(){return _.a}),n.d(e,!1,function(){return C.a}),n.d(e,!1,function(){}),n.d(e,!1,function(){return x.a}),n.d(e,!1,function(){return S.a}),n.d(e,!1,function(){return E.a}),n.d(e,!1,function(){return T}),n.d(e,!1,function(){return k.a}),n.d(e,!1,function(){return A.a}),n.d(e,!1,function(){return D.a}),n.d(e,!1,function(){return O.a}),n.d(e,!1,function(){return I.a}),n.d(e,!1,function(){return j}),n.d(e,!1,function(){return V}),n.d(e,!1,function(){}),n.d(e,!1,function(){return W.a}),n.d(e,!1,function(){return H.a}),n.d(e,"g",function(){return z.b}),n.d(e,"h",function(){return X}),n.d(e,"i",function(){return Y.a}),n.d(e,"j",function(){return Z}),n.d(e,!1,function(){return J}),n.d(e,!1,function(){return $}),n.d(e,!1,function(){return et}),n.d(e,!1,function(){return it}),n.d(e,"k",function(){return ot.a}),n.d(e,!1,function(){return at}),n.d(e,"l",function(){return st.a}),n.d(e,!1,function(){return ut}),n.d(e,!1,function(){return ct}),n.d(e,!1,function(){return gt}),n.d(e,!1,function(){return mt.a}),n.d(e,!1,function(){}),n.d(e,!1,function(){return vt.a}),n.d(e,!1,function(){return yt.a}),n.d(e,!1,function(){return bt}),n.d(e,!1,function(){return wt.b}),n.d(e,!1,function(){return _t.a}),n.d(e,!1,function(){return z.a}),n.d(e,!1,function(){return lt}),n.d(e,!1,function(){return Ct.a})},"0snD":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("TToO"),r=n("tUzZ"),o=n("LHMe"),l=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.b)},"0uOn":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("TToO"),r=n("tUzZ"),o=n("HC03"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i.__extends(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(r.b)},1:function(t,e,n){t.exports=n("x35b")},"1E73":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("p1Bo").a)},"1SoI":function(t,e,n){"use strict";e.a=function(t){return t instanceof Date&&!isNaN(+t)}},"1nuA":function(t,e,n){"use strict";e.decode=e.parse=n("kMPS"),e.encode=e.stringify=n("xaZU")},2:function(t,e){},"2mZA":function(t,e,n){"use strict";var i=n("TToO"),r=function(t){function e(e,n){return t.call(this)||this}return i.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("HC03").a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return i.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(t){n=!0,i=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r)},"2n4R":function(t,e,n){"use strict";e.a=function(t,e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(i.m)(t,e)(this)};var i=n("Nyrq")},3:function(t,e){},"3EDZ":function(t,e,n){"use strict";var i=n("0nHL");n.d(e,"a",function(){return i.e})},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3SjU":function(t,e,n){"use strict";e.a=function(t,e,n,l,a){if(void 0===a&&(a=new i.a(t,n,l)),!a.closed)return e instanceof o.a?e.subscribe(a):Object(r.a)(e)(a)};var i=n("pHYG"),r=n("dfzL"),o=n("lWPP")},4:function(t,e){},"4MTI":function(t,e,n){"use strict";e.a=function(){return Object(i.q)()(this)};var i=n("Nyrq")},"4UB8":function(t,e,n){"use strict";var i=n("0nHL");n.d(e,"a",function(){return i.k})},"4jp/":function(t,e,n){"use strict";e.a=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(i.a)(r.a,t)};var i=n("/Kc/"),r=n("92UZ")},5:function(t,e){},"5XgX":function(t,e,n){"use strict";e.a=function(t,e){return e?Object(o.a)(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))};var i=n("lWPP"),r=n("dfzL"),o=n("Yrc+")},"5eyr":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"5wWS":function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(function(n){var i,l=new r.a;return l.add(function(){i&&"function"==typeof i.return&&i.return()}),l.add(e.schedule(function(){i=t[o.a](),l.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),l})};var i=n("lWPP"),r=n("HC03"),o=n("uOsm")},6:function(t,e){},"63KW":function(t,e,n){"use strict";(function(t){var i=n("EKta"),r=n("ujcs"),o=n("sOR5");function l(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(l()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=d(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),r=(t=a(t,i)).write(e,n);return r!==i&&(t=t.slice(0,r)),t}(t,e,n):function(t,e){if(s.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|p(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|t}function f(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(i)return V(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=s.from(e,i)),s.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){var o,l=1,a=t.length,s=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;l=2,a/=2,s/=2,n/=2}function u(t,e){return 1===l?t[e]:t.readUInt16BE(e*l)}if(r){var c=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*l}else-1!==c&&(o-=o-c),c=-1}else for(n+s>a&&(n=a-s),o=n;o>=0;o--){for(var h=!0,d=0;d<s;d++)if(u(t,o+d)!==u(e,d)){h=!1;break}if(h)return o}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var l=0;l<i;++l){var a=parseInt(e.substr(2*l,2),16);if(isNaN(a))return l;t[n+l]=a}return l}function b(t,e,n,i){return U(V(e,t.length-n),t,n,i)}function w(t,e,n,i){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function _(t,e,n,i){return w(t,e,n,i)}function C(t,e,n,i){return U(B(e),t,n,i)}function x(t,e,n,i){return U(function(t,e){for(var n,i,r=[],o=0;o<t.length&&!((e-=2)<0);++o)i=(n=t.charCodeAt(o))>>8,r.push(n%256),r.push(i);return r}(e,t.length-n),t,n,i)}function S(t,e,n){return i.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,l,a,s,u=t[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[r+1]))&&(s=(31&u)<<6|63&o)>127&&(c=s);break;case 3:l=t[r+2],128==(192&(o=t[r+1]))&&128==(192&l)&&(s=(15&u)<<12|(63&o)<<6|63&l)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:l=t[r+2],a=t[r+3],128==(192&(o=t[r+1]))&&128==(192&l)&&128==(192&a)&&(s=(15&u)<<18|(63&o)<<12|(63&l)<<6|63&a)>65535&&s<1114112&&(c=s)}null===c?(c=65533,h=1):c>65535&&(i.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=T));return n}(i)}e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=l(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return u(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?a(null,e):void 0!==n?"string"==typeof i?a(null,e).fill(n,i):a(null,e).fill(n):a(null,e)}(0,t,e,n)},s.allocUnsafe=function(t){return h(null,t)},s.allocUnsafeSlow=function(t){return h(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=s.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var l=t[n];if(!s.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(i,r),r+=l.length}return i},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):(function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}).apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,i,r){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,l=n-e,a=Math.min(o,l),u=this.slice(i,r),c=t.slice(e,n),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],l=c[h];break}return o<l?-1:l<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},s.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function k(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i,r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",l=e;l<n;++l)o+=(i=t[l])<16?"0"+i.toString(16):i.toString(16);return o}function O(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,i,r,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function P(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function M(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function N(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,i,o){return o||N(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function L(t,e,n,i,o){return o||N(t,0,n,8),r.write(t,e,n,i,52,8),n+8}s.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var r=e-t;n=new s(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},s.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=0,l=1,a=0;for(this[e]=255&t;++o<n&&(l*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/l>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=n-1,l=1,a=0;for(this[e+o]=255&t;--o>=0&&(l*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/l>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var l=s.isBuffer(t)?t:V(new s(t,i).toString()),a=l.length;for(o=0;o<n-e;++o)this[o+e]=l[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function V(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],l=0;l<i;++l){if((n=t.charCodeAt(l))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(l+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(e,n("DuR2"))},"6GcH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=function(){function t(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i}return t.fromElement=function(e){var n=e.getBoundingClientRect();return new t(n.left,n.top,n.right,n.bottom)},t.fromWindow=function(e){return new t(0,0,e.innerWidth,e.innerHeight)},t.prototype.inflate=function(t){this.left-=t,this.top-=t,this.right+=t,this.bottom+=t},t.prototype.intersectsWith=function(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom},t.prototype.getIntersectionWith=function(e){var n=Math.max(this.left,e.left),i=Math.max(this.top,e.top),r=Math.min(this.right,e.right),o=Math.min(this.bottom,e.bottom);return r>=n&&o>=i?new t(n,i,r,o):t.empty},t.empty=new t(0,0,0,0),t}()},"6iAM":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"7HNm":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(e,n){var i=t.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return i.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("HC03").a)},"7dSG":function(t,e,n){"use strict";(function(e,i){var r=n("ypnx");function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(void 0),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var l,a=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:r.nextTick;v.WritableState=m;var s=n("jOgh");s.inherits=n("LC74");var u,c={deprecate:n("iP15")},h=n("UcPO"),d=n("X3l8").Buffer,p=i.Uint8Array||function(){},f=n("x0Ha");function g(){}function m(t,e){l=l||n("DsFX");var i=e instanceof l;this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var s=t.highWaterMark,u=t.writableHighWaterMark;this.highWaterMark=s||0===s?s:i&&(u||0===u)?u:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),x(t,e))}(t,n,i,e,o);else{var l=_(n);l||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),i?a(b,t,n,l,o):b(t,n,l,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function v(t){if(l=l||n("DsFX"),!(u.call(v,this)||this instanceof l))return new v(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function y(t,e,n,i,r,o,l){e.writelen=i,e.writecb=l,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function b(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),x(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=new Array(e.bufferedRequestCount),r=e.corkedRequestsFree;r.entry=n;for(var l=0,a=!0;n;)i[l]=n,n.isBuf||(a=!1),n=n.next,l+=1;i.allBuffers=a,y(t,e,!0,e.length,i,"",r.finish),e.pendingcb++,e.lastBufferedRequest=null,r.next?(e.corkedRequestsFree=r.next,r.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var s=n.chunk;if(y(t,e,!1,e.objectMode?1:s.length,s,n.encoding,n.callback),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),x(t,e)})}function x(t,e){var n=_(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,r.nextTick(C,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}s.inherits(v,h),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===v&&t&&t._writableState instanceof m}})):u=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var i,o=this._writableState,l=!1,a=!o.objectMode&&(d.isBuffer(i=t)||i instanceof p);return a&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),r.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var o=!0,l=!1;return null===n?l=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(t.emit("error",l),r.nextTick(i,l),o=!1),o}(this,o,t,n))&&(o.pendingcb++,l=function(t,e,n,i,r,o){if(!n){var l=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,n)),e}(e,i,r);i!==l&&(n=!0,r="buffer",i=l)}var a=e.objectMode?1:i.length;e.length+=a;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,a,i,r,o);return s}(this,o,a,t,e,n)),l},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,x(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=f.destroy,v.prototype._undestroy=f.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n("W2nU"),n("DuR2"))},"7mk3":function(t,e,n){"use strict";function i(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},"7t+N":function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],l=n.document,a=Object.getPrototypeOf,s=o.slice,u=o.concat,c=o.push,h=o.indexOf,d={},p=d.toString,f=d.hasOwnProperty,g=f.toString,m=g.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},w={type:!0,src:!0,nonce:!0,noModule:!0};function _(t,e,n){var i,r,o=(n=n||l).createElement("script");if(o.text=t,e)for(i in w)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[p.call(t)]||"object":typeof t}var x=function(t,e){return new x.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}x.fn=x.prototype={jquery:"3.4.1",constructor:x,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var t,e,n,i,r,o,l=arguments[0]||{},a=1,s=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[a]||{},a++),"object"==typeof l||y(l)||(l={}),a===s&&(l=this,a--);a<s;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&l!==i&&(u&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(n=l[e],o=r&&!Array.isArray(n)?[]:r||x.isPlainObject(n)?n:{},r=!1,l[e]=x.extend(u,o,i)):void 0!==i&&(l[e]=i));return l},x.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t)||(e=a(t))&&("function"!=typeof(n=f.call(e,"constructor")&&e.constructor)||g.call(n)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){_(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(E(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?x.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,l=!n;r<o;r++)!e(t[r],r)!==l&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,l=[];if(E(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&l.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&l.push(r);return u.apply([],l)},guid:1,support:v}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var T=function(t){var e,n,i,r,o,l,a,s,u,c,h,d,p,f,g,m,v,y,b,w="sizzle"+1*new Date,_=t.document,C=0,x=0,S=st(),E=st(),T=st(),k=st(),A=function(t,e){return t===e&&(h=!0),0},D={}.hasOwnProperty,O=[],I=O.pop,R=O.push,P=O.push,M=O.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",V="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",U=new RegExp(L+"+","g"),q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),H=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),z=new RegExp(L+"|>"),G=new RegExp(B),Y=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},lt=wt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{P.apply(O=M.call(_.childNodes),_.childNodes)}catch(t){P={apply:O.length?function(t,e){R.apply(t,M.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,u,c,h,f,v,y=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!r&&((e?e.ownerDocument||e:_)!==p&&d(e),e=e||p,g)){if(11!==C&&(h=$.exec(t)))if(o=h[1]){if(9===C){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&b(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!k[t+" "]&&(!m||!m.test(t))&&(1!==C||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===C&&z.test(t)){for((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=w),a=(f=l(t)).length;a--;)f[a]="#"+c+" "+bt(f[a]);v=f.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return P.apply(i,y.querySelectorAll(v)),i}catch(e){k(t,!0)}finally{c===w&&e.removeAttribute("id")}}}return s(t.replace(q,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ut(t){return t[w]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&lt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ut(function(e){return e=+e,ut(function(n,i){for(var r,o=t([],n.length,e),l=o.length;l--;)n[r=o[l]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!K.test(t.namespaceURI||e&&e.nodeName||"HTML")},d=at.setDocument=function(t){var e,r,l=t?t.ownerDocument||t:_;return l!==p&&9===l.nodeType&&l.documentElement?(f=(p=l).documentElement,g=!o(p),_!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ct(function(t){return f.appendChild(t).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(p.querySelectorAll))&&(ct(function(t){f.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(f.compareDocumentPosition),b=e||J.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===_&&b(_,t)?-1:e===p||e.ownerDocument===_&&b(_,e)?1:c?N(c,t)-N(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,l=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:c?N(c,t)-N(c,e):0;if(r===o)return dt(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;l[i]===a[i];)i++;return i?dt(l[i],a[i]):l[i]===_?-1:a[i]===_?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),n.matchesSelector&&g&&!k[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){k(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(A),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=at.selectors={cacheLength:50,createPseudo:ut,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=l(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),l="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,s){var u,c,h,d,p,f,g=o!==l?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!s&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[l?m.firstChild:m.lastChild],l&&y){for(b=(p=(u=(c=(h=(d=m)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&u[1])&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[C,p,b];break}}else if(y&&(b=p=(u=(c=(h=(d=e)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===C&&u[1]),!1===b)for(;(d=++p&&d&&d[g]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[C,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,n){for(var i,o=r(t,e),l=o.length;l--;)t[i=N(t,o[l])]=!(n[i]=o[l])}):function(t){return r(t,0,n)}):r}},pseudos:{not:ut(function(t){var e=[],n=[],i=a(t.replace(q,"$1"));return i[w]?ut(function(t,e,n,r){for(var o,l=i(t,null,r,[]),a=t.length;a--;)(o=l[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:ut(function(t){return function(e){return at(t,e).length>0}}),contains:ut(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}}),lang:ut(function(t){return Y.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,n){return[n<0?n+e:n]}),even:mt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:mt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:mt(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:mt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function yt(){}function bt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function wt(t,e,n){var i=e.dir,r=e.next,o=r||i,l=n&&"parentNode"===o,a=x++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||l)return t(e,n,r);return!1}:function(e,n,s){var u,c,h,d=[C,a];if(s){for(;e=e[i];)if((1===e.nodeType||l)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||l)if(c=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===C&&u[1]===a)return d[2]=u[2];if(c[o]=d,d[2]=t(e,n,s))return!0}return!1}}function _t(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,r){for(var o,l=[],a=0,s=t.length,u=null!=e;a<s;a++)(o=t[a])&&(n&&!n(o,i,r)||(l.push(o),u&&e.push(a)));return l}function xt(t,e,n,i,r,o){return i&&!i[w]&&(i=xt(i)),r&&!r[w]&&(r=xt(r,o)),ut(function(o,l,a,s){var u,c,h,d=[],p=[],f=l.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:Ct(g,d,t,a,s),v=n?r||(o?t:f||i)?[]:l:m;if(n&&n(m,v,a,s),i)for(u=Ct(v,p),i(u,[],a,s),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(m[p[c]]=h));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(m[c]=h);r(null,v=[],u,s)}for(c=v.length;c--;)(h=v[c])&&(u=r?N(o,h):d[c])>-1&&(o[u]=!(l[u]=h))}}else v=Ct(v===l?v.splice(f,v.length):v),r?r(null,l,v,s):P.apply(l,v)})}function St(t){for(var e,n,r,o=t.length,l=i.relative[t[0].type],a=l||i.relative[" "],s=l?1:0,c=wt(function(t){return t===e},a,!0),h=wt(function(t){return N(e,t)>-1},a,!0),d=[function(t,n,i){var r=!l&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];s<o;s++)if(n=i.relative[t[s].type])d=[wt(_t(d),n)];else{if((n=i.filter[t[s].type].apply(null,t[s].matches))[w]){for(r=++s;r<o&&!i.relative[t[r].type];r++);return xt(s>1&&_t(d),s>1&&bt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(q,"$1"),n,s<r&&St(t.slice(s,r)),r<o&&St(t=t.slice(r)),r<o&&bt(t))}d.push(n)}return _t(d)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,l=at.tokenize=function(t,e){var n,r,o,l,a,s,u,c=E[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],u=i.preFilter;a;){for(l in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=H.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(r=X[l].exec(a))||u[l]&&!(r=u[l](r))||(n=r.shift(),o.push({value:n,type:l,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):E(t,s).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=T[t+" "];if(!a){for(e||(e=l(t)),n=e.length;n--;)(a=St(e[n]))[w]?r.push(a):o.push(a);(a=T(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,l,a,s,c){var h,f,m,v=0,y="0",b=o&&[],w=[],_=u,x=o||r&&i.find.TAG("*",c),S=C+=null==_?1:Math.random()||.1,E=x.length;for(c&&(u=l===p||l||c);y!==E&&null!=(h=x[y]);y++){if(r&&h){for(f=0,l||h.ownerDocument===p||(d(h),a=!g);m=t[f++];)if(m(h,l||p,a)){s.push(h);break}c&&(C=S)}n&&((h=!m&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(f=0;m=e[f++];)m(b,w,l,a);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=I.call(s));w=Ct(w)}P.apply(s,w),c&&!o&&w.length>0&&v+e.length>1&&at.uniqueSort(s)}return c&&(C=S,u=_),b};return n?ut(o):o}(o,r))).selector=t}return a},s=at.select=function(t,e,n,r){var o,s,u,c,h,d="function"==typeof t&&t,p=!r&&l(t=d.selector||t);if(n=n||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(u=s[0]).type&&9===e.nodeType&&g&&i.relative[s[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=X.needsContext.test(t)?0:s.length;o--&&!i.relative[c=(u=s[o]).type];)if((h=i.find[c])&&(r=h(u.matches[0].replace(et,nt),tt.test(s[0].type)&&vt(e.parentNode)||e))){if(s.splice(o,1),!(t=r.length&&bt(s)))return P.apply(n,r),n;break}}return(d||a(t,p))(r,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||ht(j,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),at}(n);x.find=T,x.expr=T.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=T.uniqueSort,x.text=T.getText,x.isXMLDoc=T.isXML,x.contains=T.contains,x.escapeSelector=T.escape;var k=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&x(t).is(n))break;i.push(t)}return i},A=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},D=x.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,e,n){return y(e)?x.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?x.grep(t,function(t){return t===e!==n}):"string"!=typeof e?x.grep(t,function(t){return h.call(e,t)>-1!==n}):x.filter(e,t,n)}x.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?x.find.matchesSelector(i,t)?[i]:[]:x.find.matches(t,x.grep(e,function(t){return 1===t.nodeType}))},x.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(x(t).filter(function(){for(e=0;e<i;e++)if(x.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)x.find(t,r[e],n);return i>1?x.uniqueSort(n):n},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&D.test(t)?x(t):t||[],!1).length}});var P,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||P,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(x.merge(this,x.parseHTML(i[1],(e=e instanceof x?e[0]:e)&&e.nodeType?e.ownerDocument||e:l,!0)),I.test(i[1])&&x.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=l.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,P=x(l);var N=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(x.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],l="string"!=typeof t&&x(t);if(!D.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(l?l.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(x(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return"undefined"!=typeof t.contentDocument?t.contentDocument:(O(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},function(t,e){x.fn[t]=function(n,i){var r=x.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),this.length>1&&(j[t]||x.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}});var F=/[^\x20\t\r\n\f]+/g;function V(t){return t}function B(t){throw t}function U(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}x.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return x.each(t.match(F)||[],function(t,n){e[n]=!0}),e}(t):x.extend({},t);var e,n,i,r,o=[],l=[],a=-1,s=function(){for(r=r||t.once,i=e=!0;l.length;a=-1)for(n=l.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,l.push(n)),function e(n){x.each(n,function(n,i){y(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==C(i)&&e(i)})}(arguments),n&&!e&&s()),this},remove:function(){return x.each(arguments,function(t,e){for(var n;(n=x.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?x.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=l=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=l=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],l.push(n),e||s()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},x.extend({Deferred:function(t){var e=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return x.Deferred(function(n){x.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function l(t,e,i,r){return function(){var a=this,s=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(a,s))===e.promise())throw new TypeError("Thenable self-resolution");y(u=n&&("object"==typeof n||"function"==typeof n)&&n.then)?r?u.call(n,l(o,e,V,r),l(o,e,B,r)):u.call(n,l(++o,e,V,r),l(o,e,B,r),l(o,e,V,e.notifyWith)):(i!==V&&(a=void 0,s=[n]),(r||e.resolveWith)(a,s))}},c=r?u:function(){try{u()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==B&&(a=void 0,s=[n]),e.rejectWith(a,s))}};t?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),n.setTimeout(c))}}return x.Deferred(function(n){e[0][3].add(l(0,n,y(r)?r:V,n.notifyWith)),e[1][3].add(l(0,n,y(t)?t:V)),e[2][3].add(l(0,n,y(i)?i:B))}).promise()},promise:function(t){return null!=t?x.extend(t,r):r}},o={};return x.each(e,function(t,n){var l=n[2],a=n[5];r[n[1]]=l.add,a&&l.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),l.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=l.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),o=x.Deferred(),l=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(U(t,o.done(l(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)U(r[n],l(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&q.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},x.readyException=function(t){n.setTimeout(function(){throw t})};var W=x.Deferred();function H(){l.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),x.ready()}x.fn.ready=function(t){return W.then(t).catch(function(t){x.readyException(t)}),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==t&&--x.readyWait>0||W.resolveWith(l,[x]))}}),x.ready.then=W.then,"complete"===l.readyState||"loading"!==l.readyState&&!l.documentElement.doScroll?n.setTimeout(x.ready):(l.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var z=function(t,e,n,i,r,o,l){var a=0,s=t.length,u=null==n;if("object"===C(n))for(a in r=!0,n)z(t,e,a,n[a],!0,o,l);else if(void 0!==i&&(r=!0,y(i)||(l=!0),u&&(l?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(x(t),n)})),e))for(;a<s;a++)e(t[a],n,l?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):s?e(t[0],n):o},G=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function K(t){return t.replace(G,"ms-").replace(Y,X)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=x.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(i in e)r[K(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||x.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var J=new Z,$=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}x.extend({hasData:function(t){return $.hasData(t)||J.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),x.fn.extend({data:function(t,e){var n,i,r,o=this[0],l=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=l.length;n--;)l[n]&&0===(i=l[n].name).indexOf("data-")&&(i=K(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$.set(this,t)}):z(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){$.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),x.extend({queue:function(t,e,n){var i;if(t)return i=J.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=J.access(t,e,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){var n=x.queue(t,e=e||"fx"),i=n.length,r=n.shift(),o=x._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){x.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:x.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),x.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?x.queue(this[0],t):void 0===e?this:this.each(function(){var n=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&x.dequeue(this,t)})},dequeue:function(t){return this.each(function(){x.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=x.Deferred(),o=this,l=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";l--;)(n=J.get(o[l],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],lt=l.documentElement,at=function(t){return x.contains(t.ownerDocument,t)},st={composed:!0};lt.getRootNode&&(at=function(t){return x.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===x.css(t,"display")},ct=function(t,e,n,i){var r,o,l={};for(o in e)l[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=l[o];return r};function ht(t,e,n,i){var r,o,l=20,a=i?function(){return i.cur()}:function(){return x.css(t,e,"")},s=a(),u=n&&n[3]||(x.cssNumber[e]?"":"px"),c=t.nodeType&&(x.cssNumber[e]||"px"!==u&&+s)&&rt.exec(x.css(t,e));if(c&&c[3]!==u){for(s/=2,u=u||c[3],c=+s||1;l--;)x.style(t,e,c+u),(1-o)*(1-(o=a()/s||.5))<=0&&(l=0),c/=o;x.style(t,e,(c*=2)+u),n=n||[]}return n&&(c=+c||+s||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var dt={};function pt(t){var e,n=t.ownerDocument,i=t.nodeName,r=dt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=x.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),dt[i]=r,r)}function ft(t,e){for(var n,i,r=[],o=0,l=t.length;o<l;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ut(i)&&(r[o]=pt(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<l;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}x.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ut(this)?x(this).show():x(this).hide()})}});var gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i,yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?x.merge([t],n):n}function wt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}yt.optgroup=yt.option,yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td;var _t,Ct,xt=/<|&#?\w+;/;function St(t,e,n,i,r){for(var o,l,a,s,u,c,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===C(o))x.merge(d,o.nodeType?[o]:o);else if(xt.test(o)){for(l=l||h.appendChild(e.createElement("div")),a=(mt.exec(o)||["",""])[1].toLowerCase(),l.innerHTML=(s=yt[a]||yt._default)[1]+x.htmlPrefilter(o)+s[2],c=s[0];c--;)l=l.lastChild;x.merge(d,l.childNodes),(l=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&x.inArray(o,i)>-1)r&&r.push(o);else if(u=at(o),l=bt(h.appendChild(o),"script"),u&&wt(l),n)for(c=0;o=l[c++];)vt.test(o.type||"")&&n.push(o);return h}_t=l.createDocumentFragment().appendChild(l.createElement("div")),(Ct=l.createElement("input")).setAttribute("type","radio"),Ct.setAttribute("checked","checked"),Ct.setAttribute("name","t"),_t.appendChild(Ct),v.checkClone=_t.cloneNode(!0).cloneNode(!0).lastChild.checked,_t.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!_t.cloneNode(!0).lastChild.defaultValue;var Et=/^key/,Tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\.(.+)|)/;function At(){return!0}function Dt(){return!1}function Ot(t,e){return t===function(){try{return l.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,n,i,r,o){var l,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)It(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Dt;else if(!r)return t;return 1===o&&(l=r,(r=function(t){return x().off(t),l.apply(this,arguments)}).guid=l.guid||(l.guid=x.guid++)),t.each(function(){x.event.add(this,e,r,i,n)})}function Rt(t,e,n){n?(J.set(t,e,!1),x.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(x.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),J.set(this,e,o),i=n(this,e),this[e](),o!==(r=J.get(this,e))||i?J.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(J.set(this,e,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&x.event.add(t,e,At)}x.event={global:{},add:function(t,e,n,i,r){var o,l,a,s,u,c,h,d,p,f,g,m=J.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(lt,r),n.guid||(n.guid=x.guid++),(s=m.events)||(s=m.events={}),(l=m.handle)||(l=m.handle=function(e){return"undefined"!=typeof x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(F)||[""]).length;u--;)p=g=(a=kt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=x.event.special[p]||{},h=x.event.special[p=(r?h.delegateType:h.bindType)||p]||{},c=x.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=s[p])||((d=s[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,f,l)||t.addEventListener&&t.addEventListener(p,l)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),x.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,l,a,s,u,c,h,d,p,f,g,m=J.hasData(t)&&J.get(t);if(m&&(s=m.events)){for(u=(e=(e||"").match(F)||[""]).length;u--;)if(p=g=(a=kt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=x.event.special[p]||{},d=s[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||x.removeEvent(t,p,m.handle),delete s[p])}else for(p in s)x.event.remove(t,p+e[u],n,i,!0);x.isEmptyObject(s)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,l,a=x.event.fix(t),s=new Array(arguments.length),u=(J.get(this,"events")||{})[a.type]||[],c=x.event.special[a.type]||{};for(s[0]=a,e=1;e<arguments.length;e++)s[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(l=x.event.handlers.call(this,a,u),e=0;(r=l[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,l,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],l={},n=0;n<s;n++)void 0===l[r=(i=e[n]).selector+" "]&&(l[r]=i.needsContext?x(r,this).index(u)>-1:x.find(r,this,null,[u]).length),l[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,s<e.length&&a.push({elem:u,handlers:e.slice(s)}),a},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&O(e,"input")&&Rt(e,"click",At),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&O(e,"input")&&Rt(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&O(e,"input")&&J.get(e,"click")||O(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?At:Dt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=At,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=At,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=At,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Et.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Tt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(t,e){x.event.special[t]={setup:function(){return Rt(this,t,Ot),!1},trigger:function(){return Rt(this,t),!0},delegateType:e}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||x.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),x.fn.extend({on:function(t,e,n,i){return It(this,t,e,n,i)},one:function(t,e,n,i){return It(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,x(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Dt),this.each(function(){x.event.remove(this,t,n,e)})}});var Pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Mt=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Vt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,i,r,o,l,a,s,u;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),l=J.set(e,o),u=o.events))for(r in delete l.handle,l.events={},u)for(n=0,i=u[r].length;n<i;n++)x.event.add(e,r,u[r][n]);$.hasData(t)&&(a=$.access(t),s=x.extend({},a),$.set(e,s))}}function Ut(t,e,n,i){e=u.apply([],e);var r,o,l,a,s,c,h=0,d=t.length,p=d-1,f=e[0],g=y(f);if(g||d>1&&"string"==typeof f&&!v.checkClone&&Nt.test(f))return t.each(function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),Ut(o,e,n,i)});if(d&&(o=(r=St(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(l=x.map(bt(r,"script"),Ft)).length;h<d;h++)s=r,h!==p&&(s=x.clone(s,!0,!0),a&&x.merge(l,bt(s,"script"))),n.call(t[h],s,h);if(a)for(c=l[l.length-1].ownerDocument,x.map(l,Vt),h=0;h<a;h++)vt.test((s=l[h]).type||"")&&!J.access(s,"globalEval")&&x.contains(c,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?x._evalUrl&&!s.noModule&&x._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")}):_(s.textContent.replace(jt,""),s,c))}return t}function qt(t,e,n){for(var i,r=e?x.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(bt(i)),i.parentNode&&(n&&at(i)&&wt(bt(i,"script")),i.parentNode.removeChild(i));return t}x.extend({htmlPrefilter:function(t){return t.replace(Pt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,l,a,s,u,c=t.cloneNode(!0),h=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(l=bt(c),i=0,r=(o=bt(t)).length;i<r;i++)a=o[i],"input"===(u=(s=l[i]).nodeName.toLowerCase())&&gt.test(a.type)?s.checked=a.checked:"input"!==u&&"textarea"!==u||(s.defaultValue=a.defaultValue);if(e)if(n)for(o=o||bt(t),l=l||bt(c),i=0,r=o.length;i<r;i++)Bt(o[i],l[i]);else Bt(t,c);return(l=bt(c,"script")).length>0&&wt(l,!h&&bt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=x.event.special,o=0;void 0!==(n=t[o]);o++)if(Q(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),x.fn.extend({detach:function(t){return qt(this,t,!0)},remove:function(t){return qt(this,t)},text:function(t){return z(this,function(t){return void 0===t?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ut(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)})},prepend:function(){return Ut(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ut(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ut(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return x.clone(this,t,e)})},html:function(t){return z(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!yt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(x.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ut(this,arguments,function(e){var n=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(bt(this)),n&&n.replaceChild(e,this))},t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){x.fn[t]=function(t){for(var n,i=[],r=x(t),o=r.length-1,l=0;l<=o;l++)n=l===o?this:this.clone(!0),x(r[l])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Wt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Ht=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},zt=new RegExp(ot.join("|"),"i");function Gt(t,e,n){var i,r,o,l,a=t.style;return(n=n||Ht(t))&&(""!==(l=n.getPropertyValue(e)||n[e])||at(t)||(l=x.style(t,e)),!v.pixelBoxStyles()&&Wt.test(l)&&zt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=l,l=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==l?l+"":l}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",lt.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,s=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),lt.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,s,u=l.createElement("div"),c=l.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var Xt=["Webkit","Moz","ms"],Kt=l.createElement("div").style,Qt={};function Zt(t){return x.cssProps[t]||Qt[t]||(t in Kt?t:Qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Kt)return t}(t)||t)}var Jt=/^(none|table(?!-c[ea]).+)/,$t=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ie(t,e,n,i,r,o){var l="width"===e?1:0,a=0,s=0;if(n===(i?"border":"content"))return 0;for(;l<4;l+=2)"margin"===n&&(s+=x.css(t,n+ot[l],!0,r)),i?("content"===n&&(s-=x.css(t,"padding"+ot[l],!0,r)),"margin"!==n&&(s-=x.css(t,"border"+ot[l]+"Width",!0,r))):(s+=x.css(t,"padding"+ot[l],!0,r),"padding"!==n?s+=x.css(t,"border"+ot[l]+"Width",!0,r):a+=x.css(t,"border"+ot[l]+"Width",!0,r));return!i&&o>=0&&(s+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-s-a-.5))||0),s}function re(t,e,n){var i=Ht(t),r=(!v.boxSizingReliable()||n)&&"border-box"===x.css(t,"boxSizing",!1,i),o=r,l=Gt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Wt.test(l)){if(!n)return l;l="auto"}return(!v.boxSizingReliable()&&r||"auto"===l||!parseFloat(l)&&"inline"===x.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===x.css(t,"boxSizing",!1,i),(o=a in t)&&(l=t[a])),(l=parseFloat(l)||0)+ie(t,e,n||(r?"border":"content"),o,i,l)+"px"}function oe(t,e,n,i,r){return new oe.prototype.init(t,e,n,i,r)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,l,a=K(e),s=$t.test(e),u=t.style;if(s||(e=Zt(a)),l=x.cssHooks[e]||x.cssHooks[a],void 0===n)return l&&"get"in l&&void 0!==(r=l.get(t,!1,i))?r:u[e];"string"==(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ht(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||s||(n+=r&&r[3]||(x.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),l&&"set"in l&&void 0===(n=l.set(t,n,i))||(s?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,l,a=K(e);return $t.test(e)||(e=Zt(a)),(l=x.cssHooks[e]||x.cssHooks[a])&&"get"in l&&(r=l.get(t,!0,n)),void 0===r&&(r=Gt(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],function(t,e){x.cssHooks[e]={get:function(t,n,i){if(n)return!Jt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,i):ct(t,te,function(){return re(t,e,i)})},set:function(t,n,i){var r,o=Ht(t),l=!v.scrollboxSize()&&"absolute"===o.position,a=(l||i)&&"border-box"===x.css(t,"boxSizing",!1,o),s=i?ie(t,e,i,a,o):0;return a&&l&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),s&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=x.css(t,e)),ne(0,n,s)}}}),x.cssHooks.marginLeft=Yt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||t.getBoundingClientRect().left-ct(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(t,e){x.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(x.cssHooks[t+e].set=ne)}),x.fn.extend({css:function(t,e){return z(this,function(t,e,n){var i,r,o={},l=0;if(Array.isArray(e)){for(i=Ht(t),r=e.length;l<r;l++)o[e[l]]=x.css(t,e[l],!1,i);return o}return void 0!==n?x.style(t,e,n):x.css(t,e)},t,e,arguments.length>1)}}),x.Tween=oe,(oe.prototype={constructor:oe,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.pos=e=this.options.duration?x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}}).init.prototype=oe.prototype,(oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=x.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||!x.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=oe.prototype.init,x.fx.step={};var le,ae,se=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function ce(){ae&&(!1===l.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,x.fx.interval),x.fx.tick())}function he(){return n.setTimeout(function(){le=void 0}),le=Date.now()}function de(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function pe(t,e,n){for(var i,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),o=0,l=r.length;o<l;o++)if(i=r[o].call(n,e,t))return i}function fe(t,e,n){var i,r,o=0,l=fe.prefilters.length,a=x.Deferred().always(function(){delete s.elem}),s=function(){if(r)return!1;for(var e=le||he(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&l?n:(l||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:e,originalOptions:n,startTime:le||he(),duration:n.duration,tweens:[],createTween:function(e,n){var i=x.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,i,r,o,l;for(n in t)if(r=e[i=K(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(l=x.cssHooks[i])&&"expand"in l)for(n in o=l.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<l;o++)if(i=fe.prefilters[o].call(u,t,c,u.opts))return y(i.stop)&&(x._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return x.map(c,pe,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),x.fx.timer(x.extend(s,{elem:t,anim:u,queue:u.opts.queue})),u}x.Animation=x.extend(fe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ht(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)(fe.tweeners[n=t[i]]=fe.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var i,r,o,l,a,s,u,c,h="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&ut(t),m=J.get(t,"fxshow");for(i in n.queue||(null==(l=x._queueHooks(t,"fx")).unqueued&&(l.unqueued=0,a=l.empty.fire,l.empty.fire=function(){l.unqueued||a()}),l.unqueued++,d.always(function(){d.always(function(){l.unqueued--,x.queue(t,"fx").length||l.empty.fire()})})),e)if(se.test(r=e[i])){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||x.style(t,i)}if((s=!x.isEmptyObject(e))||!x.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=J.get(t,"display")),"none"===(c=x.css(t,"display"))&&(u?c=u:(ft([t],!0),u=t.style.display||u,c=x.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===x.css(t,"float")&&(s||(d.done(function(){f.display=u}),null==u&&(u="none"===(c=f.display)?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),s=!1,p)s||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&ft([t],!0),d.done(function(){for(i in g||ft([t]),J.remove(t,"fxshow"),p)x.style(t,i,p[i])})),s=pe(g?m[i]:0,i,d),i in m||(m[i]=s.start,g&&(s.end=s.start,s.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),x.speed=function(t,e,n){var i=t&&"object"==typeof t?x.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in x.fx.speeds?x.fx.speeds[i.duration]:x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=x.isEmptyObject(t),o=x.speed(e,n,i),l=function(){var e=fe(this,x.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return l.finish=l,r||!1===o.queue?this.each(l):this.queue(o.queue,l)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=x.timers,l=J.get(this);if(r)l[r]&&l[r].stop&&i(l[r]);else for(r in l)l[r]&&l[r].stop&&ue.test(r)&&i(l[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||x.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=x.timers,l=i?i.length:0;for(n.finish=!0,x.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<l;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),x.each(["toggle","show","hide"],function(t,e){var n=x.fn[e];x.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(de(e,!0),t,i,r)}}),x.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){x.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),x.timers=[],x.fx.tick=function(){var t,e=0,n=x.timers;for(le=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||x.fx.stop(),le=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){ae||(ae=!0,ce())},x.fx.stop=function(){ae=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,e){return t=x.fx&&x.fx.speeds[t]||t,this.queue(e=e||"fx",function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=l.createElement("input"),e=l.createElement("select").appendChild(l.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=l.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ge,me=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return z(this,x.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){x.removeAttr(this,t)})}}),x.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?x.prop(t,e,n):(1===o&&x.isXMLDoc(t)||(r=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void x.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=x.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?x.removeAttr(t,n):t.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(t,e){var n=me[e]||x.find.attr;me[e]=function(t,e,i){var r,o,l=e.toLowerCase();return i||(o=me[l],me[l]=r,r=null!=n(t,e,i)?l:null,me[l]=o),r}});var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function be(t){return(t.match(F)||[]).join(" ")}function we(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}x.fn.extend({prop:function(t,e){return z(this,x.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[x.propFix[t]||t]})}}),x.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(t)||(r=x.propHooks[e=x.propFix[e]||e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(x.propHooks.selected={get:function(t){return null},set:function(t){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(t){var e,n,i,r,o,l,a,s=0;if(y(t))return this.each(function(e){x(this).addClass(t.call(this,e,we(this)))});if((e=_e(t)).length)for(;n=this[s++];)if(r=we(n),i=1===n.nodeType&&" "+be(r)+" "){for(l=0;o=e[l++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=be(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,l,a,s=0;if(y(t))return this.each(function(e){x(this).removeClass(t.call(this,e,we(this)))});if(!arguments.length)return this.attr("class","");if((e=_e(t)).length)for(;n=this[s++];)if(r=we(n),i=1===n.nodeType&&" "+be(r)+" "){for(l=0;o=e[l++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=be(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){x(this).toggleClass(t.call(this,n,we(this),e),e)}):this.each(function(){var e,r,o,l;if(i)for(r=0,o=x(this),l=_e(t);e=l[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=we(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+be(we(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ce=/\r/g;x.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,x(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,function(t){return null==t?"":t+""})),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ce,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:be(x.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,l="select-one"===t.type,a=l?null:[],s=l?o+1:r.length;for(i=o<0?s:l?o:0;i<s;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=x(n).val(),l)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=x.makeArray(e),l=r.length;l--;)((i=r[l]).selected=x.inArray(x.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=x.inArray(x(t).val(),e)>-1}},v.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(t,e,i,r){var o,a,s,u,c,h,d,p,g=[i||l],m=f.call(t,"type")?t.type:t,v=f.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=i=i||l,3!==i.nodeType&&8!==i.nodeType&&!xe.test(m+x.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[x.expando]?t:new x.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:x.makeArray(e,[t]),d=x.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(i,e))){if(!r&&!d.noBubble&&!b(i)){for(xe.test((u=d.delegateType||m)+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),s=a;s===(i.ownerDocument||l)&&g.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:d.bindType||m,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&Q(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),e)||!Q(i)||c&&y(i[m])&&!b(i)&&((s=i[c])&&(i[c]=null),x.event.triggered=m,t.isPropagationStopped()&&p.addEventListener(m,Se),i[m](),t.isPropagationStopped()&&p.removeEventListener(m,Se),x.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(t,e,n){var i=x.extend(new x.Event,n,{type:t,isSimulated:!0});x.event.trigger(i,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each(function(){x.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return x.event.trigger(t,e,n,!0)}}),v.focusin||x.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var Ee=n.location,Te=Date.now(),ke=/\?/;x.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+t),e};var Ae=/\[\]$/,De=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;function Re(t,e,n,i){var r;if(Array.isArray(e))x.each(e,function(e,r){n||Ae.test(t)?i(t,r):Re(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==C(e))i(t,e);else for(r in e)Re(t+"["+r+"]",e[r],n,i)}x.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,function(){r(this.name,this.value)});else for(n in t)Re(n,t[n],e,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&Ie.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!gt.test(t))}).map(function(t,e){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:n.replace(De,"\r\n")}}).get()}});var Pe=/%20/g,Me=/#.*$/,Ne=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,Fe=/^\/\//,Ve={},Be={},Ue="*/".concat("*"),qe=l.createElement("a");function We(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function He(t,e,n,i){var r={},o=t===Be;function l(a){var s;return r[a]=!0,x.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(s=u):void 0:(e.dataTypes.unshift(u),l(u),!1)}),s}return l(e.dataTypes[0])||!r["*"]&&l("*")}function ze(t,e){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&x.extend(!0,t,i),t}qe.href=Ee.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,x.ajaxSettings),e):ze(x.ajaxSettings,t)},ajaxPrefilter:We(Ve),ajaxTransport:We(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var i,r,o,a,s,u,c,h,d,p,f=x.ajaxSetup({},e=e||{}),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=f.statusCode||{},w={},_={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=je.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),E(0,e),this}};if(v.promise(S),f.url=((t||f.url||Ee.href)+"").replace(Fe,Ee.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(F)||[""],null==f.crossDomain){u=l.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=qe.protocol+"//"+qe.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=x.param(f.data,f.traditional)),He(Ve,f,e,S),c)return S;for(d in(h=x.event&&f.global)&&0==x.active++&&x.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Le.test(f.type),r=f.url.replace(Me,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pe,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(ke.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ne,"$1"),p=(ke.test(r)?"&":"?")+"_="+Te+++p),f.url=r+p),f.ifModified&&(x.lastModified[r]&&S.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&S.setRequestHeader("If-None-Match",x.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ue+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,S,f)||c))return S.abort();if(C="abort",y.add(f.complete),S.done(f.success),S.fail(f.error),i=He(Be,f,e,S)){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,f]),c)return S;f.async&&f.timeout>0&&(s=n.setTimeout(function(){S.abort("timeout")},f.timeout));try{c=!1,i.send(w,E)}catch(t){if(c)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,l,a){var u,d,p,w,_,C=e;c||(c=!0,s&&n.clearTimeout(s),i=void 0,o=a||"",S.readyState=t>0?4:0,u=t>=200&&t<300||304===t,l&&(w=function(t,e,n){for(var i,r,o,l,a=t.contents,s=t.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){s.unshift(r);break}if(s[0]in n)o=s[0];else{for(r in n){if(!s[0]||t.converters[r+" "+s[0]]){o=r;break}l||(l=r)}o=o||l}if(o)return o!==s[0]&&s.unshift(o),n[o]}(f,S,l)),w=function(t,e,n,i){var r,o,l,a,s,u={},c=t.dataTypes.slice();if(c[1])for(l in t.converters)u[l.toLowerCase()]=t.converters[l];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!s&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s=o,o=c.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(l=u[s+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(l=u[s+" "+a[0]]||u["* "+a[0]])){!0===l?l=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==l)if(l&&t.throws)e=l(e);else try{e=l(e)}catch(t){return{state:"parsererror",error:l?t:"No conversion from "+s+" to "+o}}}return{state:"success",data:e}}(f,w,S,u),u?(f.ifModified&&((_=S.getResponseHeader("Last-Modified"))&&(x.lastModified[r]=_),(_=S.getResponseHeader("etag"))&&(x.etag[r]=_)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=w.state,d=w.data,u=!(p=w.error))):(p=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(e||C)+"",u?v.resolveWith(g,[d,C,S]):v.rejectWith(g,[S,C,p]),S.statusCode(b),b=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[S,f,u?d:p]),y.fireWith(g,[S,C]),h&&(m.trigger("ajaxComplete",[S,f]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return x.get(t,e,n,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],function(t,e){x[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:t,type:e,dataType:r,data:n,success:i},x.isPlainObject(t)&&t))}}),x._evalUrl=function(t,e){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){x.globalEval(t,e)}})},x.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){x(this).wrapInner(t.call(this,e))}):this.each(function(){var e=x(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){x(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ge={0:200,1223:204},Ye=x.ajaxSettings.xhr();v.cors=!!Ye&&"withCredentials"in Ye,v.ajax=Ye=!!Ye,x.ajaxTransport(function(t){var e,i;if(v.cors||Ye&&!t.crossDomain)return{send:function(r,o){var l,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(l in t.xhrFields)a[l]=t.xhrFields[l];for(l in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(l,r[l]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ge[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),x.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),x.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=x("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),l.head.appendChild(e[0])},abort:function(){n&&n()}}});var Xe,Ke=[],Qe=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||x.expando+"_"+Te++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,l,a=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Qe,"$1"+r):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return l||x.error(r+" was not called"),l[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){l=arguments},i.always(function(){void 0===o?x(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(r)),l&&y(o)&&o(l[0]),l=o=void 0}),"script"}),v.createHTMLDocument=((Xe=l.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),x.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=l.implementation.createHTMLDocument("")).createElement("base")).href=l.location.href,e.head.appendChild(i)):e=l),r=I.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=St([t],e,o),o&&o.length&&x(o).remove(),x.merge([],r.childNodes)));var i,r,o},x.fn.load=function(t,e,n){var i,r,o,l=this,a=t.indexOf(" ");return a>-1&&(i=be(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),l.length>0&&x.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,l.html(i?x("<div>").append(x.parseHTML(t)).find(i):t)}).always(n&&function(t,e){l.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){x.fn[e]=function(t){return this.on(e,t)}}),x.expr.pseudos.animated=function(t){return x.grep(x.timers,function(e){return t===e.elem}).length},x.offset={setOffset:function(t,e,n){var i,r,o,l,a,s,u=x.css(t,"position"),c=x(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=x.css(t,"top"),s=x.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+s).indexOf("auto")>-1?(l=(i=c.position()).top,r=i.left):(l=parseFloat(o)||0,r=parseFloat(s)||0),y(e)&&(e=e.call(t,n,x.extend({},a))),null!=e.top&&(h.top=e.top-a.top+l),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){x.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?{top:(e=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),r.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-x.css(i,"marginTop",!0),left:e.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||lt})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;x.fn[t]=function(i){return z(this,function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),x.each(["top","left"],function(t,e){x.cssHooks[e]=Yt(v.pixelPosition,function(t,n){if(n)return n=Gt(t,e),Wt.test(n)?x(t).position()[e]+"px":n})}),x.each({Height:"height",Width:"width"},function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){x.fn[i]=function(r,o){var l=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return z(this,function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?x.css(e,n,a):x.style(e,n,r,a)},e,l?r:void 0,l)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){x.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),x.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),x.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||x.guid++,r},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=O,x.isFunction=y,x.isWindow=b,x.camelCase=K,x.type=C,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=(function(){return x}).apply(e,[]))||(t.exports=i);var Ze=n.jQuery,Je=n.$;return x.noConflict=function(t){return n.$===x&&(n.$=Je),t&&n.jQuery===x&&(n.jQuery=Ze),x},r||(n.jQuery=n.$=x),x})},"81U9":function(t,e,n){var i;!function(r){!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("pQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(r,o){"use strict";function l(t,e){var n=(e=e||Z).createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function a(t){var e=!!t&&"length"in t&&t.length,n=ut.type(t);return"function"!==n&&!ut.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function s(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function u(t,e,n){return ut.isFunction(e)?ut.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?ut.grep(t,function(t){return t===e!==n}):"string"!=typeof e?ut.grep(t,function(t){return-1<nt.call(e,t)!==n}):bt.test(e)?ut.filter(e,t,n):(e=ut.filter(e,t),ut.grep(t,function(t){return-1<nt.call(e,t)!==n&&1===t.nodeType}))}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function h(t){return t}function d(t){throw t}function p(t,e,n,i){var r;try{t&&ut.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&ut.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function f(){Z.removeEventListener("DOMContentLoaded",f),r.removeEventListener("load",f),ut.ready()}function g(){this.expando=ut.expando+g.uid++}function m(t,e,n){var i,r;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Rt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:It.test(r)?JSON.parse(r):r)}catch(t){}Ot.set(t,e,n)}else n=void 0;return n}function v(t,e,n,i){var r,o=1,l=20,a=i?function(){return i.cur()}:function(){return ut.css(t,e,"")},s=a(),u=n&&n[3]||(ut.cssNumber[e]?"":"px"),c=(ut.cssNumber[e]||"px"!==u&&+s)&&Mt.exec(ut.css(t,e));if(c&&c[3]!==u)for(u=u||c[3],n=n||[],c=+s||1;c/=o=o||".5",ut.style(t,e,c+u),o!==(o=a()/s)&&1!==o&&--l;);return n&&(c=+c||+s||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function y(t,e){for(var n,i,r=[],o=0,l=t.length;o<l;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Dt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&jt(i)&&(r[o]=(h=u=s=void 0,u=(a=i).ownerDocument,(h=Ft[c=a.nodeName])||(s=u.body.appendChild(u.createElement(c)),h=ut.css(s,"display"),s.parentNode.removeChild(s),"none"===h&&(h="block"),Ft[c]=h)))):"none"!==n&&(r[o]="none",Dt.set(i,"display",n)));var a,s,u,c,h;for(o=0;o<l;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function b(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&s(t,e)?ut.merge([t],n):n}function w(t,e){for(var n=0,i=t.length;n<i;n++)Dt.set(t[n],"globalEval",!e||Dt.get(e[n],"globalEval"))}function _(t,e,n,i,r){for(var o,l,a,s,u,c,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===ut.type(o))ut.merge(d,o.nodeType?[o]:o);else if(zt.test(o)){for(l=l||h.appendChild(e.createElement("div")),a=(Bt.exec(o)||["",""])[1].toLowerCase(),l.innerHTML=(s=qt[a]||qt._default)[1]+ut.htmlPrefilter(o)+s[2],c=s[0];c--;)l=l.lastChild;ut.merge(d,l.childNodes),(l=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&-1<ut.inArray(o,i))r&&r.push(o);else if(u=ut.contains(o.ownerDocument,o),l=b(h.appendChild(o),"script"),u&&w(l),n)for(c=0;o=l[c++];)Ut.test(o.type||"")&&n.push(o);return h}function C(){return!0}function x(){return!1}function S(){try{return Z.activeElement}catch(t){}}function E(t,e,n,i,r,o){var l,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)E(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=x;else if(!r)return t;return 1===o&&(l=r,(r=function(t){return ut().off(t),l.apply(this,arguments)}).guid=l.guid||(l.guid=ut.guid++)),t.each(function(){ut.event.add(this,e,r,i,n)})}function T(t,e){return s(t,"table")&&s(11!==e.nodeType?e:e.firstChild,"tr")&&ut(">tbody",t)[0]||t}function k(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function A(t){var e=$t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function D(t,e){var n,i,r,o,l,a,s,u;if(1===e.nodeType){if(Dt.hasData(t)&&(o=Dt.access(t),l=Dt.set(e,o),u=o.events))for(r in delete l.handle,l.events={},u)for(n=0,i=u[r].length;n<i;n++)ut.event.add(e,r,u[r][n]);Ot.hasData(t)&&(a=Ot.access(t),s=ut.extend({},a),Ot.set(e,s))}}function O(t,e,n,i){e=tt.apply([],e);var r,o,a,s,u,c,h=0,d=t.length,p=d-1,f=e[0],g=ut.isFunction(f);if(g||1<d&&"string"==typeof f&&!st.checkClone&&Jt.test(f))return t.each(function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),O(o,e,n,i)});if(d&&(o=(r=_(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=ut.map(b(r,"script"),k)).length;h<d;h++)u=r,h!==p&&(u=ut.clone(u,!0,!0),s&&ut.merge(a,b(u,"script"))),n.call(t[h],u,h);if(s)for(c=a[a.length-1].ownerDocument,ut.map(a,A),h=0;h<s;h++)Ut.test((u=a[h]).type||"")&&!Dt.access(u,"globalEval")&&ut.contains(c,u)&&(u.src?ut._evalUrl&&ut._evalUrl(u.src):l(u.textContent.replace(te,""),c))}return t}function I(t,e,n){for(var i,r=e?ut.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ut.cleanData(b(i)),i.parentNode&&(n&&ut.contains(i.ownerDocument,i)&&w(b(i,"script")),i.parentNode.removeChild(i));return t}function R(t,e,n){var i,r,o,l,a=t.style;return(n=n||ie(t))&&(""!==(l=n.getPropertyValue(e)||n[e])||ut.contains(t.ownerDocument,t)||(l=ut.style(t,e)),!st.pixelMarginRight()&&ne.test(l)&&ee.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=l,l=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==l?l+"":l}function P(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function M(t){var e=ut.cssProps[t];return e||(e=ut.cssProps[t]=function(t){if(t in ue)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=se.length;n--;)if((t=se[n]+e)in ue)return t}(t)||t),e}function N(t,e,n){var i=Mt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function j(t,e,n,i,r){var o,l=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(l+=ut.css(t,n+Nt[o],!0,r)),i?("content"===n&&(l-=ut.css(t,"padding"+Nt[o],!0,r)),"margin"!==n&&(l-=ut.css(t,"border"+Nt[o]+"Width",!0,r))):(l+=ut.css(t,"padding"+Nt[o],!0,r),"padding"!==n&&(l+=ut.css(t,"border"+Nt[o]+"Width",!0,r)));return l}function L(t,e,n){var i,r=ie(t),o=R(t,e,r),l="border-box"===ut.css(t,"boxSizing",!1,r);return ne.test(o)?o:(i=l&&(st.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+j(t,e,n||(l?"border":"content"),i,r)+"px")}function F(t,e,n,i,r){return new F.prototype.init(t,e,n,i,r)}function V(){he&&(!1===Z.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(V):r.setTimeout(V,ut.fx.interval),ut.fx.tick())}function B(){return r.setTimeout(function(){ce=void 0}),ce=ut.now()}function U(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Nt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function q(t,e,n){for(var i,r=(W.tweeners[e]||[]).concat(W.tweeners["*"]),o=0,l=r.length;o<l;o++)if(i=r[o].call(n,e,t))return i}function W(t,e,n){var i,r,o=0,l=W.prefilters.length,a=ut.Deferred().always(function(){delete s.elem}),s=function(){if(r)return!1;for(var e=ce||B(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&l?n:(l||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ut.extend({},e),opts:ut.extend(!0,{specialEasing:{},easing:ut.easing._default},n),originalProperties:e,originalOptions:n,startTime:ce||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ut.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,i,r,o,l;for(n in t)if(r=e[i=ut.camelCase(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(l=ut.cssHooks[i])&&"expand"in l)for(n in o=l.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<l;o++)if(i=W.prefilters[o].call(u,t,c,u.opts))return ut.isFunction(i.stop)&&(ut._queueHooks(u.elem,u.opts.queue).stop=ut.proxy(i.stop,i)),i;return ut.map(c,q,u),ut.isFunction(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),ut.fx.timer(ut.extend(s,{elem:t,anim:u,queue:u.opts.queue})),u}function H(t){return(t.match(St)||[]).join(" ")}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function G(t,e,n,i){var r;if(Array.isArray(e))ut.each(e,function(e,r){n||Ee.test(t)?i(t,r):G(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ut.type(e))i(t,e);else for(r in e)G(t+"["+r+"]",e[r],n,i)}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(St)||[];if(ut.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function X(t,e,n,i){function r(a){var s;return o[a]=!0,ut.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||l||o[u]?l?!(s=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),s}var o={},l=t===je;return r(e.dataTypes[0])||!o["*"]&&r("*")}function K(t,e){var n,i,r=ut.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ut.extend(!0,t,i),t}var Q=[],Z=r.document,J=Object.getPrototypeOf,$=Q.slice,tt=Q.concat,et=Q.push,nt=Q.indexOf,it={},rt=it.toString,ot=it.hasOwnProperty,lt=ot.toString,at=lt.call(Object),st={},ut=function(t,e){return new ut.fn.init(t,e)},ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^-ms-/,dt=/-([a-z])/g,pt=function(t,e){return e.toUpperCase()};ut.fn=ut.prototype={jquery:"3.2.1",constructor:ut,length:0,toArray:function(){return $.call(this)},get:function(t){return null==t?$.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=ut.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ut.each(this,t)},map:function(t){return this.pushStack(ut.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:et,sort:Q.sort,splice:Q.splice},ut.extend=ut.fn.extend=function(){var t,e,n,i,r,o,l=arguments[0]||{},a=1,s=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[a]||{},a++),"object"==typeof l||ut.isFunction(l)||(l={}),a===s&&(l=this,a--);a<s;a++)if(null!=(t=arguments[a]))for(e in t)n=l[e],l!==(i=t[e])&&(u&&i&&(ut.isPlainObject(i)||(r=Array.isArray(i)))?(o=r?(r=!1,n&&Array.isArray(n)?n:[]):n&&ut.isPlainObject(n)?n:{},l[e]=ut.extend(u,o,i)):void 0!==i&&(l[e]=i));return l},ut.extend({expando:"pQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ut.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ut.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==rt.call(t)||(e=J(t))&&("function"!=typeof(n=ot.call(e,"constructor")&&e.constructor)||lt.call(n)!==at))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?it[rt.call(t)]||"object":typeof t},globalEval:function(t){l(t)},camelCase:function(t){return t.replace(ht,"ms-").replace(dt,pt)},each:function(t,e){var n,i=0;if(a(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ct,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?ut.merge(n,"string"==typeof t?[t]:t):et.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:nt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,l=!n;r<o;r++)!e(t[r],r)!==l&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,l=[];if(a(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&l.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&l.push(r);return tt.apply([],l)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),ut.isFunction(t))return i=$.call(arguments,2),(r=function(){return t.apply(e||this,i.concat($.call(arguments)))}).guid=t.guid=t.guid||ut.guid++,r},now:Date.now,support:st}),"function"==typeof Symbol&&(ut.fn[Symbol.iterator]=Q[Symbol.iterator]),ut.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){it["[object "+e+"]"]=e.toLowerCase()});var ft=function(t){function e(t,e,n,i){var r,o,l,a,s,c,d,p=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:L)!==D&&A(e),e=e||D,I)){if(11!==f&&(s=pt.exec(t)))if(r=s[1]){if(9===f){if(!(l=e.getElementById(r)))return n;if(l.id===r)return n.push(l),n}else if(p&&(l=p.getElementById(r))&&N(e,l)&&l.id===r)return n.push(l),n}else{if(s[2])return X.apply(n,e.getElementsByTagName(t)),n;if((r=s[3])&&y.getElementsByClassName&&e.getElementsByClassName)return X.apply(n,e.getElementsByClassName(r)),n}if(y.qsa&&!q[t+" "]&&(!R||!R.test(t))){if(1!==f)p=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(vt,yt):e.setAttribute("id",a=j),o=(c=C(t)).length;o--;)c[o]="#"+a+" "+h(c[o]);d=c.join(","),p=ft.test(t)&&u(e.parentNode)||e}if(d)try{return X.apply(n,p.querySelectorAll(d)),n}catch(t){}finally{a===j&&e.removeAttribute("id")}}}return S(t.replace(it,"$1"),e,n,i)}function n(){var t=[];return function e(n,i){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function i(t){return t[j]=!0,t}function r(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=e}function l(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&wt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function s(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),l=o.length;l--;)n[r=o[l]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=e.next,o=r||i,l=n&&"parentNode"===o,a=V++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||l)return t(e,n,r);return!1}:function(e,n,s){var u,c,h,d=[F,a];if(s){for(;e=e[i];)if((1===e.nodeType||l)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||l)if(c=(h=e[j]||(e[j]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===F&&u[1]===a)return d[2]=u[2];if((c[o]=d)[2]=t(e,n,s))return!0}return!1}}function p(t){return 1<t.length?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function f(t,e,n,i,r){for(var o,l=[],a=0,s=t.length,u=null!=e;a<s;a++)(o=t[a])&&(n&&!n(o,i,r)||(l.push(o),u&&e.push(a)));return l}function g(t,n,r,o,l,a){return o&&!o[j]&&(o=g(o)),l&&!l[j]&&(l=g(l,a)),i(function(i,a,s,u){var c,h,d,p=[],g=[],m=a.length,v=i||function(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}(n||"*",s.nodeType?[s]:s,[]),y=!t||!i&&n?v:f(v,p,t,s,u),b=r?l||(i?t:m||o)?[]:a:y;if(r&&r(y,b,s,u),o)for(c=f(b,g),o(c,[],s,u),h=c.length;h--;)(d=c[h])&&(b[g[h]]=!(y[g[h]]=d));if(i){if(l||t){if(l){for(c=[],h=b.length;h--;)(d=b[h])&&c.push(y[h]=d);l(null,b=[],c,u)}for(h=b.length;h--;)(d=b[h])&&-1<(c=l?Q(i,d):p[h])&&(i[c]=!(a[c]=d))}}else b=f(b===a?b.splice(m,b.length):b),l?l(null,a,b,u):X.apply(a,b)})}function m(t){for(var e,n,i,r=t.length,o=b.relative[t[0].type],l=o||b.relative[" "],a=o?1:0,s=d(function(t){return t===e},l,!0),u=d(function(t){return-1<Q(e,t)},l,!0),c=[function(t,n,i){var r=!o&&(i||n!==E)||((e=n).nodeType?s(t,n,i):u(t,n,i));return e=null,r}];a<r;a++)if(n=b.relative[t[a].type])c=[d(p(c),n)];else{if((n=b.filter[t[a].type].apply(null,t[a].matches))[j]){for(i=++a;i<r&&!b.relative[t[i].type];i++);return g(1<a&&p(c),1<a&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(it,"$1"),n,a<i&&m(t.slice(a,i)),i<r&&m(t=t.slice(i)),i<r&&h(t))}c.push(n)}return p(c)}var v,y,b,w,_,C,x,S,E,T,k,A,D,O,I,R,P,M,N,j="sizzle"+1*new Date,L=t.document,F=0,V=0,B=n(),U=n(),q=n(),W=function(t,e){return t===e&&(k=!0),0},H={}.hasOwnProperty,z=[],G=z.pop,Y=z.push,X=z.push,K=z.slice,Q=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",J="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",tt="\\["+J+"*("+$+")(?:"+J+"*([*^$|!~]?=)"+J+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+J+"*\\]",et=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+tt+")*)|.*)\\)|)",nt=new RegExp(J+"+","g"),it=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g"),rt=new RegExp("^"+J+"*,"+J+"*"),ot=new RegExp("^"+J+"*([>+~]|"+J+")"+J+"*"),lt=new RegExp("="+J+"*([^\\]'\"]*?)"+J+"*\\]","g"),at=new RegExp(et),st=new RegExp("^"+$+"$"),ut={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+tt),PSEUDO:new RegExp("^"+et),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+J+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)","i")},ct=/^(?:input|select|textarea|button)$/i,ht=/^h\d$/i,dt=/^[^{]+\{\s*\[native \w/,pt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ft=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+J+"?|("+J+")|.)","ig"),mt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},vt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yt=function(t,e){return e?"\0"===t?"\xef\xbf\xbd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},bt=function(){A()},wt=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{X.apply(z=K.call(L.childNodes),L.childNodes)}catch(t){X={apply:z.length?function(t,e){Y.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(v in y=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:L;return i!==D&&9===i.nodeType&&i.documentElement&&(O=(D=i).documentElement,I=!_(D),L!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",bt,!1):n.attachEvent&&n.attachEvent("onunload",bt)),y.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),y.getElementsByTagName=r(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),y.getElementsByClassName=dt.test(D.getElementsByClassName),y.getById=r(function(t){return O.appendChild(t).id=j,!D.getElementsByName||!D.getElementsByName(j).length}),y.getById?(b.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}}):(b.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),b.find.TAG=y.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):y.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},b.find.CLASS=y.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&I)return e.getElementsByClassName(t)},P=[],R=[],(y.qsa=dt.test(D.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+J+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+J+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+j+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||R.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+J+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),O.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(y.matchesSelector=dt.test(M=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){y.disconnectedMatch=M.call(t,"*"),M.call(t,"[s!='']:x"),P.push("!=",et)}),R=R.length&&new RegExp(R.join("|")),P=P.length&&new RegExp(P.join("|")),e=dt.test(O.compareDocumentPosition),N=e||dt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return k=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!y.sortDetached&&e.compareDocumentPosition(t)===n?t===D||t.ownerDocument===L&&N(L,t)?-1:e===D||e.ownerDocument===L&&N(L,e)?1:T?Q(T,t)-Q(T,e):0:4&n?-1:1)}:function(t,e){if(t===e)return k=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===D?-1:e===D?1:r?-1:o?1:T?Q(T,t)-Q(T,e):0;if(r===o)return l(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?l(a[i],s[i]):a[i]===L?-1:s[i]===L?1:0}),D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&A(t),n=n.replace(lt,"='$1']"),y.matchesSelector&&I&&!q[n+" "]&&(!P||!P.test(n))&&(!R||!R.test(n)))try{var i=M.call(t,n);if(i||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<e(n,D,null,[t]).length},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&A(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&A(t);var n=b.attrHandle[e.toLowerCase()],i=n&&H.call(b.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:y.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(vt,yt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(k=!y.detectDuplicates,T=!y.sortStable&&t.slice(0),t.sort(W),k){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return T=null,t},w=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=w(e);return n},(b=e.selectors={cacheLength:50,createPseudo:i,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,mt),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ut.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&at.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,mt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+J+")"+t+"("+J+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&-1<o.indexOf(i):"$="===n?i&&o.slice(-i.length)===i:"~="===n?-1<(" "+o.replace(nt," ")+" ").indexOf(i):"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),l="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,s){var u,c,h,d,p,f,g=o!==l?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!s&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[l?m.firstChild:m.lastChild],l&&y){for(b=(p=(u=(c=(h=(d=m)[j]||(d[j]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===F&&u[1])&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[F,p,b];break}}else if(y&&(b=p=(u=(c=(h=(d=e)[j]||(d[j]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===F&&u[1]),!1===b)for(;(d=++p&&d&&d[g]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(h=d[j]||(d[j]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[F,b]),d!==e)););return(b-=r)===i||b%i==0&&0<=b/i}}},PSEUDO:function(t,n){var r,o=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):1<o.length?(r=[t,t,"",n],b.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),l=r.length;l--;)t[i=Q(t,r[l])]=!(e[i]=r[l])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=x(t.replace(it,"$1"));return r[j]?i(function(t,e,n,i){for(var o,l=r(t,null,i,[]),a=t.length;a--;)(o=l[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return 0<e(t,n).length}}),contains:i(function(t){return t=t.replace(gt,mt),function(e){return-1<(e.textContent||e.innerText||w(e)).indexOf(t)}}),lang:i(function(t){return st.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,mt).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return ht.test(t.nodeName)},input:function(t){return ct.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[v]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(v);for(v in{submit:!0,reset:!0})b.pseudos[v]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(v);return c.prototype=b.filters=b.pseudos,b.setFilters=new c,C=e.tokenize=function(t,n){var i,r,o,l,a,s,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(a=t,s=[],u=b.preFilter;a;){for(l in i&&!(r=rt.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),i=!1,(r=ot.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(it," ")}),a=a.slice(i.length)),b.filter)!(r=ut[l].exec(a))||u[l]&&!(r=u[l](r))||(i=r.shift(),o.push({value:i,type:l,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):U(t,s).slice(0)},x=e.compile=function(t,n){var r,o,l,a,s,u,c=[],h=[],d=q[t+" "];if(!d){for(n||(n=C(t)),r=n.length;r--;)(d=m(n[r]))[j]?c.push(d):h.push(d);(d=q(t,(o=h,a=0<(l=c).length,s=0<o.length,u=function(t,n,i,r,u){var c,h,d,p=0,g="0",m=t&&[],v=[],y=E,w=t||s&&b.find.TAG("*",u),_=F+=null==y?1:Math.random()||.1,C=w.length;for(u&&(E=n===D||n||u);g!==C&&null!=(c=w[g]);g++){if(s&&c){for(h=0,n||c.ownerDocument===D||(A(c),i=!I);d=o[h++];)if(d(c,n||D,i)){r.push(c);break}u&&(F=_)}a&&((c=!d&&c)&&p--,t&&m.push(c))}if(p+=g,a&&g!==p){for(h=0;d=l[h++];)d(m,v,n,i);if(t){if(0<p)for(;g--;)m[g]||v[g]||(v[g]=G.call(r));v=f(v)}X.apply(r,v),u&&!t&&0<v.length&&1<p+l.length&&e.uniqueSort(r)}return u&&(F=_,E=y),m},a?i(u):u))).selector=t}return d},S=e.select=function(t,e,n,i){var r,o,l,a,s,c="function"==typeof t&&t,d=!i&&C(t=c.selector||t);if(n=n||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(l=o[0]).type&&9===e.nodeType&&I&&b.relative[o[1].type]){if(!(e=(b.find.ID(l.matches[0].replace(gt,mt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ut.needsContext.test(t)?0:o.length;r--&&!b.relative[a=(l=o[r]).type];)if((s=b.find[a])&&(i=s(l.matches[0].replace(gt,mt),ft.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&h(o)))return X.apply(n,i),n;break}}return(c||x(t,d))(i,e,!I,n,!e||ft.test(t)&&u(e.parentNode)||e),n},y.sortStable=j.split("").sort(W).join("")===j,y.detectDuplicates=!!k,A(),y.sortDetached=r(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),y.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(Z,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(r);ut.find=ft,ut.expr=ft.selectors,ut.expr[":"]=ut.expr.pseudos,ut.uniqueSort=ut.unique=ft.uniqueSort,ut.text=ft.getText,ut.isXMLDoc=ft.isXML,ut.contains=ft.contains,ut.escapeSelector=ft.escape;var gt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ut(t).is(n))break;i.push(t)}return i},mt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},vt=ut.expr.match.needsContext,yt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,bt=/^.[^:#\[\.,]*$/;ut.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ut.find.matchesSelector(i,t)?[i]:[]:ut.find.matches(t,ut.grep(e,function(t){return 1===t.nodeType}))},ut.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(ut(t).filter(function(){for(e=0;e<i;e++)if(ut.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)ut.find(t,r[e],n);return 1<i?ut.uniqueSort(n):n},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&vt.test(t)?ut(t):t||[],!1).length}});var wt,_t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ut.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||wt,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):ut.isFunction(t)?void 0!==n.ready?n.ready(t):t(ut):ut.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:_t.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(ut.merge(this,ut.parseHTML(i[1],(e=e instanceof ut?e[0]:e)&&e.nodeType?e.ownerDocument||e:Z,!0)),yt.test(i[1])&&ut.isPlainObject(e))for(i in e)ut.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=Z.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=ut.fn,wt=ut(Z);var Ct=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({has:function(t){var e=ut(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(ut.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],l="string"!=typeof t&&ut(t);if(!vt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(l?-1<l.index(n):1===n.nodeType&&ut.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?ut.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?nt.call(ut(t),this[0]):nt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ut.uniqueSort(ut.merge(this.get(),ut(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ut.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return gt(t,"parentNode")},parentsUntil:function(t,e,n){return gt(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return gt(t,"nextSibling")},prevAll:function(t){return gt(t,"previousSibling")},nextUntil:function(t,e,n){return gt(t,"nextSibling",n)},prevUntil:function(t,e,n){return gt(t,"previousSibling",n)},siblings:function(t){return mt((t.parentNode||{}).firstChild,t)},children:function(t){return mt(t.firstChild)},contents:function(t){return s(t,"iframe")?t.contentDocument:(s(t,"template")&&(t=t.content||t),ut.merge([],t.childNodes))}},function(t,e){ut.fn[t]=function(n,i){var r=ut.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ut.filter(i,r)),1<this.length&&(xt[t]||ut.uniqueSort(r),Ct.test(t)&&r.reverse()),this.pushStack(r)}});var St=/[^\x20\t\r\n\f]+/g;ut.Callbacks=function(t){var e;t="string"==typeof t?(e={},ut.each(t.match(St)||[],function(t,n){e[n]=!0}),e):ut.extend({},t);var n,i,r,o,l=[],a=[],s=-1,u=function(){for(o=o||t.once,r=n=!0;a.length;s=-1)for(i=a.shift();++s<l.length;)!1===l[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=l.length,i=!1);t.memory||(i=!1),n=!1,o&&(l=i?[]:"")},c={add:function(){return l&&(i&&!n&&(s=l.length-1,a.push(i)),function e(n){ut.each(n,function(n,i){ut.isFunction(i)?t.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==ut.type(i)&&e(i)})}(arguments),i&&!n&&u()),this},remove:function(){return ut.each(arguments,function(t,e){for(var n;-1<(n=ut.inArray(e,l,n));)l.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<ut.inArray(t,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return o=a=[],l=i="",this},disabled:function(){return!l},lock:function(){return o=a=[],i||n||(l=i=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),n||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ut.extend({Deferred:function(t){var e=[["notify","progress",ut.Callbacks("memory"),ut.Callbacks("memory"),2],["resolve","done",ut.Callbacks("once memory"),ut.Callbacks("once memory"),0,"resolved"],["reject","fail",ut.Callbacks("once memory"),ut.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return ut.Deferred(function(n){ut.each(e,function(e,i){var r=ut.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&ut.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,i){function o(t,e,n,i){return function(){var a=this,s=arguments,u=function(){var r,u;if(!(t<l)){if((r=n.apply(a,s))===e.promise())throw new TypeError("Thenable self-resolution");ut.isFunction(u=r&&("object"==typeof r||"function"==typeof r)&&r.then)?i?u.call(r,o(l,e,h,i),o(l,e,d,i)):u.call(r,o(++l,e,h,i),o(l,e,d,i),o(l,e,h,e.notifyWith)):(n!==h&&(a=void 0,s=[r]),(i||e.resolveWith)(a,s))}},c=i?u:function(){try{u()}catch(i){ut.Deferred.exceptionHook&&ut.Deferred.exceptionHook(i,c.stackTrace),l<=t+1&&(n!==d&&(a=void 0,s=[i]),e.rejectWith(a,s))}};t?c():(ut.Deferred.getStackHook&&(c.stackTrace=ut.Deferred.getStackHook()),r.setTimeout(c))}}var l=0;return ut.Deferred(function(r){e[0][3].add(o(0,r,ut.isFunction(i)?i:h,r.notifyWith)),e[1][3].add(o(0,r,ut.isFunction(t)?t:h)),e[2][3].add(o(0,r,ut.isFunction(n)?n:d))}).promise()},promise:function(t){return null!=t?ut.extend(t,i):i}},o={};return ut.each(e,function(t,r){var l=r[2],a=r[5];i[r[1]]=l.add,a&&l.add(function(){n=a},e[3-t][2].disable,e[0][2].lock),l.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=l.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=$.call(arguments),o=ut.Deferred(),l=function(t){return function(n){i[t]=this,r[t]=1<arguments.length?$.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(p(t,o.done(l(n)).resolve,o.reject,!e),"pending"===o.state()||ut.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)p(r[n],l(n),o.reject);return o.promise()}});var Et=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ut.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&Et.test(t.name)&&r.console.warn("pQuery.Deferred exception: "+t.message,t.stack,e)},ut.readyException=function(t){r.setTimeout(function(){throw t})};var Tt=ut.Deferred();ut.fn.ready=function(t){return Tt.then(t).catch(function(t){ut.readyException(t)}),this},ut.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--ut.readyWait:ut.isReady)||(ut.isReady=!0)!==t&&0<--ut.readyWait||Tt.resolveWith(Z,[ut])}}),ut.ready.then=Tt.then,"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?r.setTimeout(ut.ready):(Z.addEventListener("DOMContentLoaded",f),r.addEventListener("load",f));var kt=function(t,e,n,i,r,o,l){var a=0,s=t.length,u=null==n;if("object"===ut.type(n))for(a in r=!0,n)kt(t,e,a,n[a],!0,o,l);else if(void 0!==i&&(r=!0,ut.isFunction(i)||(l=!0),u&&(e=l?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(ut(t),n)})),e))for(;a<s;a++)e(t[a],n,l?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):s?e(t[0],n):o},At=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};g.uid=1,g.prototype={cache:function(t){var e=t[this.expando];return e||(e={},At(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[ut.camelCase(e)]=n;else for(i in e)r[ut.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ut.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(ut.camelCase):(e=ut.camelCase(e))in i?[e]:e.match(St)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||ut.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ut.isEmptyObject(e)}};var Dt=new g,Ot=new g,It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/[A-Z]/g;ut.extend({hasData:function(t){return Ot.hasData(t)||Dt.hasData(t)},data:function(t,e,n){return Ot.access(t,e,n)},removeData:function(t,e){Ot.remove(t,e)},_data:function(t,e,n){return Dt.access(t,e,n)},_removeData:function(t,e){Dt.remove(t,e)}}),ut.fn.extend({data:function(t,e){var n,i,r,o=this[0],l=o&&o.attributes;if(void 0!==t)return"object"==typeof t?this.each(function(){Ot.set(this,t)}):kt(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Ot.get(o,t)))return n;if(void 0!==(n=m(o,t)))return n}else this.each(function(){Ot.set(this,t,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=Ot.get(o),1===o.nodeType&&!Dt.get(o,"hasDataAttrs"))){for(n=l.length;n--;)l[n]&&0===(i=l[n].name).indexOf("data-")&&(i=ut.camelCase(i.slice(5)),m(o,i,r[i]));Dt.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Ot.remove(this,t)})}}),ut.extend({queue:function(t,e,n){var i;if(t)return i=Dt.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=Dt.access(t,e,ut.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){var n=ut.queue(t,e=e||"fx"),i=n.length,r=n.shift(),o=ut._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){ut.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Dt.get(t,n)||Dt.access(t,n,{empty:ut.Callbacks("once memory").add(function(){Dt.remove(t,[e+"queue",n])})})}}),ut.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ut.queue(this[0],t):void 0===e?this:this.each(function(){var n=ut.queue(this,t,e);ut._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ut.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ut.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ut.Deferred(),o=this,l=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";l--;)(n=Dt.get(o[l],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),Nt=["Top","Right","Bottom","Left"],jt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ut.contains(t.ownerDocument,t)&&"none"===ut.css(t,"display")},Lt=function(t,e,n,i){var r,o,l={};for(o in e)l[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=l[o];return r},Ft={};ut.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ut(this).show():ut(this).hide()})}});var Vt=/^(?:checkbox|radio)$/i,Bt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ut=/^$|\/(?:java|ecma)script/i,qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td;var Wt,Ht,zt=/<|&#?\w+;/;Wt=Z.createDocumentFragment().appendChild(Z.createElement("div")),(Ht=Z.createElement("input")).setAttribute("type","radio"),Ht.setAttribute("checked","checked"),Ht.setAttribute("name","t"),Wt.appendChild(Ht),st.checkClone=Wt.cloneNode(!0).cloneNode(!0).lastChild.checked,Wt.innerHTML="<textarea>x</textarea>",st.noCloneChecked=!!Wt.cloneNode(!0).lastChild.defaultValue;var Gt=Z.documentElement,Yt=/^key/,Xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^([^.]*)(?:\.(.+)|)/;ut.event={global:{},add:function(t,e,n,i,r){var o,l,a,s,u,c,h,d,p,f,g,m=Dt.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&ut.find.matchesSelector(Gt,r),n.guid||(n.guid=ut.guid++),(s=m.events)||(s=m.events={}),(l=m.handle)||(l=m.handle=function(e){return void 0!==ut&&ut.event.triggered!==e.type?ut.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(St)||[""]).length;u--;)p=g=(a=Kt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=ut.event.special[p]||{},h=ut.event.special[p=(r?h.delegateType:h.bindType)||p]||{},c=ut.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ut.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=s[p])||((d=s[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,f,l)||t.addEventListener&&t.addEventListener(p,l)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),ut.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,l,a,s,u,c,h,d,p,f,g,m=Dt.hasData(t)&&Dt.get(t);if(m&&(s=m.events)){for(u=(e=(e||"").match(St)||[""]).length;u--;)if(p=g=(a=Kt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=ut.event.special[p]||{},d=s[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||ut.removeEvent(t,p,m.handle),delete s[p])}else for(p in s)ut.event.remove(t,p+e[u],n,i,!0);ut.isEmptyObject(s)&&Dt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,l,a=ut.event.fix(t),s=new Array(arguments.length),u=(Dt.get(this,"events")||{})[a.type]||[],c=ut.event.special[a.type]||{};for(s[0]=a,e=1;e<arguments.length;e++)s[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(l=ut.event.handlers.call(this,a,u),e=0;(r=l[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((ut.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,l,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],l={},n=0;n<s;n++)void 0===l[r=(i=e[n]).selector+" "]&&(l[r]=i.needsContext?-1<ut(r,this).index(u):ut.find(r,this,null,[u]).length),l[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,s<e.length&&a.push({elem:u,handlers:e.slice(s)}),a},addProp:function(t,e){Object.defineProperty(ut.Event.prototype,t,{enumerable:!0,configurable:!0,get:ut.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ut.expando]?t:new ut.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&s(this,"input"))return this.click(),!1},_default:function(t){return s(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ut.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ut.Event=function(t,e){if(!(this instanceof ut.Event))return new ut.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?C:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ut.extend(this,e),this.timeStamp=t&&t.timeStamp||ut.now(),this[ut.expando]=!0},ut.Event.prototype={constructor:ut.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ut.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Yt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ut.event.addProp),ut.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ut.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||ut.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),ut.fn.extend({on:function(t,e,n,i){return E(this,t,e,n,i)},one:function(t,e,n,i){return E(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ut(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=x),this.each(function(){ut.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Zt=/<script|<style|<link/i,Jt=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/^true\/(.*)/,te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ut.extend({htmlPrefilter:function(t){return t.replace(Qt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,l,a,s,u,c=t.cloneNode(!0),h=ut.contains(t.ownerDocument,t);if(!(st.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ut.isXMLDoc(t)))for(l=b(c),i=0,r=(o=b(t)).length;i<r;i++)a=o[i],"input"===(u=(s=l[i]).nodeName.toLowerCase())&&Vt.test(a.type)?s.checked=a.checked:"input"!==u&&"textarea"!==u||(s.defaultValue=a.defaultValue);if(e)if(n)for(o=o||b(t),l=l||b(c),i=0,r=o.length;i<r;i++)D(o[i],l[i]);else D(t,c);return 0<(l=b(c,"script")).length&&w(l,!h&&b(t,"script")),c},cleanData:function(t){for(var e,n,i,r=ut.event.special,o=0;void 0!==(n=t[o]);o++)if(At(n)){if(e=n[Dt.expando]){if(e.events)for(i in e.events)r[i]?ut.event.remove(n,i):ut.removeEvent(n,i,e.handle);n[Dt.expando]=void 0}n[Ot.expando]&&(n[Ot.expando]=void 0)}}}),ut.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return kt(this,function(t){return void 0===t?ut.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return O(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||T(this,t).appendChild(t)})},prepend:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ut.cleanData(b(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ut.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Zt.test(t)&&!qt[(Bt.exec(t)||["",""])[1].toLowerCase()]){t=ut.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ut.cleanData(b(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return O(this,arguments,function(e){var n=this.parentNode;ut.inArray(this,t)<0&&(ut.cleanData(b(this)),n&&n.replaceChild(e,this))},t)}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ut.fn[t]=function(t){for(var n,i=[],r=ut(t),o=r.length-1,l=0;l<=o;l++)n=l===o?this:this.clone(!0),ut(r[l])[e](n),et.apply(i,n.get());return this.pushStack(i)}});var ee=/^margin/,ne=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),ie=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Gt.appendChild(l);var t=r.getComputedStyle(a);e="1%"!==t.top,o="2px"===t.marginLeft,n="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,Gt.removeChild(l),a=null}}var e,n,i,o,l=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",st.clearCloneStyle="content-box"===a.style.backgroundClip,l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(a),ut.extend(st,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var re=/^(none|table(?!-c[ea]).+)/,oe=/^--/,le={position:"absolute",visibility:"hidden",display:"block"},ae={letterSpacing:"0",fontWeight:"400"},se=["Webkit","Moz","ms"],ue=Z.createElement("div").style;ut.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=R(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,l,a=ut.camelCase(e),s=oe.test(e),u=t.style;if(s||(e=M(a)),l=ut.cssHooks[e]||ut.cssHooks[a],void 0===n)return l&&"get"in l&&void 0!==(r=l.get(t,!1,i))?r:u[e];"string"==(o=typeof n)&&(r=Mt.exec(n))&&r[1]&&(n=v(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(ut.cssNumber[a]?"":"px")),st.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),l&&"set"in l&&void 0===(n=l.set(t,n,i))||(s?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,l,a=ut.camelCase(e);return oe.test(e)||(e=M(a)),(l=ut.cssHooks[e]||ut.cssHooks[a])&&"get"in l&&(r=l.get(t,!0,n)),void 0===r&&(r=R(t,e,i)),"normal"===r&&e in ae&&(r=ae[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),ut.each(["height","width"],function(t,e){ut.cssHooks[e]={get:function(t,n,i){if(n)return!re.test(ut.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?L(t,e,i):Lt(t,le,function(){return L(t,e,i)})},set:function(t,n,i){var r,o=i&&ie(t),l=i&&j(t,e,i,"border-box"===ut.css(t,"boxSizing",!1,o),o);return l&&(r=Mt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ut.css(t,e)),N(0,n,l)}}}),ut.cssHooks.marginLeft=P(st.reliableMarginLeft,function(t,e){if(e)return(parseFloat(R(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ut.each({margin:"",padding:"",border:"Width"},function(t,e){ut.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Nt[i]+e]=o[i]||o[i-2]||o[0];return r}},ee.test(t)||(ut.cssHooks[t+e].set=N)}),ut.fn.extend({css:function(t,e){return kt(this,function(t,e,n){var i,r,o={},l=0;if(Array.isArray(e)){for(i=ie(t),r=e.length;l<r;l++)o[e[l]]=ut.css(t,e[l],!1,i);return o}return void 0!==n?ut.style(t,e,n):ut.css(t,e)},t,e,1<arguments.length)}}),((ut.Tween=F).prototype={constructor:F,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ut.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ut.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.pos=e=this.options.duration?ut.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}}).init.prototype=F.prototype,(F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ut.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ut.fx.step[t.prop]?ut.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ut.cssProps[t.prop]]&&!ut.cssHooks[t.prop]?t.elem[t.prop]=t.now:ut.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ut.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ut.fx=F.prototype.init,ut.fx.step={};var ce,he,de,pe,fe=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;ut.Animation=ut.extend(W,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=ut.isFunction(t)?(e=t,["*"]):t.match(St)).length;i<r;i++)(W.tweeners[n=t[i]]=W.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var i,r,o,l,a,s,u,c,h="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&jt(t),m=Dt.get(t,"fxshow");for(i in n.queue||(null==(l=ut._queueHooks(t,"fx")).unqueued&&(l.unqueued=0,a=l.empty.fire,l.empty.fire=function(){l.unqueued||a()}),l.unqueued++,d.always(function(){d.always(function(){l.unqueued--,ut.queue(t,"fx").length||l.empty.fire()})})),e)if(fe.test(r=e[i])){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||ut.style(t,i)}if((s=!ut.isEmptyObject(e))||!ut.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=Dt.get(t,"display")),"none"===(c=ut.css(t,"display"))&&(u?c=u:(y([t],!0),u=t.style.display||u,c=ut.css(t,"display"),y([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ut.css(t,"float")&&(s||(d.done(function(){f.display=u}),null==u&&(u="none"===(c=f.display)?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),s=!1,p)s||(m?"hidden"in m&&(g=m.hidden):m=Dt.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&y([t],!0),d.done(function(){for(i in g||y([t]),Dt.remove(t,"fxshow"),p)ut.style(t,i,p[i])})),s=q(g?m[i]:0,i,d),i in m||(m[i]=s.start,g&&(s.end=s.start,s.start=0))}],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),ut.speed=function(t,e,n){var i=t&&"object"==typeof t?ut.extend({},t):{complete:n||!n&&e||ut.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ut.isFunction(e)&&e};return ut.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in ut.fx.speeds?ut.fx.speeds[i.duration]:ut.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ut.isFunction(i.old)&&i.old.call(this),i.queue&&ut.dequeue(this,i.queue)},i},ut.fn.extend({fadeTo:function(t,e,n,i){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ut.isEmptyObject(t),o=ut.speed(e,n,i),l=function(){var e=W(this,ut.extend({},t),o);(r||Dt.get(this,"finish"))&&e.stop(!0)};return l.finish=l,r||!1===o.queue?this.each(l):this.queue(o.queue,l)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ut.timers,l=Dt.get(this);if(r)l[r]&&l[r].stop&&i(l[r]);else for(r in l)l[r]&&l[r].stop&&ge.test(r)&&i(l[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ut.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Dt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ut.timers,l=i?i.length:0;for(n.finish=!0,ut.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<l;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ut.each(["toggle","show","hide"],function(t,e){var n=ut.fn[e];ut.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,i,r)}}),ut.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ut.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ut.timers=[],ut.fx.tick=function(){var t,e=0,n=ut.timers;for(ce=ut.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||ut.fx.stop(),ce=void 0},ut.fx.timer=function(t){ut.timers.push(t),ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){he||(he=!0,V())},ut.fx.stop=function(){he=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fn.delay=function(t,e){return t=ut.fx&&ut.fx.speeds[t]||t,this.queue(e=e||"fx",function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}})},de=Z.createElement("input"),pe=Z.createElement("select").appendChild(Z.createElement("option")),de.type="checkbox",st.checkOn=""!==de.value,st.optSelected=pe.selected,(de=Z.createElement("input")).value="t",de.type="radio",st.radioValue="t"===de.value;var me,ve=ut.expr.attrHandle;ut.fn.extend({attr:function(t,e){return kt(this,ut.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ut.removeAttr(this,t)})}}),ut.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?ut.prop(t,e,n):(1===o&&ut.isXMLDoc(t)||(r=ut.attrHooks[e.toLowerCase()]||(ut.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void ut.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=ut.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!st.radioValue&&"radio"===e&&s(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(St);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),me={set:function(t,e,n){return!1===e?ut.removeAttr(t,n):t.setAttribute(n,n),n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ve[e]||ut.find.attr;ve[e]=function(t,e,i){var r,o,l=e.toLowerCase();return i||(o=ve[l],ve[l]=r,r=null!=n(t,e,i)?l:null,ve[l]=o),r}});var ye=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;ut.fn.extend({prop:function(t,e){return kt(this,ut.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[ut.propFix[t]||t]})}}),ut.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ut.isXMLDoc(t)||(r=ut.propHooks[e=ut.propFix[e]||e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ut.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),st.optSelected||(ut.propHooks.selected={get:function(t){return null},set:function(t){}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.fn.extend({addClass:function(t){var e,n,i,r,o,l,a,s=0;if(ut.isFunction(t))return this.each(function(e){ut(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(St)||[];n=this[s++];)if(r=z(n),i=1===n.nodeType&&" "+H(r)+" "){for(l=0;o=e[l++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=H(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,l,a,s=0;if(ut.isFunction(t))return this.each(function(e){ut(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(St)||[];n=this[s++];)if(r=z(n),i=1===n.nodeType&&" "+H(r)+" "){for(l=0;o=e[l++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=H(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ut.isFunction(t)?this.each(function(n){ut(this).toggleClass(t.call(this,n,z(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ut(this),o=t.match(St)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=z(this))&&Dt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Dt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+H(z(n))+" ").indexOf(e))return!0;return!1}});var we=/\r/g;ut.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ut.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,ut(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=ut.map(r,function(t){return null==t?"":t+""})),(e=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=ut.valHooks[r.type]||ut.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(we,""):null==n?"":n:void 0}}),ut.extend({valHooks:{option:{get:function(t){var e=ut.find.attr(t,"value");return null!=e?e:H(ut.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,l="select-one"===t.type,a=l?null:[],u=l?o+1:r.length;for(i=o<0?u:l?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!s(n.parentNode,"optgroup"))){if(e=ut(n).val(),l)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=ut.makeArray(e),l=r.length;l--;)((i=r[l]).selected=-1<ut.inArray(ut.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<ut.inArray(ut(t).val(),e)}},st.checkOn||(ut.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e=/^(?:focusinfocus|focusoutblur)$/;ut.extend(ut.event,{trigger:function(t,e,n,i){var o,l,a,s,u,c,h,d=[n||Z],p=ot.call(t,"type")?t.type:t,f=ot.call(t,"namespace")?t.namespace.split("."):[];if(l=a=n=n||Z,3!==n.nodeType&&8!==n.nodeType&&!_e.test(p+ut.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[ut.expando]?t:new ut.Event(p,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:ut.makeArray(e,[t]),h=ut.event.special[p]||{},i||!h.trigger||!1!==h.trigger.apply(n,e))){if(!i&&!h.noBubble&&!ut.isWindow(n)){for(_e.test((s=h.delegateType||p)+p)||(l=l.parentNode);l;l=l.parentNode)d.push(l),a=l;a===(n.ownerDocument||Z)&&d.push(a.defaultView||a.parentWindow||r)}for(o=0;(l=d[o++])&&!t.isPropagationStopped();)t.type=1<o?s:h.bindType||p,(c=(Dt.get(l,"events")||{})[t.type]&&Dt.get(l,"handle"))&&c.apply(l,e),(c=u&&l[u])&&c.apply&&At(l)&&(t.result=c.apply(l,e),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!At(n)||u&&ut.isFunction(n[p])&&!ut.isWindow(n)&&((a=n[u])&&(n[u]=null),n[ut.event.triggered=p](),ut.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(t,e,n){var i=ut.extend(new ut.Event,n,{type:t,isSimulated:!0});ut.event.trigger(i,null,e)}}),ut.fn.extend({trigger:function(t,e){return this.each(function(){ut.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ut.event.trigger(t,e,n,!0)}}),ut.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ut.fn[e]=function(t,n){return 0<arguments.length?this.on(e,null,t,n):this.trigger(e)}}),ut.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),st.focusin="onfocusin"in r,st.focusin||ut.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ut.event.simulate(e,t.target,ut.event.fix(t))};ut.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Dt.access(i,e);r||i.addEventListener(t,n,!0),Dt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Dt.access(i,e)-1;r?Dt.access(i,e,r):(i.removeEventListener(t,n,!0),Dt.remove(i,e))}}});var Ce=r.location,xe=ut.now(),Se=/\?/;ut.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Te=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;ut.param=function(t,e){var n,i=[],r=function(t,e){var n=ut.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!ut.isPlainObject(t))ut.each(t,function(){r(this.name,this.value)});else for(n in t)G(n,t[n],e,r);return i.join("&")},ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ut.prop(this,"elements");return t?ut.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ut(this).is(":disabled")&&Ae.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Vt.test(t))}).map(function(t,e){var n=ut(this).val();return null==n?null:Array.isArray(n)?ut.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var De=/%20/g,Oe=/#.*$/,Ie=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Me=/^\/\//,Ne={},je={},Le="*/".concat("*"),Fe=Z.createElement("a");Fe.href=Ce.href,ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?K(K(t,ut.ajaxSettings),e):K(ut.ajaxSettings,t)},ajaxPrefilter:Y(Ne),ajaxTransport:Y(je),ajax:function(t,e){function n(t,e,n,a){var u,d,p,w,_,C=e;c||(c=!0,s&&r.clearTimeout(s),i=void 0,l=a||"",x.readyState=0<t?4:0,u=200<=t&&t<300||304===t,n&&(w=function(t,e,n){for(var i,r,o,l,a=t.contents,s=t.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){s.unshift(r);break}if(s[0]in n)o=s[0];else{for(r in n){if(!s[0]||t.converters[r+" "+s[0]]){o=r;break}l||(l=r)}o=o||l}if(o)return o!==s[0]&&s.unshift(o),n[o]}(f,x,n)),w=function(t,e,n,i){var r,o,l,a,s,u={},c=t.dataTypes.slice();if(c[1])for(l in t.converters)u[l.toLowerCase()]=t.converters[l];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!s&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s=o,o=c.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(l=u[s+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(l=u[s+" "+a[0]]||u["* "+a[0]])){!0===l?l=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==l)if(l&&t.throws)e=l(e);else try{e=l(e)}catch(t){return{state:"parsererror",error:l?t:"No conversion from "+s+" to "+o}}}return{state:"success",data:e}}(f,w,x,u),u?(f.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(ut.lastModified[o]=_),(_=x.getResponseHeader("etag"))&&(ut.etag[o]=_)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=w.state,d=w.data,u=!(p=w.error))):(p=C,!t&&C||(C="error",t<0&&(t=0))),x.status=t,x.statusText=(e||C)+"",u?v.resolveWith(g,[d,C,x]):v.rejectWith(g,[x,C,p]),x.statusCode(b),b=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[x,f,u?d:p]),y.fireWith(g,[x,C]),h&&(m.trigger("ajaxComplete",[x,f]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0);var i,o,l,a,s,u,c,h,d,p,f=ut.ajaxSetup({},e=e||{}),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?ut(g):ut.event,v=ut.Deferred(),y=ut.Callbacks("once memory"),b=f.statusCode||{},w={},_={},C="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Re.exec(l);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?l:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)x.always(t[x.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),n(0,e),this}};if(v.promise(x),f.url=((t||f.url||Ce.href)+"").replace(Me,Ce.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(St)||[""],null==f.crossDomain){u=Z.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Fe.protocol+"//"+Fe.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ut.param(f.data,f.traditional)),X(Ne,f,e,x),c)return x;for(d in(h=ut.event&&f.global)&&0==ut.active++&&ut.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pe.test(f.type),o=f.url.replace(Oe,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(De,"+")):(p=f.url.slice(o.length),f.data&&(o+=(Se.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Ie,"$1"),p=(Se.test(o)?"&":"?")+"_="+xe+++p),f.url=o+p),f.ifModified&&(ut.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ut.lastModified[o]),ut.etag[o]&&x.setRequestHeader("If-None-Match",ut.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Le+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,x,f)||c))return x.abort();if(C="abort",y.add(f.complete),x.done(f.success),x.fail(f.error),i=X(je,f,e,x)){if(x.readyState=1,h&&m.trigger("ajaxSend",[x,f]),c)return x;f.async&&0<f.timeout&&(s=r.setTimeout(function(){x.abort("timeout")},f.timeout));try{c=!1,i.send(w,n)}catch(t){if(c)throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return ut.get(t,e,n,"json")},getScript:function(t,e){return ut.get(t,void 0,e,"script")}}),ut.each(["get","post"],function(t,e){ut[e]=function(t,n,i,r){return ut.isFunction(n)&&(r=r||i,i=n,n=void 0),ut.ajax(ut.extend({url:t,type:e,dataType:r,data:n,success:i},ut.isPlainObject(t)&&t))}}),ut._evalUrl=function(t){return ut.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ut.fn.extend({wrapAll:function(t){var e;return this[0]&&(ut.isFunction(t)&&(t=t.call(this[0])),e=ut(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ut.isFunction(t)?this.each(function(e){ut(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ut(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ut.isFunction(t);return this.each(function(n){ut(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ut(this).replaceWith(this.childNodes)}),this}}),ut.expr.pseudos.hidden=function(t){return!ut.expr.pseudos.visible(t)},ut.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ut.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},Be=ut.ajaxSettings.xhr();st.cors=!!Be&&"withCredentials"in Be,st.ajax=Be=!!Be,ut.ajaxTransport(function(t){var e,n;if(st.cors||Be&&!t.crossDomain)return{send:function(i,o){var l,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(l in t.xhrFields)a[l]=t.xhrFields[l];for(l in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(l,i[l]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ve[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){e&&n()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(i){if(e)throw i}},abort:function(){e&&e()}}}),ut.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ut.globalEval(t),t}}}),ut.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ut.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=ut("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ue,qe=[],We=/(=)\?(?=&|$)|\?\?/;return ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||ut.expando+"_"+xe++;return this[t]=!0,t}}),ut.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,l,a=!1!==t.jsonp&&(We.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ut.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(We,"$1"+i):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return l||ut.error(i+" was not called"),l[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){l=arguments},n.always(function(){void 0===o?ut(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,qe.push(i)),l&&ut.isFunction(o)&&o(l[0]),l=o=void 0}),"script"}),st.createHTMLDocument=((Ue=Z.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ue.childNodes.length),ut.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(st.createHTMLDocument?((i=(e=Z.implementation.createHTMLDocument("")).createElement("base")).href=Z.location.href,e.head.appendChild(i)):e=Z),o=!n&&[],(r=yt.exec(t))?[e.createElement(r[1])]:(r=_([t],e,o),o&&o.length&&ut(o).remove(),ut.merge([],r.childNodes)));var i,r,o},ut.fn.load=function(t,e,n){var i,r,o,l=this,a=t.indexOf(" ");return-1<a&&(i=H(t.slice(a)),t=t.slice(0,a)),ut.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<l.length&&ut.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,l.html(i?ut("<div>").append(ut.parseHTML(t)).find(i):t)}).always(n&&function(t,e){l.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ut.fn[e]=function(t){return this.on(e,t)}}),ut.expr.pseudos.animated=function(t){return ut.grep(ut.timers,function(e){return t===e.elem}).length},ut.offset={setOffset:function(t,e,n){var i,r,o,l,a,s,u=ut.css(t,"position"),c=ut(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=ut.css(t,"top"),s=ut.css(t,"left"),r=("absolute"===u||"fixed"===u)&&-1<(o+s).indexOf("auto")?(l=(i=c.position()).top,i.left):(l=parseFloat(o)||0,parseFloat(s)||0),ut.isFunction(e)&&(e=e.call(t,n,ut.extend({},a))),null!=e.top&&(h.top=e.top-a.top+l),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},ut.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ut.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),n=(e=o.ownerDocument).documentElement,{top:i.top+(r=e.defaultView).pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ut.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),s(t[0],"html")||(i=t.offset()),i={top:i.top+ut.css(t[0],"borderTopWidth",!0),left:i.left+ut.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-ut.css(n,"marginTop",!0),left:e.left-i.left-ut.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ut.css(t,"position");)t=t.offsetParent;return t||Gt})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ut.fn[t]=function(i){return kt(this,function(t,i,r){var o;if(ut.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),ut.each(["top","left"],function(t,e){ut.cssHooks[e]=P(st.pixelPosition,function(t,n){if(n)return n=R(t,e),ne.test(n)?ut(t).position()[e]+"px":n})}),ut.each({Height:"height",Width:"width"},function(t,e){ut.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ut.fn[i]=function(r,o){var l=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return kt(this,function(e,n,r){var o;return ut.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?ut.css(e,n,a):ut.style(e,n,r,a)},e,l?r:void 0,l)}})}),ut.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ut.holdReady=function(t){t?ut.readyWait++:ut.ready(!0)},ut.isArray=Array.isArray,ut.parseJSON=JSON.parse,ut.nodeName=s,n("nErl")&&void 0!==(i=(function(){return ut}).apply(e,[]))&&(t.exports=i),o||(r.pQuery=r.$_$=ut),ut});var o=window.pQuery;function l(t){this.dataSentToServer=t||{},this.option={method:"POST",prensentationMode:l.OPEN_IN_POPUP,didPopupClosed:function(t,e,n){},willGetToken:function(){},didGetToken:function(t,e){},didReceiveNonSuccessResponse:function(t){},didReceiveError:function(t){},emptyFunction:function(){}}}o.fn.center=function(){return this.each(function(){var t=$(this),e=t.height(),n=t.width(),i={position:"absolute",left:(window.innerWidth-n)/2+"px",top:(window.innerHeight-e)/2+"px"};t.css(i)})},function(e){var n=setTimeout;function i(){}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(n){return void a(e.promise,n)}l(e.promise,i)}else(1===t._state?l:a)(e.promise,t._value)})):t._deferreds.push(e)}function l(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void u((i=n,o=e,function(){i.apply(o,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){a(t,e)}var i,o}function a(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function u(t,e){var n=!1;try{t(function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){if(n)return;n=!0,a(e,t)}}r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(i);return o(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){if(0===e.length)return t([]);var i=e.length;function r(o,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var a=l.then;if("function"==typeof a)return void a.call(l,function(t){r(o,t)},n)}e[o]=l,0==--i&&t(e)}catch(l){n(l)}}for(var o=0;o<e.length;o++)r(o,e[o])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){n(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},"undefined"!=typeof t&&t.exports?t.exports=r:e.Promise||(e.Promise=r)}(r),function(t){"use strict";if(!t.fetch){var e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in t,o="ArrayBuffer"in t;if(o)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(t){return t&&DataView.prototype.isPrototypeOf(t)},s=ArrayBuffer.isView||function(t){return t&&-1<l.indexOf(Object.prototype.toString.call(t))};f.prototype.append=function(t,e){t=h(t),e=d(e);var n=this.map[t];this.map[t]=n?n+","+e:e},f.prototype.delete=function(t){delete this.map[h(t)]},f.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},f.prototype.set=function(t,e){this.map[h(t)]=d(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),p(t)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),p(t)},f.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),p(t)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},C.error=function(){var t=new C(null,{status:0,statusText:""});return t.type="error",t};var c=[301,302,303,307,308];C.redirect=function(t,e){if(-1===c.indexOf(e))throw new RangeError("Invalid status code");return new C(null,{status:e,headers:{location:t}})},t.Headers=f,t.Request=w,t.Response=C,t.fetch=function(t,e){return new Promise(function(n,r){var o=new w(t,e),l=new XMLHttpRequest;l.onload=function(){var t,e,i={status:l.status,statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e)};i.url="responseURL"in l?l.responseURL:i.headers.get("X-Request-URL"),n(new C("response"in l?l.response:l.responseText,i))},l.onerror=function(){r(new TypeError("Network request failed"))},l.ontimeout=function(){r(new TypeError("Network request failed"))},l.open(o.method,o.url,!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&i&&(l.responseType="blob"),o.headers.forEach(function(t,e){l.setRequestHeader(e,t)}),l.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function g(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function m(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function v(t){var e=new FileReader,n=m(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(i&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(o&&i&&a(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(t)&&!s(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t,e,n,i=g(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,n=m(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(t,e){var n,i,r=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(i=(n=e.method||this.method||"GET").toUpperCase(),-1<u.indexOf(i)?i:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function C(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}}(r),function(t){"use strict";var e,n,i,r,o,l,a,s,u,c,h,d,p,f,g,m,v,y,b,w,_,C,x,S,E,T,k,A,D,O,I,R,P,M,N,j;t.fn.extend({venobox:function(L){var F=this,V=t.extend({arrowsColor:"#B6B6B6",autoplay:!1,bgcolor:"#fff",border:"0",closeBackground:"#161617",closeColor:"#d2d2d2",framewidth:"",frameheight:"",infinigall:!1,htmlClose:"&times;",htmlNext:"<span>Next</span>",htmlPrev:"<span>Prev</span>",numeratio:!1,numerationBackground:"#161617",numerationColor:"#d2d2d2",numerationPosition:"top",overlayClose:!0,overlayColor:"rgba(23,23,23,0.85)",spinner:"double-bounce",spinColor:"#d2d2d2",titleattr:"title",titleBackground:"#161617",titleColor:"#d2d2d2",titlePosition:"top",cb_pre_open:function(){return!0},cb_post_open:function(){},cb_pre_close:function(){return!0},cb_post_close:function(){},cb_post_resize:function(){},cb_after_nav:function(){},cb_init:function(){}},L);return V.cb_init(F),this.each(function(){if((T=t(this)).data("venobox"))return!0;function L(){w=T.data("gall"),m=T.data("numeratio"),d=T.data("infinigall"),p=t('.vbox-item[data-gall="'+w+'"]'),_=p.eq(p.index(T)+1),C=p.eq(p.index(T)-1),_.length||!0!==d||(_=p.eq(0)),1<p.length?(k=p.index(T)+1,i.html(k+" / "+p.length)):k=1,!0===m?i.show():i.hide(),""!==b?r.show():r.hide(),x=_.length||!0===d?(t(".vbox-next").css("display","block"),!0):(t(".vbox-next").css("display","none"),!1),1!=(S=0<p.index(T)||!0===d?(t(".vbox-prev").css("display","block"),!0):(t(".vbox-prev").css("display","none"),!1))&&!0!==x||(a.on(Y.DOWN,H),a.on(Y.MOVE,z),a.on(Y.UP,G))}function B(t){return!(t.length<1)&&!f&&(f=!0,v=t.data("overlay")||t.data("overlaycolor"),c=t.data("framewidth"),h=t.data("frameheight"),o=t.data("border"),n=t.data("bgcolor"),s=t.data("href")||t.attr("href"),e=t.data("autoplay"),b=t.attr(t.data("titleattr"))||"",t===C&&a.addClass("animated").addClass("swipe-right"),t===_&&a.addClass("animated").addClass("swipe-left"),void a.animate({opacity:0},500,function(){y.css("background",v),a.removeClass("animated").removeClass("swipe-left").removeClass("swipe-right").css({"margin-left":0,"margin-right":0}),"iframe"==t.data("vbtype")?J():"inline"==t.data("vbtype")?tt():"ajax"==t.data("vbtype")?Z():"video"==t.data("vbtype")||"vimeo"==t.data("vbtype")||"youtube"==t.data("vbtype")?$(e):(a.html('<img src="'+s+'">'),et()),T=t,L(),f=!1,V.cb_after_nav(T,k,_,C)}))}function U(t){27===t.keyCode&&q(),37==t.keyCode&&!0===S&&B(C),39==t.keyCode&&!0===x&&B(_)}function q(){if(!1===V.cb_pre_close(T,k,_,C))return!1;t("body").off("keydown",U).removeClass("vbox-open"),T.focus(),y.animate({opacity:0},500,function(){y.remove(),f=!1,V.cb_post_close()})}F.VBclose=function(){q()},T.addClass("vbox-item"),T.data("framewidth",V.framewidth),T.data("frameheight",V.frameheight),T.data("border",V.border),T.data("bgcolor",V.bgcolor),T.data("numeratio",V.numeratio),T.data("infinigall",V.infinigall),T.data("overlaycolor",V.overlayColor),T.data("titleattr",V.titleattr),T.data("venobox",!0),T.on("click",function(d){if(d.preventDefault(),T=t(this),!1===V.cb_pre_open(T))return!1;switch(F.VBnext=function(){B(_)},F.VBprev=function(){B(C)},v=T.data("overlay")||T.data("overlaycolor"),c=T.data("framewidth"),h=T.data("frameheight"),e=T.data("autoplay")||V.autoplay,o=T.data("border"),n=T.data("bgcolor"),f=S=x=!1,s=T.data("href")||T.attr("href"),u=T.data("css")||"",b=T.attr(T.data("titleattr"))||"",E='<div class="vbox-preloader">',V.spinner){case"rotating-plane":E+='<div class="sk-rotating-plane"></div>';break;case"double-bounce":E+='<div class="sk-double-bounce"><div class="sk-child sk-double-bounce1"></div><div class="sk-child sk-double-bounce2"></div></div>';break;case"wave":E+='<div class="sk-wave"><div class="sk-rect sk-rect1"></div><div class="sk-rect sk-rect2"></div><div class="sk-rect sk-rect3"></div><div class="sk-rect sk-rect4"></div><div class="sk-rect sk-rect5"></div></div>';break;case"wandering-cubes":E+='<div class="sk-wandering-cubes"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div></div>';break;case"spinner-pulse":E+='<div class="sk-spinner sk-spinner-pulse"></div>';break;case"three-bounce":E+='<div class="sk-three-bounce"><div class="sk-child sk-bounce1"></div><div class="sk-child sk-bounce2"></div><div class="sk-child sk-bounce3"></div></div>';break;case"cube-grid":E+='<div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div>'}return l='<div class="vbox-overlay '+u+'" style="background:'+v+'">'+(E+="</div>")+'<div class="vbox-container"><div class="vbox-content"></div></div><div class="vbox-title"></div><div class="vbox-num">0/0</div><div class="vbox-close">'+V.htmlClose+'</div><a class="vbox-next">'+V.htmlNext+'</a><a class="vbox-prev">'+V.htmlPrev+"</a></div>",t("body").append(l).addClass("vbox-open"),t(".vbox-preloader .sk-child, .vbox-preloader .sk-rotating-plane, .vbox-preloader .sk-rect, .vbox-preloader .sk-cube, .vbox-preloader .sk-spinner-pulse").css("background-color",V.spinColor),y=t(".vbox-overlay"),t(".vbox-container"),a=t(".vbox-content"),i=t(".vbox-num"),(r=t(".vbox-title")).css(V.titlePosition,"-1px"),r.css({color:V.titleColor,"background-color":V.titleBackground}),t(".vbox-close").css({color:V.closeColor,"background-color":V.closeBackground}),t(".vbox-num").css(V.numerationPosition,"-1px"),t(".vbox-num").css({color:V.numerationColor,"background-color":V.numerationBackground}),t(".vbox-next span, .vbox-prev span").css({"border-top-color":V.arrowsColor,"border-right-color":V.arrowsColor}),a.html(""),a.css("opacity","0"),y.css("opacity","0"),L(),y.animate({opacity:1},250,function(){"iframe"==T.data("vbtype")?J():"inline"==T.data("vbtype")?tt():"ajax"==T.data("vbtype")?Z():"video"==T.data("vbtype")||"vimeo"==T.data("vbtype")||"youtube"==T.data("vbtype")?$(e):(a.html('<img src="'+s+'">'),et()),V.cb_post_open(T,k,_,C)}),t("body").keydown(U),t(".vbox-prev").on("click",function(){B(C)}),t(".vbox-next").on("click",function(){B(_)}),!1});var W=".vbox-overlay";function H(t){a.addClass("animated"),O=t.pageY,I=R=t.pageX,A=!0}function z(t){if(!0===A){M=(R=t.pageX)-I,N=t.pageY-O;var e=Math.abs(M);Math.abs(N)<e&&e<=100&&(t.preventDefault(),a.css("margin-left",M))}}function G(t){if(!0===A){var e=T,n=A=!1;(P=R-I)<0&&!0===x&&(e=_,n=!0),0<P&&!0===S&&(e=C,n=!0),Math.abs(P)>=j&&!0===n?B(e):a.css({"margin-left":0,"margin-right":0})}}V.overlayClose||(W=".vbox-close"),t(document).on("click",W,function(e){(t(e.target).is(".vbox-overlay")||t(e.target).is(".vbox-content")||t(e.target).is(".vbox-close")||t(e.target).is(".vbox-preloader"))&&q()}),P=R=I=0,A=!(j=50);var Y={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"},X=function(e){var n;switch(e.type){case"mousedown":n=Y.DOWN;break;case"mouseup":case"mouseout":n=Y.UP;break;case"mousemove":n=Y.MOVE;break;default:return}var i=Q(n,e,e.pageX,e.pageY);t(e.target).trigger(i)},K=function(e){var n;switch(e.type){case"touchstart":n=Y.DOWN;break;case"touchend":n=Y.UP;break;case"touchmove":n=Y.MOVE;break;default:return}var i,r=e.originalEvent.touches[0];i=n==Y.UP?Q(n,e,null,null):Q(n,e,r.pageX,r.pageY),t(e.target).trigger(i)},Q=function(e,n,i,r){return t.Event(e,{pageX:i,pageY:r,originalEvent:n})};function Z(){t.ajax({url:s,cache:!1}).done(function(t){a.html('<div class="vbox-inline">'+t+"</div>"),et()}).fail(function(){a.html('<div class="vbox-inline"><p>Error retrieving contents, please retry</div>'),nt()})}function J(){a.html('<iframe class="venoframe" src="'+s+'"></iframe>'),nt()}function $(t){var e,n=function(t){if(s.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),-1<RegExp.$3.indexOf("youtu"))var e="youtube";else-1<RegExp.$3.indexOf("vimeo")&&(e="vimeo");return{type:e,id:RegExp.$6}}(),i=(t?"?rel=0&autoplay=1":"?rel=0")+function(t){var e="",n=decodeURIComponent(s).split("?");if(void 0!==n[1]){var i,r,o=n[1].split("&");for(r=0;r<o.length;r++)e=e+"&"+(i=o[r].split("="))[0]+"="+i[1]}return encodeURI(e)}();"vimeo"==n.type?e="https://player.vimeo.com/video/":"youtube"==n.type&&(e="https://www.youtube.com/embed/"),a.html('<iframe class="venoframe vbvid" webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder="0" src="'+e+n.id+i+'"></iframe>'),nt()}function tt(){a.html('<div class="vbox-inline">'+t(s).html()+"</div>"),nt()}function et(){(D=a.find("img")).length?D.each(function(){t(this).one("load",function(){nt()})}):nt()}function nt(){r.html(b),a.find(">:first-child").addClass("figlio").css({width:c,height:h,padding:o,background:n}),t("img.figlio").on("dragstart",function(t){t.preventDefault()}),it(),a.animate({opacity:"1"},"slow",function(){})}function it(){var e=a.outerHeight(),n=t(window).height();a.css("margin-top",g=e+60<n?(n-e)/2:"30px"),a.css("margin-bottom",g),V.cb_post_resize()}"ontouchstart"in window?(t(document).on("touchstart",K),t(document).on("touchmove",K),t(document).on("touchend",K)):(t(document).on("mousedown",X),t(document).on("mouseup",X),t(document).on("mouseout",X),t(document).on("mousemove",X)),t(window).resize(function(){t(".vbox-content").length&&setTimeout(it(),800)})})}})}(o),l.prototype.closeIframeEvent=function(){var t="attachEvent"==(window.addEventListener?"addEventListener":"attachEvent")?"onmessage":"message";(window.addEventListener?window.removeEventListener:window.detachEvent)(t,function(){},!1)},l.prototype.handleIframeEvent=function(){var t=this,e=window.addEventListener?"addEventListener":"attachEvent";(0,window[e])("attachEvent"==e?"onmessage":"message",function(e){var n=JSON.parse(e[e.message?"message":"data"]);"close_iframe"===n.type?($("body > *").not("script").not(".vbox-overlay").css("filter","none"),o(".vbox-close").click(),t.closeIframeEvent(),n.is_completed&&(window.location.href=n.success_url),o("#venobox-iframe-payexpresse").attr("href","")):"popup_ready"===n.type&&$(".vbox-preloader").css("z-index","0")},!1)},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),l.prototype.withOption=function(t){return this.option={requestTokenUrl:t.requestTokenUrl||null,method:t.method||this.option.method,headers:t.headers||{},prensentationMode:t.prensentationMode||this.option.prensentationMode,didPopupClosed:t.didPopupClosed||this.option.didPopupClosed,willGetToken:t.willGetToken||this.option.willGetToken,didGetToken:t.didGetToken||this.option.didGetToken,didReceiveNonSuccessResponse:t.didReceiveNonSuccessResponse||this.option.didReceiveNonSuccessResponse,didReceiveError:t.didReceiveError||this.option.didReceiveError},this},l.prototype.toFunction=function(t){return"function"==typeof t?t:this.option.emptyFunction},l.prototype.error=function(t,e){console.warn("une erreur c'est produit avec le message : ",e||'""'),console.log(t),l.REQUESTING_TOKEN=!1,this.toFunction(this.option.didReceiveError).apply(this,[t])},l.prototype.present=function(t,e){if(this.option.prensentationMode===l.DO_NOTHING)console.warn("done !!!");else if(this.option.prensentationMode===l.OPEN_IN_NEW_TAB)window.open(t);else if(this.option.prensentationMode===l.OPEN_IN_SAME_TAB)window.location.href=t;else{l.POPUP_OPENED=!0;var n=this;function i(){console.log("do sum");var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e=450<window.innerWidth?360:window.innerWidth,n=t?window.innerHeight:610;console.log(e),o(".venoframe").css({width:e,height:n,"min-height":n,border:"0"}).css("margin-top","0px !important"),o(".vbox-content").css("height","100%").css("margin-top","0").css("margin-bottom","0"),o(".vbox-container").css("overflow","hidden"),o(".venoframe").center()}0===o("#venobox-iframe-payexpresse").length&&o("body").append('<a id="venobox-iframe-payexpresse" style="display: none !important;visibility: hidden !important;" class="venobox_custom" data-vbtype="iframe" href=""></a>'),o("#venobox-iframe-payexpresse").attr("href",t).venobox({cb_pre_close:function(t,e,n,i){return!(l.POPUP_OPENED=!1)},overlayClose:!1}).trigger("click"),$(".vbox-overlay").css("background","transparent"),$("body > *").not("script").not(".vbox-overlay").css("filter","blur(10px)"),$(".vbox-preloader").css("z-index","99"),o(window).resize(function(){i()}),setTimeout(function(){i(),n.handleIframeEvent()},500);var r,a,s=15,u=setInterval(function(){0<s?(i(),s--):clearInterval(u)},250);void 0!==document.hidden?(r="hidden",a="visibilitychange"):void 0!==document.msHidden?(r="msHidden",a="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",a="webkitvisibilitychange"),document.addEventListener(a,function(){document.hidden||document[r]||i()},!1)}},l.prototype.serialize=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},l.prototype.send=function(t){if(!l.REQUESTING_TOKEN){l.REQUESTING_TOKEN=!0,this.toFunction(this.option.willGetToken).apply(this,[]);var e=this.option.requestTokenUrl,n={method:this.option.method.toUpperCase(),credentials:"same-origin"};"object"==typeof t&&(this.dataSentToServer.__themeOption__=btoa(JSON.stringify(t))),"GET"===String(this.option.method).toUpperCase()||"HEAD"===String(this.option.method).toUpperCase()?e+="?"+this.serialize(this.dataSentToServer):(n.body=this.serialize(this.dataSentToServer),n.headers=Object.assign({"Content-Type":"application/x-www-form-urlencoded"},this.option.headers));var i=this;return r.fetch(e,n).then(function(t){return t.json()},function(t){i.error(t)}).then(function(t){1===t.success||!0===t.success||"1"===t.success||"true"===t.success?(i.present(t.redirect_url,t.token),i.toFunction(i.option.didGetToken).apply(i,[t.token,t.redirect_url]),l.REQUESTING_TOKEN=!1):(l.REQUESTING_TOKEN=!1,i.toFunction(i.option.didReceiveNonSuccessResponse).apply(i,[t]))},function(t){i.error(t)}),this}},l.OPEN_IN_POPUP=1,l.OPEN_IN_NEW_TAB=2,l.OPEN_IN_SAME_TAB=3,l.DO_NOTHING=4,l.POPUP_OPENED=!1,l.REQUESTING_TOKEN=!1,r.PayExpresse=l,o('meta[name="viewport"]').replaceWith('<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">')}(this)},"8LP5":function(t,e,n){"use strict";e.a=function(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}},"8QP5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("Ppzd");i.b.prototype.map=r.a},"92Er":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("uCFV");i.b.prototype.filter=r.a},"92UZ":function(t,e,n){"use strict";e.a=function(t){return t}},"9hho":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},AXSE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("O4tu"),r=n.n(i),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function l(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})}function a(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}var u=n("Pxmi"),c=n("ZC01");n.d(e,"registerInstallations",function(){return V});var h,d=1e4,p="w:0.1.6",f="FIS_v2",g="https://firebaseinstallations.googleapis.com/v1",m=36e5,v=((h={})["missing-app-config-values"]="Missing App configuration values.",h["create-installation-failed"]="Could not register Firebase Installation.",h["generate-token-failed"]="Could not generate Auth Token.",h["not-registered"]="Firebase Installation is not registered.",h["installation-not-found"]="Firebase Installation not found.",h["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',h["app-offline"]="Could not process request. Application offline.",h["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",h),y=new u.ErrorFactory("installations","Installations",v);function b(t){return t instanceof u.FirebaseError&&t.code.includes("request-failed")}function w(t){if(!t||!t.options)throw y.create("missing-app-config-values");var e=t.name,n=t.options,i=n.projectId,r=n.apiKey,o=n.appId;if(!(e&&i&&r&&o))throw y.create("missing-app-config-values");return{appName:e,projectId:i,apiKey:r,appId:o}}function _(t){return g+"/projects/"+t.projectId+"/installations"}function C(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function x(t,e){return l(this,void 0,void 0,function(){var n,i;return a(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,y.create("request-failed",{requestName:t,serverCode:(i=n.error).code,serverMessage:i.message,serverStatus:i.status})]}})})}function S(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function E(t,e){var n=e.refreshToken,i=S(t);return i.append("Authorization",function(t){return f+" "+t}(n)),i}function T(t){return l(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function k(t){return new Promise(function(e){setTimeout(e,t)})}var A="firebase-installations-store",D=Object(c.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(A)}});function O(t,e){return l(this,void 0,void 0,function(){var n,i,r;return a(this,function(o){switch(o.label){case 0:return n=P(t),[4,D];case 1:return i=o.sent(),(r=i.transaction(A,"readwrite")).objectStore(A).put(e,n),[4,r.complete];case 2:return o.sent(),[2,e]}})})}function I(t){return l(this,void 0,void 0,function(){var e,n,i;return a(this,function(r){switch(r.label){case 0:return e=P(t),[4,D];case 1:return n=r.sent(),(i=n.transaction(A,"readwrite")).objectStore(A).delete(e),[2,i.complete]}})})}function R(t,e){return l(this,void 0,void 0,function(){var n,i,r,o,l,s;return a(this,function(a){switch(a.label){case 0:return n=P(t),[4,D];case 1:return i=a.sent(),r=i.transaction(A,"readwrite"),[4,(o=r.objectStore(A)).get(n)];case 2:return l=a.sent(),(s=e(l))===l?[2,s]:(void 0===s?o.delete(n):o.put(s,n),[4,r.complete]);case 3:return a.sent(),[2,s]}})})}function P(t){return t.appName+"!"+t.appId}function M(t){return l(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return n={},[4,R(t,function(n){var i=function(t){var e,n=t||{fid:(e=new Uint8Array(17),crypto.getRandomValues(e),e[0]=112+e[0]%16,function(t){return(e=t,n=e instanceof Uint8Array?e:new Uint8Array(e),btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}(n))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e,n}(e)),registrationStatus:0};return j(n)?{fid:n.fid,registrationStatus:0}:n}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(y.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return l(this,void 0,void 0,function(){var n,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,8]),[4,function(t,n){var i=e.fid;return l(this,void 0,void 0,function(){var e,n,r,o,l;return a(this,function(a){switch(a.label){case 0:return e=_(t),n=S(t),r={method:"POST",headers:n,body:JSON.stringify({fid:i,authVersion:f,appId:t.appId,sdkVersion:p})},[4,T(function(){return fetch(e,r)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return l=a.sent(),[2,{fid:i,registrationStatus:2,refreshToken:l.refreshToken,authToken:C(l.authToken)}];case 3:return[4,x("Create Installation",o)];case 4:throw a.sent()}})})}(t)];case 1:return n=r.sent(),[4,O(t,n)];case 2:return r.sent(),[3,8];case 3:return b(i=r.sent())&&409===i.serverCode?[4,I(t)]:[3,5];case 4:return r.sent(),[3,7];case 5:return[4,O(t,{fid:e.fid,registrationStatus:0})];case 6:r.sent(),r.label=7;case 7:throw i;case 8:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return l(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,N(t)];case 1:e=n.sent(),n.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,k(100)];case 3:return n.sent(),[4,N(t)];case 4:return e=n.sent(),[3,2];case 5:if(0===e.registrationStatus)throw y.create("create-installation-failed");return[2]}})})}(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry})];case 1:return[2,(n.installationEntry=i.sent(),n.registrationPromise=e,n)]}})})}function N(t){return R(t,function(t){if(!t)throw y.create("installation-not-found");return j(t)?{fid:t.fid,registrationStatus:0}:t})}function j(t){return 1===t.registrationStatus&&t.registrationTime+d<Date.now()}function L(t){return R(t,function(t){if(!F(t))throw y.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+d<Date.now()?o({},t,{authToken:{requestStatus:0}}):t})}function F(t){return void 0!==t&&2===t.registrationStatus}function V(t){t.INTERNAL.registerService("installations",function(t){return w(t),{app:t,getId:function(){return function(t){return l(this,void 0,void 0,function(){var e,n,i;return a(this,function(r){switch(r.label){case 0:return[4,M(w(t))];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)&&i.catch(function(){}),[2,n.fid]}})})}(t)},getToken:function(){return function(t){return l(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,function(t){return l(this,void 0,void 0,function(){var e,n,i;return a(this,function(r){switch(r.label){case 0:return[4,M(t)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?[4,i]:[3,3];case 2:return r.sent(),[3,4];case 3:if(2!==n.registrationStatus)throw y.create("create-installation-failed");r.label=4;case 4:return[2]}})})}(e=w(t))];case 1:return n.sent(),[2,function(t){return l(this,void 0,void 0,function(){var e,n,i;return a(this,function(r){switch(r.label){case 0:return[4,R(t,function(n){if(!F(n))throw y.create("not-registered");var i,r=n.authToken;if(2!==(i=r).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+m}(i)){if(1===r.requestStatus)return e=function(t){return l(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return[4,L(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,k(100)];case 3:return i.sent(),[4,L(t)];case 4:return e=i.sent(),[3,2];case 5:if(0===(n=e.authToken).requestStatus)throw y.create("generate-token-failed");return[2,n]}})})}(t),n;if(!navigator.onLine)throw y.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return o({},t,{authToken:e})}(n);return e=function(t,e){return l(this,void 0,void 0,function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,function(t,e){return l(this,void 0,void 0,function(){var n,i,r,o;return a(this,function(l){switch(l.label){case 0:return n=function(t,n){var i=e.fid;return _(t)+"/"+i+"/authTokens:generate"}(t),i=E(t,e),r={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:p}})},[4,T(function(){return fetch(n,r)})];case 1:return(o=l.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,C(l.sent())];case 3:return[4,x("Generate Auth Token",o)];case 4:throw l.sent()}})})}(t,e)];case 1:return n=s.sent(),r=o({},e,{authToken:n}),[4,O(t,r)];case 2:return s.sent(),[2,n];case 3:return!b(i=s.sent())||401!==i.serverCode&&404!==i.serverCode?[3,5]:[4,I(t)];case 4:return s.sent(),[3,7];case 5:return r=o({},e,{authToken:{requestStatus:0}}),[4,O(t,r)];case 6:s.sent(),s.label=7;case 7:throw i;case 8:return[2]}})})}(t,s),s}return n})];case 1:return n=r.sent(),e?[4,e]:[3,3];case 2:return i=r.sent(),[3,4];case 3:i=n.authToken,r.label=4;case 4:return[2,i.token]}})})}(e)]}})})}(t)},delete:function(){return function(t){return l(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return[4,R(e=w(t),function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw y.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw y.create("app-offline");case 3:return[4,function(t,e){return l(this,void 0,void 0,function(){var n,i,r,o;return a(this,function(l){switch(l.label){case 0:return n=function(t,n){var i=e.fid;return _(t)+"/"+i}(t),i=E(t,e),r={method:"DELETE",headers:i},[4,T(function(){return fetch(n,r)})];case 1:return(o=l.sent()).ok?[3,3]:[4,x("Delete Installation",o)];case 2:throw l.sent();case 3:return[2]}})})}(e,n)];case 4:return i.sent(),[4,I(e)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}(t)}}})}V(r.a)},BdDE:function(t,e,n){"use strict";e.a=function(t){setTimeout(function(){throw t},0)}},CmsN:function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t[i.a]};var i=n("V9Cg")},D1Va:function(t,e,n){"use strict";t.exports=o;var i=n("DsFX"),r=n("jOgh");function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:(function(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n("LC74"),r.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},D4VV:function(t,e,n){"use strict";e.a=function(t){return t(this)}},D8I6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("O4tu"),r=n.n(i);n.d(e,"registerStorage",function(){return zt});var o="firebasestorage.googleapis.com",l="storageBucket",a=12e4,s=6e4,u=-9007199254740991,c=function(){function t(t,e){this.code_=d(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return d(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),h={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function d(t){return"storage/"+t}function p(){return new c(h.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function f(){return new c(h.CANCELED,"User canceled the upload/download.")}function g(){return new c(h.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(t,e,n){return new c(h.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function v(){return new c(h.APP_DELETED,"The Firebase app was deleted.")}function y(t,e){return new c(h.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function b(t){throw new c(h.INTERNAL_ERROR,"Internal error: "+t)}var w={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function _(t){switch(t){case w.RAW:case w.BASE64:case w.BASE64URL:case w.DATA_URL:return;default:throw"Expected one of the event types: ["+w.RAW+", "+w.BASE64+", "+w.BASE64URL+", "+w.DATA_URL+"]."}}var C=function(t,e){this.data=t,this.contentType=e||null};function x(t,e){switch(t){case w.RAW:return new C(S(e));case w.BASE64:case w.BASE64URL:return new C(E(t,e));case w.DATA_URL:return new C(function(t){var e=new T(t);return e.base64?E(w.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw y(w.DATA_URL,"Malformed data URL.")}return S(e)}(e.rest)}(e),function(t){return new T(t).contentType}(e))}throw p()}function S(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,o=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&o)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function E(t,e){switch(t){case w.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw y(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case w.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw y(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var l;try{l=atob(e)}catch(e){throw y(t,"Invalid character found")}for(var a=new Uint8Array(l.length),s=0;s<l.length;s++)a[s]=l.charCodeAt(s);return a}var T=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw y(w.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=(i=";base64").length&&n.substring(n.length-i.length)===i,this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),k={STATE_CHANGED:"state_changed"},A={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},D={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O(t){switch(t){case A.RUNNING:case A.PAUSING:case A.CANCELING:return D.RUNNING;case A.PAUSED:return D.PAUSED;case A.SUCCESS:return D.SUCCESS;case A.CANCELED:return D.CANCELED;case A.ERROR:default:return D.ERROR}}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t,e){for(var n in t)I(t,n)&&e(n,t[n])}function P(t){if(null==t)return{};var e={};return R(t,function(t,n){e[t]=n}),e}function M(t){return new Promise(t)}function N(t){return Promise.resolve(t)}function j(t){return null!=t}function L(t){return void 0!==t}function F(t){return"function"==typeof t}function V(t){return"object"==typeof t}function B(t){return V(t)&&null!==t}function U(t){return"string"==typeof t||t instanceof String}function q(t){return W(t)&&Number.isInteger(t)}function W(t){return"number"==typeof t||t instanceof Number}function H(t){return z()&&t instanceof Blob}function z(){return"undefined"!=typeof Blob}var G=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Y=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=G.NO_ERROR,this.sendPromise_=M(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=G.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=G.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,i){var r=this;if(this.sent_)throw b("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),j(i)&&R(i,function(t,e){r.xhr_.setRequestHeader(t,e.toString())}),j(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw b("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw b("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw b("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),X=function(){function t(){}return t.prototype.createXhrIo=function(){return new Y},t}();function K(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return V(n=e)&&!Array.isArray(n)?e:null}var Q=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new c(h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),r=o.replace(/[.]/g,"\\."),l=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+r+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],a=0;a<l.length;a++){var s=l[a],u=s.regex.exec(e);if(u){var d=u[s.indices.path];d||(d=""),n=new t(u[s.indices.bucket],d),s.postModify(n);break}}if(null==n)throw function(t){return new c(h.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function Z(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function J(t){return"https://"+o+"/v0"+t}function $(t){var e=encodeURIComponent,n="?";return R(t,function(t,i){var r=e(t)+"="+e(i);n=n+r+"&"}),n=n.slice(0,-1)}function tt(t,e){return e}var et=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||tt}}(),nt=null;function it(t,e,n){var i=K(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var l=n[o];i[l.local]=l.xform(i,e[l.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Q(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(i,t),i}(t,i,n)}function rt(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ot(t){if(!t||!V(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!V(n))throw"Expected object for 'customMetadata' mapping."}else if(B(n))throw"Mapping for '"+e+"' cannot be an object."}}var lt="maxResults",at=1e3,st="pageToken",ut="prefixes",ct="items";function ht(t){if(!t||!V(t))throw"Expected ListOptions object.";for(var e in t)if(e===lt){if(!q(t[lt])||t[lt]<=0)throw"Expected maxResults to be a positive number.";if(t[lt]>1e3)throw"Expected maxResults to be less than or equal to "+at+"."}else{if(e!==st)throw"Unknown option: "+e;if(t[st]&&!U(t[st]))throw"Expected pageToken to be string."}}function dt(t,e,n){for(var i=e.length,r=e.length,o=0;o<e.length;o++)if(e[o].optional){i=o;break}var l,a,s,u;if(!(i<=n.length&&n.length<=r))throw(l=i)===(a=r)?(s=l,u=1===l?"argument":"arguments"):(s="between "+l+" and "+a,u="arguments"),new c(h.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+s+" "+u+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?m(o,t,e.message):m(o,t,e)}}var pt=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!L(e)||t(e)},this.optional=!!e}}();function ft(t,e){function n(t){if(!U(t))throw"Expected string."}var i,r,o;return t?(r=n,o=t,i=function(t){r(t),o(t)}):i=n,new pt(i,e)}function gt(t){return new pt(ot,t)}function mt(){return new pt(function(t){if(!(W(t)&&t>=0))throw"Expected a number 0 or greater."})}function vt(t,e){return new pt(function(e){if(!(null===e||j(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)},e)}function yt(t){return new pt(function(t){if(null!==t&&!F(t))throw"Expected a Function."},t)}function bt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var wt=function(){function t(t,e){var n=0,i="";H(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(H(this.data_)){var i=(o=e,l=n,(r=this.data_).webkitSlice?r.webkitSlice(o,l):r.mozSlice?r.mozSlice(o,l):r.slice?r.slice(o,l):null);return null===i?null:new t(i)}var r,o,l;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(z()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bt();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(z())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,i))}var r=e.map(function(t){return U(t)?x(w.RAW,t).data:t.data_}),o=0;r.forEach(function(t){o+=t.byteLength});var l=new Uint8Array(o),a=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)l[a++]=t[e]}),new t(l,!0)},t.prototype.uploadData=function(){return this.data_},t}();function _t(t,e){return-1!==t.indexOf(e)}var Ct=function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function xt(t){if(!t)throw p()}function St(t,e){return function(n,i){var r=it(t,i,e);return xt(null!==r),r}}function Et(t){return function(e,n){var i;return(i=401===e.getStatus()?new c(h.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new c(h.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new c(h.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),i}}function Tt(t){var e=Et(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new c(h.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),r.setServerResponseProp(i.serverResponseProp()),r}}function kt(t,e,n){var i=J(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new Ct(i,"GET",St(t,n),r);return o.errorHandler=Tt(e),o}function At(t,e,n){var i=P(n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var Dt=function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null};function Ot(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){xt(!1)}return xt(_t(e||["active"],n)),n}var It=function(){return function(t,e,n){if(F(t)||j(e)||j(n))this.next=t,this.error=e||null,this.complete=n||null;else{var i=t;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}}();function Rt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];N(!0).then(function(){t.apply(null,e)})}}var Pt=function(){function t(t,e,n,i,r,o){var l=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=r,this.metadata_=o,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=A.RUNNING,this.errorHandler_=function(t){l.request_=null,l.chunkMultiplier_=1,t.codeEquals(h.CANCELED)?(l.needToFetchStatus_=!0,l.completeTransitions_()):(l.error_=t,l.transition_(A.ERROR))},this.metadataErrorHandler_=function(t){l.request_=null,t.codeEquals(h.CANCELED)?l.completeTransitions_():(l.error_=t,l.transition_(A.ERROR))},this.promise_=M(function(t,e){l.resolve_=t,l.reject_=e,l.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,i){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===A.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case A.RUNNING:t(n);break;case A.CANCELING:e.transition_(A.CANCELED);break;case A.PAUSING:e.transition_(A.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),l=At(e,i,r),a={name:l.fullPath},s=J(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},c=rt(l,n),h=t.maxUploadRetryTime(),d=new Ct(s,"POST",function(t,e){var n;Ot(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){xt(!1)}return xt(U(n)),n},h);return d.urlParams=a,d.headers=u,d.body=c,d.errorHandler=Et(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var i=function(e,n,i,r){var o=t.authWrapper_.maxUploadRetryTime(),l=new Ct(i,"POST",function(t,e){var n,i=Ot(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){xt(!1)}var o=parseInt(n,10);return xt(!isNaN(o)),new Dt(o,r.size(),"final"===i)},o);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Et(n),l}(0,t.location_,e,t.blob_),r=t.authWrapper_.makeRequest(i,n);t.request_=r,r.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Dt(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(r){var o;try{o=function(t,e,n,i,r,o,l,a){var s=new Dt(0,0);if(l?(s.current=l.current,s.total=l.total):(s.current=0,s.total=i.size()),i.size()!==s.total)throw new c(h.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=s.total-s.current,d=u;r>0&&(d=Math.min(d,r));var p=s.current,f={"X-Goog-Upload-Command":d===u?"upload, finalize":"upload","X-Goog-Upload-Offset":s.current},m=i.slice(p,p+d);if(null===m)throw g();var v=e.maxUploadRetryTime(),y=new Ct(n,"POST",function(t,n){var r,l=Ot(t,["active","final"]),a=s.current+d,u=i.size();return r="final"===l?St(e,o)(t,n):null,new Dt(a,u,"final"===l,r)},v);return y.headers=f,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=Et(t),y}(t.location_,t.authWrapper_,i,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(A.ERROR)}var l=t.authWrapper_.makeRequest(o,r);t.request_=l,l.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(A.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=kt(t.authWrapper_,t.location_,t.mappings_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(A.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();l["Content-Type"]="multipart/related; boundary="+a;var s=At(e,i,r),u=rt(s,n),c=wt.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===c)throw g();var h={name:s.fullPath},d=J(o),p=t.maxUploadRetryTime(),f=new Ct(d,"POST",St(t,n),p);return f.urlParams=h,f.headers=l,f.body=c.uploadData(),f.errorHandler=Et(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(A.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case A.CANCELING:case A.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case A.RUNNING:var e=this.state_===A.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case A.PAUSED:this.state_=t,this.notifyObservers_();break;case A.CANCELED:this.error_=f(),this.state_=t,this.notifyObservers_();break;case A.ERROR:case A.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case A.PAUSING:this.transition_(A.PAUSED);break;case A.CANCELING:this.transition_(A.CANCELED);break;case A.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=O(this.state_);return new function(t,e,n,i,r,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=i,this.task=r,this.ref=o}(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,i){var r="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=yt(!0).validator,l=vt(null,!0).validator;function a(t){try{return void o(t)}catch(t){}try{if(l(t),!(L(t.next)||L(t.error)||L(t.complete)))throw"";return}catch(t){throw r}}dt("on",[ft(function(e){if(t!==k.STATE_CHANGED)throw"Expected one of the event types: ["+k.STATE_CHANGED+"]."}),vt(a,!0),yt(!0),yt(!0)],arguments);var s=this;function u(t){return function(e,n,r){null!==t&&dt("on",t,arguments);var o=new It(e,n,i);return s.addObserver_(o),function(){s.removeObserver_(o)}}}var c=[vt(function(t){if(null===t)throw r;a(t)}),yt(!0),yt(!0)];return L(e)||L(n)||L(i)?u(null)(e,n,i):u(c)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,n;-1!==(n=(e=this.observers_).indexOf(t))&&e.splice(n,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(O(this.state_)){case D.SUCCESS:Rt(this.resolve_.bind(null,this.snapshot))();break;case D.CANCELED:case D.ERROR:Rt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(O(this.state_)){case D.RUNNING:case D.PAUSED:t.next&&Rt(t.next.bind(t,this.snapshot))();break;case D.SUCCESS:t.complete&&Rt(t.complete.bind(t))();break;case D.CANCELED:case D.ERROR:t.error&&Rt(t.error.bind(t,this.error_))();break;default:t.error&&Rt(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){dt("resume",[],arguments);var t=this.state_===A.PAUSED||this.state_===A.PAUSING;return t&&this.transition_(A.RUNNING),t},t.prototype.pause=function(){dt("pause",[],arguments);var t=this.state_===A.RUNNING;return t&&this.transition_(A.PAUSING),t},t.prototype.cancel=function(){dt("cancel",[],arguments);var t=this.state_===A.RUNNING||this.state_===A.PAUSING;return t&&this.transition_(A.CANCELING),t},t}(),Mt=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof Q?e:Q.makeFromUrl(e)}return t.prototype.toString=function(){return dt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(nt)return nt;var t=[];t.push(new et("bucket")),t.push(new et("generation")),t.push(new et("metageneration")),t.push(new et("name","fullPath",!0));var e=new et("name");e.xform=function(t,e){return function(t){return!U(t)||t.length<2?t:Z(t=t)}(e)},t.push(e);var n=new et("size");return n.xform=function(t,e){return j(e)?+e:e},t.push(n),t.push(new et("timeCreated")),t.push(new et("updated")),t.push(new et("md5Hash",null,!0)),t.push(new et("cacheControl",null,!0)),t.push(new et("contentDisposition",null,!0)),t.push(new et("contentEncoding",null,!0)),t.push(new et("contentLanguage",null,!0)),t.push(new et("contentType",null,!0)),t.push(new et("metadata","customMetadata",!0)),nt=t}()},t.prototype.child=function(t){dt("child",[ft()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new Q(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Q(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Q(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Z(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),dt("put",[new pt(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||z()&&t instanceof Blob))throw"Expected Blob or File."}),gt(!0)],arguments),this.throwIfRoot_("put"),new Pt(this,this.authWrapper,this.location,this.mappings(),new wt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=w.RAW),dt("putString",[ft(),ft(_,!0),gt(!0)],arguments),this.throwIfRoot_("putString");var i=x(e,t),r=P(n);return!j(r.contentType)&&j(i.contentType)&&(r.contentType=i.contentType),new Pt(this,this.authWrapper,this.location,this.mappings(),new wt(i.data,!0),r)},t.prototype.delete=function(){dt("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=J(e.fullServerUrl()),i=t.maxOperationRetryTime(),r=new Ct(n,"DELETE",function(t,e){},i);return r.successCodes=[200,204],r.errorHandler=Tt(e),r}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.listAll=function(){dt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},t.prototype.listAllHelper=function(t,e){return n=this,r=function(){var n,i,r;return function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return r=o.sent(),(n=t.prefixes).push.apply(n,r.prefixes),(i=t.items).push.apply(i,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})},new((i=void 0)||(i=Promise))(function(t,e){function o(t){try{a(r.next(t))}catch(t){e(t)}}function l(t){try{a(r.throw(t))}catch(t){e(t)}}function a(e){e.done?t(e.value):new i(function(t){t(e.value)}).then(o,l)}a((r=r.apply(n,[])).next())});var n,i,r},t.prototype.list=function(t){dt("list",[new pt(ht,!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then(function(n){var i=t||{},r=function(t,e,n,i,r){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),i&&(o.pageToken=i),r&&(o.maxResults=r);var a=J(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new Ct(a,"GET",function(t){return function(e,n){var i=function(t,e){var i=K(n);return null===i?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},i=t.bucket();if(null===i)throw new c(h.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+l+"' property when initializing the app?");if(e[ut])for(var r=0,o=e[ut];r<o.length;r++){var a=o[r].replace(/\/$/,""),s=t.makeStorageReference(new Q(i,a));n.prefixes.push(s)}if(e[ct])for(var u=0,d=e[ct];u<d.length;u++)s=t.makeStorageReference(new Q(i,d[u].name)),n.items.push(s);return n}(t,i)}(t);return xt(null!==i),i}}(t),s);return u.urlParams=o,u.errorHandler=Et(e),u}(e.authWrapper,e.location,0,i.pageToken,i.maxResults);return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getMetadata=function(){dt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=kt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){dt("updateMetadata",[gt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var i=function(t,e,n,i){var r=J(e.fullServerUrl()),o=rt(n,i),l=t.maxOperationRetryTime(),a=new Ct(r,"PATCH",St(t,i),l);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Tt(e),a}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(i,n).getPromise()})},t.prototype.getDownloadURL=function(){dt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e,n){var i=J(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new Ct(i,"GET",function(t,e){return function(n,i){var r=it(t,i,e);return xt(null!==r),function(t,e){var n=K(i);if(null===n)return null;if(!U(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return J("/b/"+o(t.bucket)+"/o/"+o(n))+$({alt:"media",token:e})})[0]}(r)}}(t,n),r);return o.errorHandler=Tt(e),o}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new c(h.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new c(h.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Nt=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),jt=function(){function t(){this.map_={},this.id_=u}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function i(){delete n.map_[e]}t.getPromise().then(i,i)},t.prototype.clear=function(){R(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Lt=function(){function t(e,n,i,r,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var l=this.app_.options;j(l)&&(this.bucket_=t.extractBucket_(l))}this.storageRefMaker_=n,this.requestMaker_=i,this.pool_=o,this.service_=r,this.maxOperationRetryTime_=a,this.maxUploadRetryTime_=s,this.requestMap_=new jt}return t.extractBucket_=function(t){var e=t[l]||null;return null==e?null:Q.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&j(this.app_.INTERNAL)&&j(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):N(null)},t.prototype.bucket=function(){if(this.deleted_)throw v();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Nt(v());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Ft=function(){function t(t,e,n,i,r,o,l,a,s,u,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=l,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=s,this.pool_=c;var h=this;this.promise_=M(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,l=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(l,l.getResponseText());L(a)?r(a):r()}catch(t){o(t)}else null!==l?((i=p()).setServerResponseProp(l.getResponseText()),o(t.errorCallback_?t.errorCallback_(l,i):i)):o(i=n.canceled?t.appDelete_?v():f():new c(h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Vt(!1,null,!0)):this.backoffId_=function(t,e,n){var i=1,r=null,o=!1,l=0;function a(){return 2===l}var s=!1;function u(){s||(s=!0,e.apply(null,arguments))}function c(e){r=setTimeout(function(){r=null,t(h,a())},e)}function h(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];s||(t?u.apply(null,arguments):a()||o?u.apply(null,arguments):(i<64&&(i*=2),1===l?(l=2,e=0):e=1e3*(i+Math.random()),c(e)))}var d=!1;function p(t){d||(d=!0,s||(null!==r?(t||(l=2),clearTimeout(r),c(0)):t||(l=1)))}return c(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(e,n){if(n)e(!1,new Vt(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===G.NO_ERROR,o=n.getStatus();if(i&&!t.isRetryStatusCode_(o)){var l=_t(t.successCodes_,o);e(!0,new Vt(l,n))}else{var a=n.getErrorCode()===G.ABORT;e(!1,new Vt(!1,null,a))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=_t([408,429],t),i=_t(this.additionalRetryCodes_,t);return e||n||i},t}(),Vt=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function Bt(t,e,n){var i=$(t.urlParams),o=t.url+i,l=P(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+("undefined"!=typeof r.a?r.a.SDK_VERSION:"AppManager")}(l),new Ft(o,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Ut=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new Lt(t,function(t,e){return new Mt(t,e)},Bt,this,e),this.app_=t,null!=n)this.bucket_=Q.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new Q(i,""))}this.internals_=new qt(this)}return t.prototype.ref=function(t){if(dt("ref",[ft(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Mt(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return dt("refFromURL",[ft(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Q.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Mt(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){dt("setMaxUploadRetryTime",[mt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){dt("setMaxOperationRetryTime",[mt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),qt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),N(void 0)},t}(),Wt="storage";function Ht(t,e,n){return new Ut(t,new X,n)}function zt(t){t.INTERNAL.registerService(Wt,Ht,{TaskState:D,TaskEvent:k,StringFormat:w,Storage:Ut,Reference:Mt},void 0,!0)}zt(r.a)},Dovw:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var i="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=i||"undefined"!=typeof t&&t||r}).call(e,n("DuR2"))},DsFX:function(t,e,n){"use strict";var i=n("ypnx"),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n("jOgh");o.inherits=n("LC74");var l=n("Rt1F"),a=n("7dSG");o.inherits(h,l);for(var s=r(a.prototype),u=0;u<s.length;u++){var c=s[u];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);l.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},EEcg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=l,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:a(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof o?o(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},EKta:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){for(var e,n=u(t),i=n[0],l=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,l)),s=0,c=l>0?i-4:i,h=0;h<c;h+=4)e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e;return 2===l&&(e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4,a[s++]=255&e),1===l&&(e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e),a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],l=0,a=n-r;l<a;l+=16383)o.push(c(t,l,l+16383>a?a:l+16383));return 1===r?o.push(i[(e=t[n-1])>>2]+i[e<<4&63]+"=="):2===r&&o.push(i[(e=(t[n-2]<<8)+t[n-1])>>10]+i[e>>4&63]+i[e<<2&63]+"="),o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=l.length;a<s;++a)i[a]=l[a],r[l.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o=[],l=e;l<n;l+=3)o.push(i[(r=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},ESBe:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("lKpf"),r=n("BdDE"),o={closed:!0,next:function(t){},error:function(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete:function(){}}},EaDr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("oxbf");i.b.prototype.do=r.a,i.b.prototype._do=r.a},Egod:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},Fv6v:function(t,e,n){"use strict"},G0Bs:function(t,e,n){"use strict";e.a=function(t,e){return new i.a(e?function(n){return e.schedule(r,0,{error:t,subscriber:n})}:function(e){return e.error(t)})};var i=n("lWPP");function r(t){t.subscriber.error(t.error)}},"GB/M":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(t){n.d(e,"ErrorCode",function(){return ni}),n.d(e,"EventType",function(){return ii}),n.d(e,"WebChannel",function(){return ri}),n.d(e,"XhrIo",function(){return oi}),n.d(e,"createWebChannelTransport",function(){return ei});var i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},o=o||{},l=r;function a(t){return"string"==typeof t}function s(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function x(){this.j=this.j,this.i=this.i}x.prototype.j=!1,x.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++m))},x.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=a(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var D,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function I(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var P=l.navigator;if(P){var M=P.userAgent;if(M){D=M;break t}}D=""}function N(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function V(t){return V[" "](t),t}V[" "]=c;var B,U,q=I(D,"Opera"),W=I(D,"Trident")||I(D,"MSIE"),H=I(D,"Edge"),z=H||W,G=I(D,"Gecko")&&!(I(D.toLowerCase(),"webkit")&&!I(D,"Edge"))&&!(I(D,"Trident")||I(D,"MSIE"))&&!I(D,"Edge"),Y=I(D.toLowerCase(),"webkit")&&!I(D,"Edge");function X(){var t=l.document;return t?t.documentMode:void 0}t:{var K="",Q=(U=D,G?/rv:([^\);]+)(\)|;)/.exec(U):H?/Edge\/([\d\.]+)/.exec(U):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):Y?/WebKit\/(\S+)/.exec(U):q?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Q&&(K=Q?Q[1]:""),W){var Z=X();if(null!=Z&&Z>parseFloat(K)){B=String(Z);break t}}B=K}var J,$={};function tt(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=O(String(B)).split("."),i=O(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var l=n[o]||"",a=i[o]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==l[0].length&&0==a[0].length)break;e=R(0==l[1].length?0:parseInt(l[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==l[2].length,0==a[2].length)||R(l[2],a[2]),l=l[3],a=a[3]}while(0==e)}return 0<=e})}var et=l.document;J=et&&W?X()||("CSS1Compat"==et.compatMode?parseInt(B,10):5):void 0;var nt=!W||9<=Number(J),it=W&&!tt("9"),rt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",c,e),l.removeEventListener("test",c,e)}catch(t){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function lt(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{V(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},C(lt,ot);var at={2:"touch",3:"pen",4:"mouse"};lt.prototype.b=function(){lt.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ht(t){this.src=t,this.a={},this.b=0}function dt(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=S(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==i)return r}return-1}ht.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var l=pt(t,e,i,r);return-1<l?(e=t[l],n||(e.Z=!1)):((e=new function(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.da=r,this.key=++ut,this.X=this.Z=!1}(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),gt={};function mt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(d(n)){for(var l=0;l<n.length;l++)t(e,n[l],i,r,o);return null}return i=xt(i),e&&e[st]?e.Ba(n,i,f(r)?!!r.capture:!!r,o):vt(e,n,i,!0,r,o)}(t,e,n,i,r);if(d(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,i,r);return null}return n=xt(n),t&&t[st]?t.Aa(e,n,f(i)?!!i.capture:!!i,r):vt(t,e,n,!1,i,r)}function vt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var l=f(r)?!!r.capture:!!r;if(l&&!nt)return null;var a=_t(t);if(a||(t[ft]=a=new ht(t)),(n=a.add(e,n,i,l,o)).proxy)return n;if(i=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)rt||(r=l),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(bt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function yt(t){if(!s(t)&&t&&!t.X){var e=t.src;if(e&&e[st])dt(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(bt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=_t(e))?(dt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ct(t)}}}function bt(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,i=t.da||t.src;return t.Z&&yt(t),n.call(i,e)}(t,nt?new lt(e,this):e=new lt(e||u("window.event"),this))}function _t(t){return(t=t[ft])instanceof ht?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==h(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function St(){x.call(this),this.c=new ht(this),this.J=this,this.B=null}function Et(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.X&&l.capture==n){var a=l.listener,s=l.da||l.src;l.Z&&dt(t.c,l),r=!1!==a.call(s,i)&&r}}return r&&0!=i.Ja}C(St,x),St.prototype[st]=!0,(i=St.prototype).addEventListener=function(t,e,n,i){mt(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(d(n))for(var l=0;l<n.length;l++)t(e,n[l],i,r,o);else r=f(r)?!!r.capture:!!r,i=xt(i),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=pt(l=e.a[n],i,r,o))&&(ct(l[i]),Array.prototype.splice.call(l,i,1),0==l.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,i,r,o)),(i=-1<e?n[e]:null)&&yt(i))}(this,t,e,n,i)},i.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var i=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var r=t;F(t=new ot(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.a=e[o];r=Et(l,i,!0,t)&&r}if(r=Et(l=t.a=n,i,!0,t)&&r,r=Et(l,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Et(l=t.a=e[o],i,!1,t)&&r;return r},i.G=function(){if(St.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ct(n[i]);delete e.a[t],e.b--}}this.B=null},i.Aa=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},i.Ba=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Tt=l.JSON.stringify;function kt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}kt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Dt,Ot=new kt(function(){return new Rt},function(t){t.reset()});function It(){var t=jt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Pt(t){l.setTimeout(function(){throw t},0)}function Mt(t,e){Dt||function(){var t=l.Promise.resolve(void 0);Dt=function(){t.then(Lt)}}(),Nt||(Dt(),Nt=!0),jt.add(t,e)}At.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Nt=!1,jt=new At;function Lt(){for(var t;t=It();){try{t.a.call(t.b)}catch(t){Pt(t)}var e=Ot;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Nt=!1}function Ft(t,e){St.call(this),this.b=t||1,this.a=e||l,this.f=b(this.gb,this),this.g=_()}function Vt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function Ut(t,e,n){x.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function qt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Wt(t){x.call(this),this.b=t,this.a={}}C(Ft,St),(i=Ft.prototype).ba=!1,i.L=null,i.gb=function(){if(this.ba){var t=_()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Vt(this),this.start()))}},i.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},i.G=function(){Ft.N.G.call(this),Vt(this),delete this.a},C(Ut,x),(i=Ut.prototype).ea=!1,i.U=null,i.Ua=function(t){this.a=arguments,this.U?this.ea=!0:qt(this)},i.G=function(){Ut.N.G.call(this),this.U&&(l.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},i.ab=function(){this.U=null,this.ea&&(this.ea=!1,qt(this))},C(Wt,x);var Ht=[];function zt(t,e,n,i){d(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var r=0;r<n.length;r++){var o=mt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Gt(t){N(t.a,function(t,e){this.a.hasOwnProperty(e)&&yt(t)},t),t.a={}}Wt.prototype.G=function(){Wt.N.G.call(this),Gt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new St;function Xt(t){ot.call(this,"serverreachability",t)}function Kt(t){Yt.dispatchEvent(new Xt(Yt,t))}function Qt(t){ot.call(this,"statevent",t)}function Zt(t){Yt.dispatchEvent(new Qt(Yt,t))}function Jt(t){ot.call(this,"timingevent",t)}function $t(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){t()},e)}C(Xt,ot),C(Qt,ot),C(Jt,ot);var te={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ee={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ne(){}function ie(){}ne.prototype.a=null;var re,oe={OPEN:"a",ib:"b",Na:"c",rb:"d"};function le(){ot.call(this,"d")}function ae(){ot.call(this,"c")}function se(){}function ue(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Wt(this),this.O=ce,this.P=new Ft(t=z?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(le,ot),C(ae,ot),C(se,ne),re=new se;var ce=45e3,he={},de={};function pe(t,e,n){t.F=1,t.f=Fe(Ie(e)),t.l=n,t.H=!0,ge(t,null)}function fe(t,e,n,i){t.F=1,t.f=Fe(Ie(e)),t.l=null,t.H=n,ge(t,i)}function ge(t,e){t.v=_(),ye(t),t.D=Ie(t.f),Le(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Ut(b(t.Ka,t,t.a),t.J)),zt(t.I,t.a,"readystatechange",t.eb),e=t.h?j(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Kt(1)}function me(t,e,n){for(var i=!0;!t.m&&t.A<n.length;){var r=ve(t,n);if(r==de){4==e&&(t.c=4,Zt(14),i=!1);break}if(r==he){t.c=4,Zt(15),i=!1;break}xe(t,r)}4==e&&0==n.length&&(t.c=1,Zt(16),i=!1),t.b=t.b&&i,i||(Ce(t),_e(t))}function ve(t,e){var n=t.A,i=e.indexOf("\n",n);return-1==i?de:(n=Number(e.substring(n,i)),isNaN(n)?he:(i+=1)+n>e.length?de:(e=e.substr(i,n),t.A=i+n,e))}function ye(t){t.R=_()+t.O,be(t,t.O)}function be(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=$t(b(t.bb,t),e)}function we(t){t.i&&(l.clearTimeout(t.i),t.i=null)}function _e(t){t.g.Da()||t.m||t.g.na(t)}function Ce(t){we(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Vt(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function xe(t,e){try{t.g.Ga(t,e),Kt(4)}catch(t){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||a(t))E(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||a(t)){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Ee(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Ee)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Te(t,e){Ae(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t))}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ae(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Ae(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=ue.prototype).setTimeout=function(t){this.O=t},i.eb=function(t){t=t.target;var e=this.B;e&&3==An(t)?e.Ua():this.Ka(t)},i.Ka=function(t){try{if(t==this.a)t:{var e=An(this.a),n=this.a.ya(),i=this.a.T();if(!(3>e||3==e&&!z&&!this.a.aa())){this.m||4!=e||7==n||Kt(8==n||0>=i?3:2),we(this);var r=this.a.T();this.o=r;var o=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){e:{if(this.a){var l=Dn(this.a,"X-HTTP-Initial-Response");if(l&&!A(l)){var a=l;break e}}a=null}if(!a){this.b=!1,this.c=3,Zt(12),Ce(this),_e(this);break t}this.s=!0,xe(this,a)}this.H?(me(this,e,o),z&&this.b&&3==e&&(zt(this.I,this.P,"tick",this.cb),this.P.start())):xe(this,o),4==e&&Ce(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,ye(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Ce(this),_e(this)}}}catch(t){}},i.cb=function(){if(this.a){var t=An(this.a),e=this.a.aa();this.A<e.length&&(we(this),me(this,t,e),this.b&&4!=t&&ye(this))}},i.cancel=function(){this.m=!0,Ce(this)},i.bb=function(){this.i=null;var t=_();0<=t-this.R?(2!=this.F&&(Kt(3),Zt(17)),Ce(this),this.c=2,_e(this)):be(this,this.R-t)},(i=Ee.prototype).C=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return ke(this),this.a.concat()},i.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},i.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Oe?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Pe(this,t.b),Me(this,t.i),this.a=t.a,Ne(this,Je(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=Ve(n[2]||""),Pe(this,n[3]||"",!0),Me(this,n[4]),this.a=Ve(n[5]||"",!0),Ne(this,n[6]||"",!0),this.g=Ve(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Ie(t){return new Oe(t)}function Re(t,e,n){t.f=n?Ve(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pe(t,e,n){t.b=n?Ve(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ne(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ke(this,e),Ze(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=Be(e,ze)),t.c=new Ye(e,t.h))}function je(t,e,n){t.c.set(e,n)}function Le(t,e,n){d(n)||(n=[String(n)]),Ze(t.c,e,n)}function Fe(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function Ve(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return a(t)?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,qe,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,qe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?He:We,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Be(n,Ge)),t.join("")},Oe.prototype.resolve=function(t){var e=Ie(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Pe(e,t.b):n=null!=t.i;var i=t.a;if(n)Me(e,t.i);else if(n=!!t.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=e.a.lastIndexOf("/");-1!=r&&(i=e.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(I(r,"./")||I(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],l=0;l<r.length;){var a=r[l++];"."==a?i&&l==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&l==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.a=i:n=""!==t.c.toString(),n?Ne(e,Je(t.c)):n=!!t.g,n&&(e.g=t.g),e};var qe=/[#\/\?@]/g,We=/[#\?:]/g,He=/[#\?]/g,ze=/[#\?@]/g,Ge=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new Ee,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ke(t,e){Xe(t),e=$e(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te(t.a,e))}function Qe(t,e){return Xe(t),e=$e(t,e),Ae(t.a.b,e)}function Ze(t,e,n){Ke(t,e),0<n.length&&(t.c=null,t.a.set($e(t,e),k(n)),t.b+=n.length)}function Je(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new Ee(t.a),e.b=t.b),e}function $e(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function en(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Un(t.a,t,!1)):(Zt(11),Un(t.a,t,!0));else{t.b=new ue(t,void 0,void 0),t.b.h=t.h,e=Gn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),Le(e,"TYPE","xmlhttp");var n=t.a.j,i=t.a.I;n&&i&&je(e,n,i),fe(t.b,e,!1,t.f)}}function nn(){this.a=new Ee}function rn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[g]||(t[g]=++m)):e.charAt(0)+t}function on(t){this.g=t||ln,t=l.PerformanceNavigationTiming?0<(t=l.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(l.ka&&l.ka.Ea&&l.ka.Ea()&&l.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new nn),this.b=null,this.c=[]}(i=Ye.prototype).add=function(t,e){Xe(this),this.c=null,t=$e(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){Xe(this),this.a.forEach(function(n,i){E(n,function(n){t.call(e,n,i,this)},this)},this)},i.K=function(){Xe(this);for(var t=this.a.C(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},i.C=function(t){Xe(this);var e=[];if(a(t))Qe(this,t)&&(e=T(e,this.a.get($e(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},i.set=function(t,e){return Xe(this),this.c=null,Qe(this,t=$e(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.C(i);for(var o=0;o<i.length;o++){var l=r;""!==i[o]&&(l+="="+encodeURIComponent(String(i[o]))),t.push(l)}}return this.c=t.join("&")},C(function(){},function(){}),(i=tn.prototype).M=null,i.$=function(t){return this.a.$(t)},i.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},i.Da=function(){return!1},i.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Dn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Dn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var i=this.a.ja.a.parse(e)}catch(t){return(e=this.a).m=this.c,void Hn(e,2)}this.f=i[0]}else(e=this.a).m=this.c,Hn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!W||10<=Number(J))&&(this.c=200,this.b.cancel(),Zt(11),Un(this.a,this,!0))):(Zt(7),this.g=!1))},i.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,en(this)):1==this.M&&(this.g?(Zt(11),Un(this.a,this,!0)):(Zt(10),Un(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Hn(t,2)}},i.Y=function(){return this.a.Y()},i.ma=function(){return this.a.ma()},nn.prototype.add=function(t){this.a.set(rn(t),t)},nn.prototype.C=function(){return this.a.C()};var ln=10;function an(t,e){!t.a&&(I(e,"spdy")||I(e,"quic")||I(e,"h2"))&&(t.f=t.g,t.a=new nn,t.b&&(hn(t,t.b),t.b=null))}function sn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function un(t){return t.b?1:t.a?t.a.a.c:0}function cn(t,e){return t.b?t=t.b==e:t.a?(e=rn(e),t=Ae(t.a.a.b,e)):t=!1,t}function hn(t,e){t.a?t.a.add(e):t.b=e}function dn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=rn(e),n=Ae(t.a.a.b,n)),n&&Te(t.a.a,rn(e)))}function pn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return E(t.a.C(),function(t){e=e.concat(t.j)}),e}return k(t.c)}function fn(){}function gn(t,e,n){var i=n||"";try{Se(t,function(t,n){var r=t;f(t)&&(r=Tt(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function mn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}on.prototype.cancel=function(){var t;this.c=pn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(E(this.a.C(),function(t){t.cancel()}),(t=this.a.a).b={},t.a.length=0,t.c=0)},fn.prototype.stringify=function(t){return l.JSON.stringify(t,void 0)},fn.prototype.parse=function(t){return l.JSON.parse(t,void 0)};var vn=l.JSON.parse;function yn(t){St.call(this),this.headers=new Ee,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=bn,this.D=this.F=!1}C(yn,St);var bn="",wn=/^https?$/i,_n=["POST","PUT"];function Cn(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Sn(t),Tn(t)}function Sn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function En(t){if(t.b&&"undefined"!=typeof o&&(!t.s[1]||4!=An(t)||2!=t.T()))if(t.l&&4==An(t))Bt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==An(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var a=String(t.A).match(De)[1]||null;if(!a&&l.self&&l.self.location){var s=l.self.location.protocol;a=s.substr(0,s.length-1)}r=!wn.test(a?a.toLowerCase():"")}e=r}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",Sn(t))}finally{Tn(t)}}}function Tn(t,e){if(t.a){kn(t);var n=t.a,i=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){}}}function kn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(l.clearTimeout(t.m),t.m=null)}function An(t){return t.a?t.a.readyState:0}function Dn(t,e){return t.a?t.a.getResponseHeader(e):null}function On(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=function(t){var e="";return N(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(i=t.indexOf("?"))||i>n){i=n;var r=""}else r=t.substring(i+1,n);n=(t=[t.substr(0,i),r,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return je(t,e,n),t}function In(t){this.f=[],this.F=new function(){this.a=this.b=null},this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new on(t&&t.concurrentRequestLimit),this.ja=new function(){this.a=new fn},this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Rn(t){if(Pn(t),3==t.u){var e=t.P++,n=Ie(t.B);je(n,"SID",t.H),je(n,"RID",e),je(n,"TYPE","terminate"),Ln(t,n),(e=new ue(t,e,void 0)).F=2,e.f=Fe(Ie(n)),n=!1,l.navigator&&l.navigator.sendBeacon&&(n=l.navigator.sendBeacon(e.f.toString(),"")),!n&&l.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=_(),ye(e)}zn(t)}function Pn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(l.clearTimeout(t.l),t.l=null),qn(t),t.b.cancel(),t.h&&(s(t.h)&&l.clearTimeout(t.h),t.h=null)}function Mn(t,e){t.f.push(new function(t,e){this.b=t,this.a=e}(t.Ra++,e)),3==t.u&&Nn(t)}function Nn(t){sn(t.b)||t.h||(t.h=!0,Mt(t.Ia,t),t.A=0)}function jn(t,e){var n;n=e?e.W:t.P++;var i=Ie(t.B);je(i,"SID",t.H),je(i,"RID",n),je(i,"AID",t.O),Ln(t,i),t.g&&t.i&&On(i,t.g,t.i),n=new ue(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Fn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),hn(t.b,n),pe(n,i,e)}function Ln(t,e){t.c&&Se({},function(t,n){je(e,n,t)})}function Fn(t,e,n){n=Math.min(t.f.length,n);var i=t.c?b(t.c.Ta,t.c,t):null;t:for(var r=t.f,o=-1;;){var l=["count="+n];-1==o?0<n?l.push("ofs="+(o=r[0].b)):o=0:l.push("ofs="+o);for(var a=!0,s=0;s<n;s++){var u=r[s].b,c=r[s].a;if(0>(u-=o))o=Math.max(0,r[s].b-100),a=!1;else try{gn(c,l,"req"+u+"_")}catch(t){i&&i(c)}}if(a){i=l.join("&");break t}}return t=t.f.splice(0,n),e.j=t,i}function Vn(t){t.a||t.l||(t.S=1,Mt(t.Ha,t),t.v=0)}function Bn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=$t(b(t.Ha,t),Wn(t,t.v)),t.v++,0))}function Un(t,e,n){var i=e.l;i&&an(t.b,i),t.ia=t.oa&&n,t.m=e.c,t.B=Gn(t,null,t.ha),Nn(t)}function qn(t){null!=t.s&&(l.clearTimeout(t.s),t.s=null)}function Wn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Hn(t,e){if(2==e){var n=null;t.c&&(n=null);var i=b(t.fb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||Re(n,"https"),Fe(n)),function(t,e){var n=new function(){};if(l.Image){var i=new Image;i.onload=w(mn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=w(mn,n,i,"TestLoadImage: error",!1,e),i.onabort=w(mn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=w(mn,n,i,"TestLoadImage: timeout",!1,e),l.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else Zt(2);t.u=0,t.c&&t.c.ta(e),zn(t),Pn(t)}function zn(t){t.u=0,t.m=-1,t.c&&(0==pn(t.b).length&&0==t.f.length||(t.b.c.length=0,k(t.f),t.f.length=0),t.c.sa())}function Gn(t,e,n){var i=function(t){return t instanceof Oe?Ie(t):new Oe(t,void 0)}(n);if(""!=i.b)e&&Pe(i,e+"."+i.b),Me(i,i.i);else{var r=l.location;i=function(t,e,n,i){var r=new Oe(null,void 0);return t&&Re(r,t),e&&Pe(r,e),n&&Me(r,n),i&&(r.a=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&N(t.V,function(t,e){je(i,e,t)}),n=t.I,(e=t.j)&&n&&je(i,e,n),je(i,"VER",t.wa),Ln(t,i),i}function Yn(){}function Xn(){if(W&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Kn(t,e){St.call(this),this.a=new In(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var i,r=arguments[n];0==r.lastIndexOf("/",0)?e=r:((i=""==e)||(i=0<=(i=e.length-1)&&e.indexOf("/",i)==i),e+=i?r:"/"+r)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Jn(this)}function Qn(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Zn(){ae.call(this),this.status=1}function Jn(t){this.a=t}(i=yn.prototype).ca=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:re),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void xn(this,t)}t=n||"";var r=new Ee(this.headers);i&&Se(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=Cn,n=t.length,i=a(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(r.K()),n=l.FormData&&t instanceof l.FormData,!(0<=S(_n,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kn(this),0<this.o&&((this.D=function(t){return W&&tt(9)&&s(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Bt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){xn(this,t)}},i.Ca=function(){"undefined"!=typeof o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Tn(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Tn(this,!0)),yn.N.G.call(this)},i.Fa=function(){this.j||(this.w||this.l||this.g?En(this):this.$a())},i.$a=function(){En(this)},i.T=function(){try{return 2<An(this)?this.a.status:-1}catch(t){return-1}},i.za=function(){try{return 2<An(this)?this.a.statusText:""}catch(t){return""}},i.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},i.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vn(e)}},i.ya=function(){return this.h},i.Ya=function(){return a(this.f)?this.f:String(this.f)},(i=In.prototype).wa=8,i.u=1,i.Da=function(){return 0==this.u},i.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new ue(this,t=this.P++,void 0),i=this.i;if(this.J&&(i?F(i=j(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)t:{for(var r=e=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Fn(this,n,e),je(r=Ie(this.B),"RID",t),je(r,"CVER",22),this.o&&this.j&&je(r,"X-HTTP-Session-Id",this.j),Ln(this,r),this.g&&i&&On(r,this.g,i),hn(this.b,n),this.W?(je(r,"$req",e),je(r,"SID","null"),n.S=!0,pe(n,r,null)):pe(n,r,e),this.u=2}}else 3==this.u&&(t?jn(this,t):0==this.f.length||sn(this.b)||jn(this))},i.Ha=function(){this.l=null,this.a=new ue(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Ie(this.pa);je(t,"RID","rpc"),je(t,"SID",this.H),je(t,"CI",this.ia?"0":"1"),je(t,"AID",this.O),Ln(this,t),je(t,"TYPE","xmlhttp"),this.g&&this.i&&On(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),fe(this.a,t,!0,this.ga)},i.Ga=function(t,e){if(0!=this.u&&(this.a==t||cn(this.b,t)))if(this.m=t.o,!t.s&&cn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(t){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;qn(this),this.a.cancel(),this.a=null}Bn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=$t(b(this.Za,this),6e3));if(1>=un(this.b)&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else Hn(this,11)}else if((t.s||this.a==t)&&qn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&s(i)&&0<i&&(this.D=1.5*i),this.o&&(i=t.a)&&((r=Dn(i,"X-Client-Wire-Protocol"))&&an(this.b,r),this.j&&(i=Dn(i,"X-HTTP-Session-Id")))&&(this.I=i,je(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=t,this.pa=Gn(this,this.Y()?this.ga:null,this.ha),i.s?(dn(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(we(i),ye(i)),this.a=i):Vn(this),0<this.f.length&&Nn(this)}else"stop"!=i[0]&&"close"!=i[0]||Hn(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hn(this,7):Rn(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},i.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Bn(this),Zt(19))},i.na=function(t){var e=null;if(this.a==t){qn(this),this.a=null;var n=2}else{if(!cn(this.b,t))return;e=t.j,dn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=_()-t.v,Yt.dispatchEvent(new Jt(Yt,t.l?t.l.length:0,e,this.A)),Nn(this)):Vn(this);else{var i=t.c;if(3==i||0==i&&0<this.m||!(1==n&&function(t,e){return!(un(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=$t(b(t.Ia,t,e),Wn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Bn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),i){case 1:Hn(this,5);break;case 4:Hn(this,10);break;case 3:Hn(this,6);break;default:Hn(this,2)}}},i.fb=function(t){Zt(t?2:1)},i.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yn(this.La)).F=this.R,t},i.ma=function(){return!!this.c&&!0},i.Y=function(){return this.R},(i=Yn.prototype).va=function(){},i.ua=function(){},i.ta=function(){},i.sa=function(){},i.Ta=function(){},Xn.prototype.a=function(t,e){return new Kn(t,e)},C(Kn,St),(i=Kn.prototype).addEventListener=function(t,e,n,i){Kn.N.addEventListener.call(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){Kn.N.removeEventListener.call(this,t,e,n,i)},i.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,i=this.b||void 0;Zt(0),t.ha=n,t.V=i||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new tn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=On(e,t.g,t.i)),(t=t.w).i=n,e=Gn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,en(t)):(Le(e,"MODE","init"),!t.a.o&&t.a.j&&Le(e,"X-HTTP-Session-Id",t.a.j),t.b=new ue(t,void 0,void 0),t.b.h=t.h,fe(t.b,e,!1,null),t.M=0)},i.close=function(){Rn(this.a)},i.Xa=function(t){if(a(t)){var e={};e.__data__=t,Mn(this.a,e)}else this.h?((e={}).__data__=Tt(t),Mn(this.a,e)):Mn(this.a,t)},i.G=function(){this.a.c=null,delete this.f,Rn(this.a),delete this.a,Kn.N.G.call(this)},C(Qn,le),C(Zn,ae),C(Jn,Yn),Jn.prototype.va=function(){this.a.dispatchEvent("a")},Jn.prototype.ua=function(t){this.a.dispatchEvent(new Qn(t))},Jn.prototype.ta=function(t){this.a.dispatchEvent(new Zn(t))},Jn.prototype.sa=function(){this.a.dispatchEvent("b")};var $n=w(function(t,e){function n(){}n.prototype=t.prototype;var i=new n;return t.apply(i,Array.prototype.slice.call(arguments,1)),i},Xn);Xn.prototype.createWebChannel=Xn.prototype.a,Kn.prototype.send=Kn.prototype.Xa,Kn.prototype.open=Kn.prototype.Wa,Kn.prototype.close=Kn.prototype.close,te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,ee.COMPLETE="complete",ie.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",St.prototype.listen=St.prototype.Aa,yn.prototype.listenOnce=yn.prototype.Ba,yn.prototype.getLastError=yn.prototype.Ya,yn.prototype.getLastErrorCode=yn.prototype.ya,yn.prototype.getStatus=yn.prototype.T,yn.prototype.getStatusText=yn.prototype.za,yn.prototype.getResponseJson=yn.prototype.Va,yn.prototype.getResponseText=yn.prototype.aa,yn.prototype.send=yn.prototype.ca;var ti={createWebChannelTransport:$n,ErrorCode:te,EventType:ee,WebChannel:ie,XhrIo:yn},ei=ti.createWebChannelTransport,ni=ti.ErrorCode,ii=ti.EventType,ri=ti.WebChannel,oi=ti.XhrIo;e.default=ti}).call(e,n("DuR2"))},H0JA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL");n.d(e,"Observable",function(){return i.b})},HC03:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("YgML"),r=n("ai7y"),o=n("bOhj"),l=n("kk5+"),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(t){e=t instanceof l.a?s(t.errors):[t]}if(Object(i.a)(u)){c=-1;for(var h=u.length;++c<h;){var d=u[c];if(Object(r.a)(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof l.a?e=e.concat(s(t.errors)):e.push(t)}}}if(e)throw new l.a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function s(t){return t.reduce(function(t,e){return t.concat(e instanceof l.a?e.errors:e)},[])}},I6Lf:function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t[i.a]};var i=n("uOsm")},JBKL:function(t,e,n){"use strict";e.a=function(t){return new i.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(r.a)(n):Object(o.b)()).subscribe(e)})};var i=n("lWPP"),r=n("5XgX"),o=n("w5lW")},Jnfr:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="Jnfr"},Jtag:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("Nyrq");i.b.prototype.debounceTime=function(t,e){return void 0===e&&(e=i.f),Object(r.d)(t,e)(this)}},JzXe:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("V9Cg"),r=function(t){return function(e){var n=t[i.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},K3Fi:function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},K3Sm:function(t,e,n){"use strict";e.a=function(){return Object(i.a)(1)};var i=n("4jp/")},LC74:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},LHMe:function(t,e,n){"use strict";function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},M4fF:function(t,e,n){(function(t,i){var r;(function(){var o,l=200,a="Expected a function",s="__lodash_placeholder__",u=1,c=2,h=4,d=1,p=2,f=1,g=2,m=4,v=8,y=16,b=32,w=64,_=128,C=256,x=512,S=800,E=16,T=1/0,k=9007199254740991,A=1.7976931348623157e308,D=NaN,O=4294967295,I=O-1,R=O>>>1,P=[["ary",_],["bind",f],["bindKey",g],["curry",v],["curryRight",y],["flip",x],["partial",b],["partialRight",w],["rearg",C]],M="[object Arguments]",N="[object Array]",j="[object AsyncFunction]",L="[object Boolean]",F="[object Date]",V="[object DOMException]",B="[object Error]",U="[object Function]",q="[object GeneratorFunction]",W="[object Map]",H="[object Number]",z="[object Null]",G="[object Object]",Y="[object Proxy]",X="[object RegExp]",K="[object Set]",Q="[object String]",Z="[object Symbol]",J="[object Undefined]",$="[object WeakMap]",tt="[object ArrayBuffer]",et="[object DataView]",nt="[object Float32Array]",it="[object Float64Array]",rt="[object Int8Array]",ot="[object Int16Array]",lt="[object Int32Array]",at="[object Uint8Array]",st="[object Uint8ClampedArray]",ut="[object Uint16Array]",ct="[object Uint32Array]",ht=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ft=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,mt=RegExp(ft.source),vt=RegExp(gt.source),yt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(St.source),Tt=/^\s+|\s+$/g,kt=/^\s+/,At=/\s+$/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ot=/\{\n\/\* \[wrapped with (.+)\] \*/,It=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pt=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,jt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,Ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,Wt=/['\n\r\u2028\u2029\\]/g,Ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",zt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gt="["+zt+"]",Yt="["+Ht+"]",Xt="\\d+",Kt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Qt="[^\\ud800-\\udfff"+zt+Xt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Zt="\\ud83c[\\udffb-\\udfff]",Jt="[^\\ud800-\\udfff]",$t="(?:\\ud83c[\\udde6-\\uddff]){2}",te="[\\ud800-\\udbff][\\udc00-\\udfff]",ee="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ne="(?:"+Kt+"|"+Qt+")",ie="(?:"+ee+"|"+Qt+")",re="(?:"+Yt+"|"+Zt+")?",oe="[\\ufe0e\\ufe0f]?"+re+"(?:\\u200d(?:"+[Jt,$t,te].join("|")+")[\\ufe0e\\ufe0f]?"+re+")*",le="(?:"+["[\\u2700-\\u27bf]",$t,te].join("|")+")"+oe,ae="(?:"+[Jt+Yt+"?",Yt,$t,te,"[\\ud800-\\udfff]"].join("|")+")",se=RegExp("['\u2019]","g"),ue=RegExp(Yt,"g"),ce=RegExp(Zt+"(?="+Zt+")|"+ae+oe,"g"),he=RegExp([ee+"?"+Kt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Gt,ee,"$"].join("|")+")",ie+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Gt,ee+ne,"$"].join("|")+")",ee+"?"+ne+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ee+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xt,le].join("|"),"g"),de=RegExp("[\\u200d\\ud800-\\udfff"+Ht+"\\ufe0e\\ufe0f]"),pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ge=-1,me={};me[nt]=me[it]=me[rt]=me[ot]=me[lt]=me[at]=me[st]=me[ut]=me[ct]=!0,me[M]=me[N]=me[tt]=me[L]=me[et]=me[F]=me[B]=me[U]=me[W]=me[H]=me[G]=me[X]=me[K]=me[Q]=me[$]=!1;var ve={};ve[M]=ve[N]=ve[tt]=ve[et]=ve[L]=ve[F]=ve[nt]=ve[it]=ve[rt]=ve[ot]=ve[lt]=ve[W]=ve[H]=ve[G]=ve[X]=ve[K]=ve[Q]=ve[Z]=ve[at]=ve[st]=ve[ut]=ve[ct]=!0,ve[B]=ve[U]=ve[$]=!1;var ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},be=parseFloat,we=parseInt,_e="object"==typeof t&&t&&t.Object===Object&&t,Ce="object"==typeof self&&self&&self.Object===Object&&self,xe=_e||Ce||Function("return this")(),Se="object"==typeof e&&e&&!e.nodeType&&e,Ee=Se&&"object"==typeof i&&i&&!i.nodeType&&i,Te=Ee&&Ee.exports===Se,ke=Te&&_e.process,Ae=function(){try{return Ee&&Ee.require&&Ee.require("util").types||ke&&ke.binding&&ke.binding("util")}catch(t){}}(),De=Ae&&Ae.isArrayBuffer,Oe=Ae&&Ae.isDate,Ie=Ae&&Ae.isMap,Re=Ae&&Ae.isRegExp,Pe=Ae&&Ae.isSet,Me=Ae&&Ae.isTypedArray;function Ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function je(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var l=t[r];e(i,l,n(l),t)}return i}function Le(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Fe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ve(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var l=t[n];e(l,n,t)&&(o[r++]=l)}return o}function Be(t,e){return!(null==t||!t.length)&&Qe(t,e,0)>-1}function Ue(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function qe(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function We(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function He(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function ze(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Ge(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Ye=tn("length");function Xe(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function Ke(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Qe(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Ke(t,Je,n)}function Ze(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Je(t){return t!=t}function $e(t,e){var n=null==t?0:t.length;return n?rn(t,e)/n:D}function tn(t){return function(e){return null==e?o:e[t]}}function en(t){return function(e){return null==t?o:t[e]}}function nn(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function rn(t,e){for(var n,i=-1,r=t.length;++i<r;){var l=e(t[i]);l!==o&&(n=n===o?l:n+l)}return n}function on(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function ln(t){return function(e){return t(e)}}function an(t,e){return qe(e,function(e){return t[e]})}function sn(t,e){return t.has(e)}function un(t,e){for(var n=-1,i=t.length;++n<i&&Qe(e,t[n],0)>-1;);return n}function cn(t,e){for(var n=t.length;n--&&Qe(e,t[n],0)>-1;);return n}var hn=en({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),dn=en({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pn(t){return"\\"+ye[t]}function fn(t){return de.test(t)}function gn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function mn(t,e){return function(n){return t(e(n))}}function vn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var l=t[n];l!==e&&l!==s||(t[n]=s,o[r++]=n)}return o}function yn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function bn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function wn(t){return fn(t)?function(t){for(var e=ce.lastIndex=0;ce.test(t);)++e;return e}(t):Ye(t)}function _n(t){return fn(t)?function(t){return t.match(ce)||[]}(t):function(t){return t.split("")}(t)}var Cn=en({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xn=function t(e){var n,i=(e=null==e?xe:xn.defaults(xe.Object(),e,xn.pick(xe,fe))).Array,r=e.Date,Ht=e.Error,zt=e.Function,Gt=e.Math,Yt=e.Object,Xt=e.RegExp,Kt=e.String,Qt=e.TypeError,Zt=i.prototype,Jt=Yt.prototype,$t=e["__core-js_shared__"],te=zt.prototype.toString,ee=Jt.hasOwnProperty,ne=0,ie=(n=/[^.]+$/.exec($t&&$t.keys&&$t.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",re=Jt.toString,oe=te.call(Yt),le=xe._,ae=Xt("^"+te.call(ee).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=Te?e.Buffer:o,de=e.Symbol,ye=e.Uint8Array,_e=ce?ce.allocUnsafe:o,Ce=mn(Yt.getPrototypeOf,Yt),Se=Yt.create,Ee=Jt.propertyIsEnumerable,ke=Zt.splice,Ae=de?de.isConcatSpreadable:o,Ye=de?de.iterator:o,en=de?de.toStringTag:o,Sn=function(){try{var t=xo(Yt,"defineProperty");return t({},"",{}),t}catch(t){}}(),En=e.clearTimeout!==xe.clearTimeout&&e.clearTimeout,Tn=r&&r.now!==xe.Date.now&&r.now,kn=e.setTimeout!==xe.setTimeout&&e.setTimeout,An=Gt.ceil,Dn=Gt.floor,On=Yt.getOwnPropertySymbols,In=ce?ce.isBuffer:o,Rn=e.isFinite,Pn=Zt.join,Mn=mn(Yt.keys,Yt),Nn=Gt.max,jn=Gt.min,Ln=r.now,Fn=e.parseInt,Vn=Gt.random,Bn=Zt.reverse,Un=xo(e,"DataView"),qn=xo(e,"Map"),Wn=xo(e,"Promise"),Hn=xo(e,"Set"),zn=xo(e,"WeakMap"),Gn=xo(Yt,"create"),Yn=zn&&new zn,Xn={},Kn=Ko(Un),Qn=Ko(qn),Zn=Ko(Wn),Jn=Ko(Hn),$n=Ko(zn),ti=de?de.prototype:o,ei=ti?ti.valueOf:o,ni=ti?ti.toString:o;function ii(t){if(da(t)&&!ea(t)&&!(t instanceof ai)){if(t instanceof li)return t;if(ee.call(t,"__wrapped__"))return Qo(t)}return new li(t)}var ri=function(){function t(){}return function(e){if(!ha(e))return{};if(Se)return Se(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function oi(){}function li(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function ai(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function si(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ui(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ci(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function hi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ci;++e<n;)this.add(t[e])}function di(t){var e=this.__data__=new ui(t);this.size=e.size}function pi(t,e){var n=ea(t),i=!n&&ta(t),r=!n&&!i&&oa(t),o=!n&&!i&&!r&&wa(t),l=n||i||r||o,a=l?on(t.length,Kt):[],s=a.length;for(var u in t)!e&&!ee.call(t,u)||l&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Oo(u,s))||a.push(u);return a}function fi(t){var e=t.length;return e?t[sr(0,e-1)]:o}function gi(t,e,n){(n===o||Zl(t[e],n))&&(n!==o||e in t)||wi(t,e,n)}function mi(t,e,n){var i=t[e];ee.call(t,e)&&Zl(i,n)&&(n!==o||e in t)||wi(t,e,n)}function vi(t,e){for(var n=t.length;n--;)if(Zl(t[n][0],e))return n;return-1}function yi(t,e,n,i){return ki(t,function(t,r,o){e(i,t,n(t),o)}),i}function bi(t,e){return t&&Ur(e,qa(e),t)}function wi(t,e,n){"__proto__"==e&&Sn?Sn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function _i(t,e){for(var n=-1,r=e.length,l=i(r),a=null==t;++n<r;)l[n]=a?o:La(t,e[n]);return l}function Ci(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function xi(t,e,n,i,r,l){var a,s=e&u,d=e&c,p=e&h;if(n&&(a=r?n(t,i,r,l):n(t)),a!==o)return a;if(!ha(t))return t;var f=ea(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ee.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return Br(t,a)}else{var g=To(t),m=g==U||g==q;if(oa(t))return Mr(t,s);if(g==G||g==M||m&&!r){if(a=d||m?{}:Ao(t),!s)return d?function(t,e){return Ur(t,Eo(t),e)}(t,function(e,n){return e&&Ur(t,Wa(t),e)}(a)):function(t,e){return Ur(t,So(t),e)}(t,bi(a,t))}else{if(!ve[g])return r?t:{};a=function(t,e,n){var i,r,o=t.constructor;switch(e){case tt:return Nr(t);case L:case F:return new o(+t);case et:return function(t,e){var n=e?Nr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case nt:case it:case rt:case ot:case lt:case at:case st:case ut:case ct:return jr(t,n);case W:return new o;case H:case Q:return new o(t);case X:return(r=new(i=t).constructor(i.source,Nt.exec(i))).lastIndex=i.lastIndex,r;case K:return new o;case Z:return ei?Yt(ei.call(t)):{}}}(t,g,s)}}l||(l=new di);var v=l.get(t);if(v)return v;if(l.set(t,a),va(t))return t.forEach(function(i){a.add(xi(i,e,n,i,t,l))}),a;if(pa(t))return t.forEach(function(i,r){a.set(r,xi(i,e,n,r,t,l))}),a;var y=f?o:(p?d?mo:go:d?Wa:qa)(t);return Le(y||t,function(i,r){y&&(i=t[r=i]),mi(a,r,xi(i,e,n,r,t,l))}),a}function Si(t,e,n){var i=n.length;if(null==t)return!i;for(t=Yt(t);i--;){var r=n[i],l=t[r];if(l===o&&!(r in t)||!(0,e[r])(l))return!1}return!0}function Ei(t,e,n){if("function"!=typeof t)throw new Qt(a);return qo(function(){t.apply(o,n)},e)}function Ti(t,e,n,i){var r=-1,o=Be,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=qe(e,ln(n))),i?(o=Ue,a=!1):e.length>=l&&(o=sn,a=!1,e=new hi(e));t:for(;++r<s;){var h=t[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,a&&d==d){for(var p=c;p--;)if(e[p]===d)continue t;u.push(h)}else o(e,d,i)||u.push(h)}return u}ii.templateSettings={escape:yt,evaluate:bt,interpolate:wt,variable:"",imports:{_:ii}},(ii.prototype=oi.prototype).constructor=ii,(li.prototype=ri(oi.prototype)).constructor=li,(ai.prototype=ri(oi.prototype)).constructor=ai,si.prototype.clear=function(){this.__data__=Gn?Gn(null):{},this.size=0},si.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},si.prototype.get=function(t){var e=this.__data__;if(Gn){var n=e[t];return"__lodash_hash_undefined__"===n?o:n}return ee.call(e,t)?e[t]:o},si.prototype.has=function(t){var e=this.__data__;return Gn?e[t]!==o:ee.call(e,t)},si.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Gn&&e===o?"__lodash_hash_undefined__":e,this},ui.prototype.clear=function(){this.__data__=[],this.size=0},ui.prototype.delete=function(t){var e=this.__data__,n=vi(e,t);return!(n<0||(n==e.length-1?e.pop():ke.call(e,n,1),--this.size,0))},ui.prototype.get=function(t){var e=this.__data__,n=vi(e,t);return n<0?o:e[n][1]},ui.prototype.has=function(t){return vi(this.__data__,t)>-1},ui.prototype.set=function(t,e){var n=this.__data__,i=vi(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},ci.prototype.clear=function(){this.size=0,this.__data__={hash:new si,map:new(qn||ui),string:new si}},ci.prototype.delete=function(t){var e=_o(this,t).delete(t);return this.size-=e?1:0,e},ci.prototype.get=function(t){return _o(this,t).get(t)},ci.prototype.has=function(t){return _o(this,t).has(t)},ci.prototype.set=function(t,e){var n=_o(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},hi.prototype.add=hi.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},hi.prototype.has=function(t){return this.__data__.has(t)},di.prototype.clear=function(){this.__data__=new ui,this.size=0},di.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},di.prototype.get=function(t){return this.__data__.get(t)},di.prototype.has=function(t){return this.__data__.has(t)},di.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ui){var i=n.__data__;if(!qn||i.length<l-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ci(i)}return n.set(t,e),this.size=n.size,this};var ki=Hr(Ni),Ai=Hr(ji,!0);function Di(t,e){var n=!0;return ki(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Oi(t,e,n){for(var i=-1,r=t.length;++i<r;){var l=t[i],a=e(l);if(null!=a&&(s===o?a==a&&!ba(a):n(a,s)))var s=a,u=l}return u}function Ii(t,e){var n=[];return ki(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Ri(t,e,n,i,r){var o=-1,l=t.length;for(n||(n=Do),r||(r=[]);++o<l;){var a=t[o];e>0&&n(a)?e>1?Ri(a,e-1,n,i,r):We(r,a):i||(r[r.length]=a)}return r}var Pi=zr(),Mi=zr(!0);function Ni(t,e){return t&&Pi(t,e,qa)}function ji(t,e){return t&&Mi(t,e,qa)}function Li(t,e){return Ve(e,function(e){return sa(t[e])})}function Fi(t,e){for(var n=0,i=(e=Or(e,t)).length;null!=t&&n<i;)t=t[Xo(e[n++])];return n&&n==i?t:o}function Vi(t,e,n){var i=e(t);return ea(t)?i:We(i,n(t))}function Bi(t){return null==t?t===o?J:z:en&&en in Yt(t)?function(t){var e=ee.call(t,en),n=t[en];try{t[en]=o;var i=!0}catch(t){}var r=re.call(t);return i&&(e?t[en]=n:delete t[en]),r}(t):function(t){return re.call(t)}(t)}function Ui(t,e){return t>e}function qi(t,e){return null!=t&&ee.call(t,e)}function Wi(t,e){return null!=t&&e in Yt(t)}function Hi(t,e,n){for(var r=n?Ue:Be,l=t[0].length,a=t.length,s=a,u=i(a),c=1/0,h=[];s--;){var d=t[s];s&&e&&(d=qe(d,ln(e))),c=jn(d.length,c),u[s]=!n&&(e||l>=120&&d.length>=120)?new hi(s&&d):o}d=t[0];var p=-1,f=u[0];t:for(;++p<l&&h.length<c;){var g=d[p],m=e?e(g):g;if(g=n||0!==g?g:0,!(f?sn(f,m):r(h,m,n))){for(s=a;--s;){var v=u[s];if(!(v?sn(v,m):r(t[s],m,n)))continue t}f&&f.push(m),h.push(g)}}return h}function zi(t,e,n){var i=null==(t=Vo(t,e=Or(e,t)))?t:t[Xo(al(e))];return null==i?o:Ne(i,t,n)}function Gi(t){return da(t)&&Bi(t)==M}function Yi(t,e,n,i,r){return t===e||(null==t||null==e||!da(t)&&!da(e)?t!=t&&e!=e:function(t,e,n,i,r,l){var a=ea(t),s=ea(e),u=a?N:To(t),c=s?N:To(e),h=(u=u==M?G:u)==G,f=(c=c==M?G:c)==G,g=u==c;if(g&&oa(t)){if(!oa(e))return!1;a=!0,h=!1}if(g&&!h)return l||(l=new di),a||wa(t)?po(t,e,n,i,r,l):function(t,e,n,i,r,o,l){switch(u){case et:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tt:return!(t.byteLength!=e.byteLength||!o(new ye(t),new ye(e)));case L:case F:case H:return Zl(+t,+e);case B:return t.name==e.name&&t.message==e.message;case X:case Q:return t==e+"";case W:var a=gn;case K:if(a||(a=yn),t.size!=e.size&&!(i&d))return!1;var s=l.get(t);if(s)return s==e;i|=p,l.set(t,e);var c=po(a(t),a(e),i,r,o,l);return l.delete(t),c;case Z:if(ei)return ei.call(t)==ei.call(e)}return!1}(t,e,0,n,i,r,l);if(!(n&d)){var m=h&&ee.call(t,"__wrapped__"),v=f&&ee.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,b=v?e.value():e;return l||(l=new di),r(y,b,n,i,l)}}return!!g&&(l||(l=new di),function(t,e,n,i,r,l){var a=n&d,s=go(t),u=s.length;if(u!=go(e).length&&!a)return!1;for(var c=u;c--;){var h=s[c];if(!(a?h in e:ee.call(e,h)))return!1}var p=l.get(t);if(p&&l.get(e))return p==e;var f=!0;l.set(t,e),l.set(e,t);for(var g=a;++c<u;){var m=t[h=s[c]],v=e[h];if(i)var y=a?i(v,m,h,e,t,l):i(m,v,h,t,e,l);if(!(y===o?m===v||r(m,v,n,i,l):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return l.delete(t),l.delete(e),f}(t,e,n,i,r,l))}(t,e,n,i,Yi,r))}function Xi(t,e,n,i){var r=n.length,l=r,a=!i;if(null==t)return!l;for(t=Yt(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<l;){var u=(s=n[r])[0],c=t[u],h=s[1];if(a&&s[2]){if(c===o&&!(u in t))return!1}else{var f=new di;if(i)var g=i(c,h,u,t,e,f);if(!(g===o?Yi(h,c,d|p,i,f):g))return!1}}return!0}function Ki(t){return!(!ha(t)||ie&&ie in t)&&(sa(t)?ae:Ft).test(Ko(t))}function Qi(t){return"function"==typeof t?t:null==t?fs:"object"==typeof t?ea(t)?er(t[0],t[1]):tr(t):xs(t)}function Zi(t){if(!No(t))return Mn(t);var e=[];for(var n in Yt(t))ee.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ji(t,e){return t<e}function $i(t,e){var n=-1,r=ia(t)?i(t.length):[];return ki(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function tr(t){var e=Co(t);return 1==e.length&&e[0][2]?Lo(e[0][0],e[0][1]):function(n){return n===t||Xi(n,t,e)}}function er(t,e){return Ro(t)&&jo(e)?Lo(Xo(t),e):function(n){var i=La(n,t);return i===o&&i===e?Fa(n,t):Yi(e,i,d|p)}}function nr(t,e,n,i,r){t!==e&&Pi(e,function(l,a){if(ha(l))r||(r=new di),function(t,e,n,i,r,l,a){var s=Bo(t,n),u=Bo(e,n),c=a.get(u);if(c)gi(t,n,c);else{var h=l?l(s,u,n+"",t,e,a):o,d=h===o;if(d){var p=ea(u),f=!p&&oa(u),g=!p&&!f&&wa(u);h=u,p||f||g?ea(s)?h=s:ra(s)?h=Br(s):f?(d=!1,h=Mr(u,!0)):g?(d=!1,h=jr(u,!0)):h=[]:ga(u)||ta(u)?(h=s,ta(s)?h=Aa(s):ha(s)&&!sa(s)||(h=Ao(u))):d=!1}d&&(a.set(u,h),r(h,u,i,l,a),a.delete(u)),gi(t,n,h)}}(t,e,a,n,nr,i,r);else{var s=i?i(Bo(t,a),l,a+"",t,e,r):o;s===o&&(s=l),gi(t,a,s)}},Wa)}function ir(t,e){var n=t.length;if(n)return Oo(e+=e<0?n:0,n)?t[e]:o}function rr(t,e,n){var i=-1;return e=qe(e.length?e:[fs],ln(wo())),function(t,e){var i=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,l=r.length,a=n.length;++i<l;){var s=Lr(r[i],o[i]);if(s)return i>=a?s:s*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)});i--;)t[i]=t[i].value;return t}($i(t,function(t,n,r){return{criteria:qe(e,function(e){return e(t)}),index:++i,value:t}}))}function or(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var l=e[i],a=Fi(t,l);n(a,l)&&hr(o,Or(l,t),a)}return o}function lr(t,e,n,i){var r=i?Ze:Qe,o=-1,l=e.length,a=t;for(t===e&&(e=Br(e)),n&&(a=qe(t,ln(n)));++o<l;)for(var s=0,u=e[o],c=n?n(u):u;(s=r(a,c,s,i))>-1;)a!==t&&ke.call(a,s,1),ke.call(t,s,1);return t}function ar(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Oo(r)?ke.call(t,r,1):Cr(t,r)}}return t}function sr(t,e){return t+Dn(Vn()*(e-t+1))}function ur(t,e){var n="";if(!t||e<1||e>k)return n;do{e%2&&(n+=t),(e=Dn(e/2))&&(t+=t)}while(e);return n}function cr(t,e){return Wo(Fo(t,e,fs),t+"")}function hr(t,e,n,i){if(!ha(t))return t;for(var r=-1,l=(e=Or(e,t)).length,a=l-1,s=t;null!=s&&++r<l;){var u=Xo(e[r]),c=n;if(r!=a){var h=s[u];(c=i?i(h,u,s):o)===o&&(c=ha(h)?h:Oo(e[r+1])?[]:{})}mi(s,u,c),s=s[u]}return t}var dr=Yn?function(t,e){return Yn.set(t,e),t}:fs,pr=Sn?function(t,e){return Sn(t,"toString",{configurable:!0,enumerable:!1,value:hs(e),writable:!0})}:fs;function fr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var l=i(o);++r<o;)l[r]=t[r+e];return l}function gr(t,e){var n;return ki(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function mr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=R){for(;i<r;){var o=i+r>>>1,l=t[o];null!==l&&!ba(l)&&(n?l<=e:l<e)?i=o+1:r=o}return r}return vr(t,e,fs,n)}function vr(t,e,n,i){e=n(e);for(var r=0,l=null==t?0:t.length,a=e!=e,s=null===e,u=ba(e),c=e===o;r<l;){var h=Dn((r+l)/2),d=n(t[h]),p=d!==o,f=null===d,g=d==d,m=ba(d);if(a)var v=i||g;else v=c?g&&(i||p):s?g&&p&&(i||!f):u?g&&p&&!f&&(i||!m):!f&&!m&&(i?d<=e:d<e);v?r=h+1:l=h}return jn(l,I)}function yr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var l=t[n],a=e?e(l):l;if(!n||!Zl(a,s)){var s=a;o[r++]=0===l?0:l}}return o}function br(t){return"number"==typeof t?t:ba(t)?D:+t}function wr(t){if("string"==typeof t)return t;if(ea(t))return qe(t,wr)+"";if(ba(t))return ni?ni.call(t):"";var e=t+"";return"0"==e&&1/t==-T?"-0":e}function _r(t,e,n){var i=-1,r=Be,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=Ue;else if(o>=l){var c=e?null:lo(t);if(c)return yn(c);a=!1,r=sn,u=new hi}else u=e?[]:s;t:for(;++i<o;){var h=t[i],d=e?e(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(h)}else r(u,d,n)||(u!==s&&u.push(d),s.push(h))}return s}function Cr(t,e){return null==(t=Vo(t,e=Or(e,t)))||delete t[Xo(al(e))]}function xr(t,e,n,i){return hr(t,e,n(Fi(t,e)),i)}function Sr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?fr(t,i?0:o,i?o+1:r):fr(t,i?o+1:0,i?r:o)}function Er(t,e){var n=t;return n instanceof ai&&(n=n.value()),He(e,function(t,e){return e.func.apply(e.thisArg,We([t],e.args))},n)}function Tr(t,e,n){var r=t.length;if(r<2)return r?_r(t[0]):[];for(var o=-1,l=i(r);++o<r;)for(var a=t[o],s=-1;++s<r;)s!=o&&(l[o]=Ti(l[o]||a,t[s],e,n));return _r(Ri(l,1),e,n)}function kr(t,e,n){for(var i=-1,r=t.length,l=e.length,a={};++i<r;)n(a,t[i],i<l?e[i]:o);return a}function Ar(t){return ra(t)?t:[]}function Dr(t){return"function"==typeof t?t:fs}function Or(t,e){return ea(t)?t:Ro(t,e)?[t]:Yo(Da(t))}var Ir=cr;function Rr(t,e,n){var i=t.length;return n=n===o?i:n,!e&&n>=i?t:fr(t,e,n)}var Pr=En||function(t){return xe.clearTimeout(t)};function Mr(t,e){if(e)return t.slice();var n=t.length,i=_e?_e(n):new t.constructor(n);return t.copy(i),i}function Nr(t){var e=new t.constructor(t.byteLength);return new ye(e).set(new ye(t)),e}function jr(t,e){var n=e?Nr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Lr(t,e){if(t!==e){var n=t!==o,i=null===t,r=t==t,l=ba(t),a=e!==o,s=null===e,u=e==e,c=ba(e);if(!s&&!c&&!l&&t>e||l&&a&&u&&!s&&!c||i&&a&&u||!n&&u||!r)return 1;if(!i&&!l&&!c&&t<e||c&&n&&r&&!i&&!l||s&&n&&r||!a&&r||!u)return-1}return 0}function Fr(t,e,n,r){for(var o=-1,l=t.length,a=n.length,s=-1,u=e.length,c=Nn(l-a,0),h=i(u+c),d=!r;++s<u;)h[s]=e[s];for(;++o<a;)(d||o<l)&&(h[n[o]]=t[o]);for(;c--;)h[s++]=t[o++];return h}function Vr(t,e,n,r){for(var o=-1,l=t.length,a=-1,s=n.length,u=-1,c=e.length,h=Nn(l-s,0),d=i(h+c),p=!r;++o<h;)d[o]=t[o];for(var f=o;++u<c;)d[f+u]=e[u];for(;++a<s;)(p||o<l)&&(d[f+n[a]]=t[o++]);return d}function Br(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function Ur(t,e,n,i){var r=!n;n||(n={});for(var l=-1,a=e.length;++l<a;){var s=e[l],u=i?i(n[s],t[s],s,n,t):o;u===o&&(u=t[s]),r?wi(n,s,u):mi(n,s,u)}return n}function qr(t,e){return function(n,i){var r=ea(n)?je:yi,o=e?e():{};return r(n,t,wo(i,2),o)}}function Wr(t){return cr(function(e,n){var i=-1,r=n.length,l=r>1?n[r-1]:o,a=r>2?n[2]:o;for(l=t.length>3&&"function"==typeof l?(r--,l):o,a&&Io(n[0],n[1],a)&&(l=r<3?o:l,r=1),e=Yt(e);++i<r;){var s=n[i];s&&t(e,s,i,l)}return e})}function Hr(t,e){return function(n,i){if(null==n)return n;if(!ia(n))return t(n,i);for(var r=n.length,o=e?r:-1,l=Yt(n);(e?o--:++o<r)&&!1!==i(l[o],o,l););return n}}function zr(t){return function(e,n,i){for(var r=-1,o=Yt(e),l=i(e),a=l.length;a--;){var s=l[t?a:++r];if(!1===n(o[s],s,o))break}return e}}function Gr(t){return function(e){var n=fn(e=Da(e))?_n(e):o,i=n?n[0]:e.charAt(0),r=n?Rr(n,1).join(""):e.slice(1);return i[t]()+r}}function Yr(t){return function(e){return He(ss(ts(e).replace(se,"")),t,"")}}function Xr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ri(t.prototype),i=t.apply(n,e);return ha(i)?i:n}}function Kr(t){return function(e,n,i){var r=Yt(e);if(!ia(e)){var l=wo(n,3);e=qa(e),n=function(t){return l(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[l?e[a]:a]:o}}function Qr(t){return fo(function(e){var n=e.length,i=n,r=li.prototype.thru;for(t&&e.reverse();i--;){var l=e[i];if("function"!=typeof l)throw new Qt(a);if(r&&!s&&"wrapper"==yo(l))var s=new li([],!0)}for(i=s?i:n;++i<n;){var u=yo(l=e[i]),c="wrapper"==u?vo(l):o;s=c&&Po(c[0])&&c[1]==(_|v|b|C)&&!c[4].length&&1==c[9]?s[yo(c[0])].apply(s,c[3]):1==l.length&&Po(l)?s[u]():s.thru(l)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&ea(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Zr(t,e,n,r,l,a,s,u,c,h){var d=e&_,p=e&f,m=e&g,b=e&(v|y),w=e&x,C=m?o:Xr(t);return function f(){for(var g=arguments.length,v=i(g),y=g;y--;)v[y]=arguments[y];if(b)var _=bo(f),x=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(v,_);if(r&&(v=Fr(v,r,l,b)),a&&(v=Vr(v,a,s,b)),g-=x,b&&g<h){var S=vn(v,_);return ro(t,e,Zr,f.placeholder,n,v,S,u,c,h-g)}var E=p?n:this,T=m?E[t]:t;return g=v.length,u?v=function(t,e){for(var n=t.length,i=jn(e.length,n),r=Br(t);i--;){var l=e[i];t[i]=Oo(l,n)?r[l]:o}return t}(v,u):w&&g>1&&v.reverse(),d&&c<g&&(v.length=c),this&&this!==xe&&this instanceof f&&(T=C||Xr(T)),T.apply(E,v)}}function Jr(t,e){return function(n,i){return function(t,e,n,i){return Ni(t,function(t,r,o){e(i,n(t),r,o)}),i}(n,t,e(i),{})}}function $r(t,e){return function(n,i){var r;if(n===o&&i===o)return e;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=wr(n),i=wr(i)):(n=br(n),i=br(i)),r=t(n,i)}return r}}function to(t){return fo(function(e){return e=qe(e,ln(wo())),cr(function(n){var i=this;return t(e,function(t){return Ne(t,i,n)})})})}function eo(t,e){var n=(e=e===o?" ":wr(e)).length;if(n<2)return n?ur(e,t):e;var i=ur(e,An(t/wn(e)));return fn(e)?Rr(_n(i),0,t).join(""):i.slice(0,t)}function no(t){return function(e,n,r){return r&&"number"!=typeof r&&Io(e,n,r)&&(n=r=o),e=Sa(e),n===o?(n=e,e=0):n=Sa(n),function(t,e,n,r){for(var o=-1,l=Nn(An((e-t)/(n||1)),0),a=i(l);l--;)a[r?l:++o]=t,t+=n;return a}(e,n,r=r===o?e<n?1:-1:Sa(r),t)}}function io(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ka(e),n=ka(n)),t(e,n)}}function ro(t,e,n,i,r,l,a,s,u,c){var h=e&v;e|=h?b:w,(e&=~(h?w:b))&m||(e&=~(f|g));var d=[t,e,r,h?l:o,h?a:o,h?o:l,h?o:a,s,u,c],p=n.apply(o,d);return Po(t)&&Uo(p,d),p.placeholder=i,Ho(p,t,e)}function oo(t){var e=Gt[t];return function(t,n){if(t=ka(t),n=null==n?0:jn(Ea(n),292)){var i=(Da(t)+"e").split("e");return+((i=(Da(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var lo=Hn&&1/yn(new Hn([,-0]))[1]==T?function(t){return new Hn(t)}:bs;function ao(t){return function(e){var n=To(e);return n==W?gn(e):n==K?bn(e):function(t,e){return qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function so(t,e,n,r,l,u,c,h){var d=e&g;if(!d&&"function"!=typeof t)throw new Qt(a);var p=r?r.length:0;if(p||(e&=~(b|w),r=l=o),c=c===o?c:Nn(Ea(c),0),h=h===o?h:Ea(h),p-=l?l.length:0,e&w){var x=r,S=l;r=l=o}var E=d?o:vo(t),T=[t,e,n,r,l,x,S,u,c,h];if(E&&function(t,e){var n=t[1],i=e[1],r=n|i;if(!(r<(f|g|_)||i==_&&n==v||i==_&&n==C&&t[7].length<=e[8]||i==(_|C)&&e[7].length<=e[8]&&n==v))return t;i&f&&(t[2]=e[2],r|=n&f?0:m);var o=e[3];if(o){var l=t[3];t[3]=l?Fr(l,o,e[4]):o,t[4]=l?vn(t[3],s):e[4]}(o=e[5])&&(t[5]=(l=t[5])?Vr(l,o,e[6]):o,t[6]=l?vn(t[5],s):e[6]),(o=e[7])&&(t[7]=o),i&_&&(t[8]=null==t[8]?e[8]:jn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(T,E),t=T[0],e=T[1],n=T[2],r=T[3],l=T[4],!(h=T[9]=T[9]===o?d?0:t.length:Nn(T[9]-p,0))&&e&(v|y)&&(e&=~(v|y)),e&&e!=f)k=e==v||e==y?function(t,e,n){var r=Xr(t);return function l(){for(var a=arguments.length,s=i(a),u=a,c=bo(l);u--;)s[u]=arguments[u];var h=a<3&&s[0]!==c&&s[a-1]!==c?[]:vn(s,c);return(a-=h.length)<n?ro(t,e,Zr,l.placeholder,o,s,h,o,o,n-a):Ne(this&&this!==xe&&this instanceof l?r:t,this,s)}}(t,e,h):e!=b&&e!=(f|b)||l.length?Zr.apply(o,T):function(t,e,n,r){var o=e&f,l=Xr(t);return function e(){for(var a=-1,s=arguments.length,u=-1,c=r.length,h=i(c+s),d=this&&this!==xe&&this instanceof e?l:t;++u<c;)h[u]=r[u];for(;s--;)h[u++]=arguments[++a];return Ne(d,o?n:this,h)}}(t,e,n,r);else var k=function(t,e,n){var i=e&f,r=Xr(t);return function e(){return(this&&this!==xe&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return Ho((E?dr:Uo)(k,T),t,e)}function uo(t,e,n,i){return t===o||Zl(t,Jt[n])&&!ee.call(i,n)?e:t}function co(t,e,n,i,r,l){return ha(t)&&ha(e)&&(l.set(e,t),nr(t,e,o,co,l),l.delete(e)),t}function ho(t){return ga(t)?o:t}function po(t,e,n,i,r,l){var a=n&d,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=l.get(t);if(c&&l.get(e))return c==e;var h=-1,f=!0,g=n&p?new hi:o;for(l.set(t,e),l.set(e,t);++h<s;){var m=t[h],v=e[h];if(i)var y=a?i(v,m,h,e,t,l):i(m,v,h,t,e,l);if(y!==o){if(y)continue;f=!1;break}if(g){if(!Ge(e,function(t,e){if(!sn(g,e)&&(m===t||r(m,t,n,i,l)))return g.push(e)})){f=!1;break}}else if(m!==v&&!r(m,v,n,i,l)){f=!1;break}}return l.delete(t),l.delete(e),f}function fo(t){return Wo(Fo(t,o,nl),t+"")}function go(t){return Vi(t,qa,So)}function mo(t){return Vi(t,Wa,Eo)}var vo=Yn?function(t){return Yn.get(t)}:bs;function yo(t){for(var e=t.name+"",n=Xn[e],i=ee.call(Xn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function bo(t){return(ee.call(ii,"placeholder")?ii:t).placeholder}function wo(){var t=ii.iteratee||gs;return t=t===gs?Qi:t,arguments.length?t(arguments[0],arguments[1]):t}function _o(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Co(t){for(var e=qa(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,jo(r)]}return e}function xo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return Ki(n)?n:o}var So=On?function(t){return null==t?[]:(t=Yt(t),Ve(On(t),function(e){return Ee.call(t,e)}))}:Ts,Eo=On?function(t){for(var e=[];t;)We(e,So(t)),t=Ce(t);return e}:Ts,To=Bi;function ko(t,e,n){for(var i=-1,r=(e=Or(e,t)).length,o=!1;++i<r;){var l=Xo(e[i]);if(!(o=null!=t&&n(t,l)))break;t=t[l]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&ca(r)&&Oo(l,r)&&(ea(t)||ta(t))}function Ao(t){return"function"!=typeof t.constructor||No(t)?{}:ri(Ce(t))}function Do(t){return ea(t)||ta(t)||!!(Ae&&t&&t[Ae])}function Oo(t,e){var n=typeof t;return!!(e=null==e?k:e)&&("number"==n||"symbol"!=n&&Bt.test(t))&&t>-1&&t%1==0&&t<e}function Io(t,e,n){if(!ha(n))return!1;var i=typeof e;return!!("number"==i?ia(n)&&Oo(e,n.length):"string"==i&&e in n)&&Zl(n[e],t)}function Ro(t,e){if(ea(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ba(t))||Ct.test(t)||!_t.test(t)||null!=e&&t in Yt(e)}function Po(t){var e=yo(t),n=ii[e];if("function"!=typeof n||!(e in ai.prototype))return!1;if(t===n)return!0;var i=vo(n);return!!i&&t===i[0]}(Un&&To(new Un(new ArrayBuffer(1)))!=et||qn&&To(new qn)!=W||Wn&&"[object Promise]"!=To(Wn.resolve())||Hn&&To(new Hn)!=K||zn&&To(new zn)!=$)&&(To=function(t){var e=Bi(t),n=e==G?t.constructor:o,i=n?Ko(n):"";if(i)switch(i){case Kn:return et;case Qn:return W;case Zn:return"[object Promise]";case Jn:return K;case $n:return $}return e});var Mo=$t?sa:ks;function No(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Jt)}function jo(t){return t==t&&!ha(t)}function Lo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in Yt(n))}}function Fo(t,e,n){return e=Nn(e===o?t.length-1:e,0),function(){for(var r=arguments,o=-1,l=Nn(r.length-e,0),a=i(l);++o<l;)a[o]=r[e+o];o=-1;for(var s=i(e+1);++o<e;)s[o]=r[o];return s[e]=n(a),Ne(t,this,s)}}function Vo(t,e){return e.length<2?t:Fi(t,fr(e,0,-1))}function Bo(t,e){if("__proto__"!=e)return t[e]}var Uo=zo(dr),qo=kn||function(t,e){return xe.setTimeout(t,e)},Wo=zo(pr);function Ho(t,e,n){var i=e+"";return Wo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Dt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Le(P,function(n){var i="_."+n[0];e&n[1]&&!Be(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(Ot);return e?e[1].split(It):[]}(i),n)))}function zo(t){var e=0,n=0;return function(){var i=Ln(),r=E-(i-n);if(n=i,r>0){if(++e>=S)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Go(t,e){var n=-1,i=t.length,r=i-1;for(e=e===o?i:e;++n<e;){var l=sr(n,r),a=t[l];t[l]=t[n],t[n]=a}return t.length=e,t}var Yo=function(t){var e=zl(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(xt,function(t,n,i,r){e.push(i?r.replace(Pt,"$1"):n||t)}),e},function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}();function Xo(t){if("string"==typeof t||ba(t))return t;var e=t+"";return"0"==e&&1/t==-T?"-0":e}function Ko(t){if(null!=t){try{return te.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Qo(t){if(t instanceof ai)return t.clone();var e=new li(t.__wrapped__,t.__chain__);return e.__actions__=Br(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Zo=cr(function(t,e){return ra(t)?Ti(t,Ri(e,1,ra,!0)):[]}),Jo=cr(function(t,e){var n=al(e);return ra(n)&&(n=o),ra(t)?Ti(t,Ri(e,1,ra,!0),wo(n,2)):[]}),$o=cr(function(t,e){var n=al(e);return ra(n)&&(n=o),ra(t)?Ti(t,Ri(e,1,ra,!0),o,n):[]});function tl(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ea(n);return r<0&&(r=Nn(i+r,0)),Ke(t,wo(e,3),r)}function el(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==o&&(r=Ea(n),r=n<0?Nn(i+r,0):jn(r,i-1)),Ke(t,wo(e,3),r,!0)}function nl(t){return null!=t&&t.length?Ri(t,1):[]}function il(t){return t&&t.length?t[0]:o}var rl=cr(function(t){var e=qe(t,Ar);return e.length&&e[0]===t[0]?Hi(e):[]}),ol=cr(function(t){var e=al(t),n=qe(t,Ar);return e===al(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Hi(n,wo(e,2)):[]}),ll=cr(function(t){var e=al(t),n=qe(t,Ar);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Hi(n,o,e):[]});function al(t){var e=null==t?0:t.length;return e?t[e-1]:o}var sl=cr(ul);function ul(t,e){return t&&t.length&&e&&e.length?lr(t,e):t}var cl=fo(function(t,e){var n=null==t?0:t.length,i=_i(t,e);return ar(t,qe(e,function(t){return Oo(t,n)?+t:t}).sort(Lr)),i});function hl(t){return null==t?t:Bn.call(t)}var dl=cr(function(t){return _r(Ri(t,1,ra,!0))}),pl=cr(function(t){var e=al(t);return ra(e)&&(e=o),_r(Ri(t,1,ra,!0),wo(e,2))}),fl=cr(function(t){var e=al(t);return e="function"==typeof e?e:o,_r(Ri(t,1,ra,!0),o,e)});function gl(t){if(!t||!t.length)return[];var e=0;return t=Ve(t,function(t){if(ra(t))return e=Nn(t.length,e),!0}),on(e,function(e){return qe(t,tn(e))})}function ml(t,e){if(!t||!t.length)return[];var n=gl(t);return null==e?n:qe(n,function(t){return Ne(e,o,t)})}var vl=cr(function(t,e){return ra(t)?Ti(t,e):[]}),yl=cr(function(t){return Tr(Ve(t,ra))}),bl=cr(function(t){var e=al(t);return ra(e)&&(e=o),Tr(Ve(t,ra),wo(e,2))}),wl=cr(function(t){var e=al(t);return e="function"==typeof e?e:o,Tr(Ve(t,ra),o,e)}),_l=cr(gl),Cl=cr(function(t){var e=t.length,n=e>1?t[e-1]:o;return ml(t,n="function"==typeof n?(t.pop(),n):o)});function xl(t){var e=ii(t);return e.__chain__=!0,e}function Sl(t,e){return e(t)}var El=fo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return _i(e,t)};return!(e>1||this.__actions__.length)&&i instanceof ai&&Oo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Sl,args:[r],thisArg:o}),new li(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(r)}),Tl=qr(function(t,e,n){ee.call(t,n)?++t[n]:wi(t,n,1)}),kl=Kr(tl),Al=Kr(el);function Dl(t,e){return(ea(t)?Le:ki)(t,wo(e,3))}function Ol(t,e){return(ea(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:Ai)(t,wo(e,3))}var Il=qr(function(t,e,n){ee.call(t,n)?t[n].push(e):wi(t,n,[e])}),Rl=cr(function(t,e,n){var r=-1,o="function"==typeof e,l=ia(t)?i(t.length):[];return ki(t,function(t){l[++r]=o?Ne(e,t,n):zi(t,e,n)}),l}),Pl=qr(function(t,e,n){wi(t,n,e)});function Ml(t,e){return(ea(t)?qe:$i)(t,wo(e,3))}var Nl=qr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),jl=cr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Io(t,e[0],e[1])?e=[]:n>2&&Io(e[0],e[1],e[2])&&(e=[e[0]]),rr(t,Ri(e,1),[])}),Ll=Tn||function(){return xe.Date.now()};function Fl(t,e,n){return e=n?o:e,so(t,_,o,o,o,o,e=t&&null==e?t.length:e)}function Vl(t,e){var n;if("function"!=typeof e)throw new Qt(a);return t=Ea(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Bl=cr(function(t,e,n){var i=f;if(n.length){var r=vn(n,bo(Bl));i|=b}return so(t,i,e,n,r)}),Ul=cr(function(t,e,n){var i=f|g;if(n.length){var r=vn(n,bo(Ul));i|=b}return so(e,i,t,n,r)});function ql(t,e,n){var i,r,l,s,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new Qt(a);function g(e){var n=i,l=r;return i=r=o,h=e,s=t.apply(l,n)}function m(t){var n=t-c;return c===o||n>=e||n<0||p&&t-h>=l}function v(){var t=Ll();if(m(t))return y(t);u=qo(v,function(t){var n=e-(t-c);return p?jn(n,l-(t-h)):n}(t))}function y(t){return u=o,f&&i?g(t):(i=r=o,s)}function b(){var t=Ll(),n=m(t);if(i=arguments,r=this,c=t,n){if(u===o)return function(t){return h=t,u=qo(v,e),d?g(t):s}(c);if(p)return u=qo(v,e),g(c)}return u===o&&(u=qo(v,e)),s}return e=ka(e)||0,ha(n)&&(d=!!n.leading,l=(p="maxWait"in n)?Nn(ka(n.maxWait)||0,e):l,f="trailing"in n?!!n.trailing:f),b.cancel=function(){u!==o&&Pr(u),h=0,i=c=r=u=o},b.flush=function(){return u===o?s:y(Ll())},b}var Wl=cr(function(t,e){return Ei(t,1,e)}),Hl=cr(function(t,e,n){return Ei(t,ka(e)||0,n)});function zl(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Qt(a);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var l=t.apply(this,i);return n.cache=o.set(r,l)||o,l};return n.cache=new(zl.Cache||ci),n}function Gl(t){if("function"!=typeof t)throw new Qt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}zl.Cache=ci;var Yl=Ir(function(t,e){var n=(e=1==e.length&&ea(e[0])?qe(e[0],ln(wo())):qe(Ri(e,1),ln(wo()))).length;return cr(function(i){for(var r=-1,o=jn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Ne(t,this,i)})}),Xl=cr(function(t,e){var n=vn(e,bo(Xl));return so(t,b,o,e,n)}),Kl=cr(function(t,e){var n=vn(e,bo(Kl));return so(t,w,o,e,n)}),Ql=fo(function(t,e){return so(t,C,o,o,o,e)});function Zl(t,e){return t===e||t!=t&&e!=e}var Jl=io(Ui),$l=io(function(t,e){return t>=e}),ta=Gi(function(){return arguments}())?Gi:function(t){return da(t)&&ee.call(t,"callee")&&!Ee.call(t,"callee")},ea=i.isArray,na=De?ln(De):function(t){return da(t)&&Bi(t)==tt};function ia(t){return null!=t&&ca(t.length)&&!sa(t)}function ra(t){return da(t)&&ia(t)}var oa=In||ks,la=Oe?ln(Oe):function(t){return da(t)&&Bi(t)==F};function aa(t){if(!da(t))return!1;var e=Bi(t);return e==B||e==V||"string"==typeof t.message&&"string"==typeof t.name&&!ga(t)}function sa(t){if(!ha(t))return!1;var e=Bi(t);return e==U||e==q||e==j||e==Y}function ua(t){return"number"==typeof t&&t==Ea(t)}function ca(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=k}function ha(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function da(t){return null!=t&&"object"==typeof t}var pa=Ie?ln(Ie):function(t){return da(t)&&To(t)==W};function fa(t){return"number"==typeof t||da(t)&&Bi(t)==H}function ga(t){if(!da(t)||Bi(t)!=G)return!1;var e=Ce(t);if(null===e)return!0;var n=ee.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&te.call(n)==oe}var ma=Re?ln(Re):function(t){return da(t)&&Bi(t)==X},va=Pe?ln(Pe):function(t){return da(t)&&To(t)==K};function ya(t){return"string"==typeof t||!ea(t)&&da(t)&&Bi(t)==Q}function ba(t){return"symbol"==typeof t||da(t)&&Bi(t)==Z}var wa=Me?ln(Me):function(t){return da(t)&&ca(t.length)&&!!me[Bi(t)]},_a=io(Ji),Ca=io(function(t,e){return t<=e});function xa(t){if(!t)return[];if(ia(t))return ya(t)?_n(t):Br(t);if(Ye&&t[Ye])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ye]());var e=To(t);return(e==W?gn:e==K?yn:Za)(t)}function Sa(t){return t?(t=ka(t))===T||t===-T?(t<0?-1:1)*A:t==t?t:0:0===t?t:0}function Ea(t){var e=Sa(t),n=e%1;return e==e?n?e-n:e:0}function Ta(t){return t?Ci(Ea(t),0,O):0}function ka(t){if("number"==typeof t)return t;if(ba(t))return D;if(ha(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ha(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Tt,"");var n=Lt.test(t);return n||Vt.test(t)?we(t.slice(2),n?2:8):jt.test(t)?D:+t}function Aa(t){return Ur(t,Wa(t))}function Da(t){return null==t?"":wr(t)}var Oa=Wr(function(t,e){if(No(e)||ia(e))Ur(e,qa(e),t);else for(var n in e)ee.call(e,n)&&mi(t,n,e[n])}),Ia=Wr(function(t,e){Ur(e,Wa(e),t)}),Ra=Wr(function(t,e,n,i){Ur(e,Wa(e),t,i)}),Pa=Wr(function(t,e,n,i){Ur(e,qa(e),t,i)}),Ma=fo(_i),Na=cr(function(t,e){t=Yt(t);var n=-1,i=e.length,r=i>2?e[2]:o;for(r&&Io(e[0],e[1],r)&&(i=1);++n<i;)for(var l=e[n],a=Wa(l),s=-1,u=a.length;++s<u;){var c=a[s],h=t[c];(h===o||Zl(h,Jt[c])&&!ee.call(t,c))&&(t[c]=l[c])}return t}),ja=cr(function(t){return t.push(o,co),Ne(za,o,t)});function La(t,e,n){var i=null==t?o:Fi(t,e);return i===o?n:i}function Fa(t,e){return null!=t&&ko(t,e,Wi)}var Va=Jr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=re.call(e)),t[e]=n},hs(fs)),Ba=Jr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=re.call(e)),ee.call(t,e)?t[e].push(n):t[e]=[n]},wo),Ua=cr(zi);function qa(t){return ia(t)?pi(t):Zi(t)}function Wa(t){return ia(t)?pi(t,!0):function(t){if(!ha(t))return function(t){var e=[];if(null!=t)for(var n in Yt(t))e.push(n);return e}(t);var e=No(t),n=[];for(var i in t)("constructor"!=i||!e&&ee.call(t,i))&&n.push(i);return n}(t)}var Ha=Wr(function(t,e,n){nr(t,e,n)}),za=Wr(function(t,e,n,i){nr(t,e,n,i)}),Ga=fo(function(t,e){var n={};if(null==t)return n;var i=!1;e=qe(e,function(e){return e=Or(e,t),i||(i=e.length>1),e}),Ur(t,mo(t),n),i&&(n=xi(n,u|c|h,ho));for(var r=e.length;r--;)Cr(n,e[r]);return n}),Ya=fo(function(t,e){return null==t?{}:function(t,e){return or(t,e,function(e,n){return Fa(t,n)})}(t,e)});function Xa(t,e){if(null==t)return{};var n=qe(mo(t),function(t){return[t]});return e=wo(e),or(t,n,function(t,n){return e(t,n[0])})}var Ka=ao(qa),Qa=ao(Wa);function Za(t){return null==t?[]:an(t,qa(t))}var Ja=Yr(function(t,e,n){return e=e.toLowerCase(),t+(n?$a(e):e)});function $a(t){return as(Da(t).toLowerCase())}function ts(t){return(t=Da(t))&&t.replace(Ut,hn).replace(ue,"")}var es=Yr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ns=Yr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),is=Gr("toLowerCase"),rs=Yr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),os=Yr(function(t,e,n){return t+(n?" ":"")+as(e)}),ls=Yr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),as=Gr("toUpperCase");function ss(t,e,n){return t=Da(t),(e=n?o:e)===o?function(t){return pe.test(t)}(t)?function(t){return t.match(he)||[]}(t):function(t){return t.match(Rt)||[]}(t):t.match(e)||[]}var us=cr(function(t,e){try{return Ne(t,o,e)}catch(t){return aa(t)?t:new Ht(t)}}),cs=fo(function(t,e){return Le(e,function(e){e=Xo(e),wi(t,e,Bl(t[e],t))}),t});function hs(t){return function(){return t}}var ds=Qr(),ps=Qr(!0);function fs(t){return t}function gs(t){return Qi("function"==typeof t?t:xi(t,u))}var ms=cr(function(t,e){return function(n){return zi(n,t,e)}}),vs=cr(function(t,e){return function(n){return zi(t,n,e)}});function ys(t,e,n){var i=qa(e),r=Li(e,i);null!=n||ha(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Li(e,qa(e)));var o=!(ha(n)&&"chain"in n&&!n.chain),l=sa(t);return Le(r,function(n){var i=e[n];t[n]=i,l&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Br(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,We([this.value()],arguments))})}),t}function bs(){}var ws=to(qe),_s=to(Fe),Cs=to(Ge);function xs(t){return Ro(t)?tn(Xo(t)):function(t){return function(e){return Fi(e,t)}}(t)}var Ss=no(),Es=no(!0);function Ts(){return[]}function ks(){return!1}var As,Ds=$r(function(t,e){return t+e},0),Os=oo("ceil"),Is=$r(function(t,e){return t/e},1),Rs=oo("floor"),Ps=$r(function(t,e){return t*e},1),Ms=oo("round"),Ns=$r(function(t,e){return t-e},0);return ii.after=function(t,e){if("function"!=typeof e)throw new Qt(a);return t=Ea(t),function(){if(--t<1)return e.apply(this,arguments)}},ii.ary=Fl,ii.assign=Oa,ii.assignIn=Ia,ii.assignInWith=Ra,ii.assignWith=Pa,ii.at=Ma,ii.before=Vl,ii.bind=Bl,ii.bindAll=cs,ii.bindKey=Ul,ii.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ea(t)?t:[t]},ii.chain=xl,ii.chunk=function(t,e,n){e=(n?Io(t,e,n):e===o)?1:Nn(Ea(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var l=0,a=0,s=i(An(r/e));l<r;)s[a++]=fr(t,l,l+=e);return s},ii.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},ii.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return We(ea(n)?Br(n):[n],Ri(e,1))},ii.cond=function(t){var e=null==t?0:t.length,n=wo();return t=e?qe(t,function(t){if("function"!=typeof t[1])throw new Qt(a);return[n(t[0]),t[1]]}):[],cr(function(n){for(var i=-1;++i<e;){var r=t[i];if(Ne(r[0],this,n))return Ne(r[1],this,n)}})},ii.conforms=function(t){return function(t){var e=qa(t);return function(n){return Si(n,t,e)}}(xi(t,u))},ii.constant=hs,ii.countBy=Tl,ii.create=function(t,e){var n=ri(t);return null==e?n:bi(n,e)},ii.curry=function t(e,n,i){var r=so(e,v,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},ii.curryRight=function t(e,n,i){var r=so(e,y,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},ii.debounce=ql,ii.defaults=Na,ii.defaultsDeep=ja,ii.defer=Wl,ii.delay=Hl,ii.difference=Zo,ii.differenceBy=Jo,ii.differenceWith=$o,ii.drop=function(t,e,n){var i=null==t?0:t.length;return i?fr(t,(e=n||e===o?1:Ea(e))<0?0:e,i):[]},ii.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?fr(t,0,(e=i-(e=n||e===o?1:Ea(e)))<0?0:e):[]},ii.dropRightWhile=function(t,e){return t&&t.length?Sr(t,wo(e,3),!0,!0):[]},ii.dropWhile=function(t,e){return t&&t.length?Sr(t,wo(e,3),!0):[]},ii.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Io(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=Ea(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:Ea(i))<0&&(i+=r),i=n>i?0:Ta(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},ii.filter=function(t,e){return(ea(t)?Ve:Ii)(t,wo(e,3))},ii.flatMap=function(t,e){return Ri(Ml(t,e),1)},ii.flatMapDeep=function(t,e){return Ri(Ml(t,e),T)},ii.flatMapDepth=function(t,e,n){return n=n===o?1:Ea(n),Ri(Ml(t,e),n)},ii.flatten=nl,ii.flattenDeep=function(t){return null!=t&&t.length?Ri(t,T):[]},ii.flattenDepth=function(t,e){return null!=t&&t.length?Ri(t,e=e===o?1:Ea(e)):[]},ii.flip=function(t){return so(t,x)},ii.flow=ds,ii.flowRight=ps,ii.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},ii.functions=function(t){return null==t?[]:Li(t,qa(t))},ii.functionsIn=function(t){return null==t?[]:Li(t,Wa(t))},ii.groupBy=Il,ii.initial=function(t){return null!=t&&t.length?fr(t,0,-1):[]},ii.intersection=rl,ii.intersectionBy=ol,ii.intersectionWith=ll,ii.invert=Va,ii.invertBy=Ba,ii.invokeMap=Rl,ii.iteratee=gs,ii.keyBy=Pl,ii.keys=qa,ii.keysIn=Wa,ii.map=Ml,ii.mapKeys=function(t,e){var n={};return e=wo(e,3),Ni(t,function(t,i,r){wi(n,e(t,i,r),t)}),n},ii.mapValues=function(t,e){var n={};return e=wo(e,3),Ni(t,function(t,i,r){wi(n,i,e(t,i,r))}),n},ii.matches=function(t){return tr(xi(t,u))},ii.matchesProperty=function(t,e){return er(t,xi(e,u))},ii.memoize=zl,ii.merge=Ha,ii.mergeWith=za,ii.method=ms,ii.methodOf=vs,ii.mixin=ys,ii.negate=Gl,ii.nthArg=function(t){return t=Ea(t),cr(function(e){return ir(e,t)})},ii.omit=Ga,ii.omitBy=function(t,e){return Xa(t,Gl(wo(e)))},ii.once=function(t){return Vl(2,t)},ii.orderBy=function(t,e,n,i){return null==t?[]:(ea(e)||(e=null==e?[]:[e]),ea(n=i?o:n)||(n=null==n?[]:[n]),rr(t,e,n))},ii.over=ws,ii.overArgs=Yl,ii.overEvery=_s,ii.overSome=Cs,ii.partial=Xl,ii.partialRight=Kl,ii.partition=Nl,ii.pick=Ya,ii.pickBy=Xa,ii.property=xs,ii.propertyOf=function(t){return function(e){return null==t?o:Fi(t,e)}},ii.pull=sl,ii.pullAll=ul,ii.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?lr(t,e,wo(n,2)):t},ii.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?lr(t,e,o,n):t},ii.pullAt=cl,ii.range=Ss,ii.rangeRight=Es,ii.rearg=Ql,ii.reject=function(t,e){return(ea(t)?Ve:Ii)(t,Gl(wo(e,3)))},ii.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=wo(e,3);++i<o;){var l=t[i];e(l,i,t)&&(n.push(l),r.push(i))}return ar(t,r),n},ii.rest=function(t,e){if("function"!=typeof t)throw new Qt(a);return cr(t,e=e===o?e:Ea(e))},ii.reverse=hl,ii.sampleSize=function(t,e,n){return e=(n?Io(t,e,n):e===o)?1:Ea(e),(ea(t)?function(t,e){return Go(Br(t),Ci(e,0,t.length))}:function(t,e){var n=Za(t);return Go(n,Ci(e,0,n.length))})(t,e)},ii.set=function(t,e,n){return null==t?t:hr(t,e,n)},ii.setWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:hr(t,e,n,i)},ii.shuffle=function(t){return(ea(t)?function(t){return Go(Br(t))}:function(t){return Go(Za(t))})(t)},ii.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Io(t,e,n)?(e=0,n=i):(e=null==e?0:Ea(e),n=n===o?i:Ea(n)),fr(t,e,n)):[]},ii.sortBy=jl,ii.sortedUniq=function(t){return t&&t.length?yr(t):[]},ii.sortedUniqBy=function(t,e){return t&&t.length?yr(t,wo(e,2)):[]},ii.split=function(t,e,n){return n&&"number"!=typeof n&&Io(t,e,n)&&(e=n=o),(n=n===o?O:n>>>0)?(t=Da(t))&&("string"==typeof e||null!=e&&!ma(e))&&!(e=wr(e))&&fn(t)?Rr(_n(t),0,n):t.split(e,n):[]},ii.spread=function(t,e){if("function"!=typeof t)throw new Qt(a);return e=null==e?0:Nn(Ea(e),0),cr(function(n){var i=n[e],r=Rr(n,0,e);return i&&We(r,i),Ne(t,this,r)})},ii.tail=function(t){var e=null==t?0:t.length;return e?fr(t,1,e):[]},ii.take=function(t,e,n){return t&&t.length?fr(t,0,(e=n||e===o?1:Ea(e))<0?0:e):[]},ii.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?fr(t,(e=i-(e=n||e===o?1:Ea(e)))<0?0:e,i):[]},ii.takeRightWhile=function(t,e){return t&&t.length?Sr(t,wo(e,3),!1,!0):[]},ii.takeWhile=function(t,e){return t&&t.length?Sr(t,wo(e,3)):[]},ii.tap=function(t,e){return e(t),t},ii.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Qt(a);return ha(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ql(t,e,{leading:i,maxWait:e,trailing:r})},ii.thru=Sl,ii.toArray=xa,ii.toPairs=Ka,ii.toPairsIn=Qa,ii.toPath=function(t){return ea(t)?qe(t,Xo):ba(t)?[t]:Br(Yo(Da(t)))},ii.toPlainObject=Aa,ii.transform=function(t,e,n){var i=ea(t),r=i||oa(t)||wa(t);if(e=wo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ha(t)&&sa(o)?ri(Ce(t)):{}}return(r?Le:Ni)(t,function(t,i,r){return e(n,t,i,r)}),n},ii.unary=function(t){return Fl(t,1)},ii.union=dl,ii.unionBy=pl,ii.unionWith=fl,ii.uniq=function(t){return t&&t.length?_r(t):[]},ii.uniqBy=function(t,e){return t&&t.length?_r(t,wo(e,2)):[]},ii.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?_r(t,o,e):[]},ii.unset=function(t,e){return null==t||Cr(t,e)},ii.unzip=gl,ii.unzipWith=ml,ii.update=function(t,e,n){return null==t?t:xr(t,e,Dr(n))},ii.updateWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:xr(t,e,Dr(n),i)},ii.values=Za,ii.valuesIn=function(t){return null==t?[]:an(t,Wa(t))},ii.without=vl,ii.words=ss,ii.wrap=function(t,e){return Xl(Dr(e),t)},ii.xor=yl,ii.xorBy=bl,ii.xorWith=wl,ii.zip=_l,ii.zipObject=function(t,e){return kr(t||[],e||[],mi)},ii.zipObjectDeep=function(t,e){return kr(t||[],e||[],hr)},ii.zipWith=Cl,ii.entries=Ka,ii.entriesIn=Qa,ii.extend=Ia,ii.extendWith=Ra,ys(ii,ii),ii.add=Ds,ii.attempt=us,ii.camelCase=Ja,ii.capitalize=$a,ii.ceil=Os,ii.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ka(n))==n?n:0),e!==o&&(e=(e=ka(e))==e?e:0),Ci(ka(t),e,n)},ii.clone=function(t){return xi(t,h)},ii.cloneDeep=function(t){return xi(t,u|h)},ii.cloneDeepWith=function(t,e){return xi(t,u|h,e="function"==typeof e?e:o)},ii.cloneWith=function(t,e){return xi(t,h,e="function"==typeof e?e:o)},ii.conformsTo=function(t,e){return null==e||Si(t,e,qa(e))},ii.deburr=ts,ii.defaultTo=function(t,e){return null==t||t!=t?e:t},ii.divide=Is,ii.endsWith=function(t,e,n){t=Da(t),e=wr(e);var i=t.length,r=n=n===o?i:Ci(Ea(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},ii.eq=Zl,ii.escape=function(t){return(t=Da(t))&&vt.test(t)?t.replace(gt,dn):t},ii.escapeRegExp=function(t){return(t=Da(t))&&Et.test(t)?t.replace(St,"\\$&"):t},ii.every=function(t,e,n){var i=ea(t)?Fe:Di;return n&&Io(t,e,n)&&(e=o),i(t,wo(e,3))},ii.find=kl,ii.findIndex=tl,ii.findKey=function(t,e){return Xe(t,wo(e,3),Ni)},ii.findLast=Al,ii.findLastIndex=el,ii.findLastKey=function(t,e){return Xe(t,wo(e,3),ji)},ii.floor=Rs,ii.forEach=Dl,ii.forEachRight=Ol,ii.forIn=function(t,e){return null==t?t:Pi(t,wo(e,3),Wa)},ii.forInRight=function(t,e){return null==t?t:Mi(t,wo(e,3),Wa)},ii.forOwn=function(t,e){return t&&Ni(t,wo(e,3))},ii.forOwnRight=function(t,e){return t&&ji(t,wo(e,3))},ii.get=La,ii.gt=Jl,ii.gte=$l,ii.has=function(t,e){return null!=t&&ko(t,e,qi)},ii.hasIn=Fa,ii.head=il,ii.identity=fs,ii.includes=function(t,e,n,i){t=ia(t)?t:Za(t),n=n&&!i?Ea(n):0;var r=t.length;return n<0&&(n=Nn(r+n,0)),ya(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Qe(t,e,n)>-1},ii.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ea(n);return r<0&&(r=Nn(i+r,0)),Qe(t,e,r)},ii.inRange=function(t,e,n){return e=Sa(e),n===o?(n=e,e=0):n=Sa(n),function(t,e,n){return t>=jn(e,n)&&t<Nn(e,n)}(t=ka(t),e,n)},ii.invoke=Ua,ii.isArguments=ta,ii.isArray=ea,ii.isArrayBuffer=na,ii.isArrayLike=ia,ii.isArrayLikeObject=ra,ii.isBoolean=function(t){return!0===t||!1===t||da(t)&&Bi(t)==L},ii.isBuffer=oa,ii.isDate=la,ii.isElement=function(t){return da(t)&&1===t.nodeType&&!ga(t)},ii.isEmpty=function(t){if(null==t)return!0;if(ia(t)&&(ea(t)||"string"==typeof t||"function"==typeof t.splice||oa(t)||wa(t)||ta(t)))return!t.length;var e=To(t);if(e==W||e==K)return!t.size;if(No(t))return!Zi(t).length;for(var n in t)if(ee.call(t,n))return!1;return!0},ii.isEqual=function(t,e){return Yi(t,e)},ii.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:o)?n(t,e):o;return i===o?Yi(t,e,o,n):!!i},ii.isError=aa,ii.isFinite=function(t){return"number"==typeof t&&Rn(t)},ii.isFunction=sa,ii.isInteger=ua,ii.isLength=ca,ii.isMap=pa,ii.isMatch=function(t,e){return t===e||Xi(t,e,Co(e))},ii.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Xi(t,e,Co(e),n)},ii.isNaN=function(t){return fa(t)&&t!=+t},ii.isNative=function(t){if(Mo(t))throw new Ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ki(t)},ii.isNil=function(t){return null==t},ii.isNull=function(t){return null===t},ii.isNumber=fa,ii.isObject=ha,ii.isObjectLike=da,ii.isPlainObject=ga,ii.isRegExp=ma,ii.isSafeInteger=function(t){return ua(t)&&t>=-k&&t<=k},ii.isSet=va,ii.isString=ya,ii.isSymbol=ba,ii.isTypedArray=wa,ii.isUndefined=function(t){return t===o},ii.isWeakMap=function(t){return da(t)&&To(t)==$},ii.isWeakSet=function(t){return da(t)&&"[object WeakSet]"==Bi(t)},ii.join=function(t,e){return null==t?"":Pn.call(t,e)},ii.kebabCase=es,ii.last=al,ii.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=Ea(n))<0?Nn(i+r,0):jn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):Ke(t,Je,r,!0)},ii.lowerCase=ns,ii.lowerFirst=is,ii.lt=_a,ii.lte=Ca,ii.max=function(t){return t&&t.length?Oi(t,fs,Ui):o},ii.maxBy=function(t,e){return t&&t.length?Oi(t,wo(e,2),Ui):o},ii.mean=function(t){return $e(t,fs)},ii.meanBy=function(t,e){return $e(t,wo(e,2))},ii.min=function(t){return t&&t.length?Oi(t,fs,Ji):o},ii.minBy=function(t,e){return t&&t.length?Oi(t,wo(e,2),Ji):o},ii.stubArray=Ts,ii.stubFalse=ks,ii.stubObject=function(){return{}},ii.stubString=function(){return""},ii.stubTrue=function(){return!0},ii.multiply=Ps,ii.nth=function(t,e){return t&&t.length?ir(t,Ea(e)):o},ii.noConflict=function(){return xe._===this&&(xe._=le),this},ii.noop=bs,ii.now=Ll,ii.pad=function(t,e,n){t=Da(t);var i=(e=Ea(e))?wn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return eo(Dn(r),n)+t+eo(An(r),n)},ii.padEnd=function(t,e,n){t=Da(t);var i=(e=Ea(e))?wn(t):0;return e&&i<e?t+eo(e-i,n):t},ii.padStart=function(t,e,n){t=Da(t);var i=(e=Ea(e))?wn(t):0;return e&&i<e?eo(e-i,n)+t:t},ii.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Fn(Da(t).replace(kt,""),e||0)},ii.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Io(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Sa(t),e===o?(e=t,t=0):e=Sa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Vn();return jn(t+r*(e-t+be("1e-"+((r+"").length-1))),e)}return sr(t,e)},ii.reduce=function(t,e,n){var i=ea(t)?He:nn,r=arguments.length<3;return i(t,wo(e,4),n,r,ki)},ii.reduceRight=function(t,e,n){var i=ea(t)?ze:nn,r=arguments.length<3;return i(t,wo(e,4),n,r,Ai)},ii.repeat=function(t,e,n){return e=(n?Io(t,e,n):e===o)?1:Ea(e),ur(Da(t),e)},ii.replace=function(){var t=arguments,e=Da(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ii.result=function(t,e,n){var i=-1,r=(e=Or(e,t)).length;for(r||(r=1,t=o);++i<r;){var l=null==t?o:t[Xo(e[i])];l===o&&(i=r,l=n),t=sa(l)?l.call(t):l}return t},ii.round=Ms,ii.runInContext=t,ii.sample=function(t){return(ea(t)?fi:function(t){return fi(Za(t))})(t)},ii.size=function(t){if(null==t)return 0;if(ia(t))return ya(t)?wn(t):t.length;var e=To(t);return e==W||e==K?t.size:Zi(t).length},ii.snakeCase=rs,ii.some=function(t,e,n){var i=ea(t)?Ge:gr;return n&&Io(t,e,n)&&(e=o),i(t,wo(e,3))},ii.sortedIndex=function(t,e){return mr(t,e)},ii.sortedIndexBy=function(t,e,n){return vr(t,e,wo(n,2))},ii.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=mr(t,e);if(i<n&&Zl(t[i],e))return i}return-1},ii.sortedLastIndex=function(t,e){return mr(t,e,!0)},ii.sortedLastIndexBy=function(t,e,n){return vr(t,e,wo(n,2),!0)},ii.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=mr(t,e,!0)-1;if(Zl(t[n],e))return n}return-1},ii.startCase=os,ii.startsWith=function(t,e,n){return t=Da(t),n=null==n?0:Ci(Ea(n),0,t.length),e=wr(e),t.slice(n,n+e.length)==e},ii.subtract=Ns,ii.sum=function(t){return t&&t.length?rn(t,fs):0},ii.sumBy=function(t,e){return t&&t.length?rn(t,wo(e,2)):0},ii.template=function(t,e,n){var i=ii.templateSettings;n&&Io(t,e,n)&&(e=o),t=Da(t),e=Ra({},e,i,uo);var r,l,a=Ra({},e.imports,i.imports,uo),s=qa(a),u=an(a,s),c=0,h=e.interpolate||qt,d="__p += '",p=Xt((e.escape||qt).source+"|"+h.source+"|"+(h===wt?Mt:qt).source+"|"+(e.evaluate||qt).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ge+"]")+"\n";t.replace(p,function(e,n,i,o,a,s){return i||(i=o),d+=t.slice(c,s).replace(Wt,pn),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(l=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),d+="';\n";var g=e.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(l?d.replace(ht,""):d).replace(dt,"$1").replace(pt,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=us(function(){return zt(s,f+"return "+d).apply(o,u)});if(m.source=d,aa(m))throw m;return m},ii.times=function(t,e){if((t=Ea(t))<1||t>k)return[];var n=O,i=jn(t,O);e=wo(e),t-=O;for(var r=on(i,e);++n<t;)e(n);return r},ii.toFinite=Sa,ii.toInteger=Ea,ii.toLength=Ta,ii.toLower=function(t){return Da(t).toLowerCase()},ii.toNumber=ka,ii.toSafeInteger=function(t){return t?Ci(Ea(t),-k,k):0===t?t:0},ii.toString=Da,ii.toUpper=function(t){return Da(t).toUpperCase()},ii.trim=function(t,e,n){if((t=Da(t))&&(n||e===o))return t.replace(Tt,"");if(!t||!(e=wr(e)))return t;var i=_n(t),r=_n(e);return Rr(i,un(i,r),cn(i,r)+1).join("")},ii.trimEnd=function(t,e,n){if((t=Da(t))&&(n||e===o))return t.replace(At,"");if(!t||!(e=wr(e)))return t;var i=_n(t);return Rr(i,0,cn(i,_n(e))+1).join("")},ii.trimStart=function(t,e,n){if((t=Da(t))&&(n||e===o))return t.replace(kt,"");if(!t||!(e=wr(e)))return t;var i=_n(t);return Rr(i,un(i,_n(e))).join("")},ii.truncate=function(t,e){var n=30,i="...";if(ha(e)){var r="separator"in e?e.separator:r;n="length"in e?Ea(e.length):n,i="omission"in e?wr(e.omission):i}var l=(t=Da(t)).length;if(fn(t)){var a=_n(t);l=a.length}if(n>=l)return t;var s=n-wn(i);if(s<1)return i;var u=a?Rr(a,0,s).join(""):t.slice(0,s);if(r===o)return u+i;if(a&&(s+=u.length-s),ma(r)){if(t.slice(s).search(r)){var c,h=u;for(r.global||(r=Xt(r.source,Da(Nt.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var d=c.index;u=u.slice(0,d===o?s:d)}}else if(t.indexOf(wr(r),s)!=s){var p=u.lastIndexOf(r);p>-1&&(u=u.slice(0,p))}return u+i},ii.unescape=function(t){return(t=Da(t))&&mt.test(t)?t.replace(ft,Cn):t},ii.uniqueId=function(t){var e=++ne;return Da(t)+e},ii.upperCase=ls,ii.upperFirst=as,ii.each=Dl,ii.eachRight=Ol,ii.first=il,ys(ii,(As={},Ni(ii,function(t,e){ee.call(ii.prototype,e)||(As[e]=t)}),As),{chain:!1}),ii.VERSION="4.17.11",Le(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ii[t].placeholder=ii}),Le(["drop","take"],function(t,e){ai.prototype[t]=function(n){n=n===o?1:Nn(Ea(n),0);var i=this.__filtered__&&!e?new ai(this):this.clone();return i.__filtered__?i.__takeCount__=jn(n,i.__takeCount__):i.__views__.push({size:jn(n,O),type:t+(i.__dir__<0?"Right":"")}),i},ai.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Le(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;ai.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:wo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Le(["head","last"],function(t,e){var n="take"+(e?"Right":"");ai.prototype[t]=function(){return this[n](1).value()[0]}}),Le(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");ai.prototype[t]=function(){return this.__filtered__?new ai(this):this[n](1)}}),ai.prototype.compact=function(){return this.filter(fs)},ai.prototype.find=function(t){return this.filter(t).head()},ai.prototype.findLast=function(t){return this.reverse().find(t)},ai.prototype.invokeMap=cr(function(t,e){return"function"==typeof t?new ai(this):this.map(function(n){return zi(n,t,e)})}),ai.prototype.reject=function(t){return this.filter(Gl(wo(t)))},ai.prototype.slice=function(t,e){t=Ea(t);var n=this;return n.__filtered__&&(t>0||e<0)?new ai(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Ea(e))<0?n.dropRight(-e):n.take(e-t)),n)},ai.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ai.prototype.toArray=function(){return this.take(O)},Ni(ai.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=ii[i?"take"+("last"==e?"Right":""):e],l=i||/^find/.test(e);r&&(ii.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof ai,u=a[0],c=s||ea(e),h=function(t){var e=r.apply(ii,We([t],a));return i&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var d=this.__chain__,p=l&&!d,f=s&&!this.__actions__.length;if(!l&&c){e=f?e:new ai(this);var g=t.apply(e,a);return g.__actions__.push({func:Sl,args:[h],thisArg:o}),new li(g,d)}return p&&f?t.apply(this,a):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})}),Le(["pop","push","shift","sort","splice","unshift"],function(t){var e=Zt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);ii.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(ea(r)?r:[],t)}return this[n](function(n){return e.apply(ea(n)?n:[],t)})}}),Ni(ai.prototype,function(t,e){var n=ii[e];if(n){var i=n.name+"";(Xn[i]||(Xn[i]=[])).push({name:e,func:n})}}),Xn[Zr(o,g).name]=[{name:"wrapper",func:o}],ai.prototype.clone=function(){var t=new ai(this.__wrapped__);return t.__actions__=Br(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Br(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Br(this.__views__),t},ai.prototype.reverse=function(){if(this.__filtered__){var t=new ai(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ai.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ea(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],l=o.size;switch(o.type){case"drop":t+=l;break;case"dropRight":e-=l;break;case"take":e=jn(e,t+l);break;case"takeRight":t=Nn(t,e-l)}}return{start:t,end:e}}(0,r,this.__views__),l=o.start,a=o.end,s=a-l,u=i?a:l-1,c=this.__iteratees__,h=c.length,d=0,p=jn(s,this.__takeCount__);if(!n||!i&&r==s&&p==s)return Er(t,this.__actions__);var f=[];t:for(;s--&&d<p;){for(var g=-1,m=t[u+=e];++g<h;){var v=c[g],y=v.type,b=(0,v.iteratee)(m);if(2==y)m=b;else if(!b){if(1==y)continue t;break t}}f[d++]=m}return f},ii.prototype.at=El,ii.prototype.chain=function(){return xl(this)},ii.prototype.commit=function(){return new li(this.value(),this.__chain__)},ii.prototype.next=function(){this.__values__===o&&(this.__values__=xa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},ii.prototype.plant=function(t){for(var e,n=this;n instanceof oi;){var i=Qo(n);i.__index__=0,i.__values__=o,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},ii.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof ai){var e=t;return this.__actions__.length&&(e=new ai(this)),(e=e.reverse()).__actions__.push({func:Sl,args:[hl],thisArg:o}),new li(e,this.__chain__)}return this.thru(hl)},ii.prototype.toJSON=ii.prototype.valueOf=ii.prototype.value=function(){return Er(this.__wrapped__,this.__actions__)},ii.prototype.first=ii.prototype.head,Ye&&(ii.prototype[Ye]=function(){return this}),ii}();xe._=xn,(r=(function(){return xn}).call(e,n,e,i))===o||(i.exports=r)}).call(this)}).call(e,n("DuR2"),n("3IRH")(t))},MnTv:function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(i.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(r.a)(t)};var i=n("5eyr"),r=n("b2EL"),o=n("sfXZ")},N2G3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("92Er"),n("EaDr"),n("NMG9"),n("8QP5"),n("stdA"),n("s0NH"),n("t129");var i=n("H0JA"),r=n("6GcH");function o(t,e,n,i){void 0===e&&(e=0);var o=r.Rect.fromElement(t),l=r.Rect.fromWindow(n);if(o.inflate(e),i){var a=r.Rect.fromElement(i).getIntersectionWith(l);return o.intersectsWith(a)}return o.intersectsWith(l)}function l(t){return Boolean(t.parentElement&&"picture"===t.parentElement.nodeName.toLowerCase())}function a(t){return"img"===t.nodeName.toLowerCase()}function s(t,e,n){return a(t)?n?t.srcset=e:t.src=e:t.style.backgroundImage="url('"+e+"')",t}function u(t){return function(e){for(var n=e.parentElement.getElementsByTagName("source"),i=0;i<n.length;i++){var r=n[i].getAttribute(t);r&&(n[i].srcset=r)}}}e.isVisible=o,e.isChildOfPicture=l,e.isImageElement=a;var c=u("defaultImage"),h=u("lazyLoad"),d=u("errorImage");function p(t){return function(e,n,i){a(e)&&l(e)&&t(e),n&&s(e,n,i)}}var f=p(c),g=p(h),m=p(d);e.lazyLoadImage=function(t,e,n,r,u,c,d){return void 0===c&&(c=!1),f(t,n,c),t.className&&t.className.includes("ng-lazyloaded")&&(t.className=t.className.replace("ng-lazyloaded","")),function(n){return n.filter(function(){return o(t,u,window,d)}).take(1).mergeMap(function(){return function(t,e,n){var r;if(a(t)&&l(t)){var o=t.parentNode.cloneNode(!0);r=o.getElementsByTagName("img")[0],h(r),s(r,e,n)}else r=new Image,a(t)&&t.sizes&&(r.sizes=t.sizes),n?r.srcset=e:r.src=e;return i.Observable.create(function(t){r.onload=function(){t.next(e),t.complete()},r.onerror=function(e){t.error(null)}})}(t,e,c)}).do(function(){return g(t,e,c)}).map(function(){return!0}).catch(function(){return m(t,r,c),t.className+=" ng-failed-lazyloaded",i.Observable.of(!1)}).do(function(){return function(t){var e=t.className.split(" ").filter(function(t){return!!t}).filter(function(t){return"ng-lazyloading"!==t});return e.push("ng-lazyloaded"),t.className=e.join(" "),t}(t)})}}},"NG/L":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("TToO"),r=n("tUzZ"),o=n("0gQV"),l=n("HC03"),a=n("XtZC"),s=n("LHMe"),u=n("7HNm"),c=function(t){function e(e,n,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=e<1?1:e,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return i.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new h(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new s.a;if(this.isStopped||this.hasError?e=l.a.EMPTY:(this.observers.push(t),e=new u.a(this,t)),r&&t.add(t=new a.a(t,r)),n)for(var c=0;c<o&&!t.closed;c++)t.next(i[c]);else for(c=0;c<o&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i},e}(r.b),h=function(t,e){this.time=t,this.value=e}},NGRO:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i,r=n("w5lW"),o=n("MnTv"),l=n("G0Bs");i||(i={});var a=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(l.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},NMG9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("Nyrq");i.b.prototype.take=function(t){return Object(r.u)(t)(this)}},Nyrq:function(t,e,n){"use strict";var i=n("TToO"),r=n("1E73"),o=n("3SjU");function l(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector))},t}(),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.__extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(o.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(r.a),u=n("QX4X"),c=n("cCSk");function h(t,e){return void 0===e&&(e=u.a),l(function(){return Object(c.a)(t,e)})}function d(t){return function(e){return e.lift(new p(t))}}var p=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.closingNotifier))},t}(),f=function(t){function e(e,n){var i=t.call(this,e)||this;return i.buffer=[],i.add(Object(o.a)(i,n)),i}return i.__extends(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(r.a),g=n("p1Bo");function m(t,e){return void 0===e&&(e=null),function(n){return n.lift(new v(t,e))}}var v=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?b:y}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),y=function(t){function e(e,n){var i=t.call(this,e)||this;return i.bufferSize=n,i.buffer=[],i}return i.__extends(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(g.a),b=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var l=i[o];l.push(t),l.length===e&&(i.splice(o,1),this.destination.next(l))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var i=e.shift();i.length>0&&n.next(i)}t.prototype._complete.call(this)},e}(g.a),w=n("5eyr");function _(t){var e=arguments.length,n=u.a;Object(w.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var i=null;e>=2&&(i=arguments[1]);var r=Number.POSITIVE_INFINITY;return e>=3&&(r=arguments[2]),function(e){return e.lift(new C(t,i,r,n))}}var C=function(){function t(t,e,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new x(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),x=function(t){function e(e,n,i,r,o){var l=t.call(this,e)||this;l.bufferTimeSpan=n,l.bufferCreationInterval=i,l.maxBufferSize=r,l.scheduler=o,l.contexts=[];var a=l.openContext();if(l.timespanOnly=null==i||i<0,l.timespanOnly)l.add(a.closeAction=o.schedule(S,n,{subscriber:l,context:a,bufferTimeSpan:n}));else{var s={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:l,scheduler:o};l.add(a.closeAction=o.schedule(T,n,{subscriber:l,context:a})),l.add(o.schedule(E,i,s))}return l}return i.__extends(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,i=n.length,r=0;r<i;r++){var o=n[r],l=o.buffer;l.push(t),l.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var i=e.shift();n.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(S,n,{subscriber:this,context:t,bufferTimeSpan:n}))}},e.prototype.openContext=function(){var t=new function(){this.buffer=[]};return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(g.a);function S(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function E(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,i=t.subscriber,r=t.scheduler,o=i.openContext();i.closed||(i.add(o.closeAction=r.schedule(T,n,{subscriber:i,context:o})),this.schedule(t,e))}function T(t){t.subscriber.closeContext(t.context)}var k=n("HC03");function A(t,e){return function(n){return n.lift(new D(t,e))}}var D=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.openings,this.closingSelector))},t}(),O=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(Object(o.a)(r,n)),r}return i.__extends(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,i=0;i<n;i++)e[i].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,r){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.subscription;this.destination.next(t.buffer),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new k.a,i={buffer:[],subscription:n};e.push(i);var r=Object(o.a)(this,t,i);!r||r.closed?this.closeBuffer(i):(r.context=i,this.add(r),n.add(r))},e}(r.a);function I(t){return function(e){return e.lift(new R(t))}}var R=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new P(t,this.closingSelector))},t}(),P=function(t){function e(e,n){var i=t.call(this,e)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return i.__extends(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,i,r){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t,e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{t=(0,this.closingSelector)()}catch(t){return this.error(t)}e=new k.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(o.a)(this,t)),this.subscribing=!1},e}(r.a),M=n("pHYG");function N(t){return function(e){var n=new j(t),i=e.lift(n);return n.caught=i}}var j=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new L(t,this.selector,this.caught))},t}(),L=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.selector=n,r.caught=i,r}return i.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var i=new M.a(this,void 0,void 0);this.add(i),Object(o.a)(this,n,void 0,void 0,i)}},e}(r.a),F=n("jAXq");function V(t){return function(e){return e.lift(new F.a(t))}}var B=n("YgML"),U=n("5XgX");function q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(B.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(U.a)([e].concat(t)),new F.a(n))}}var W=n("S/xh");function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(W.a.apply(void 0,[e].concat(t)))}}var z=n("K3Sm"),G=n("/Kc/");function Y(t,e){return Object(G.a)(t,e,1)}function X(t,e){return Y(function(){return t},e)}function K(t){return function(e){return e.lift(new Q(t,e))}}var Q=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.predicate,this.source))},t}(),Z=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.predicate=n,r.source=i,r.count=0,r.index=0,r}return i.__extends(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(g.a);function J(t){return function(e){return e.lift(new $(t))}}var $=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.durationSelector))},t}(),tt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i.durationSubscription=null,i}return i.__extends(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,e))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,i,r){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(r.a);function et(t,e){return void 0===e&&(e=u.a),function(n){return n.lift(new nt(t,e))}}var nt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.dueTime,this.scheduler))},t}(),it=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return i.__extends(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(rt,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(g.a);function rt(t){t.debouncedNext()}function ot(t){return void 0===t&&(t=null),function(e){return e.lift(new lt(t))}}var lt=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.defaultValue))},t}(),at=function(t){function e(e,n){var i=t.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return i.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(g.a),st=n("1SoI"),ut=n("NGRO");function ct(t,e){void 0===e&&(e=u.a);var n=Object(st.a)(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new ht(n,e))}}var ht=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new dt(t,this.delay,this.scheduler))},t}(),dt=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.delay=n,r.scheduler=i,r.queue=[],r.active=!1,r.errored=!1,r}return i.__extends(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new pt(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(ut.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(ut.a.createComplete()),this.unsubscribe()},e}(g.a),pt=function(t,e){this.time=t,this.notification=e},ft=n("lWPP");function gt(t,e){return e?function(n){return new yt(n,e).lift(new mt(t))}:function(e){return e.lift(new mt(t))}}var mt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new vt(t,this.delayDurationSelector))},t}(),vt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=Object(o.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(r.a),yt=function(t){function e(e,n){var i=t.call(this)||this;return i.source=e,i.subscriptionDelay=n,i}return i.__extends(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new bt(t,this.source))},e}(ft.a),bt=function(t){function e(e,n){var i=t.call(this)||this;return i.parent=e,i.source=n,i.sourceSubscribed=!1,i}return i.__extends(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(g.a);function wt(){return function(t){return t.lift(new _t)}}var _t=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t))},t}(),Ct=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(g.a);function xt(t,e){return function(n){return n.lift(new St(t,e))}}var St=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.keySelector,this.flushes))},t}(),Et=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.keySelector=n,r.values=new Set,i&&r.add(Object(o.a)(r,i)),r}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(r.a);function Tt(t,e){return function(n){return n.lift(new kt(t,e))}}var kt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new At(t,this.compare,this.keySelector))},t}(),At=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return i.__extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))},e}(g.a);function Dt(t,e){return Tt(function(n,i){return e?e(n[t],i[t]):n[t]===i[t]})}var Ot=n("uxTV"),It=n("QZ9O"),Rt=n("/Nc3");function Pt(t){return void 0===t&&(t=jt),function(e){return e.lift(new Mt(t))}}var Mt=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Nt(t,this.errorFactory))},t}(),Nt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.errorFactory=n,i.hasValue=!1,i}return i.__extends(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(g.a);function jt(){return new Rt.a}var Lt=n("w5lW");function Ft(t){return function(e){return 0===t?Object(Lt.b)():e.lift(new Vt(t))}}var Vt=function(){function t(t){if(this.total=t,this.total<0)throw new Ot.a}return t.prototype.call=function(t,e){return e.subscribe(new Bt(t,this.total))},t}(),Bt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.count=0,i}return i.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(g.a);function Ut(t,e){if(t<0)throw new Ot.a;var n=arguments.length>=2;return function(i){return i.pipe(Object(It.a)(function(e,n){return n===t}),Ft(1),n?ot(e):Pt(function(){return new Ot.a}))}}var qt=n("MnTv");function Wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Object(W.a)(e,qt.a.apply(void 0,t))}}function Ht(t,e){return function(n){return n.lift(new zt(t,e,n))}}var zt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Gt(t,this.predicate,this.thisArg,this.source))},t}(),Gt=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||o,o}return i.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(g.a);function Yt(){return function(t){return t.lift(new Xt)}}var Xt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t))},t}(),Kt=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return i.__extends(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o.a)(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(r.a),Qt=n("rylm");function Zt(t,e){return e?function(n){return n.pipe(Zt(function(n,i){return Object(U.a)(t(n,i)).pipe(Object(Qt.a)(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new Jt(t))}}var Jt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new $t(t,this.project))},t}(),$t=function(t){function e(e,n){var i=t.call(this,e)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return i.__extends(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new M.a(this,void 0,void 0);this.destination.add(i),Object(o.a)(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(r.a);function te(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(i){return i.lift(new ee(t,e,n))}}var ee=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new ne(t,this.project,this.concurrent,this.scheduler))},t}(),ne=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.project=n,o.concurrent=i,o.scheduler=r,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return i.__extends(e,t),e.dispatch=function(t){t.subscriber.subscribeToProjection(t.result,t.value,t.index)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var r=(0,this.project)(t,i);this.scheduler?this.destination.add(this.scheduler.schedule(e.dispatch,0,{subscriber:this,result:r,value:t,index:i})):this.subscribeToProjection(r,t,i)}catch(t){n.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(Object(o.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,r){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(r.a);function ie(t){return function(e){return e.lift(new re(t))}}var re=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new oe(t,this.callback))},t}(),oe=function(t){function e(e,n){var i=t.call(this,e)||this;return i.add(new k.a(n)),i}return i.__extends(e,t),e}(g.a);function le(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new ae(t,n,!1,e))}}var ae=function(){function t(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(t,e){return e.subscribe(new se(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),se=function(t){function e(e,n,i,r,o){var l=t.call(this,e)||this;return l.predicate=n,l.source=i,l.yieldIndex=r,l.thisArg=o,l.index=0,l}return i.__extends(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,i=this.index++;try{e.call(n||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(g.a);function ue(t,e){return function(n){return n.lift(new ae(t,n,!0,e))}}var ce=n("92UZ");function he(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(It.a)(function(e,n){return t(e,n,i)}):ce.a,Ft(1),n?ot(e):Pt(function(){return new Rt.a}))}}function de(){return function(t){return t.lift(new pe)}}n("SYCm");var pe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new fe(t))},t}(),fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype._next=function(t){},e}(g.a);function ge(){return function(t){return t.lift(new me)}}var me=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ve(t))},t}(),ve=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(g.a);function ye(t){return function(e){return 0===t?Object(Lt.b)():e.lift(new be(t))}}var be=function(){function t(t){if(this.total=t,this.total<0)throw new Ot.a}return t.prototype.call=function(t,e){return e.subscribe(new we(t,this.total))},t}(),we=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.ring=new Array,i.count=0,i}return i.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()},e}(g.a);function _e(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(It.a)(function(e,n){return t(e,n,i)}):ce.a,ye(1),n?ot(e):Pt(function(){return new Rt.a}))}}function Ce(t){return function(e){return e.lift(new xe(t))}}var xe=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Se(t,this.value))},t}(),Se=function(t){function e(e,n){var i=t.call(this,e)||this;return i.value=n,i}return i.__extends(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(g.a);function Ee(){return function(t){return t.lift(new Te)}}var Te=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ke(t))},t}(),ke=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype._next=function(t){this.destination.next(ut.a.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(ut.a.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(ut.a.createComplete()),t.complete()},e}(g.a),Ae=n("Td+O"),De=n("eYUY");function Oe(t,e){return arguments.length>=2?function(n){return Object(De.a)(Object(Ae.a)(t,e),ye(1),ot(e))(n)}:function(e){return Object(De.a)(Object(Ae.a)(function(e,n,i){return t(e,n,i+1)}),ye(1))(e)}}function Ie(t){return Oe("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}var Re=n("im1K");function Pe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Re.a.apply(void 0,[e].concat(t)))}}var Me=n("4jp/");function Ne(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?Object(G.a)(function(){return t},e,n):("number"==typeof e&&(n=e),Object(G.a)(function(){return t},n))}function je(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(i){return i.lift(new Le(t,e,n))}}var Le=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new Fe(t,this.accumulator,this.seed,this.concurrent))},t}(),Fe=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.accumulator=n,o.acc=i,o.concurrent=r,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return i.__extends(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,t,e)}catch(t){return n.error(t)}this.active++,this._innerSub(i,t,e)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){var i=new M.a(this,void 0,void 0);this.destination.add(i),Object(o.a)(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(r.a);function Ve(t){return Oe("function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})}var Be=n("gne3");function Ue(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new qe(i,e));var r=Object.create(n,Be.a);return r.source=n,r.subjectFactory=i,r}}var qe=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r},t}();function We(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&Object(B.a)(t[0])&&(t=t[0]),function(e){return e.lift(new He(t))}}n("XtZC");var He=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new ze(t,this.nextSources))},t}(),ze=function(t){function e(e,n){var i=t.call(this,e)||this;return i.destination=e,i.nextSources=n,i}return i.__extends(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new M.a(this,void 0,void 0);this.destination.add(e),Object(o.a)(this,t,void 0,void 0,e)}else this.destination.complete()},e}(r.a);function Ge(){return function(t){return t.lift(new Ye)}}var Ye=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Xe(t))},t}(),Xe=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return i.__extends(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(g.a),Ke=n("8LP5");function Qe(t,e){return function(n){return[Object(It.a)(t,e)(n),Object(It.a)(Object(Ke.a)(t,e))(n)]}}function Ze(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(Qt.a)(function(t,e){return function(n){for(var i=n,r=0;r<e;r++){var o=i[t[r]];if("undefined"==typeof o)return;i=o}return i}}(t,n))(e)}}var Je=n("tUzZ");function $e(t){return t?Ue(function(){return new Je.b},t):Ue(new Je.b)}var tn=n("0snD");function en(t){return function(e){return Ue(new tn.a(t))(e)}}var nn=n("0uOn");function rn(){return function(t){return Ue(new nn.a)(t)}}var on=n("NG/L");function ln(t,e,n,i){n&&"function"!=typeof n&&(i=n);var r="function"==typeof n?n:void 0,o=new on.a(t,e,i);return function(t){return Ue(function(){return o},r)(t)}}var an=n("v38c");function sn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&Object(B.a)(t[0])&&(t=t[0]),e.lift.call(an.a.apply(void 0,[e].concat(t)))}}function un(t){return void 0===t&&(t=-1),function(e){return 0===t?Object(Lt.b)():e.lift(new cn(t<0?-1:t-1,e))}}var cn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new hn(t,this.count,this.source))},t}(),hn=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.count=n,r.source=i,r}return i.__extends(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(g.a);function dn(t){return function(e){return e.lift(new pn(t))}}var pn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new fn(t,this.notifier,e))},t}(),fn=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.notifier=n,r.source=i,r.sourceIsBeingSubscribedTo=!0,r}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new Je.b;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Object(o.a)(this,e)},e}(r.a);function gn(t){return void 0===t&&(t=-1),function(e){return e.lift(new mn(t,e))}}var mn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new vn(t,this.count,this.source))},t}(),vn=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.count=n,r.source=i,r}return i.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(g.a);function yn(t){return function(e){return e.lift(new bn(t,e))}}var bn=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new wn(t,this.notifier,this.source))},t}(),wn=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.notifier=n,r.source=i,r}return i.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,i=this.retries,r=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{n=new Je.b;try{i=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}r=Object(o.a)(this,i)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=r,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,i,r){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},e}(r.a),_n=n("/qTI");function Cn(t){return function(e){return e.lift(new xn(t))}}var xn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Sn(t),i=e.subscribe(n);return i.add(Object(o.a)(n,this.notifier)),i},t}(),Sn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return i.__extends(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,i,r){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(r.a);function En(t,e){return void 0===e&&(e=u.a),function(n){return n.lift(new Tn(t,e))}}var Tn=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new kn(t,this.period,this.scheduler))},t}(),kn=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.period=n,r.scheduler=i,r.hasValue=!1,r.add(i.schedule(An,n,{subscriber:r,period:n})),r}return i.__extends(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(g.a);function An(t){var e=t.period;t.subscriber.notifyNext(),this.schedule(t,e)}function Dn(t,e){return function(n){return n.lift(new On(t,e))}}var On=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new In(t,this.compareTo,this.comparator))},t}(),In=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.compareTo=n,r.comparator=i,r._a=[],r._b=[],r._oneComplete=!1,r.destination.add(n.subscribe(new Rn(e,r))),r}return i.__extends(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparator;t.length>0&&e.length>0;){var i=t.shift(),r=e.shift(),o=!1;try{o=n?n(i,r):i===r}catch(t){this.destination.error(t)}o||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(g.a),Rn=function(t){function e(e,n){var i=t.call(this,e)||this;return i.parent=n,i}return i.__extends(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(g.a);function Pn(){return new Je.b}function Mn(){return function(t){return Object(_n.a)()(Ue(Pn)(t))}}function Nn(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift((l=void 0===(o=(e=i).bufferSize)?Number.POSITIVE_INFINITY:o,s=void 0===(a=e.windowTime)?Number.POSITIVE_INFINITY:a,u=e.refCount,c=e.scheduler,h=0,d=!1,p=!1,function(t){h++,n&&!d||(d=!1,n=new on.a(l,s,c),r=t.subscribe({next:function(t){n.next(t)},error:function(t){d=!0,n.error(t)},complete:function(){p=!0,n.complete()}}));var e=n.subscribe(this);this.add(function(){h--,e.unsubscribe(),r&&!p&&u&&0===h&&(r.unsubscribe(),r=void 0,n=void 0)})}));var e,n,r,o,l,a,s,u,c,h,d,p}}function jn(t){return function(e){return e.lift(new Ln(t,e))}}var Ln=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Fn(t,this.predicate,this.source))},t}(),Fn=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.predicate=n,r.source=i,r.seenValue=!1,r.index=0,r}return i.__extends(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Rt.a)},e}(g.a);function Vn(t){return function(e){return e.lift(new Bn(t))}}var Bn=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Un(t,this.total))},t}(),Un=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.count=0,i}return i.__extends(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(g.a);function qn(t){return function(e){return e.lift(new Wn(t))}}var Wn=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new Ot.a}return t.prototype.call=function(t,e){return e.subscribe(0===this._skipCount?new g.a(t):new Hn(t,this._skipCount))},t}(),Hn=function(t){function e(e,n){var i=t.call(this,e)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return i.__extends(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var i=n%e,r=this._ring,o=r[i];r[i]=t,this.destination.next(o)}},e}(g.a);function zn(t){return function(e){return e.lift(new Gn(t))}}var Gn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Yn(t,this.notifier))},t}(),Yn=function(t){function e(e,n){var i=t.call(this,e)||this;i.hasValue=!1;var r=new M.a(i,void 0,void 0);return i.add(r),i.innerSubscription=r,Object(o.a)(i,n,void 0,void 0,r),i}return i.__extends(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(t,e,n,i,r){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(r.a);function Xn(t){return function(e){return e.lift(new Kn(t))}}var Kn=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new Qn(t,this.predicate))},t}(),Qn=function(t){function e(e,n){var i=t.call(this,e)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return i.__extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(g.a);function Zn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(w.a)(n)?(t.pop(),function(e){return Object(W.a)(t,e,n)}):function(e){return Object(W.a)(t,e)}}var Jn=n("Y9kR");function $n(t,e){return void 0===e&&(e=0),function(n){return n.lift(new ti(t,e))}}var ti=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new Jn.a(e,this.delay,this.scheduler).subscribe(t)},t}();function ei(t,e){return"function"==typeof e?function(n){return n.pipe(ei(function(n,i){return Object(U.a)(t(n,i)).pipe(Object(Qt.a)(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new ni(t))}}var ni=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ii(t,this.project))},t}(),ii=function(t){function e(e,n){var i=t.call(this,e)||this;return i.project=n,i.index=0,i}return i.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new M.a(this,void 0,void 0);this.destination.add(r),this.innerSubscription=Object(o.a)(this,t,e,n,r)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e}(r.a);function ri(){return ei(ce.a)}function oi(t,e){return e?ei(function(){return t},e):ei(function(){return t})}function li(t){return function(e){return e.lift(new ai(t))}}var ai=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new si(t),i=Object(o.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n},t}(),si=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(r.a);function ui(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new ci(t,e))}}var ci=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new hi(t,this.predicate,this.inclusive))},t}(),hi=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.predicate=n,r.inclusive=i,r.index=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(g.a),di=n("VWaN"),pi=n("bOhj");function fi(t,e,n){return function(i){return i.lift(new gi(t,e,n))}}var gi=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new mi(t,this.nextOrObserver,this.error,this.complete))},t}(),mi=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o._tapNext=di.a,o._tapError=di.a,o._tapComplete=di.a,o._tapError=i||di.a,o._tapComplete=r||di.a,Object(pi.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||di.a,o._tapError=n.error||di.a,o._tapComplete=n.complete||di.a),o}return i.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(g.a),vi=n("QFiC");function yi(t,e,n){return void 0===e&&(e=u.a),void 0===n&&(n=vi.a),function(i){return i.lift(new bi(t,e,n.leading,n.trailing))}}var bi=function(){function t(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}return t.prototype.call=function(t,e){return e.subscribe(new wi(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),wi=function(t){function e(e,n,i,r,o){var l=t.call(this,e)||this;return l.duration=n,l.scheduler=i,l.leading=r,l.trailing=o,l._hasTrailingValue=!1,l._trailingValue=null,l}return i.__extends(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(_i,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(g.a);function _i(t){t.subscriber.clearThrottle()}n("VHBj");var Ci=n("7mk3");function xi(t,e,n){return void 0===n&&(n=u.a),function(i){var r=Object(st.a)(t),o=r?+t-n.now():Math.abs(t);return i.lift(new Si(o,r,e,n))}}var Si=function(){function t(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new Ei(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Ei=function(t){function e(e,n,i,r,o){var l=t.call(this,e)||this;return l.absoluteTimeout=n,l.waitFor=i,l.withObservable=r,l.scheduler=o,l.action=null,l.scheduleTimeout(),l}return i.__extends(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(o.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(r.a),Ti=n("G0Bs");function ki(t,e){return void 0===e&&(e=u.a),xi(t,Object(Ti.a)(new Ci.a),e)}function Ai(t,e,n){return 0===n?[e]:(t.push(e),t)}function Di(){return Oe(Ai,[])}function Oi(t){return function(e){return e.lift(new Ii(t))}}n("Fv6v");var Ii=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new Ri(t),i=e.subscribe(n);return i.closed||n.add(Object(o.a)(n,this.windowBoundaries)),i},t}(),Ri=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new Je.b,e.next(n.window),n}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new Je.b;e.next(n)},e}(r.a);function Pi(t,e){return void 0===e&&(e=0),function(n){return n.lift(new Mi(t,e))}}var Mi=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Ni(t,this.windowSize,this.startWindowEvery))},t}(),Ni=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.destination=e,r.windowSize=n,r.startWindowEvery=i,r.windows=[new Je.b],r.count=0,e.next(r.windows[0]),r}return i.__extends(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,o=r.length,l=0;l<o&&!this.closed;l++)r[l].next(t);var a=this.count-i+1;if(a>=0&&a%e==0&&!this.closed&&r.shift().complete(),++this.count%e==0&&!this.closed){var s=new Je.b;r.push(s),n.next(s)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(g.a),ji=n("03ca");function Li(t){var e=u.a,n=null,i=Number.POSITIVE_INFINITY;return Object(w.a)(arguments[3])&&(e=arguments[3]),Object(w.a)(arguments[2])?e=arguments[2]:Object(ji.a)(arguments[2])&&(i=arguments[2]),Object(w.a)(arguments[1])?e=arguments[1]:Object(ji.a)(arguments[1])&&(n=arguments[1]),function(r){return r.lift(new Fi(t,n,i,e))}}var Fi=function(){function t(t,e,n,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new Bi(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return i.__extends(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Je.b),Bi=function(t){function e(e,n,i,r,o){var l=t.call(this,e)||this;l.destination=e,l.windowTimeSpan=n,l.windowCreationInterval=i,l.maxWindowSize=r,l.scheduler=o,l.windows=[];var a=l.openWindow();if(null!==i&&i>=0){var s={windowTimeSpan:n,windowCreationInterval:i,subscriber:l,scheduler:o};l.add(o.schedule(Wi,n,{subscriber:l,window:a,context:null})),l.add(o.schedule(qi,i,s))}else l.add(o.schedule(Ui,n,{subscriber:l,window:a,windowTimeSpan:n}));return l}return i.__extends(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,i=0;i<n;i++){var r=e[i];r.closed||(r.next(t),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Vi;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(g.a);function Ui(t){var e=t.subscriber,n=t.windowTimeSpan,i=t.window;i&&e.closeWindow(i),t.window=e.openWindow(),this.schedule(t,n)}function qi(t){var e=t.windowTimeSpan,n=t.subscriber,i=t.scheduler,r=t.windowCreationInterval,o=n.openWindow(),l={action:this,subscription:null};l.subscription=i.schedule(Wi,e,{subscriber:n,window:o,context:l}),this.add(l.subscription),this.schedule(t,r)}function Wi(t){var e=t.subscriber,n=t.window,i=t.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(n)}function Hi(t,e){return function(n){return n.lift(new zi(t,e))}}var zi=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Gi(t,this.openings,this.closingSelector))},t}(),Gi=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.openings=n,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=Object(o.a)(r,n,n)),r}return i.__extends(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,i=0;i<n;i++)e[i].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,r=-1;++r<i;){var o=n[r];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var r=e[i];r.window.complete(),r.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var i=t[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,i,r){if(t===this.openings){var l=void 0;try{l=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var a=new Je.b,s=new k.a,u={window:a,subscription:s};this.contexts.push(u);var c=Object(o.a)(this,l,u);c.closed?this.closeWindow(this.contexts.length-1):(c.context=u,s.add(c)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],i=n.window,r=n.subscription;e.splice(t,1),i.complete(),r.unsubscribe()}},e}(r.a);function Yi(t){return function(e){return e.lift(new Xi(t))}}var Xi=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ki(t,this.closingSelector))},t}(),Ki=function(t){function e(e,n){var i=t.call(this,e)||this;return i.destination=e,i.closingSelector=n,i.openWindow(),i}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.openWindow(r)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,i=this.window=new Je.b;this.destination.next(i);try{n=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=Object(o.a)(this,n))},e}(r.a);function Qi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Zi(t,n))}}var Zi=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new Ji(t,this.observables,this.project))},t}(),Ji=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.observables=n,r.project=i,r.toRespond=[];var l=n.length;r.values=new Array(l);for(var a=0;a<l;a++)r.toRespond.push(a);for(a=0;a<l;a++){var s=n[a];r.add(Object(o.a)(r,s,s,a))}return r}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values[n]=e;var o=this.toRespond;if(o.length>0){var l=o.indexOf(n);-1!==l&&o.splice(l,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(r.a),$i=n("lyWU");function tr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call($i.b.apply(void 0,[e].concat(t)))}}function er(t){return function(e){return e.lift(new $i.a(t))}}n.d(e,!1,function(){return l}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return _}),n.d(e,!1,function(){return A}),n.d(e,!1,function(){return I}),n.d(e,"a",function(){return N}),n.d(e,!1,function(){return V}),n.d(e,!1,function(){return q}),n.d(e,!1,function(){return H}),n.d(e,"b",function(){return z.a}),n.d(e,"c",function(){return Y}),n.d(e,!1,function(){return X}),n.d(e,!1,function(){return K}),n.d(e,!1,function(){return J}),n.d(e,"d",function(){return et}),n.d(e,!1,function(){return ot}),n.d(e,"e",function(){return ct}),n.d(e,!1,function(){return gt}),n.d(e,!1,function(){return wt}),n.d(e,!1,function(){return xt}),n.d(e,"f",function(){return Tt}),n.d(e,!1,function(){return Dt}),n.d(e,!1,function(){return Ut}),n.d(e,!1,function(){return Wt}),n.d(e,"g",function(){return Ht}),n.d(e,!1,function(){return Yt}),n.d(e,!1,function(){return Zt}),n.d(e,!1,function(){return te}),n.d(e,"h",function(){return It.a}),n.d(e,!1,function(){return ie}),n.d(e,!1,function(){return le}),n.d(e,!1,function(){return ue}),n.d(e,"i",function(){return he}),n.d(e,!1,function(){}),n.d(e,!1,function(){return de}),n.d(e,!1,function(){return ge}),n.d(e,"j",function(){return _e}),n.d(e,"k",function(){return Qt.a}),n.d(e,!1,function(){return Ce}),n.d(e,!1,function(){return Ee}),n.d(e,!1,function(){return Ie}),n.d(e,!1,function(){return Pe}),n.d(e,"l",function(){return Me.a}),n.d(e,"m",function(){return G.a}),n.d(e,!1,function(){return G.a}),n.d(e,!1,function(){return Ne}),n.d(e,!1,function(){return je}),n.d(e,!1,function(){return Ve}),n.d(e,!1,function(){return Ue}),n.d(e,!1,function(){}),n.d(e,!1,function(){return We}),n.d(e,!1,function(){return Ge}),n.d(e,!1,function(){return Qe}),n.d(e,!1,function(){return Ze}),n.d(e,!1,function(){return $e}),n.d(e,!1,function(){return en}),n.d(e,!1,function(){return rn}),n.d(e,!1,function(){return ln}),n.d(e,!1,function(){return sn}),n.d(e,"n",function(){return Oe}),n.d(e,!1,function(){return un}),n.d(e,!1,function(){return dn}),n.d(e,!1,function(){return gn}),n.d(e,!1,function(){return yn}),n.d(e,!1,function(){return _n.a}),n.d(e,!1,function(){return Cn}),n.d(e,"o",function(){return En}),n.d(e,"p",function(){return Ae.a}),n.d(e,!1,function(){return Dn}),n.d(e,"q",function(){return Mn}),n.d(e,!1,function(){return Nn}),n.d(e,!1,function(){return jn}),n.d(e,!1,function(){return Vn}),n.d(e,!1,function(){return qn}),n.d(e,!1,function(){return zn}),n.d(e,"r",function(){return Xn}),n.d(e,"s",function(){return Zn}),n.d(e,!1,function(){return $n}),n.d(e,!1,function(){return ri}),n.d(e,"t",function(){return ei}),n.d(e,!1,function(){return oi}),n.d(e,"u",function(){return Ft}),n.d(e,!1,function(){return ye}),n.d(e,!1,function(){return li}),n.d(e,!1,function(){return ui}),n.d(e,"v",function(){return fi}),n.d(e,!1,function(){}),n.d(e,!1,function(){return yi}),n.d(e,!1,function(){return Pt}),n.d(e,!1,function(){}),n.d(e,!1,function(){return ki}),n.d(e,!1,function(){return xi}),n.d(e,!1,function(){}),n.d(e,!1,function(){return Di}),n.d(e,!1,function(){return Oi}),n.d(e,!1,function(){return Pi}),n.d(e,!1,function(){return Li}),n.d(e,!1,function(){return Hi}),n.d(e,!1,function(){return Yi}),n.d(e,"w",function(){return Qi}),n.d(e,!1,function(){return tr}),n.d(e,!1,function(){return er})},O4tu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("l7Gt"),o=n("Pxmi"),l=n("fjI4"),a=((i={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$name}",i["duplicate-app"]="Firebase App named '{$name}' already exists",i["app-deleted"]="Firebase App named '{$name}' already deleted",i["duplicate-service"]="Firebase service named '{$name}' already registered",i["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",i),s=new o.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){c.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){c=c.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,i=Object.keys(t.services_);n<i.length;n++)for(var r=i[n],o=0,l=Object.keys(t.services_[r]);o<l.length;o++)e.push(t.services_[r][l[o]]);return Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,i=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=i}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(c.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),c=[])},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw s.create("app-deleted",{name:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d=new l.Logger("@firebase/app");if(o.isBrowser()&&"firebase"in self){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=function t(){var e=function(t){var e={},n={},i={},r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var l=i;void 0===l.name&&(l.name=u);var a=l.name;if("string"!=typeof a||!a)throw s.create("bad-app-name",{name:String(a)});if(o.contains(e,a))throw s.create("duplicate-app",{name:a});var h=new t(n,l,r);return e[a]=h,c(h,"create"),h},app:l,apps:null,SDK_VERSION:"6.2.0",INTERNAL:{registerService:function(e,u,c,h,d){if(void 0===d&&(d=!1),n[e])throw s.create("duplicate-service",{name:e});function p(t){if(void 0===t&&(t=l()),"function"!=typeof t[e])throw s.create("invalid-app-argument",{name:e});return t[e]()}return n[e]=u,h&&(i[e]=h,a().forEach(function(t){h("create",t)})),void 0!==c&&o.deepExtend(p,c),r[e]=p,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,d?t:[])},p},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:h}};function l(t){if(!o.contains(e,t=t||u))throw s.create("no-app",{name:t});return e[t]}function a(){return Object.keys(e).map(function(t){return e[t]})}function c(t,e){for(var r=0,o=Object.keys(n);r<o.length;r++){var l=h(0,o[r]);if(null===l)return;i[l]&&i[l](e,t)}}function h(t,e){return"serverAuth"===e?null:e}return r.default=r,Object.defineProperty(r,"apps",{get:a}),l.App=t,r}(h);return e.INTERNAL=r.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),g=f.initializeApp;f.initializeApp=function(){return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,arguments)};var m=f;e.default=m,e.firebase=m},Ppzd:function(t,e,n){"use strict";e.a=function(t,e){return Object(i.k)(t,e)(this)};var i=n("Nyrq")},Pxmi:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("ZKbr"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw l(e)},l=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],l=r+1<t.length,a=l?t[r+1]:0,s=r+2<t.length,u=s?t[r+2]:0,c=(15&a)<<2|u>>6,h=63&u;s||(h=64,l||(c=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var l=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,s=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==l||null==a||null==s)throw Error();i.push(o<<2|l>>4),64!==a&&(i.push(l<<4&240|a>>2),64!==s&&i.push(a<<6&192|s))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name=p,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,g.prototype.create),r}return i.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],l=o?function(t,e){return t.replace(m,function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"})}(o,i):"Error",a=new f(r,this.serviceName+": "+l+" ("+r+")."),s=0,u=Object.keys(i);s<u.length;s++){var c=u[s];"_"!==c.slice(-1)&&(c in a&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),a[c]=i[c])}return a},t}(),m=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var y=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:i,signature:r}},b=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},w=function(t,e){return b(e,function(e,n){t[e]=n}),t},_=function(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i},C=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,l=this.chain_[0],a=this.chain_[1],s=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^a&(s^u),o=1518500249):(r=a^s^u,o=1859775393):i<60?(r=a&s|u&(a|s),o=2400959708):(r=a^s^u,o=3395469782);var h=(l<<5|l>>>27)+r+c+o+n[i]&4294967295;c=u,u=s,s=4294967295&(a<<30|a>>>2),a=l,l=h}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=S),void 0===i.error&&(i.error=S),void 0===i.complete&&(i.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function E(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=f,e.Sha1=C,e.assert=o,e.assertionError=l,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=s,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return s.encodeByteArray(e,!0)},e.clone=function(t){return w({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new x(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=w,e.findKey=_,e.findValue=function(t,e,n){var i=_(t,e,n);return i&&t[i]},e.forEach=b,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=d,e.getValues=function(t){var e=[],n=0;for(var i in t)e[n++]=t[i];return e},e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,i=y(t).claims,r=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?e=i.nbf:i.hasOwnProperty("iat")&&(e=i.iat),n=i.hasOwnProperty("exp")?i.exp:e+86400),r&&e&&n&&r>=e&&r<=n},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var i={};for(var r in t)i[r]=e.call(n,t[r],r,t);return i},e.querystring=function(t){var e=[];return b(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var l=r-55296;o(++i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(l<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(E(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(E(t,e,i)+"must be a valid firebase namespace.")}}).call(e,n("DuR2"))},QFiC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("TToO"),r=n("1E73"),o=n("3SjU"),l={leading:!0,trailing:!1};!function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=n,o._leading=i,o._trailing=r,o._hasValue=!1,o}i.__extends(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._sendValue;this._hasValue&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(o.a)(this,e))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},e.prototype.notifyNext=function(t,e,n,i,r){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()}}(r.a)},QJXb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=l,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:a(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof o?o(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},QX4X:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("2mZA"),r=new(n("g8cW").a)(i.a)},QZ9O:function(t,e,n){"use strict";e.a=function(t,e){return function(n){return n.lift(new o(t,e))}};var i=n("TToO"),r=n("p1Bo"),o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.predicate,this.thisArg))},t}(),l=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(r.a)},"Qw/m":function(t,e,n){"use strict";e.a=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof i.a?e:null}return!0};var i=n("p1Bo")},R8uW:function(t,e,n){"use strict";var i=n("0nHL");n.d(e,"a",function(){return i.d})},Rt1F:function(t,e,n){"use strict";(function(e,i){var r=n("ypnx");t.exports=b;var o,l=n("sOR5");b.ReadableState=y,n("vzCy");var a=function(t,e){return t.listeners(e).length},s=n("UcPO"),u=n("X3l8").Buffer,c=e.Uint8Array||function(){},h=n("jOgh");h.inherits=n("LC74");var d=n(4),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var f,g=n("+HRN"),m=n("x0Ha");h.inherits(b,s);var v=["error","close","destroy","pause","resume"];function y(t,e){var i=e instanceof(o=o||n("DsFX"));this.objectMode=!!(t=t||{}).objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,l=t.readableHighWaterMark;this.highWaterMark=r||0===r?r:i&&(l||0===l)?l:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n("X4X3").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n("DsFX"),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function w(t,e,n,i,r){var o,l=t._readableState;return null===e?(l.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}}(t,l)):(r||(o=function(t,e){var n,i;return u.isBuffer(i=e)||i instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(l,e)),o?t.emit("error",o):l.objectMode||e&&e.length>0?("string"==typeof e||l.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),i?l.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,l,e,!0):l.ended?t.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!n?(e=l.decoder.write(e),l.objectMode||0!==e.length?_(t,l,e,!1):T(t,l)):_(t,l,e,!1))):i||(l.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(l)}function _(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),T(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return f||(f=n("X4X3").StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};var C=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(E,t):E(t))}function E(t){p("emit readable"),t.emit("readable"),O(t)}function T(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(k,t,e))}function k(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function A(t){p("readable nexttick read 0"),t.read(0)}function D(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function I(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;for(t-=r.length;n=n.next;){var o=n.data,l=t>o.length?o.length:t;if(r+=l===o.length?o:o.slice(0,t),0==(t-=l)){l===o.length?(++i,e.head=n.next?n.next:e.tail=null):(e.head=n,n.data=o.slice(l));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=u.allocUnsafe(t),i=e.head,r=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var o=i.data,l=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,l),0==(t-=l)){l===o.length?(++r,e.head=i.next?i.next:e.tail=null):(e.head=i,i.data=o.slice(l));break}++r}return e.length-=r,n}(t,e),i}(t,e.buffer,e.decoder),n);var n}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):S(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&R(this),null;var i,r=e.needReadable;return p("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",r=!0),e.ended||e.reading?p("reading or ended",r=!1):r&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(i=t>0?I(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&R(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var s=e&&!1===e.end||t===i.stdout||t===i.stderr?y:u;function u(){p("onend"),t.end()}o.endEmitted?r.nextTick(s):n.once("end",s),t.on("unpipe",function e(i,r){p("onunpipe"),i===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",v),t.removeListener("drain",c),t.removeListener("error",g),t.removeListener("unpipe",e),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",f),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||c())});var c=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,O(t))}}(n);t.on("drain",c);var h=!1,d=!1;function f(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==M(o.pipes,t))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(e){p("onerror",e),y(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",v),y()}function v(){p("onfinish"),t.removeListener("close",m),y()}function y(){p("unpipe"),n.unpipe(t)}return n.on("data",f),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener("error",n);t._events&&t._events.error?l(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on("error",n)}(t,0,g),t.once("close",m),t.once("finish",v),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var l=M(e.pipes,t);return-1===l?this:(e.pipes.splice(l,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.addListener=b.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(A,this))}return n},b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(D,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),(!n.objectMode||null!==r&&void 0!==r)&&(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(e,n("DuR2"),n("W2nU"))},"S/xh":function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(r.a)()(i.a.apply(void 0,t))};var i=n("MnTv"),r=n("K3Sm")},SAuu:function(t,e,n){"use strict";e.a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)};var i=n("p1Bo"),r=n("Egod"),o=n("ESBe")},SYCm:function(t,e,n){"use strict";var i=n("TToO"),r=n("p1Bo"),o=n("HC03"),l=n("lWPP"),a=n("tUzZ");!function(t){function e(e,n,i,r,o){var l=t.call(this,e)||this;return l.keySelector=n,l.elementSelector=i,l.durationSelector=r,l.subjectSelector=o,l.groups=null,l.attemptedToUnsubscribe=!1,l.count=0,l}i.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(t){this.error(t)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new a.b,n.set(e,r);var o=new u(e,r,this);if(this.destination.next(o),this.durationSelector){var l=void 0;try{l=this.durationSelector(new u(e,r))}catch(t){return void this.error(t)}this.add(l.subscribe(new s(e,r,this)))}}r.closed||r.next(i)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))}}(r.a);var s=function(t){function e(e,n,i){var r=t.call(this,n)||this;return r.key=e,r.group=n,r.parent=i,r}return i.__extends(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(r.a),u=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.groupSubject=n,r.refCountSubscription=i,r}return i.__extends(e,t),e.prototype._subscribe=function(t){var e=new o.a,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&e.add(new c(n)),e.add(i.subscribe(t)),e},e}(l.a),c=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return i.__extends(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.a)},TOi5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=l,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:a(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof o?o(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},TToO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=l,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__spreadArrays=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],l=0,a=o.length;l<a;l++,r++)i[r]=o[l];return i},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:a(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof o?o(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},"Td+O":function(t,e,n){"use strict";e.a=function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new o(t,e,n))}};var i=n("TToO"),r=n("p1Bo"),o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.hasSeed))},t}(),l=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return i.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(r.a)},U49t:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=l,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:a(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof o?o(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},UZ5h:function(t,e,n){"use strict";var i=n("xCWu"),r=n("qOJP");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return r.isString(t)&&(t=b(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var l=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("1nuA");function b(t,e,n){if(t&&r.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,n),i}o.prototype.parse=function(t,e,n){if(!r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var b=t=u.join(a);if(b=b.trim(),!n&&1===t.split("#").length){var w=s.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=l.exec(b);if(_){var C=(_=_[0]).toLowerCase();this.protocol=C,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(x||_&&!v[_])){for(var S,E,T=-1,k=0;k<d.length;k++)-1!==(A=b.indexOf(d[k]))&&(-1===T||A<T)&&(T=A);for(-1!==(E=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(S=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(S)),T=-1,k=0;k<h.length;k++){var A;-1!==(A=b.indexOf(h[k]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var O=this.hostname.split(/\./),I=(k=0,O.length);k<I;k++){var R=O[k];if(R&&!R.match(p)){for(var P="",M=0,N=R.length;M<N;M++)R.charCodeAt(M)>127?P+="x":P+=R[M];if(!P.match(p)){var j=O.slice(0,k),L=O.slice(k+1),F=R.match(f);F&&(j.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=j.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),D||(this.hostname=i.toASCII(this.hostname));var V=this.port?":"+this.port:"";this.host=(this.hostname||"")+V,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[C])for(k=0,I=c.length;k<I;k++){var B=c[k];if(-1!==b.indexOf(B)){var U=encodeURIComponent(B);U===B&&(U=escape(B)),b=b.split(B).join(U)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var W=b.indexOf("?");return-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,W)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(V=this.pathname||"")+(this.search||"")),this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,l="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(l=y.stringify(this.query));var a=this.search||l&&"?"+l||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(r.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,i=Object.keys(this),l=0;l<i.length;l++){var a=i[l];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=t[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||g||n.host&&t.pathname,w=b,_=n.pathname&&n.pathname.split("/")||[],C=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===_[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=f;else if(f.length)_||(_=[]),_.pop(),_=_.concat(f),n.search=t.search,n.query=t.query;else if(!r.isNullOrUndefined(t.search))return C&&(n.hostname=n.host=_.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),n.search=t.search,n.query=t.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var x=_.slice(-1)[0],S=(n.host||t.host||_.length>1)&&("."===x||".."===x)||""===x,E=0,T=_.length;T>=0;T--)"."===(x=_[T])?_.splice(T,1):".."===x?(_.splice(T,1),E++):E&&(_.splice(T,1),E--);if(!b&&!w)for(;E--;E)_.unshift("..");!b||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),S&&"/"!==_.join("/").substr(-1)&&_.push("");var k,A=""===_[0]||_[0]&&"/"===_[0].charAt(0);return C&&(n.hostname=n.host=A?"":_.length?_.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),(b=b||n.host&&_.length)&&!A&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},UcPO:function(t,e,n){t.exports=n("vzCy").EventEmitter},V9Cg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},VHBj:function(t,e,n){"use strict"},VHx0:function(t,e,n){"use strict";e.a=function(t){return Object(i.a)(t)(this)};var i=n("Nyrq")},VWaN:function(t,e,n){"use strict";e.a=function(){}},W2nU:function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:l}catch(t){i=l}}();var s,u=[],c=!1,h=-1;function d(){c&&s&&(c=!1,s.length?u=s.concat(u):h=-1,u.length&&p())}function p(){if(!c){var t=a(d);c=!0;for(var e=u.length;e;){for(s=u,u=[];++h<e;)s&&s[h].run();h=-1,e=u.length}s=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},WT6e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(t){n.d(e,"createPlatform",function(){return sn}),n.d(e,"assertPlatform",function(){return cn}),n.d(e,"destroyPlatform",function(){return hn}),n.d(e,"getPlatform",function(){return dn}),n.d(e,"PlatformRef",function(){return pn}),n.d(e,"ApplicationRef",function(){return gn}),n.d(e,"enableProdMode",function(){return on}),n.d(e,"isDevMode",function(){return ln}),n.d(e,"createPlatformFactory",function(){return un}),n.d(e,"NgProbeToken",function(){return an}),n.d(e,"APP_ID",function(){return oe}),n.d(e,"PACKAGE_ROOT_URL",function(){return de}),n.d(e,"PLATFORM_INITIALIZER",function(){return ue}),n.d(e,"PLATFORM_ID",function(){return ce}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return he}),n.d(e,"APP_INITIALIZER",function(){return ie}),n.d(e,"ApplicationInitStatus",function(){return re}),n.d(e,"DebugElement",function(){return Bn}),n.d(e,"DebugNode",function(){return Vn}),n.d(e,"asNativeElements",function(){return Un}),n.d(e,"getDebugNode",function(){return zn}),n.d(e,"Testability",function(){return Qe}),n.d(e,"TestabilityRegistry",function(){return Ze}),n.d(e,"setTestabilityGetter",function(){return Je}),n.d(e,"TRANSLATIONS",function(){return gi}),n.d(e,"TRANSLATIONS_FORMAT",function(){return mi}),n.d(e,"LOCALE_ID",function(){return fi}),n.d(e,"MissingTranslationStrategy",function(){return vi}),n.d(e,"ApplicationModule",function(){return _i}),n.d(e,"wtfCreateScope",function(){return Fe}),n.d(e,"wtfLeave",function(){return Ve}),n.d(e,"wtfStartTimeRange",function(){return Be}),n.d(e,"wtfEndTimeRange",function(){return Ue}),n.d(e,"Type",function(){return Mt}),n.d(e,"EventEmitter",function(){return qe}),n.d(e,"ErrorHandler",function(){return kt}),n.d(e,"Sanitizer",function(){return xi}),n.d(e,"SecurityContext",function(){return Ci}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return v}),n.d(e,"Attribute",function(){return y}),n.d(e,"ContentChild",function(){return _}),n.d(e,"ContentChildren",function(){return w}),n.d(e,"Query",function(){return b}),n.d(e,"ViewChild",function(){return x}),n.d(e,"ViewChildren",function(){return C}),n.d(e,"Component",function(){return A}),n.d(e,"Directive",function(){return k}),n.d(e,"HostBinding",function(){return R}),n.d(e,"HostListener",function(){return P}),n.d(e,"Input",function(){return O}),n.d(e,"Output",function(){return I}),n.d(e,"Pipe",function(){return D}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return M}),n.d(e,"NO_ERRORS_SCHEMA",function(){return N}),n.d(e,"NgModule",function(){return j}),n.d(e,"ViewEncapsulation",function(){return L}),n.d(e,"Version",function(){return F}),n.d(e,"VERSION",function(){return V}),n.d(e,"forwardRef",function(){return et}),n.d(e,"resolveForwardRef",function(){return nt}),n.d(e,"Injector",function(){return at}),n.d(e,"ReflectiveInjector",function(){return $t}),n.d(e,"ResolvedReflectiveFactory",function(){return Gt}),n.d(e,"ReflectiveKey",function(){return Rt}),n.d(e,"InjectionToken",function(){return u}),n.d(e,"Inject",function(){return B}),n.d(e,"Optional",function(){return U}),n.d(e,"Injectable",function(){return q}),n.d(e,"Self",function(){return W}),n.d(e,"SkipSelf",function(){return H}),n.d(e,"Host",function(){return z}),n.d(e,"NgZone",function(){return We}),n.d(e,"RenderComponentType",function(){return vn}),n.d(e,"Renderer",function(){return bn}),n.d(e,"Renderer2",function(){return xn}),n.d(e,"RendererFactory2",function(){return _n}),n.d(e,"RendererStyleFlags2",function(){return Cn}),n.d(e,"RootRenderer",function(){return wn}),n.d(e,"COMPILER_OPTIONS",function(){return ve}),n.d(e,"Compiler",function(){return me}),n.d(e,"CompilerFactory",function(){return ye}),n.d(e,"ModuleWithComponentFactories",function(){return fe}),n.d(e,"ComponentFactory",function(){return we}),n.d(e,"ComponentRef",function(){return be}),n.d(e,"ComponentFactoryResolver",function(){return Te}),n.d(e,"ElementRef",function(){return Sn}),n.d(e,"NgModuleFactory",function(){return Oe}),n.d(e,"NgModuleRef",function(){return De}),n.d(e,"NgModuleFactoryLoader",function(){return En}),n.d(e,"getModuleFactory",function(){return An}),n.d(e,"QueryList",function(){return Dn}),n.d(e,"SystemJsNgModuleLoader",function(){return Rn}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return On}),n.d(e,"TemplateRef",function(){return Mn}),n.d(e,"ViewContainerRef",function(){return Nn}),n.d(e,"EmbeddedViewRef",function(){return Fn}),n.d(e,"ViewRef",function(){return Ln}),n.d(e,"ChangeDetectionStrategy",function(){return S}),n.d(e,"ChangeDetectorRef",function(){return jn}),n.d(e,"DefaultIterableDiffer",function(){return ti}),n.d(e,"IterableDiffers",function(){return si}),n.d(e,"KeyValueDiffers",function(){return ui}),n.d(e,"SimpleChange",function(){return Kn}),n.d(e,"WrappedValue",function(){return Xn}),n.d(e,"platformCore",function(){return pi}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return rn}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return ae}),n.d(e,"\u0275devModeEqual",function(){return Yn}),n.d(e,"\u0275isListLikeIterable",function(){return Qn}),n.d(e,"\u0275ChangeDetectorStatus",function(){return E}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return T}),n.d(e,"\u0275Console",function(){return pe}),n.d(e,"\u0275ComponentFactory",function(){return we}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return ke}),n.d(e,"\u0275ReflectionCapabilities",function(){return Vt}),n.d(e,"\u0275RenderDebugInfo",function(){return yn}),n.d(e,"\u0275global",function(){return X}),n.d(e,"\u0275looseIdentical",function(){return $}),n.d(e,"\u0275stringify",function(){return tt}),n.d(e,"\u0275makeDecorator",function(){return p}),n.d(e,"\u0275isObservable",function(){return ne}),n.d(e,"\u0275isPromise",function(){return ee}),n.d(e,"\u0275clearOverrides",function(){return Jl}),n.d(e,"\u0275overrideComponentView",function(){return Zl}),n.d(e,"\u0275overrideProvider",function(){return Ql}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Co}),n.d(e,"\u0275defineComponent",function(){return os}),n.d(e,"\u0275detectChanges",function(){return rs}),n.d(e,"\u0275renderComponent",function(){return is}),n.d(e,"\u0275C",function(){return Ha}),n.d(e,"\u0275D",function(){return Wa}),n.d(e,"\u0275E",function(){return Pa}),n.d(e,"\u0275T",function(){return Ua}),n.d(e,"\u0275V",function(){return Xa}),n.d(e,"\u0275b",function(){return $a}),n.d(e,"\u0275b1",function(){return ts}),n.d(e,"\u0275c",function(){return za}),n.d(e,"\u0275cR",function(){return Ga}),n.d(e,"\u0275cr",function(){return Ya}),n.d(e,"\u0275e",function(){return La}),n.d(e,"\u0275p",function(){return Fa}),n.d(e,"\u0275s",function(){return Ba}),n.d(e,"\u0275t",function(){return qa}),n.d(e,"\u0275v",function(){return Ka}),n.d(e,"\u0275registerModuleFactory",function(){return kn}),n.d(e,"\u0275EMPTY_ARRAY",function(){return wr}),n.d(e,"\u0275EMPTY_MAP",function(){return _r}),n.d(e,"\u0275and",function(){return Cr}),n.d(e,"\u0275ccf",function(){return Ur}),n.d(e,"\u0275cmf",function(){return $l}),n.d(e,"\u0275crt",function(){return qi}),n.d(e,"\u0275did",function(){return ho}),n.d(e,"\u0275eld",function(){return xr}),n.d(e,"\u0275elementEventFullName",function(){return tr}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return qr}),n.d(e,"\u0275inlineInterpolate",function(){return yr}),n.d(e,"\u0275interpolate",function(){return vr}),n.d(e,"\u0275mod",function(){return Rr}),n.d(e,"\u0275mpd",function(){return Ir}),n.d(e,"\u0275ncd",function(){return Mo}),n.d(e,"\u0275nov",function(){return $r}),n.d(e,"\u0275pid",function(){return po}),n.d(e,"\u0275prd",function(){return fo}),n.d(e,"\u0275pad",function(){return Lo}),n.d(e,"\u0275pod",function(){return Fo}),n.d(e,"\u0275ppd",function(){return jo}),n.d(e,"\u0275qud",function(){return Do}),n.d(e,"\u0275ted",function(){return Bo}),n.d(e,"\u0275unv",function(){return Vi}),n.d(e,"\u0275vid",function(){return Wo}),n.d(e,"AUTO_STYLE",function(){return vs}),n.d(e,"trigger",function(){return ys}),n.d(e,"animate",function(){return bs}),n.d(e,"group",function(){return ws}),n.d(e,"sequence",function(){return _s}),n.d(e,"style",function(){return Cs}),n.d(e,"state",function(){return xs}),n.d(e,"keyframes",function(){return Ss}),n.d(e,"transition",function(){return Es}),n.d(e,"\u0275bf",function(){return cs}),n.d(e,"\u0275bg",function(){return hs}),n.d(e,"\u0275bk",function(){return gs}),n.d(e,"\u0275bh",function(){return ds}),n.d(e,"\u0275bj",function(){return fs}),n.d(e,"\u0275bi",function(){return ps}),n.d(e,"\u0275bl",function(){return ms}),n.d(e,"\u0275be",function(){return us}),n.d(e,"\u0275n",function(){return yi}),n.d(e,"\u0275o",function(){return bi}),n.d(e,"\u0275q",function(){return wi}),n.d(e,"\u0275i",function(){return le}),n.d(e,"\u0275j",function(){return hi}),n.d(e,"\u0275k",function(){return di}),n.d(e,"\u0275l",function(){return Jn}),n.d(e,"\u0275m",function(){return oi}),n.d(e,"\u0275f",function(){return te}),n.d(e,"\u0275g",function(){return Wt}),n.d(e,"\u0275h",function(){return Xt}),n.d(e,"\u0275r",function(){return je}),n.d(e,"\u0275w",function(){return Re}),n.d(e,"\u0275u",function(){return Ie}),n.d(e,"\u0275z",function(){return Ne}),n.d(e,"\u0275x",function(){return Pe}),n.d(e,"\u0275y",function(){return Me}),n.d(e,"\u0275bc",function(){return fa}),n.d(e,"\u0275a",function(){return g}),n.d(e,"\u0275d",function(){return m}),n.d(e,"\u0275ba",function(){return go}),n.d(e,"\u0275bb",function(){return Ii});var i=n("TToO"),r=n("H0JA"),o=n("4UB8"),l=n("4MTI"),a=n("R8uW"),s=n("3EDZ"),u=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),c="__annotations__",h="__paramaters__",d="__prop__metadata__";function p(t,e,n,i){var r=f(e);function o(t){if(this instanceof o)return r.call(this,t),this;var e=new o(t),n=function(t){return(t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c]).push(e),t};return i&&i(n),n}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function f(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,e);for(var r in i)this[r]=i[r]}}}function g(t,e,n){var i=f(e);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var n,o=new((n=r).bind.apply(n,[void 0].concat(t)));return l.annotation=o,l;function l(t,e,n){for(var i=t.hasOwnProperty(h)?t[h]:Object.defineProperty(t,h,{value:[]})[h];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function m(t,e,n){var i=f(e);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var n,o=new((n=r).bind.apply(n,[void 0].concat(t)));return function(t,e){var n=t.constructor,i=n.hasOwnProperty(d)?n[d]:Object.defineProperty(n,d,{value:{}})[d];i[e]=i.hasOwnProperty(e)&&i[e]||[],i[e].unshift(o)}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}var v=new u("AnalyzeForEntryComponents"),y=g("Attribute",function(t){return{attributeName:t}}),b=function(){},w=m("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(i.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},b),_=m("ContentChild",function(t,e){return void 0===e&&(e={}),Object(i.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},b),C=m("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(i.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},b),x=m("ViewChild",function(t,e){return Object(i.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},b),S=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),E=function(){var t={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return t[t.CheckOnce]="CheckOnce",t[t.Checked]="Checked",t[t.CheckAlways]="CheckAlways",t[t.Detached]="Detached",t[t.Errored]="Errored",t[t.Destroyed]="Destroyed",t}();function T(t){return null==t||t===S.Default}var k=p("Directive",function(t){return void 0===t&&(t={}),t}),A=p("Component",function(t){return void 0===t&&(t={}),Object(i.__assign)({changeDetection:S.Default},t)},k),D=p("Pipe",function(t){return Object(i.__assign)({pure:!0},t)}),O=m("Input",function(t){return{bindingPropertyName:t}}),I=m("Output",function(t){return{bindingPropertyName:t}}),R=m("HostBinding",function(t){return{hostPropertyName:t}}),P=m("HostListener",function(t,e){return{eventName:t,args:e}}),M={name:"custom-elements"},N={name:"no-errors-schema"},j=p("NgModule",function(t){return t}),L=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),F=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},V=new F("5.2.7"),B=g("Inject",function(t){return{token:t}}),U=g("Optional"),q=p("Injectable"),W=g("Self"),H=g("SkipSelf"),z=g("Host"),G="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X=G||"undefined"!=typeof t&&t||Y,K=Promise.resolve(0),Q=null;function Z(){if(!Q){var t=X.Symbol;if(t&&t.iterator)Q=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Q=i)}}return Q}function J(t){"undefined"==typeof Zone?K.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function $(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function tt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t){return t.__forward_ref__=et,t.toString=function(){return tt(this())},t}function nt(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===et?t():t}var it="__source",rt=new Object,ot=rt,lt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=rt),e===rt)throw new Error("NullInjectorError: No provider for "+tt(t)+"!");return e},t}(),at=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new vt(t,e):new vt(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=rt,t.NULL=new lt,t}(),st=function(t){return t},ut=[],ct=st,ht=function(){return Array.prototype.slice.call(arguments)},dt={},pt=function(t){for(var e in t)if(t[e]===dt)return e;throw Error("!prop")}({provide:String,useValue:dt}),ft=at.NULL,gt=/\n/gm,mt="\u0275",vt=function(){function t(t,e,n){void 0===e&&(e=ft),void 0===n&&(n=null),this.parent=e,this.source=n;var i=this._records=new Map;i.set(at,{token:at,fn:st,deps:ut,value:this,useNew:!1}),function t(e,n){if(n)if((n=nt(n))instanceof Array)for(var i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw wt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw wt("Unexpected provider",n);var r=nt(n.provide),o=function(t){var e=function(t){var e=ut,n=t.deps;if(n&&n.length){e=[];for(var i=0;i<n.length;i++){var r=6;if((s=nt(n[i]))instanceof Array)for(var o=0,l=s;o<l.length;o++){var a=l[o];a instanceof U||a==U?r|=1:a instanceof H||a==H?r&=-3:a instanceof W||a==W?r&=-5:s=a instanceof B?a.token:nt(a)}e.push({token:s,options:r})}}else if(t.useExisting){var s;e=[{token:s=nt(t.useExisting),options:6}]}else if(!(n||pt in t))throw wt("'deps' required",t);return e}(t),n=st,i=ut,r=!1,o=nt(t.provide);if(pt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=nt(t.useClass);else{if("function"!=typeof o)throw wt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){var l=e.get(r);if(l){if(l.fn!==ht)throw yt(r)}else e.set(r,l={token:n.provide,deps:[],useNew:!1,fn:ht,value:ut});l.deps.push({token:r=n,options:6})}var a=e.get(r);if(a&&a.fn==ht)throw yt(r);e.set(r,o)}}(i,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return function t(e,n,i,r,o){try{return function(e,n,i,r,o){var l,a;if(n){if((l=n.value)==ct)throw Error(mt+"Circular dependency");if(l===ut){n.value=ct;var s=n.useNew,u=n.fn,c=n.deps,h=ut;if(c.length){h=[];for(var d=0;d<c.length;d++){var p=c[d],f=p.options,g=2&f?i.get(p.token):void 0;h.push(t(p.token,g,i,g||4&f?r:ft,1&f?null:at.THROW_IF_NOT_FOUND))}}n.value=l=s?new((a=u).bind.apply(a,[void 0].concat(h))):u.apply(void 0,h)}}else l=r.get(e,o);return l}(e,n,i,r,o)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==ct&&(n.value=ut),t}}(t,n,this._records,this.parent,e)}catch(e){var i=e.ngTempTokenPath;throw t[it]&&i.unshift(t[it]),e.message=bt("\n"+e.message,i,this.source),e.ngTokenPath=i,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(tt(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function yt(t){return wt("Cannot mix multi providers and regular providers",t)}function bt(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==mt?t.substr(2):t;var i=tt(e);if(e instanceof Array)i=e.map(tt).join(" -> ");else if("object"==typeof e){var r=[];for(var o in e)if(e.hasOwnProperty(o)){var l=e[o];r.push(o+":"+("string"==typeof l?JSON.stringify(l):tt(l)))}i="{"+r.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+i+"]: "+t.replace(gt,"\n  ")}function wt(t,e){return new Error(bt(t,e))}var _t="ngDebugContext",Ct="ngOriginalError",xt="ngErrorLogger";function St(t){return t[_t]}function Et(t){return t[Ct]}function Tt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var kt=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[xt]||Tt}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?St(t)?St(t):this._findContext(Et(t)):null},t.prototype._findOriginalError=function(t){for(var e=Et(t);e&&Et(e);)e=Et(e);return e},t}();function At(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return tt(t.token)}).join(" -> ")+")":""}function Dt(t,e,n,i){var r=[e],o=n(r),l=i?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),i=Error(n);return i[Ct]=e,i}(0,i):Error(o);return l.addKey=Ot,l.keys=r,l.injectors=[t],l.constructResolvingMessage=n,l[Ct]=i,l}function Ot(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function It(t,e){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];n.push(o&&0!=o.length?o.map(tt).join(" "):"?")}return Error("Cannot resolve all parameters for '"+tt(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+tt(t)+"' is decorated with Injectable.")}var Rt=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=tt(this.token)}return t.get=function(t){return Pt.get(nt(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Pt.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Pt=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Rt)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Rt(t,Rt.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Mt=Function;function Nt(t){return"function"==typeof t}var jt=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Lt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,Ft=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/,Vt=function(){function t(t){this._reflect=t||X.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n="undefined"==typeof t?new Array(e.length):new Array(t.length);for(var i=0;i<n.length;i++)n[i]="undefined"==typeof t?[]:t[i]!=Object?[t[i]]:[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(jt.exec(n)||Lt.exec(n)&&!Ft.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var i=t.ctorParameters;if(i&&i!==e.ctorParameters){var r="function"==typeof i?i():i,o=r.map(function(t){return t&&t.type}),l=r.map(function(t){return t&&Bt(t.decorators)});return this._zipTypesAndAnnotations(o,l)}var a=t.hasOwnProperty(h)&&t[h],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||a?this._zipTypesAndAnnotations(s,a):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!Nt(t))return[];var e=Ut(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?Bt(t.decorators):t.hasOwnProperty(c)?t[c]:null},t.prototype.annotations=function(t){if(!Nt(t))return[];var e=Ut(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var i=t.propDecorators,r={};return Object.keys(i).forEach(function(t){r[t]=Bt(i[t])}),r}return t.hasOwnProperty(d)?t[d]:null},t.prototype.propMetadata=function(t){if(!Nt(t))return{};var e=Ut(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,r[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Mt&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+tt(t)},t.prototype.resourceUri=function(t){return"./"+tt(t)},t.prototype.resolveIdentifier=function(t,e,n,i){return i},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function Bt(t){return t?t.map(function(t){var e=t.type.annotationCls;return new(e.bind.apply(e,[void 0].concat(t.args?t.args:[])))}):[]}function Ut(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var qt=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,i){return this.reflectionCapabilities.resolveIdentifier(t,e,n,i)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Vt),Wt=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Ht=[],zt=function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]},Gt=function(t,e){this.factory=t,this.dependencies=e};function Yt(t){return new zt(Rt.get(t.provide),[function(t){var e,n;if(t.useClass){var i=nt(t.useClass);e=qt.factory(i),n=Kt(i)}else t.useExisting?(e=function(t){return t},n=[Wt.fromKey(Rt.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return Qt(t,e,n)})}return Kt(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Ht);return new Gt(e,n)}(t)],t.multi||!1)}function Xt(t){var e=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+r+" "+i);if(i.multiProvider)for(var o=0;o<i.resolvedFactories.length;o++)r.resolvedFactories.push(i.resolvedFactories[o]);else e.set(i.key.id,i)}else{var l;l=i.multiProvider?new zt(i.key,i.resolvedFactories.slice(),i.multiProvider):i,e.set(i.key.id,l)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof Mt)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(Yt),new Map);return Array.from(e.values())}function Kt(t){var e=qt.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw It(t,e);return e.map(function(n){return Qt(t,n,e)})}function Qt(t,e,n){var i=null,r=!1;if(!Array.isArray(e))return Zt(e instanceof B?e.token:e,r,null);for(var o=null,l=0;l<e.length;++l){var a=e[l];a instanceof Mt?i=a:a instanceof B?i=a.token:a instanceof U?r=!0:a instanceof W||a instanceof H?o=a:a instanceof u&&(i=a)}if(null!=(i=nt(i)))return Zt(i,r,o);throw It(t,n)}function Zt(t,e,n){return new Wt(Rt.get(t),e,n)}var Jt=new Object,$t=function(){function t(){}return t.resolve=function(t){return Xt(t)},t.resolveAndCreate=function(e,n){var i=t.resolve(e);return t.fromResolvedProviders(i,n)},t.fromResolvedProviders=function(t,e){return new te(t,e)},t}(),te=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var i=0;i<n;i++)this.keyIds[i]=t[i].key.id,this.objs[i]=Jt}return t.prototype.get=function(t,e){return void 0===e&&(e=ot),this._getByKey(Rt.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=$t.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved($t.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Dt(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+At(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i,r,o=this,l=e.factory;try{n=e.dependencies.map(function(t){return o._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{i=l.apply(void 0,n)}catch(e){throw Dt(this,t.key,function(t){var e=tt(t[0].token);return r.message+": Error during instantiation of "+e+"!"+At(t)+"."},r=e)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:ot)},t.prototype._getByKey=function(e,n,i){return e===t.INJECTOR_KEY?this:n instanceof W?this._getByKeySelf(e,i):this._getByKeyDefault(e,i,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Jt&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Jt},t.prototype._throwOrNull=function(t,e){if(e!==ot)return e;throw function(t,e){return Dt(t,e,function(t){return"No provider for "+tt(t[0].token)+"!"+At(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Jt?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,i){var r;for(r=i instanceof H?this.parent:this;r instanceof t;){var o=r,l=o._getObjByKeyId(e.id);if(l!==Jt)return l;r=o.parent}return null!==r?r.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),i=0;i<t._providers.length;++i)n[i]=' "'+t.getProviderAtIndex(i).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=Rt.get(at),t}();function ee(t){return!!t&&"function"==typeof t.then}function ne(t){return!!t&&"function"==typeof t.subscribe}var ie=new u("Application Initializer"),re=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();ee(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),oe=new u("AppId");function le(){return""+se()+se()+se()}var ae={provide:oe,useFactory:le,deps:[]};function se(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ue=new u("Platform Initializer"),ce=new u("Platform ID"),he=new u("appBootstrapListener"),de=new u("Application Packages Root URL"),pe=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}(),fe=function(t,e){this.ngModuleFactory=t,this.componentFactories=e};function ge(){throw new Error("Runtime compiler is not loaded")}var me=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw ge()},t.prototype.compileModuleAsync=function(t){throw ge()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw ge()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw ge()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),ve=new u("compilerOptions"),ye=function(){},be=function(){},we=function(){};function _e(t){var e=Error("No component factory found for "+tt(t)+". Did you add it to @NgModule.entryComponents?");return e[Se]=t,e}var Ce,xe,Se="ngComponent",Ee=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw _e(t)},t}(),Te=function(){function t(){}return t.NULL=new Ee,t}(),ke=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var i=0;i<t.length;i++){var r=t[i];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw _e(t);return new Ae(e,this._ngModule)},t}(),Ae=function(t){function e(e,n){var i=t.call(this)||this;return i.factory=e,i.ngModule=n,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return Object(i.__extends)(e,t),e.prototype.create=function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)},e}(we),De=function(){},Oe=function(){};function Ie(){var t=X.wtf;return!(!t||!(Ce=t.trace)||(xe=Ce.events,0))}function Re(t,e){return void 0===e&&(e=null),xe.createScope(t,e)}function Pe(t,e){return Ce.leaveScope(t,e),e}function Me(t,e){return Ce.beginTimeRange(t,e)}function Ne(t){Ce.endTimeRange(t)}var je=Ie();function Le(t,e){return null}var Fe=je?Re:function(t,e){return Le},Ve=je?Pe:function(t,e){return e},Be=je?Me:function(t,e){return null},Ue=je?Ne:function(t){return null},qe=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(i.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,i){var r,o=function(t){return null},l=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(l=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),i&&(l=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var a=t.prototype.subscribe.call(this,r,o,l);return e instanceof s.a&&e.add(a),a},e}(a.a),We=function(){function t(t){var e,n=t.enableLongStackTrace,i=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,i,r,o,l){try{return Ye(e),t.invokeTask(i,r,o,l)}finally{Xe(e)}},onInvoke:function(t,n,i,r,o,l,a){try{return Ye(e),t.invoke(i,r,o,l,a)}finally{Xe(e)}},onHasTask:function(t,n,i,r){t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,Ge(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,n,i,r){return t.handleError(i,r),e.runOutsideAngular(function(){return e.onError.emit(r)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,ze,He,He);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function He(){}var ze={};function Ge(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ye(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xe(t){t._nesting--,Ge(t)}var Ke=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Qe=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){We.assertNotInAngularZone(),J(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?J(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Ze=function(){function t(){this._applications=new Map,tn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),tn.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}();function Je(t){tn=t}var $e,tn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),en=!0,nn=!1,rn=new u("AllowMultipleToken");function on(){if(nn)throw new Error("Cannot enable prod mode after platform setup.");en=!1}function ln(){return nn=!0,en}var an=function(t,e){this.name=t,this.token=e};function sn(t){if($e&&!$e.destroyed&&!$e.injector.get(rn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$e=t.get(pn);var e=t.get(ue,null);return e&&e.forEach(function(t){return t()}),$e}function un(t,e,n){void 0===n&&(n=[]);var i="Platform: "+e,r=new u(i);return function(e){void 0===e&&(e=[]);var o=dn();if(!o||o.injector.get(rn,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var l=n.concat(e).concat({provide:r,useValue:!0});sn(at.create({providers:l,name:i}))}return cn(r)}}function cn(t){var e=dn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function hn(){$e&&!$e.destroyed&&$e.destroy()}function dn(){return $e&&!$e.destroyed?$e:null}var pn=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,i=this,r="noop"===(n=e?e.ngZone:void 0)?new Ke:("zone.js"===n?void 0:n)||new We({enableLongStackTrace:ln()}),o=[{provide:We,useValue:r}];return r.run(function(){var e=at.create({providers:o,parent:i.injector,name:t.moduleType.name}),n=t.create(e),l=n.injector.get(kt,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return mn(i._modules,n)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){l.handleError(t)}})}),function(t,e,r){try{var o=((l=n.injector.get(re)).runInitializers(),l.donePromise.then(function(){return i._moduleDoBootstrap(n),n}));return ee(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var l}(l,r)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var i=this.injector.get(ye),r=fn({},e);return i.createCompiler([r]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(gn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+tt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function fn(t,e){return Array.isArray(e)?e.reduce(fn,t):Object(i.__assign)({},t,e)}var gn=function(){function t(t,e,n,i,a,s){var u=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ln(),this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new r.Observable(function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){t.next(u._stable),t.complete()})}),h=new r.Observable(function(t){var e;u._zone.runOutsideAngular(function(){e=u._zone.onStable.subscribe(function(){We.assertNotInAngularZone(),J(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,t.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){We.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.a.call(h))}return t.prototype.bootstrap=function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof we?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n instanceof Ae?null:this._injector.get(De),o=n.create(at.NULL,[],e||n.selector,r);o.onDestroy(function(){i._unloadComponent(o)});var l=o.injector.get(Qe,null);return l&&o.injector.get(Ze).registerApplication(o.location.nativeElement,l),this._loadComponent(o),ln()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,Ve(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;mn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(he,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),mn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Fe("ApplicationRef#tick()"),t}();function mn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var vn=function(t,e,n,i,r,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=i,this.styles=r,this.animations=o},yn=function(){},bn=function(){},wn=function(){},_n=function(){},Cn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),xn=function(){},Sn=function(t){this.nativeElement=t},En=function(){},Tn=new Map;function kn(t,e){var n=Tn.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Tn.set(t,e)}function An(t){var e=Tn.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}var Dn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new qe,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[Z()]=function(){return this._results[Z()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var i=Array.isArray(n)?t(n):n;return e.concat(i)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),On=function(){},In={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Rn=function(){function t(t,e){this._compiler=t,this._config=e||In}return t.prototype.load=function(t){return this._compiler instanceof me?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=t.split("#"),r=i[0],o=i[1];return void 0===o&&(o="default"),n("Jnfr")(r).then(function(t){return t[o]}).then(function(t){return Pn(t,r,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("Jnfr")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[r+o]}).then(function(t){return Pn(t,i,r)})},t}();function Pn(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Mn=function(){},Nn=function(){},jn=function(){},Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e}(jn),Fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e}(Ln),Vn=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Bn?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Bn=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return Object(i.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,r=this.childNodes.indexOf(t);-1!==r&&((n=this.childNodes).splice.apply(n,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return qn(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return Wn(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Vn);function Un(t){return t.map(function(t){return t.nativeElement})}function qn(t,e,n){t.childNodes.forEach(function(t){t instanceof Bn&&(e(t)&&n.push(t),qn(t,e,n))})}function Wn(t,e,n){t instanceof Bn&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Bn&&Wn(t,e,n)})}var Hn=new Map;function zn(t){return Hn.get(t)||null}function Gn(t){Hn.set(t.nativeNode,t)}function Yn(t,e){var n=Qn(t),i=Qn(e);return n&&i?function(t,e,n){for(var i=t[Z()](),r=e[Z()]();;){var o=i.next(),l=r.next();if(o.done&&l.done)return!0;if(o.done||l.done)return!1;if(!n(o.value,l.value))return!1}}(t,e,Yn):!(n||!t||"object"!=typeof t&&"function"!=typeof t||i||!e||"object"!=typeof e&&"function"!=typeof e)||$(t,e)}var Xn=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),Kn=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Qn(t){return!!Zn(t)&&(Array.isArray(t)||!(t instanceof Map)&&Z()in t)}function Zn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Jn=function(){function t(){}return t.prototype.supports=function(t){return Qn(t)},t.prototype.create=function(t){return new ti(t)},t}(),$n=function(t,e){return e},ti=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$n}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<ri(n,i,r)?e:n,l=ri(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var s=l-i,u=a-i;if(s!=u){for(var c=0;c<s;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;u<=d&&d<s&&(r[c]=h+1)}r[o.previousIndex]=u-s}}l!==a&&t(o,l,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Qn(t))throw new Error("Error trying to diff '"+tt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,r,o=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=this._trackByFn(a,i=t[a]),null!==o&&$(o.trackById,r)?(l&&(o=this._verifyReinsertion(o,i,r,a)),$(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),l=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i=t[Z()](),r=void 0;!(r=i.next()).done;)e(r.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&$(o.trackById,r)?(l&&(o=e._verifyReinsertion(o,t,r,n)),$(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),l=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?($(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?($(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new ei(e,n),r,i),t},t.prototype._verifyReinsertion=function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ii),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ii),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),ei=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ni=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&$(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),ii=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new ni,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function ri(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var oi=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Zn(t)},t.prototype.create=function(){return new li},t}(),li=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Zn(t)))throw new Error("Error trying to diff '"+tt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new ai(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){$(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),ai=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},si=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var i=n.factories.slice();return new t(e=e.concat(i))}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new H,new U]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}(),ui=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new H,new U]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),ci=[new oi],hi=new si([new Jn]),di=new ui(ci),pi=un(null,"core",[{provide:ce,useValue:"unknown"},{provide:pn,deps:[at]},{provide:Ze,deps:[]},{provide:pe,deps:[]}]),fi=new u("LocaleId"),gi=new u("Translations"),mi=new u("TranslationsFormat"),vi=function(){var t={Error:0,Warning:1,Ignore:2};return t[t.Error]="Error",t[t.Warning]="Warning",t[t.Ignore]="Ignore",t}();function yi(){return hi}function bi(){return di}function wi(t){return t||"en-US"}var _i=function(t){},Ci=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),xi=function(){};function Si(t,e,n){var i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Ei(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Ti(t,e){return t.nodes[e]}function ki(t,e){return t.nodes[e]}function Ai(t,e){return t.nodes[e]}function Di(t,e){return t.nodes[e]}function Oi(t,e){return t.nodes[e]}var Ii=function(){},Ri={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Pi(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Mi(n,e),n}(r,t)}function Mi(t,e){t[_t]=e,t[xt]=e.logError.bind(e)}function Ni(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var ji=function(){},Li=new Map;function Fi(t){var e=Li.get(t);return e||(e=tt(t)+"_"+Li.size,Li.set(t,e)),e}function Vi(t,e,n,i){if(Xn.isWrapped(i)){i=Xn.unwrap(i);var r=t.def.nodes[e].bindingIndex+n,o=Xn.unwrap(t.oldValues[r]);t.oldValues[r]=new Xn(o)}return i}var Bi="$$undefined",Ui="$$empty";function qi(t){return{id:Bi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Wi=0;function Hi(t){if(t&&t.id===Bi){var e=null!=t.encapsulation&&t.encapsulation!==L.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Wi++:Ui}return t&&t.id===Ui&&(t=null),t||null}function zi(t,e,n,i){return!(!(2&t.state)&&$(t.oldValues[e.bindingIndex+n],i))}function Gi(t,e,n,i){return!!zi(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function Yi(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Yn(r,i)){var o=e.bindings[n].name;throw Pi(Ri.createDebugContext(t,e.nodeIndex),o+": "+r,o+": "+i,0!=(1&t.state))}}function Xi(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ki(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Qi(t,e,n,i){try{return Xi(33554432&t.def.nodes[e].flags?ki(t,e).componentView:t),Ri.handleEvent(t,e,n,i)}catch(e){t.root.errorHandler.handleError(e)}}function Zi(t){return t.parent?ki(t.parent,t.parentNodeDef.nodeIndex):null}function Ji(t){return t.parent?t.parentNodeDef.parent:null}function $i(t,e){switch(201347067&e.flags){case 1:return ki(t,e.nodeIndex).renderElement;case 2:return Ti(t,e.nodeIndex).renderText}}function tr(t,e){return t?t+":"+e:e}function er(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function nr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ir(t){return 1<<t%32}function rr(t){var e={},n=0,i={};return t&&t.forEach(function(t){var r=t[0],o=t[1];"number"==typeof r?(e[r]=o,n|=ir(r)):i[r]=o}),{matchedQueries:e,references:i,matchedQueryIds:n}}function or(t,e){return t.map(function(t){var n,i;return Array.isArray(t)?(i=t[0],n=t[1]):(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,it,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:Fi(n)}})}function lr(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===L.Native?ki(t,n.renderParent.nodeIndex).renderElement:void 0:e}var ar=new WeakMap;function sr(t){var e=ar.get(t);return e||((e=t(function(){return ji})).factory=t,ar.set(t,e)),e}function ur(t,e,n,i,r){3===e&&(n=t.renderer.parentNode($i(t,t.def.lastRenderRootNode))),cr(t,e,0,t.def.nodes.length-1,n,i,r)}function cr(t,e,n,i,r,o,l){for(var a=n;a<=i;a++){var s=t.def.nodes[a];11&s.flags&&dr(t,s,e,r,o,l),a+=s.childCount}}function hr(t,e,n,i,r,o){for(var l=t;l&&!er(l);)l=l.parent;for(var a=l.parent,s=Ji(l),u=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=u;c++){var h=a.def.nodes[c];h.ngContentIndex===e&&dr(a,h,n,i,r,o),c+=h.childCount}if(!a.parent){var d=t.root.projectableNodes[e];if(d)for(c=0;c<d.length;c++)pr(t,d[c],n,i,r,o)}}function dr(t,e,n,i,r,o){if(8&e.flags)hr(t,e.ngContent.index,n,i,r,o);else{var l=$i(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&pr(t,l,n,i,r,o),32&e.bindingFlags&&pr(ki(t,e.nodeIndex).componentView,l,n,i,r,o)):pr(t,l,n,i,r,o),16777216&e.flags)for(var a=ki(t,e.nodeIndex).viewContainer._embeddedViews,s=0;s<a.length;s++)ur(a[s],n,i,r,o);1&e.flags&&!e.element.name&&cr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function pr(t,e,n,i,r,o){var l=t.renderer;switch(n){case 1:l.appendChild(i,e);break;case 2:l.insertBefore(i,e,r);break;case 3:l.removeChild(i,e);break;case 0:o.push(e)}}var fr=/^:([^:]+):(.+)$/;function gr(t){if(":"===t[0]){var e=t.match(fr);return[e[1],e[2]]}return["",t]}function mr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function vr(t,e){for(var n="",i=0;i<2*t;i+=2)n=n+e[i]+br(e[i+1]);return n+e[2*t]}function yr(t,e,n,i,r,o,l,a,s,u,c,h,d,p,f,g,m,v,y,b){switch(t){case 1:return e+br(n)+i;case 2:return e+br(n)+i+br(r)+o;case 3:return e+br(n)+i+br(r)+o+br(l)+a;case 4:return e+br(n)+i+br(r)+o+br(l)+a+br(s)+u;case 5:return e+br(n)+i+br(r)+o+br(l)+a+br(s)+u+br(c)+h;case 6:return e+br(n)+i+br(r)+o+br(l)+a+br(s)+u+br(c)+h+br(d)+p;case 7:return e+br(n)+i+br(r)+o+br(l)+a+br(s)+u+br(c)+h+br(d)+p+br(f)+g;case 8:return e+br(n)+i+br(r)+o+br(l)+a+br(s)+u+br(c)+h+br(d)+p+br(f)+g+br(m)+v;case 9:return e+br(n)+i+br(r)+o+br(l)+a+br(s)+u+br(c)+h+br(d)+p+br(f)+g+br(m)+v+br(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function br(t){return null!=t?t.toString():""}var wr=[],_r={};function Cr(t,e,n,i,r,o){t|=1;var l=rr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l.matchedQueries,matchedQueryIds:l.matchedQueryIds,references:l.references,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?sr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||ji},provider:null,text:null,query:null,ngContent:null}}function xr(t,e,n,i,r,o,l,a,s,u,c,h){void 0===l&&(l=[]),u||(u=ji);var d=rr(n),p=d.matchedQueries,f=d.references,g=d.matchedQueryIds,m=null,v=null;o&&(m=(O=gr(o))[0],v=O[1]),a=a||[];for(var y=new Array(a.length),b=0;b<a.length;b++){var w=a[b],_=w[0],C=w[2],x=gr(w[1]),S=x[0],E=x[1],T=void 0,k=void 0;switch(15&_){case 4:k=C;break;case 1:case 8:T=C}y[b]={flags:_,ns:S,name:E,nonMinifiedName:E,securityContext:T,suffix:k}}s=s||[];var A=new Array(s.length);for(b=0;b<s.length;b++){var D=s[b];A[b]={type:0,target:D[0],eventName:D[1],propName:null}}var O,I=(l=l||[]).map(function(t){var e=t[1],n=gr(t[0]);return[n[0],n[1],e]});return h=Hi(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:g,references:f,ngContentIndex:i,childCount:r,bindings:y,bindingFlags:mr(y),outputs:A,element:{ns:m,name:v,attrs:I,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||ji},provider:null,text:null,query:null,ngContent:null}}function Sr(t,e,n){var i,r=n.element,o=t.root.selectorOrNode,l=t.renderer;if(t.parent||!o){i=r.name?l.createElement(r.name,r.ns):l.createComment("");var a=lr(t,e,n);a&&l.appendChild(a,i)}else i=l.selectRootElement(o);if(r.attrs)for(var s=0;s<r.attrs.length;s++){var u=r.attrs[s];l.setAttribute(i,u[1],u[2],u[0])}return i}function Er(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],l=Tr(t,n.nodeIndex,tr(o.target,o.eventName)),a=o.target,s=t;"component"===o.target&&(a=null,s=e);var u=s.renderer.listen(a||i,o.eventName,l);t.disposables[n.outputIndex+r]=u}}function Tr(t,e,n){return function(i){return Qi(t,e,n,i)}}function kr(t,e,n,i){if(!Gi(t,e,n,i))return!1;var r=e.bindings[n],o=ki(t,e.nodeIndex),l=o.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){var l=e.securityContext,a=l?t.root.sanitizer.sanitize(l,o):o;a=null!=a?a.toString():null;var s=t.renderer;null!=o?s.setAttribute(n,r,a,i):s.removeAttribute(n,r,i)}(t,r,l,r.ns,a,i);break;case 2:!function(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,l,a,i);break;case 4:!function(t,e,n,i,r){var o=t.root.sanitizer.sanitize(Ci.STYLE,r);if(null!=o){o=o.toString();var l=e.suffix;null!=l&&(o+=l)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,i,o):a.removeStyle(n,i)}(t,r,l,a,i);break;case 8:!function(t,e,n,i,r){var o=e.securityContext,l=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,l)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,l,a,i)}return!0}var Ar=new Object,Dr=Fi(at),Or=Fi(De);function Ir(t,e,n,i){return n=nt(n),{index:-1,deps:or(i,tt(e)),flags:t,token:e,value:n}}function Rr(t){for(var e={},n=0;n<t.length;n++){var i=t[n];i.index=n,e[Fi(i.token)]=i}return{factory:null,providersByKey:e,providers:t}}function Pr(t,e,n){if(void 0===n&&(n=at.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var i=e.tokenKey;switch(i){case Dr:case Or:return t}var r=t._def.providersByKey[i];if(r){var o=t._providers[r.index];return void 0===o&&(o=t._providers[r.index]=Mr(t,r)),o===Ar?void 0:o}return t._parent.get(e.token,n)}function Mr(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Pr(t,n[0]));case 2:return new e(Pr(t,n[0]),Pr(t,n[1]));case 3:return new e(Pr(t,n[0]),Pr(t,n[1]),Pr(t,n[2]));default:for(var r=new Array(i),o=0;o<i;o++)r[o]=Pr(t,n[o]);return new(e.bind.apply(e,[void 0].concat(r)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Pr(t,n[0]));case 2:return e(Pr(t,n[0]),Pr(t,n[1]));case 3:return e(Pr(t,n[0]),Pr(t,n[1]),Pr(t,n[2]));default:for(var r=Array(i),o=0;o<i;o++)r[o]=Pr(t,n[o]);return e.apply(void 0,r)}}(t,e.value,e.deps);break;case 2048:n=Pr(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?Ar:n}function Nr(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,Vr(n,e),Ri.dirtyParentQueries(i),Lr(i),i}function jr(t,e,n){var i=e?$i(e,e.def.lastRenderRootNode):t.renderElement;ur(n,2,n.renderer.parentNode(i),n.renderer.nextSibling(i),void 0)}function Lr(t){ur(t,3,null,null,void 0)}function Fr(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vr(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Br=new Object;function Ur(t,e,n,i,r,o){return new Wr(t,e,n,i,r,o)}function qr(t){return t.viewDefFactory}var Wr=function(t){function e(e,n,i,r,o,l){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=r,a._outputs=o,a.ngContentSelectors=l,a.viewDefFactory=i,a}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=sr(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,l=Ri.createRootView(t,e||[],n,r,i,Br),a=Ai(l,o).instance;return n&&l.renderer.setAttribute(ki(l,0).renderElement,"ng-version",V.full),new Hr(l,new Xr(l),a)},e}(we),Hr=function(t){function e(e,n,i){var r=t.call(this)||this;return r._view=e,r._viewRef=n,r._component=i,r._elDef=r._view.def.nodes[0],r.hostView=n,r.changeDetectorRef=n,r.instance=i,r}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Sn(ki(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Jr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(be);function zr(t,e,n){return new Gr(t,e,n)}var Gr=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Sn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Jr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Ji(t),t=t.parent;return t?new Jr(t,e):new Jr(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Nr(this._data,t);Ri.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Xr(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i},t.prototype.createComponent=function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof Ae||(r=o.get(De));var l=t.create(o,i,void 0,r);return this.insert(l.hostView,e),l},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,r,o,l=t;return r=l._view,o=(n=this._data).viewContainer._embeddedViews,null!==(i=e)&&void 0!==i||(i=o.length),r.viewContainerParent=this._view,Fr(o,i,r),function(t,e){var n=Zi(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var i=n.parent;i;)i.childFlags|=4,i=i.parent}}(0,e.parentNodeDef)}}(n,r),Ri.dirtyParentQueries(r),jr(n,i>0?o[i-1]:null,r),l.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,r,o,l,a=this._embeddedViews.indexOf(t._view);return r=e,l=(o=(n=this._data).viewContainer._embeddedViews)[i=a],Vr(o,i),null==r&&(r=o.length),Fr(o,r,l),Ri.dirtyParentQueries(l),Lr(l),jr(n,r>0?o[r-1]:null,l),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Nr(this._data,t);e&&Ri.destroyView(e)},t.prototype.detach=function(t){var e=Nr(this._data,t);return e?new Xr(e):null},t}();function Yr(t){return new Xr(t)}var Xr=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ur(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Xi(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Ri.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Ri.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ri.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Lr(this._view),Ri.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Kr(t,e){return new Qr(t,e)}var Qr=function(t){function e(e,n){var i=t.call(this)||this;return i._parentView=e,i._def=n,i}return Object(i.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Xr(Ri.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Sn(ki(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Mn);function Zr(t,e){return new Jr(t,e)}var Jr=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=at.THROW_IF_NOT_FOUND),Ri.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Fi(t)},e)},t}();function $r(t,e){var n=t.def.nodes[e];if(1&n.flags){var i=ki(t,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return Ti(t,n.nodeIndex).renderText;if(20240&n.flags)return Ai(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function to(t){return new eo(t.renderer)}var eo=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=gr(e),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=gr(e),r=i[0],o=i[1];null!=n?this.delegate.setAttribute(t,o,n,r):this.delegate.removeAttribute(t,o,r)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function no(t,e,n,i){return new io(t,e,n,i)}var io=function(){function t(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var r=e.providers[i];4096&r.flags||(n[i]=Mr(t,r))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=at.THROW_IF_NOT_FOUND),Pr(this,{token:t,tokenKey:Fi(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Te)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+tt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var r=t._providers[i];r&&r!==Ar&&r.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),ro=Fi(bn),oo=Fi(xn),lo=Fi(Sn),ao=Fi(Nn),so=Fi(Mn),uo=Fi(jn),co=Fi(at);function ho(t,e,n,i,r,o,l,a){var s=[];if(l)for(var u in l){var c=l[u];s[c[0]]={flags:8,name:u,nonMinifiedName:c[1],ns:null,securityContext:null,suffix:null}}var h=[];if(a)for(var d in a)h.push({type:1,propName:d,target:null,eventName:a[d]});return go(t,e|=16384,n,i,r,r,o,s,h)}function po(t,e,n){return go(-1,t|=16,null,0,e,e,n)}function fo(t,e,n,i,r){return go(-1,t,e,0,n,i,r)}function go(t,e,n,i,r,o,l,a,s){var u=rr(n),c=u.matchedQueries,h=u.references,d=u.matchedQueryIds;s||(s=[]),a||(a=[]),o=nt(o);var p=or(l,tt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:mr(a),outputs:s,element:null,provider:{token:r,value:o,deps:p},text:null,query:null,ngContent:null}}function mo(t,e){return wo(t,e)}function vo(t,e){for(var n=t;n.parent&&!er(n);)n=n.parent;return _o(n.parent,Ji(n),!0,e.provider.value,e.provider.deps)}function yo(t,e){var n=_o(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var r=e.outputs[i],o=n[r.propName].subscribe(bo(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=o.unsubscribe.bind(o)}return n}function bo(t,e,n){return function(i){return Qi(t,e,n,i)}}function wo(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return _o(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){var o=r.length;switch(o){case 0:return i();case 1:return i(xo(t,e,n,r[0]));case 2:return i(xo(t,e,n,r[0]),xo(t,e,n,r[1]));case 3:return i(xo(t,e,n,r[0]),xo(t,e,n,r[1]),xo(t,e,n,r[2]));default:for(var l=Array(o),a=0;a<o;a++)l[a]=xo(t,e,n,r[a]);return i.apply(void 0,l)}}(t,e.parent,n,i.value,i.deps);case 2048:return xo(t,e.parent,n,i.deps[0]);case 256:return i.value}}function _o(t,e,n,i,r){var o=r.length;switch(o){case 0:return new i;case 1:return new i(xo(t,e,n,r[0]));case 2:return new i(xo(t,e,n,r[0]),xo(t,e,n,r[1]));case 3:return new i(xo(t,e,n,r[0]),xo(t,e,n,r[1]),xo(t,e,n,r[2]));default:for(var l=new Array(o),a=0;a<o;a++)l[a]=xo(t,e,n,r[a]);return new(i.bind.apply(i,[void 0].concat(l)))}}var Co={};function xo(t,e,n,i,r){if(void 0===r&&(r=at.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var l=i.tokenKey;for(l===uo&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);t;){if(e)switch(l){case ro:return to(So(t,e,n));case oo:return So(t,e,n).renderer;case lo:return new Sn(ki(t,e.nodeIndex).renderElement);case ao:return ki(t,e.nodeIndex).viewContainer;case so:if(e.element.template)return ki(t,e.nodeIndex).template;break;case uo:return Yr(So(t,e,n));case co:return Zr(t,e);default:var a=(n?e.element.allProviders:e.element.publicProviders)[l];if(a){var s=Ai(t,a.nodeIndex);return s||(s={instance:wo(t,a)},t.nodes[a.nodeIndex]=s),s.instance}}n=er(t),e=Ji(t),t=t.parent}var u=o.root.injector.get(i.token,Co);return u!==Co||r===Co?u:o.root.ngModule.injector.get(i.token,r)}function So(t,e,n){var i;if(n)i=ki(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!er(i);)i=i.parent;return i}function Eo(t,e,n,i,r,o){if(32768&n.flags){var l=ki(t,n.parent.nodeIndex).componentView;2&l.def.flags&&(l.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};var a=Xn.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new Kn(a,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function To(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0,r=0;r<n.length;r++){var o=n[r],l=o.parent;for(!l&&o.flags&e&&Ao(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);l&&1&l.flags&&r===l.nodeIndex+l.childCount;)l.directChildFlags&e&&(i=ko(t,l,e,i)),l=l.parent}}function ko(t,e,n,i){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&Ao(t,r,o.flags&n,i++),r+=o.childCount}return i}function Ao(t,e,n,i){var r=Ai(t,e);if(r){var o=r.instance;o&&(Ri.setCurrentNode(t,e),1048576&n&&Ei(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Ei(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Do(t,e,n){var i=[];for(var r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ir(e),bindings:i},ngContent:null}}function Oo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&nr(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,r=0;r<=i;r++)67108864&(o=t.def.nodes[r]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Oi(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}if(134217728&t.def.nodeFlags)for(r=0;r<t.def.nodes.length;r++){var o;134217728&(o=t.def.nodes[r]).flags&&536870912&o.flags&&Oi(t,r).setDirty(),r+=o.childCount}}function Io(t,e){var n=Oi(t,e.nodeIndex);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=Ro(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),i=Ai(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Ro(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var l=e.query.bindings,a=!1,s=0;s<l.length;s++){var u=l[s],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}i[u.propName]=c}a&&n.notifyOnChanges()}}function Ro(t,e,n,i,r){for(var o=e;o<=n;o++){var l=t.def.nodes[o],a=l.matchedQueries[i.id];if(null!=a&&r.push(Po(t,l,a)),1&l.flags&&l.element.template&&(l.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var s=ki(t,o);if((l.childMatchedQueries&i.filterId)===i.filterId&&(Ro(t,o+1,o+l.childCount,i,r),o+=l.childCount),16777216&l.flags)for(var u=s.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],d=Zi(h);d&&d===s&&Ro(h,0,h.def.nodes.length-1,i,r)}var p=s.template._projectedViews;if(p)for(c=0;c<p.length;c++){var f=p[c];Ro(f,0,f.def.nodes.length-1,i,r)}}(l.childMatchedQueries&i.filterId)!==i.filterId&&(o+=l.childCount)}return r}function Po(t,e,n){if(null!=n)switch(n){case 1:return ki(t,e.nodeIndex).renderElement;case 0:return new Sn(ki(t,e.nodeIndex).renderElement);case 2:return ki(t,e.nodeIndex).template;case 3:return ki(t,e.nodeIndex).viewContainer;case 4:return Ai(t,e.nodeIndex).instance}}function Mo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function No(t,e,n){var i=lr(t,e,n);i&&hr(t,n.ngContent.index,1,i,null,void 0)}function jo(t,e){return Vo(128,t,new Array(e+1))}function Lo(t,e){return Vo(32,t,new Array(e))}function Fo(t,e){for(var n=Object.keys(e),i=n.length,r=new Array(i),o=0;o<i;o++){var l=n[o];r[e[l]]=l}return Vo(64,t,r)}function Vo(t,e,n){for(var i=new Array(n.length),r=0;r<n.length;r++){var o=n[r];i[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:mr(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Bo(t,e,n){for(var i=new Array(n.length-1),r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Uo(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=lr(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function qo(t,e){return(null!=t?t.toString():"")+e.suffix}function Wo(t,e,n,i){for(var r=0,o=0,l=0,a=0,s=0,u=null,c=null,h=!1,d=!1,p=null,f=0;f<e.length;f++){var g=e[f];if(g.nodeIndex=f,g.parent=u,g.bindingIndex=r,g.outputIndex=o,g.renderParent=c,l|=g.flags,s|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=u?u.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,d=!1,g.element.template&&(s|=g.element.template.nodeMatchedQueries)}if(zo(u,g,e.length),r+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(p=g),20224&g.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?u.element.publicProviders[Fi(g.provider.token)]=g:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Fi(g.provider.token)]=g),v&&(u.element.componentProvider=g)}if(u?(u.childFlags|=g.flags,u.directChildFlags|=g.flags,u.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(u.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)u=g,Ho(g)||(c=g);else for(;u&&f===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&Ho(u)?u.renderParent:u}}return{factory:null,nodeFlags:l,rootNodeFlags:a,nodeMatchedQueries:s,flags:t,nodes:e,updateDirectives:n||ji,updateRenderer:i||ji,handleEvent:function(t,n,i,r){return e[n].element.handleEvent(t,i,r)},bindingCount:r,outputCount:o,lastRenderRootNode:p}}function Ho(t){return 0!=(1&t.flags)&&null===t.element.name}function zo(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Go(t,e,n,i){var r=Ko(t.root,t.renderer,t,e,n);return Qo(r,t.component,i),Zo(r),r}function Yo(t,e,n){var i=Ko(t,t.renderer,null,null,e);return Qo(i,n,n),Zo(i),i}function Xo(t,e,n,i){var r,o=e.element.componentRendererType;return r=o?t.root.rendererFactory.createRenderer(i,o):t.root.renderer,Ko(t.root,r,t,e.element.componentProvider,n)}function Ko(t,e,n,i,r){var o=new Array(r.nodes.length),l=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:l,initIndex:-1}}function Qo(t,e,n){t.component=e,t.context=n}function Zo(t){var e;er(t)&&(e=ki(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,i=t.nodes,r=0;r<n.nodes.length;r++){var o=n.nodes[r];Ri.setCurrentNode(t,r);var l=void 0;switch(201347067&o.flags){case 1:var a=Sr(t,e,o),s=void 0;if(33554432&o.flags){var u=sr(o.element.componentView);s=Ri.createComponentView(t,o,u,a)}Er(t,s,o,a),l={renderElement:a,componentView:s,viewContainer:null,template:o.element.template?Kr(t,o):void 0},16777216&o.flags&&(l.viewContainer=zr(t,o,l));break;case 2:l=Uo(t,e,o);break;case 512:case 1024:case 2048:case 256:(l=i[r])||4096&o.flags||(l={instance:mo(t,o)});break;case 16:l={instance:vo(t,o)};break;case 16384:(l=i[r])||(l={instance:yo(t,o)}),32768&o.flags&&Qo(ki(t,o.parent.nodeIndex).componentView,l.instance,l.instance);break;case 32:case 64:case 128:l={value:void 0};break;case 67108864:case 134217728:l=new Dn;break;case 8:No(t,e,o),l=void 0}i[r]=l}ll(t,ol.CreateViewNodes),cl(t,201326592,268435456,0)}function Jo(t){el(t),Ri.updateDirectives(t,1),al(t,ol.CheckNoChanges),Ri.updateRenderer(t,1),ll(t,ol.CheckNoChanges),t.state&=-97}function $o(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Si(t,0,256),el(t),Ri.updateDirectives(t,0),al(t,ol.CheckAndUpdate),cl(t,67108864,536870912,0);var e=Si(t,256,512);To(t,2097152|(e?1048576:0)),Ri.updateRenderer(t,0),ll(t,ol.CheckAndUpdate),cl(t,134217728,536870912,0),To(t,8388608|((e=Si(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Si(t,768,1024)}function tl(t,e,n,i,r,o,l,a,s,u,c,h,d){return 0===n?function(t,e,n,i,r,o,l,a,s,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,l,a,s,u,c,h){var d=e.bindings.length,p=!1;return d>0&&kr(t,e,0,n)&&(p=!0),d>1&&kr(t,e,1,i)&&(p=!0),d>2&&kr(t,e,2,r)&&(p=!0),d>3&&kr(t,e,3,o)&&(p=!0),d>4&&kr(t,e,4,l)&&(p=!0),d>5&&kr(t,e,5,a)&&(p=!0),d>6&&kr(t,e,6,s)&&(p=!0),d>7&&kr(t,e,7,u)&&(p=!0),d>8&&kr(t,e,8,c)&&(p=!0),d>9&&kr(t,e,9,h)&&(p=!0),p}(t,e,n,i,r,o,l,a,s,u,c,h);case 2:return function(t,e,n,i,r,o,l,a,s,u,c,h){var d=!1,p=e.bindings,f=p.length;if(f>0&&Gi(t,e,0,n)&&(d=!0),f>1&&Gi(t,e,1,i)&&(d=!0),f>2&&Gi(t,e,2,r)&&(d=!0),f>3&&Gi(t,e,3,o)&&(d=!0),f>4&&Gi(t,e,4,l)&&(d=!0),f>5&&Gi(t,e,5,a)&&(d=!0),f>6&&Gi(t,e,6,s)&&(d=!0),f>7&&Gi(t,e,7,u)&&(d=!0),f>8&&Gi(t,e,8,c)&&(d=!0),f>9&&Gi(t,e,9,h)&&(d=!0),d){var g=e.text.prefix;f>0&&(g+=qo(n,p[0])),f>1&&(g+=qo(i,p[1])),f>2&&(g+=qo(r,p[2])),f>3&&(g+=qo(o,p[3])),f>4&&(g+=qo(l,p[4])),f>5&&(g+=qo(a,p[5])),f>6&&(g+=qo(s,p[6])),f>7&&(g+=qo(u,p[7])),f>8&&(g+=qo(c,p[8])),f>9&&(g+=qo(h,p[9]));var m=Ti(t,e.nodeIndex).renderText;t.renderer.setValue(m,g)}return d}(t,e,n,i,r,o,l,a,s,u,c,h);case 16384:return function(t,e,n,i,r,o,l,a,s,u,c,h){var d=Ai(t,e.nodeIndex),p=d.instance,f=!1,g=void 0,m=e.bindings.length;return m>0&&zi(t,e,0,n)&&(f=!0,g=Eo(t,d,e,0,n,g)),m>1&&zi(t,e,1,i)&&(f=!0,g=Eo(t,d,e,1,i,g)),m>2&&zi(t,e,2,r)&&(f=!0,g=Eo(t,d,e,2,r,g)),m>3&&zi(t,e,3,o)&&(f=!0,g=Eo(t,d,e,3,o,g)),m>4&&zi(t,e,4,l)&&(f=!0,g=Eo(t,d,e,4,l,g)),m>5&&zi(t,e,5,a)&&(f=!0,g=Eo(t,d,e,5,a,g)),m>6&&zi(t,e,6,s)&&(f=!0,g=Eo(t,d,e,6,s,g)),m>7&&zi(t,e,7,u)&&(f=!0,g=Eo(t,d,e,7,u,g)),m>8&&zi(t,e,8,c)&&(f=!0,g=Eo(t,d,e,8,c,g)),m>9&&zi(t,e,9,h)&&(f=!0,g=Eo(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&Ei(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,o,l,a,s,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,o,l,a,s,u,c,h){var d=e.bindings,p=!1,f=d.length;if(f>0&&Gi(t,e,0,n)&&(p=!0),f>1&&Gi(t,e,1,i)&&(p=!0),f>2&&Gi(t,e,2,r)&&(p=!0),f>3&&Gi(t,e,3,o)&&(p=!0),f>4&&Gi(t,e,4,l)&&(p=!0),f>5&&Gi(t,e,5,a)&&(p=!0),f>6&&Gi(t,e,6,s)&&(p=!0),f>7&&Gi(t,e,7,u)&&(p=!0),f>8&&Gi(t,e,8,c)&&(p=!0),f>9&&Gi(t,e,9,h)&&(p=!0),p){var g=Di(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=i),f>2&&(m[2]=r),f>3&&(m[3]=o),f>4&&(m[4]=l),f>5&&(m[5]=a),f>6&&(m[6]=s),f>7&&(m[7]=u),f>8&&(m[8]=c),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=l),f>5&&(m[d[5].name]=a),f>6&&(m[d[6].name]=s),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:var v=n;switch(f){case 1:m=v.transform(n);break;case 2:m=v.transform(i);break;case 3:m=v.transform(i,r);break;case 4:m=v.transform(i,r,o);break;case 5:m=v.transform(i,r,o,l);break;case 6:m=v.transform(i,r,o,l,a);break;case 7:m=v.transform(i,r,o,l,a,s);break;case 8:m=v.transform(i,r,o,l,a,s,u);break;case 9:m=v.transform(i,r,o,l,a,s,u,c);break;case 10:m=v.transform(i,r,o,l,a,s,u,c,h)}}g.value=m}return p}(t,e,n,i,r,o,l,a,s,u,c,h);default:throw"unreachable"}}(t,e,i,r,o,l,a,s,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var i=!1,r=0;r<n.length;r++)kr(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Gi(t,e,o,n[o])&&(r=!0);if(r){var l="";for(o=0;o<n.length;o++)l+=qo(n[o],i[o]);l=e.text.prefix+l;var a=Ti(t,e.nodeIndex).renderText;t.renderer.setValue(a,l)}return r}(t,e,n);case 16384:return function(t,e,n){for(var i=Ai(t,e.nodeIndex),r=i.instance,o=!1,l=void 0,a=0;a<n.length;a++)zi(t,e,a,n[a])&&(o=!0,l=Eo(t,i,e,a,n[a],l));return l&&r.ngOnChanges(l),65536&e.flags&&Ei(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Gi(t,e,o,n[o])&&(r=!0);if(r){var l=Di(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:for(a={},o=0;o<n.length;o++)a[i[o].name]=n[o];break;case 128:var s=n[0],u=n.slice(1);a=s.transform.apply(s,u)}l.value=a}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function el(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=ki(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var l=r[o];l.state|=32,Ki(l,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function nl(t,e,n,i,r,o,l,a,s,u,c,h,d){return 0===n?function(t,e,n,i,r,o,l,a,s,u,c,h){var d=e.bindings.length;d>0&&Yi(t,e,0,n),d>1&&Yi(t,e,1,i),d>2&&Yi(t,e,2,r),d>3&&Yi(t,e,3,o),d>4&&Yi(t,e,4,l),d>5&&Yi(t,e,5,a),d>6&&Yi(t,e,6,s),d>7&&Yi(t,e,7,u),d>8&&Yi(t,e,8,c),d>9&&Yi(t,e,9,h)}(t,e,i,r,o,l,a,s,u,c,h,d):function(t,e,n){for(var i=0;i<n.length;i++)Yi(t,e,i,n[i])}(t,e,i),!1}function il(t,e){if(Oi(t,e.nodeIndex).dirty)throw Pi(Ri.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function rl(t){if(!(128&t.state)){if(al(t,ol.Destroy),ll(t,ol.Destroy),To(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Zi(t);if(e){var n=e.template._projectedViews;n&&(Vr(n,n.indexOf(t)),Ri.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(ki(t,n).renderElement):2&i.flags?t.renderer.destroyNode(Ti(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&Oi(t,n).destroy()}}(t),er(t)&&t.renderer.destroy(),t.state|=128}}var ol=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ll(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?sl(ki(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function al(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=ki(t,i).viewContainer._embeddedViews,l=0;l<o.length;l++)sl(o[l],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function sl(t,e){var n=t.state;switch(e){case ol.CheckNoChanges:0==(128&n)&&(12==(12&n)?Jo(t):64&n&&ul(t,ol.CheckNoChangesProjectedViews));break;case ol.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Jo(t):64&n&&ul(t,e));break;case ol.CheckAndUpdate:0==(128&n)&&(12==(12&n)?$o(t):64&n&&ul(t,ol.CheckAndUpdateProjectedViews));break;case ol.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?$o(t):64&n&&ul(t,e));break;case ol.Destroy:rl(t);break;case ol.CreateViewNodes:Zo(t)}}function ul(t,e){al(t,e),ll(t,e)}function cl(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var l=t.def.nodes[o];if(l.flags&e&&l.flags&n)switch(Ri.setCurrentNode(t,l.nodeIndex),i){case 0:Io(t,l);break;case 1:il(t,l)}l.childFlags&e&&l.childFlags&n||(o+=l.childCount)}}var hl=!1;function dl(){if(!hl){hl=!0;var t=ln()?{setCurrentNode:Ml,createRootView:fl,createEmbeddedView:ml,createComponentView:vl,createNgModuleRef:yl,overrideProvider:_l,overrideComponentView:Cl,clearOverrides:xl,checkAndUpdateView:kl,checkNoChangesView:Al,destroyView:Dl,createDebugContext:function(t,e){return new Hl(t,e)},handleEvent:Nl,updateDirectives:jl,updateRenderer:Ll}:{setCurrentNode:function(){},createRootView:pl,createEmbeddedView:Go,createComponentView:Xo,createNgModuleRef:no,overrideProvider:ji,overrideComponentView:ji,clearOverrides:ji,checkAndUpdateView:$o,checkNoChangesView:Jo,destroyView:rl,createDebugContext:function(t,e){return new Hl(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?El:Tl,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?El:Tl,t)}};Ri.setCurrentNode=t.setCurrentNode,Ri.createRootView=t.createRootView,Ri.createEmbeddedView=t.createEmbeddedView,Ri.createComponentView=t.createComponentView,Ri.createNgModuleRef=t.createNgModuleRef,Ri.overrideProvider=t.overrideProvider,Ri.overrideComponentView=t.overrideComponentView,Ri.clearOverrides=t.clearOverrides,Ri.checkAndUpdateView=t.checkAndUpdateView,Ri.checkNoChangesView=t.checkNoChangesView,Ri.destroyView=t.destroyView,Ri.resolveDep=xo,Ri.createDebugContext=t.createDebugContext,Ri.handleEvent=t.handleEvent,Ri.updateDirectives=t.updateDirectives,Ri.updateRenderer=t.updateRenderer,Ri.dirtyParentQueries=Oo}}function pl(t,e,n,i,r,o){return Yo(gl(t,r,r.injector.get(_n),e,n),i,o)}function fl(t,e,n,i,r,o){var l=r.injector.get(_n),a=gl(t,r,new Xl(l),e,n),s=Sl(i);return Gl(Pl.create,Yo,null,[a,s,o])}function gl(t,e,n,i,r){var o=e.injector.get(xi),l=e.injector.get(kt);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:l}}function ml(t,e,n,i){var r=Sl(n);return Gl(Pl.create,Go,null,[t,e,r,i])}function vl(t,e,n,i){return n=wl.get(e.element.componentProvider.provider.token)||Sl(n),Gl(Pl.create,Xo,null,[t,e,n,i])}function yl(t,e,n,i){return no(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===bl.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var i=bl.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var i=t.providers[e];n&&(i.flags|=4096);var r=bl.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=or(r.deps),i.value=r.value)}}(t=t.factory(function(){return ji})),t):t}(i))}var bl=new Map,wl=new Map;function _l(t){bl.set(t.token,t)}function Cl(t,e){var n=sr(sr(qr(e)).nodes[0].element.componentView);wl.set(t,n)}function xl(){bl.clear(),wl.clear()}function Sl(t){if(0===bl.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&bl.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return ji});for(var n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var r=i.provider,o=bl.get(r.token);o&&(i.flags=-3841&i.flags|o.flags,r.deps=or(o.deps),r.value=o.value)}}}}function El(t,e,n,i,r,o,l,a,s,u,c,h,d){var p=t.def.nodes[e];return tl(t,p,n,i,r,o,l,a,s,u,c,h,d),224&p.flags?Di(t,e).value:void 0}function Tl(t,e,n,i,r,o,l,a,s,u,c,h,d){var p=t.def.nodes[e];return nl(t,p,n,i,r,o,l,a,s,u,c,h,d),224&p.flags?Di(t,e).value:void 0}function kl(t){return Gl(Pl.detectChanges,$o,null,[t])}function Al(t){return Gl(Pl.checkNoChanges,Jo,null,[t])}function Dl(t){return Gl(Pl.destroy,rl,null,[t])}var Ol,Il,Rl,Pl=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function Ml(t,e){Il=t,Rl=e}function Nl(t,e,n,i){return Ml(t,e),Gl(Pl.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function jl(t,e){if(128&t.state)throw Ni(Pl[Ol]);return Ml(t,ql(t,0)),t.def.updateDirectives(function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var l=t.def.nodes[n];return 0===e?Fl(t,l,i,r):Vl(t,l,i,r),16384&l.flags&&Ml(t,ql(t,n)),224&l.flags?Di(t,l.nodeIndex).value:void 0},t)}function Ll(t,e){if(128&t.state)throw Ni(Pl[Ol]);return Ml(t,Wl(t,0)),t.def.updateRenderer(function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var l=t.def.nodes[n];return 0===e?Fl(t,l,i,r):Vl(t,l,i,r),3&l.flags&&Ml(t,Wl(t,n)),224&l.flags?Di(t,l.nodeIndex).value:void 0},t)}function Fl(t,e,n,i){if(tl.apply(void 0,[t,e,n].concat(i))){var r=1===n?i[0]:i;if(16384&e.flags){for(var o={},l=0;l<e.bindings.length;l++){var a=e.bindings[l],s=r[l];8&a.flags&&(o[(d=a.nonMinifiedName,"ng-reflect-"+(d=d.replace(/[$@]/g,"_").replace(Bl,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Ul(s))}var u=e.parent,c=ki(t,u.nodeIndex).renderElement;if(u.element.name)for(var h in o)null!=(s=o[h])?t.renderer.setAttribute(c,h,s):t.renderer.removeAttribute(c,h);else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}var d}function Vl(t,e,n,i){nl.apply(void 0,[t,e,n].concat(i))}var Bl=/([A-Z])/g;function Ul(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ql(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function Wl(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var Hl=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,i=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Ji(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return ki(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Zr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){zl(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&zl(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!er(t);)t=t.parent;return t.parent?ki(t.parent,Ji(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?$i(this.view,this.nodeDef):$i(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(e,n),l=-1;e.factory(function(){return++l===o?(e=t.error).bind.apply(e,[t].concat(i)):ji;var e}),l<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,i))},t}();function zl(t,e,n){for(var i in e.references)n[i]=Po(t,e,e.references[i])}function Gl(t,e,n,i){var r=Ol,o=Il,l=Rl;try{Ol=t;var a=e.apply(n,i);return Il=o,Rl=l,Ol=r,a}catch(t){if(St(t)||!Il)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Mi(t,e),t}(t,Yl())}}function Yl(){return Il?new Hl(Il,Rl):null}var Xl=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Kl(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Kl=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){Hn.delete(t.nativeNode)}(zn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),i=Yl();if(i){var r=new Bn(n,null,i);r.name=t,Gn(r)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Yl();return n&&Gn(new Vn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Yl();return n&&Gn(new Vn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=zn(t),i=zn(e);n&&i&&n instanceof Bn&&n.addChild(i),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var i=zn(t),r=zn(e),o=zn(n);i&&r&&i instanceof Bn&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=zn(t),i=zn(e);n&&i&&n instanceof Bn&&n.removeChild(i),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Yl();return n&&Gn(new Bn(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,i){var r=zn(t);r&&r instanceof Bn&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){var i=zn(t);i&&i instanceof Bn&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=zn(t);n&&n instanceof Bn&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=zn(t);n&&n instanceof Bn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){var r=zn(t);r&&r instanceof Bn&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){var i=zn(t);i&&i instanceof Bn&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var i=zn(t);i&&i instanceof Bn&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var i=zn(t);i&&i.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Ql(t){return dl(),Ri.overrideProvider(t)}function Zl(t,e){return dl(),Ri.overrideComponentView(t,e)}function Jl(){return dl(),Ri.clearOverrides()}function $l(t,e,n){return new ta(t,e,n)}var ta=function(t){function e(e,n,i){var r=t.call(this)||this;return r.moduleType=e,r._bootstrapComponents=n,r._ngModuleDefFactory=i,r}return Object(i.__extends)(e,t),e.prototype.create=function(t){dl();var e=sr(this._ngModuleDefFactory);return Ri.createNgModuleRef(this.moduleType,t||at.NULL,this._bootstrapComponents,e)},e}(Oe);function ea(t){return"string"==typeof t?'"'+t+'"':""+t}function na(t,e,n,i){t!=e&&oa(t,e,n,"==",i)}function ia(t,e){ra(t,null,e)}function ra(t,e,n){t==e&&oa(t,e,n,"!=")}function oa(t,e,n,i,r){throw void 0===r&&(r=ea),new Error("ASSERT: expected "+n+" "+i+" "+r(e)+" but was "+r(t)+"!")}function la(t,e){ra(t,null,"node"),na(3&t.flags,e,"Node.type",aa)}function aa(t){return 1==t?"Projection":0==t?"Container":2==t?"View":3==t?"Element":"??? "+t+" ???"}function sa(t,e,n,i){ngDevMode&&la(t,0),ngDevMode&&la(e,2);var r=function(t){for(var e=t;e;){ngDevMode&&la(e,0);var n=e.data.renderParent;if(null!==n)return n.native;var i=e.parent;if(ngDevMode&&ia(i,"container.parent"),3==(3&i.flags))return null;ngDevMode&&la(i,2),e=i.parent}return null}(t),o=e.child;if(r)for(;o;){var l=3&o.flags,a=null,s=t.view.renderer,u=s.listen;if(3===l)n?u?s.insertBefore(r,o.native,i):r.insertBefore(o.native,i,!0):u?s.removeChild(r,o.native):r.removeChild(o.native),a=o.next;else if(0===l){var c=o.data;n?u?s.appendChild(r,o.native):r.appendChild(o.native):u?s.removeChild(r,o.native):r.removeChild(o.native),a=c.views.length?c.views[0].child:null}else a=1===l?o.data[0]:o.child;if(null===a){for(;o&&!o.next;)(o=o.parent)===e&&(o=null);o=o&&o.next}else o=a}}function ua(t,e){var n=t.data.views,i=n[e];return e>0&&ca(n[e-1],i.next),n.splice(e,1),function(t){for(var e=t;e;){var n=null;if(e.views&&e.views.length?n=e.views[0].data:e.child?n=e.child:e.next&&(da(e),n=e.next),null==n){for(;e&&!e.next;)da(e),e=ha(e,t);da(e||t),n=e&&e.next}e=n}}(i.data),sa(t,i,!1),t.query&&t.query.removeView(t,i,e),i}function ca(t,e){t.next=e,t.data.next=e?e.data:null}function ha(t,e){var n;return(n=t.node)&&2==(3&n.flags)?n.parent.data:t.parent===e?null:t.parent}function da(t){if(t.cleanup){for(var e=t.cleanup,n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(e[n+1].removeEventListener(e[n],e[n+2],e[n+3]),n+=2):e[n].call(e[n+1]);t.cleanup=null}}function pa(t,e,n){if(null!==e&&3==(3&t.flags)&&(t.view!==n||null===t.data)){var i=n.renderer;return i.listen?i.appendChild(t.native,e):t.native.appendChild(e),!0}return!1}function fa(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":""+t}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof t&&(t.ngDevMode=!0));var ga,ma,va,ya,ba,wa,_a,Ca,xa,Sa,Ea,Ta=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ka={createRenderer:function(t,e){return document}},Aa="__ngHostLNode__";function Da(t,e){var n=wa;return xa=t.data,Sa=t.bindingStartIndex||0,ba=t.ngStaticData,Ca=t.creationMode,Ea=t.viewHookStartIndex,ga=t.renderer,null!=e&&(va=e,ya=!0),wa=t,n}function Oa(t){!function(){if(null!=Ea){for(var t=Ea,e=t;t<xa.length;)xa[t+1].call(xa[t+2]),16===xa[t]&&(e<t&&(xa[e]=xa[t],xa[e+1]=xa[t+1],xa[e+2]=xa[t+2]),e+=3),t+=3;xa.length=e}}(),Da(t,null)}function Ia(t,e,n){return{parent:wa,id:t,node:null,data:[],ngStaticData:n,cleanup:null,renderer:e,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}function Ra(t,e,n,i){var r=ya?va:va&&va.parent,o=(ya?_a:va&&va.query)||r&&r.query&&r.query.child(),l=null!=i,a={flags:e,native:n,view:wa,parent:r,child:null,next:null,nodeInjector:r?r.nodeInjector:null,data:l?i:null,query:o,staticData:null};return 2==(2&e)&&l&&(ngDevMode&&na(i.node,null,"viewState.node"),i.node=a),null!=t&&(ngDevMode&&na(xa.length,t,"data.length not in sequence"),xa[t]=a,t>=ba.length?ba[t]=null:a.staticData=ba[t],ya?(_a=null,va.view!==wa&&2!=(3&va.flags)||(ngDevMode&&na(va.child,null,"previousNode.child"),va.child=a)):va&&(ngDevMode&&na(va.next,null,"previousNode.next"),va.next=a)),va=a,ya=!0,a}function Pa(t,e,n,i){var r,o;if(null==e){var l=xa[t];o=l&&l.native}else{ngDevMode&&na(wa.bindingStartIndex,null,"bindingStartIndex");var a="string"!=typeof e,s=a?e.tag:e;if(null===s)throw"for now name is required";o=ga.createElement(s);var u=null;if(a){var c=Ma(e.template);u=Za(Ia(-1,ma.createRenderer(o,e.rendererType),c))}null==(r=Ra(t,3,o,u)).staticData&&(ngDevMode&&ns(t-1),r.staticData=ba[t]=Va(s,n||null,null,i||null)),n&&function(t,e){ngDevMode&&na(e.length%2,0,"attrs.length % 2");for(var n=ga.setAttribute,i=0;i<e.length;i+=2)n?ga.setAttribute(t,e[i],e[1|i]):t.setAttribute(e[i],e[1|i])}(o,n),pa(r.parent,o,wa)}return o}function Ma(t){return t.ngStaticData||(t.ngStaticData=[])}function Na(t,e){return new Error("Renderer: "+t+" ["+fa(e)+"]")}function ja(t,e){ngDevMode&&ns(-1),ma=t;var n=t.createRenderer(null,null),i="string"==typeof e?n.selectRootElement?n.selectRootElement(e):n.querySelector(e):e;if(ngDevMode&&!i)throw Na("string"==typeof e?"Host node with selector not found:":"Host node is required:",e);return i}function La(){ya?ya=!1:(ngDevMode&&es(),va=va.parent),ngDevMode&&la(va,3);var t=va.query;t&&t.addNode(va)}function Fa(t,e,n){if(n!==Ja){var i=xa[t],r=i.staticData;void 0===r.inputs&&(r.inputs=null,r=function(t,e,n){void 0===n&&(n=!1);for(var i=t>>12,r=i,o=i+((4092&t)>>2);r<o;r++){var l=ba[r],a=n?l.inputs:l.outputs;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s],c=n?e.inputs||(e.inputs={}):e.outputs||(e.outputs={});c.hasOwnProperty(s)?c[s].push(r,u):c[s]=[r,u]}}return e}(i.flags,r,!0));var o,l=r.inputs;if(l&&(o=l[e]))!function(t,e){for(var n=0;n<t.length;n+=2)ngDevMode&&ns(t[n]),xa[t[n]][t[1|n]]=e}(o,n);else{var a=i.native;ga.setProperty?ga.setProperty(a,e,n):a.setProperty?a.setProperty(e,n):a[e]=n}}}function Va(t,e,n,i){return{tagName:t,attrs:e,localNames:i?[i,-1]:null,initialInputs:void 0,inputs:void 0,outputs:void 0,containerStatic:n}}function Ba(t,e,n,i){if(n!==Ja){var r=xa[t];null==n?ga.removeStyle?ga.removeStyle(r.native,e,Ta.DashCase):r.native.style.removeProperty(e):ga.setStyle?ga.setStyle(r.native,e,i?fa(n)+i:fa(n),Ta.DashCase):r.native.style.setProperty(e,i?fa(n)+i:fa(n))}}function Ua(t,e){ngDevMode&&na(wa.bindingStartIndex,null,"bindingStartIndex");var n=null!=e?ga.createText?ga.createText(fa(e)):ga.createTextNode(fa(e)):null,i=Ra(t,3,n);ya=!1,pa(i.parent,n,wa)}function qa(t,e){var n=t<xa.length&&xa[t];n&&n.native?e!==Ja&&(ga.setValue?ga.setValue(n.native,fa(e)):n.native.textContent=fa(e)):n?(n.native=ga.createText?ga.createText(fa(e)):ga.createTextNode(fa(e)),function(t,e){var n=t.parent;if(3==(3&n.flags)&&(n.view!==e||null===n.data)){for(var i=t.next,r=null;i&&null===(r=i.native);)i=i.next;var o=e.renderer;o.listen?o.insertBefore(n.native,t.native,r):n.native.insertBefore(t.native,r,!1)}}(n,wa)):Ua(t,e)}function Wa(t,e,n,i){var r;if(null==e)ngDevMode&&ns(t),r=xa[t];else{ngDevMode&&na(wa.bindingStartIndex,null,"bindingStartIndex"),ngDevMode&&na(ya,!0,"isParent");var o=va.flags;if(0==(4092&o)?o=t<<12|4|3&o:o+=4,va.flags=o,ngDevMode&&ns(t-1),Object.defineProperty(e,Aa,{enumerable:!1,value:va}),xa[t]=r=e,t>=ba.length&&(ba[t]=n,i)){ngDevMode&&ia(va.staticData,"previousOrParentNode.staticData");var l=va.staticData;(l.localNames||(l.localNames=[])).push(i,t)}var a=n.diPublic;a&&a(n);var s=va.staticData;s&&s.attrs&&function(t,e,i){var r=((4092&va.flags)>>2)-1,o=i.initialInputs;(void 0===o||r>=o.length)&&(o=function(t,e,n){var i=n.initialInputs||(n.initialInputs=[]);i[t]=null;for(var r=n.attrs,o=0;o<r.length;o+=2){var l=e[r[o]];void 0!==l&&(i[t]||(i[t]=[])).push(l,r[1|o])}return i}(r,n.inputs,i));var l=o[r];if(l)for(var a=0;a<l.length;a+=2)t[l[a]]=l[1|a]}(r,0,s)}return r}function Ha(t,e,n,i,r){ngDevMode&&na(wa.bindingStartIndex,null,"bindingStartIndex");var o=ga.createComment(ngDevMode?"container":""),l=null,a=ya?va:va.parent;ngDevMode&&ra(a,null,"currentParent"),pa(a,o,wa)&&(l=a);var s=Ra(t,0,o,{views:[],nextIndex:0,renderParent:l,template:null==e?null:e,next:null,parent:wa});null==s.staticData&&(s.staticData=ba[t]=Va(n||null,i||null,[],r||null)),Za(s.data)}function za(){ya?ya=!1:(ngDevMode&&es(),va=va.parent),ngDevMode&&la(va,0);var t=va.query;t&&t.addNode(va)}function Ga(t){ngDevMode&&ns(t),va=xa[t],ngDevMode&&la(va,0),ya=!0,va.data.nextIndex=0}function Ya(){ya?ya=!1:(ngDevMode&&la(va,2),ngDevMode&&es(),va=va.parent),ngDevMode&&la(va,0);var t=va;ngDevMode&&la(t,0);for(var e=t.data.nextIndex;e<t.data.views.length;)ua(t,e)}function Xa(t){var e=ya?va:va.parent;ngDevMode&&la(e,0);var n=e.data,i=n.views,r=!Ca&&n.nextIndex<i.length&&i[n.nextIndex],o=r&&t===r.data.id;if(o)va=i[n.nextIndex++],ngDevMode&&la(va,2),ya=!0,Da(r.data,va);else{var l=Ia(t,ga,function(t,e){ngDevMode&&la(e,0);var n=e.staticData.containerStatic;return(t>=n.length||null==n[t])&&(n[t]=[]),n[t]}(t,e));Da(l,Ra(null,2,null,l)),n.nextIndex++}return!o}function Ka(){ya=!1;var t=va=wa.node,e=va.parent;ngDevMode&&la(t,2),ngDevMode&&la(e,0);var n=e.data,i=n.nextIndex<=n.views.length?n.views[n.nextIndex-1]:null;(null==i||i.data.id!==t.data.id)&&(function(t,e,n){var i=t.data,r=i.views;n>0&&ca(r[n-1],e),n<r.length&&r[n].data.id!==e.data.id?(ca(e,r[n]),r.splice(n,0,e)):n>=r.length&&r.push(e),i.nextIndex<=n&&i.nextIndex++,null!==t.data.renderParent&&sa(t,e,!0,function(e,n,i){var r=n.views;return e+1<r.length?r[e+1].child.native:t.native}(n,i)),t.query&&t.query.insertView(t,e,n)}(e,t,n.nextIndex-1),wa.creationMode=!1),Oa(wa.parent),ngDevMode&&na(ya,!1,"isParent"),ngDevMode&&la(va,2)}wa=Ia(null,null,[]);var Qa=function(t,e,n){ngDevMode&&ns(e);var i=xa[e];ngDevMode&&la(i,3),ngDevMode&&ra(i.data,null,"isComponent"),ngDevMode&&ns(t);var r=i.data;ngDevMode&&ra(r,null,"hostView");var o=xa[t],l=Da(r,i);try{n(o,Ca)}finally{r.creationMode=!1,Oa(l)}};function Za(t){return wa.tail?wa.tail.next=t:wa.child=t,wa.tail=t,t}var Ja={};function $a(t){var e,n,i;return(e=Ca)?("number"!=typeof wa.bindingStartIndex&&(Sa=wa.bindingStartIndex=xa.length),xa[Sa++]=t):((e=t!==Ja&&(i=t,!((n=xa[Sa])!=n&&i!=i)&&n!==i))&&(xa[Sa]=t),Sa++),e?t:Ja}function ts(t,e,n){return $a(e)===Ja?Ja:t+fa(e)+n}function es(){ra(va.parent,null,"isParent")}function ns(t,e){var n,i;null==e&&(e=xa),(n=e?e.length:0)<(i=t)&&oa(n,i,"data.length",">")}function is(t,e){void 0===e&&(e={});var n,i=e.rendererFactory||ka,r=t.ngComponentDef,o=ja(i,e.host||r.tag),l=Da(Ia(-1,i.createRenderer(o,r.rendererType),[]),null);try{ya=!1,va=null,Ra(0,3,o,Ia(-1,ga,Ma(r.template))),n=Wa(1,r.n(),r)}finally{Oa(l)}return e.features&&e.features.forEach(function(t){return t(n,r)}),rs(n),n}function rs(t){ngDevMode&&ia(t,"component");var e=t[Aa];ngDevMode&&!e&&Na("Not a directive instance",t),ngDevMode&&ia(e.data,"hostNode.data"),function(t,n,i,r){var o=Da(n,e);try{ma.begin&&ma.begin(),i.constructor.ngComponentDef.r(1,0)}finally{ma.end&&ma.end(),n.creationMode=!1,Oa(o)}}(0,e.view,t)}function os(t){var e={type:t.type,diPublic:null,n:t.factory,tag:t.tag||null,template:t.template||null,r:t.refresh||function(e,n){Qa(e,n,t.template)},h:t.hostBindings||as,inputs:ss(t.inputs),outputs:ss(t.outputs),methods:ss(t.methods),rendererType:Hi(t.rendererType)||null},n=t.features;return n&&n.forEach(function(t){return t(e)}),e}var ls={};function as(){}function ss(t){if(null==t)return ls;var e={};for(var n in t)e[t[n]]=n;return e}function us(t,e){return{type:7,name:t,definitions:e,options:{}}}function cs(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function hs(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function ds(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function ps(t){return{type:6,styles:t,offset:null}}function fs(t,e,n){return{type:0,name:t,styles:e,options:n}}function gs(t){return{type:5,steps:t}}function ms(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}var vs="*";function ys(t,e){return us(t,e)}function bs(t,e){return cs(t,e)}function ws(t){return hs(t)}function _s(t){return ds(t)}function Cs(t){return ps(t)}function xs(t,e){return fs(t,e)}function Ss(t){return gs(t)}function Es(t,e){return ms(t,e)}}).call(e,n("DuR2"))},"Wk+B":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("O4tu"))&&"object"==typeof i&&"default"in i?i.default:i,o=n("fjI4"),l=n("EEcg"),a=n("GB/M"),s=n("Pxmi"),u=r.SDK_VERSION,c=new o.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function d(){return c.logLevel===o.LogLevel.DEBUG?h.DEBUG:c.logLevel===o.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:c.logLevel=o.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=o.LogLevel.ERROR;break;case h.SILENT:c.logLevel=o.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(c.logLevel<=o.LogLevel.DEBUG){var r=n.map(m);c.debug.apply(c,["Firestore ("+u+") ["+t+"]: "+e].concat(r))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var i=e.map(m);c.error.apply(c,["Firestore ("+u+"): "+t].concat(i))}}function m(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function v(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function y(t,e){t||v(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var i=t.call(this,n)||this;return i.code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return l.__extends(e,t),e}(Error);function x(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(_.INVALID_ARGUMENT,t)}for(var i in n.prototype=t.prototype,t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Number(n);isNaN(i)||e(i,t[n])}}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e){if(0!==e.length)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+z(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires "+z(n,"argument")+", but was called with "+z(e.length,"argument")+".")}function I(t,e,n){if(e.length<n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+z(n,"argument")+", but was called with "+z(e.length,"argument")+".")}function R(t,e,n,i){if(e.length<n||e.length>i)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+z(e.length,"argument")+".")}function P(t,e,n,i){F(t,e,H(n)+" argument",i)}function M(t,e,n,i){void 0!==i&&P(t,e,n,i)}function N(t,e,n,i){F(t,e,n+" option",i)}function j(t,e,n,i){void 0!==i&&N(t,e,n,i)}function L(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var o=[],l=0,a=r;l<a.length;l++){var s=a[l];if(s===i)return;o.push(B(s))}var u=B(i);throw new C(_.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,i,r)}function F(t,e,n,i){if(!("object"===e?V(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=B(i);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function U(t,e,n){if(void 0===n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function q(t,e,n){k(e,function(e,i){if(n.indexOf(e)<0)throw new C(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function W(t,e,n,i){var r=B(i);return new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+r)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function z(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function Y(t,e){return t<e?-1:t>e?1:0}function X(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function K(t){return t+"\0"}function Q(){if("undefined"==typeof Uint8Array)throw new C(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Z(){if(!b.getPlatform().base64Available)throw new C(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var J=function(){function t(t){Z(),this._binaryString=t}return t.fromBase64String=function(e){O("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),Z();try{return new t(b.getPlatform().atob(e))}catch(t){throw new C(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(O("Blob.fromUint8Array",arguments,1),Q(),!(e instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),Z(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){O("Blob.toUint8Array",arguments,0),Q();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Y(this._binaryString,t._binaryString)},t}(),$=x(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(O("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Y(this._lat,t._lat)||Y(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Y(this.nanoseconds,t.nanoseconds):Y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||nt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===nt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Y(this.projectId,t.projectId)||Y(this.database,t.database)},t}(),rt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var i=Object.create(Object.getPrototypeOf(this));return i.init(t,e,n),i},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return y(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(rt),lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.__extends(e,t),e.isValidIdentifier=function(t){return lt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},l=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new C(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new C(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=s,r+=2}else"`"===a?(l=!l,r++):"."!==a||l?(i+=a,r++):(o(),r++)}if(o(),l)throw new C(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(rt),st=function(){function t(e){this.path=e,y(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ot.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ot.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ot(e.slice()))},t.fromPathString=function(e){return new t(ot.fromString(e))},t.EMPTY=new t(new ot([])),t}(),ut=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return st.comparator(t.key,e.key)},t}(),ct=function(t){function e(e,n,i,r,o){var l=t.call(this,e,n)||this;return l.data=i,l.proto=o,l.hasLocalMutations=!!r.hasLocalMutations,l.hasCommittedMutations=!!r.hasCommittedMutations,l}return l.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var i=e.field(t),r=n.field(t);return void 0!==i&&void 0!==r?i.compareTo(r):v("Trying to compare documents on fields that don't exist")},e}(ut),ht=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return l.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ut),dt=function(t){function e(e,n){return t.call(this,e,n)||this}return l.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ut),pt=function(){function t(t,e){this.comparator=t,this.root=e||gt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ft(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ft(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ft(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ft(this.root,t,this.comparator,!0)},t}(),ft=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),gt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();gt.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new gt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var mt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),vt=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),yt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(vt.Estimate,n);case"previous":return new t(vt.Previous,n);case"none":case void 0:return new t(vt.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),bt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return y(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Y(this.typeOrder,t.typeOrder)},t}(),wt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=mt.NullValue,e.internalValue=null,e}return l.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(bt),_t=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.BooleanValue,n}return l.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Y(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(bt),Ct=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.NumberValue,n}return l.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(i=t.internalValue)?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1:this.defaultCompareTo(t);var n,i},e}(bt);function xt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var St=function(t){function e(e){return t.call(this,e)||this}return l.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&xt(this.internalValue,t.internalValue)},e}(Ct),Et=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return l.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&xt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ct),Tt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.StringValue,n}return l.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Y(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(bt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.TimestampValue,n}return l.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof At?-1:this.defaultCompareTo(t)},e}(bt),At=function(t){function e(e,n){var i=t.call(this)||this;return i.localWriteTime=e,i.previousValue=n,i.typeOrder=mt.TimestampValue,i}return l.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===vt.Estimate?new kt(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===vt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof kt?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(bt),Dt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.BlobValue,n}return l.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),Ot=function(t){function e(e,n){var i=t.call(this)||this;return i.databaseId=e,i.key=n,i.typeOrder=mt.RefValue,i}return l.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:st.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(bt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.GeoPointValue,n}return l.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.ObjectValue,n}return l.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,i){e[n]=i.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext();if(r.key!==o.key||!r.value.isEqual(o.value))return!1}return!n.hasNext()&&!i.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext(),l=Y(r.key,o.key)||r.value.compareTo(o.value);if(l)return l}return Y(n.hasNext(),i.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(y(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var i=this.child(t.firstSegment());i instanceof e||(i=e.EMPTY);var r=i.set(t.popFirst(),n);return this.setChild(t.firstSegment(),r)},e.prototype.delete=function(t){if(y(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var i=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),i))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){y(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new pt(Y)),e}(bt),Pt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=mt.ArrayValue,n}return l.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(t.internalValue[i]);if(r)return r}return Y(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(bt),Mt=Number,Nt=Mt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),jt=Mt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Lt=Mt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Ft(t){return null===t||void 0===t}function Vt(t){return Lt(t)&&t<=jt&&t>=Nt}var Bt=function(){function t(t,e,n,i,r,o,l){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Kt]:[new Xt(t),Kt];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,i=0,r=this.explicitOrderBy;i<r.length;i++){var o=r[i];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Gt.ASCENDING)===Gt.ASCENDING?Kt:Qt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){y(null==this.getInequalityFilterField()||!(e instanceof Wt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var i=0,r=this.orderBy;i<r.length;i++)t+=r[i].canonicalId(),t+=",";Ft(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Ft(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],l=o.compare(t,e);if(0!==l)return l;n=n||o.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Ft(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Wt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Wt&&t.op===qt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return st.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):st.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var i=n[e];if(!i.field.isKeyField()&&void 0===t.field(i.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Ut=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(wt.INSTANCE)){if(e!==qt.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Ht(t)}if(n.isEqual(Et.NAN)){if(e!==qt.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new zt(t)}return new Wt(t,e,n)},t}(),qt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Wt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.field=e,r.op=n,r.value=i,r}return l.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){y(this.value instanceof Ot,"Comparing on key, but filter value not a RefValue"),y(this.op!==qt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=st.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===qt.ARRAY_CONTAINS?t instanceof Pt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case qt.LESS_THAN:return t<0;case qt.LESS_THAN_OR_EQUAL:return t<=0;case qt.EQUAL:return 0===t;case qt.GREATER_THAN:return t>0;case qt.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==qt.EQUAL&&this.op!==qt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Ut),Ht=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return l.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Ut),zt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return l.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Ut),Gt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Yt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],o=this.position[i];if(r.field.isKeyField())y(o instanceof Ot,"Bound has a non-key value where the key path is being used."),n=st.comparator(o.key,e.key);else{var l=e.field(r.field);y(void 0!==l,"Field should exist since document matched the orderBy already."),n=o.compareTo(l)}if(r.dir===Gt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Xt=function(){function t(t,e){this.field=t,void 0===e&&(e=Gt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ct.compareByKey(t,e):ct.compareByField(this.field,t,e);switch(this.dir){case Gt.ASCENDING:return n;case Gt.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Kt=new Xt(at.keyField(),Gt.ASCENDING),Qt=new Xt(at.keyField(),Gt.DESCENDING),Zt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}(),Jt=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),$t=function(){function t(t,e,n,i,r,o){void 0===r&&(r=Zt.MIN),void 0===o&&(o=w()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),te=function(){function t(t){this.comparator=t,this.data=new pt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ee(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ee(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ee=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ne=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new te(at.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(t){var e=Rt.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return t;var i=t.field(n);void 0!==i&&(e=e.set(n,i))}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ie=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),re=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),oe=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ct&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ct:(y(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!==(e=this.updateTime)&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),le=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ct?t.version:Zt.MIN},t}(),ae=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.value=n,r.precondition=i,r.type=re.Set,r}return l.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by SetMutation."),new ct(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=le.getPostMutationVersion(t);return new ct(this.key,i,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(le),se=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=i,o.precondition=r,o.type=re.Patch,o}return l.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.patchDocument(t);return new ct(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=le.getPostMutationVersion(t),r=this.patchDocument(t);return new ct(this.key,i,r,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ct?t.data:Rt.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t=void 0!==i?t.set(n,i):t.delete(n)}}),t},e}(le),ue=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.fieldTransforms=n,i.type=re.Transform,i.precondition=oe.exists(!0),i}return l.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new dt(this.key,e.version);var n=this.requireDocument(t),i=this.serverTransformResults(t,e.transformResults),r=e.version,o=this.transformObject(n.data,i);return new ct(this.key,r,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=this.requireDocument(t),r=this.localTransformResults(n,e),o=this.transformObject(i.data,r);return new ct(this.key,i.version,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new te(at.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new ne(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&X(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){y(t instanceof ct,"Unknown MaybeDocument type "+t);var e=t;return y(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,l=null;t instanceof ct&&(l=t.field(r.field)||null),n.push(o.applyToRemoteDocument(l,e[i]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],i=0,r=this.fieldTransforms;i<r.length;i++){var o=r[i],l=o.transform,a=null;e instanceof ct&&(a=e.field(o.field)||null),n.push(l.applyToLocalView(a,t))}return n},e.prototype.transformObject=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(le),ce=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.precondition=n,i.type=re.Delete,i}return l.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new ht(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ht(this.key,Zt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(le),he=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new At(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),de=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ge(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new Pt(e)},t.prototype.isEqual=function(e){return e instanceof t&&X(e.elements,this.elements)},t}(),pe=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ge(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new Pt(e)},t.prototype.isEqual=function(e){return e instanceof t&&X(e.elements,this.elements)},t}(),fe=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof St&&this.operand instanceof St?new St(t.internalValue+this.operand.internalValue):t instanceof Ct?new Et(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return y(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ge(t){return t instanceof Pt?t.internalValue.slice():[]}var me=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ve=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function ye(t){switch(t){case _.OK:return v("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function be(t){if(void 0===t)return g("GRPC error has no .code"),_.UNKNOWN;switch(t){case ve.OK:return _.OK;case ve.CANCELLED:return _.CANCELLED;case ve.UNKNOWN:return _.UNKNOWN;case ve.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case ve.INTERNAL:return _.INTERNAL;case ve.UNAVAILABLE:return _.UNAVAILABLE;case ve.UNAUTHENTICATED:return _.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case ve.NOT_FOUND:return _.NOT_FOUND;case ve.ALREADY_EXISTS:return _.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return _.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case ve.ABORTED:return _.ABORTED;case ve.OUT_OF_RANGE:return _.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return _.UNIMPLEMENTED;case ve.DATA_LOSS:return _.DATA_LOSS;default:return v("Unknown status code: "+t)}}var we=new pt(st.comparator);function _e(){return we}function Ce(){return _e()}var xe=new pt(st.comparator);function Se(){return xe}var Ee=new pt(st.comparator);function Te(){return Ee}var ke=new te(st.comparator);function Ae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ke,i=0,r=t;i<r.length;i++)n=n.add(r[i]);return n}var De=new te(Y);function Oe(){return De}var Ie=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||st.comparator(e.key,n.key)}:function(t,e){return st.comparator(t.key,e.key)},this.keyedMap=Se(),this.sortedSet=new pt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),Re=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Pe=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Me=function(){function t(){this.changeMap=new pt(st.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Re.Added&&n.type===Re.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Re.Metadata&&n.type!==Re.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Re.Modified&&n.type===Re.Modified?this.changeMap=this.changeMap.insert(e,{type:Re.Modified,doc:t.doc}):t.type===Re.Modified&&n.type===Re.Added?this.changeMap=this.changeMap.insert(e,{type:Re.Added,doc:t.doc}):t.type===Re.Removed&&n.type===Re.Added?this.changeMap=this.changeMap.remove(e):t.type===Re.Removed&&n.type===Re.Modified?this.changeMap=this.changeMap.insert(e,{type:Re.Removed,doc:n.doc}):t.type===Re.Added&&n.type===Re.Removed?this.changeMap=this.changeMap.insert(e,{type:Re.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ne=function(){function t(t,e,n,i,r,o,l,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach(function(t){o.push({type:Re.Added,doc:t})}),new t(e,n,Ie.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),je=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i,r=((i={})[e]=Le.createSynthesizedTargetChangeForCurrentChange(e,n),i);return new t(Zt.MIN,r,Oe(),_e(),Ae())},t}(),Le=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Ae(),Ae(),Ae())},t}(),Fe=function(t,e,n,i){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=i},Ve=function(t,e){this.targetId=t,this.existenceFilter=e},Be=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Ue=function(){return function(t,e,n,i){void 0===n&&(n=w()),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}(),qe=function(){function t(){this.pendingResponses=0,this.documentChanges=ze(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ae(),e=Ae(),n=Ae();return this.documentChanges.forEach(function(i,r){switch(r){case Re.Added:t=t.add(i);break;case Re.Modified:e=e.add(i);break;case Re.Removed:n=n.add(i);break;default:v("Encountered invalid change type: "+r)}}),new Le(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ze()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),We=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=_e(),this.pendingDocumentTargetMapping=He(),this.pendingTargetResets=new te(Y)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var i=n[e];t.newDoc instanceof ct?this.addDocumentToTarget(i,t.newDoc):t.newDoc instanceof ht&&this.removeDocumentFromTarget(i,t.key,t.newDoc)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.removeDocumentFromTarget(i=o[r],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var i=e.ensureTargetState(n);switch(t.state){case Be.NoChange:e.isActiveTarget(n)&&i.updateResumeToken(t.resumeToken);break;case Be.Added:i.recordTargetResponse(),i.isPending||i.clearPendingChanges(),i.updateResumeToken(t.resumeToken);break;case Be.Removed:i.recordTargetResponse(),i.isPending||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Be.Current:e.isActiveTarget(n)&&(i.markCurrent(),i.updateResumeToken(t.resumeToken));break;case Be.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),i.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):T(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,i=this.queryDataForActiveTarget(e);if(i){var r=i.query;if(r.isDocumentQuery())if(0===n){var o=new st(r.path);this.removeDocumentFromTarget(e,o,new ht(o,Zt.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};T(this.targetStates,function(i,r){var o=e.queryDataForActiveTarget(i);if(o){if(r.current&&o.query.isDocumentQuery()){var l=new st(o.query.path);null!==e.pendingDocumentUpdates.get(l)||e.targetContainsDocument(i,l)||e.removeDocumentFromTarget(i,l,new ht(l,t))}r.hasPendingChanges&&(n[i]=r.toTargetChange(),r.clearPendingChanges())}});var i=Ae();this.pendingDocumentTargetMapping.forEach(function(t,n){var r=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Jt.LimboResolution||(r=!1,!1)}),r&&(i=i.add(t))});var r=new je(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,i);return this.pendingDocumentUpdates=_e(),this.pendingDocumentTargetMapping=He(),this.pendingTargetResets=new te(Y),r},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Re.Modified:Re.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var i=this.ensureTargetState(t);this.targetContainsDocument(t,e)?i.addDocumentChange(e,Re.Removed):i.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new qe),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new te(Y),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;y(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new qe,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function He(){return new pt(st.comparator)}function ze(){return new pt(st.comparator)}var Ge,Ye,Xe=((Ge={})[Gt.ASCENDING.name]="ASCENDING",Ge[Gt.DESCENDING.name]="DESCENDING",Ge),Ke=((Ye={})[qt.LESS_THAN.name]="LESS_THAN",Ye[qt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ye[qt.GREATER_THAN.name]="GREATER_THAN",Ye[qt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ye[qt.EQUAL.name]="EQUAL",Ye[qt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ye),Qe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ze(t,e){y(!Ft(t),e+" is missing")}function Je(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var $e=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:be(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return Ft(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Ft(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=Je(t.seconds||"0");return new et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=Qe.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t),o=Math.floor(r.getTime()/1e3);return new et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),Zt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ot.fromString(t);return y(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return y(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),y(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new st(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ot.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ot(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ot(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof wt)return{nullValue:"NULL_VALUE"};if(t instanceof _t)return{booleanValue:t.value()};if(t instanceof St)return{integerValue:""+t.value()};if(t instanceof Et){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Tt?{stringValue:t.value()}:t instanceof Rt?{mapValue:this.toMapValue(t)}:t instanceof Pt?{arrayValue:this.toArrayValue(t)}:t instanceof kt?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof It?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Dt?{bytesValue:this.toBytes(t.value())}:t instanceof Ot?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return wt.INSTANCE;if("booleanValue"in t)return _t.of(t.booleanValue);if("integerValue"in t)return new St(Je(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Et.NAN;if("Infinity"===t.doubleValue)return Et.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Et.NEGATIVE_INFINITY}return new Et(t.doubleValue)}if("stringValue"in t)return new Tt(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return Ze(t.arrayValue,"arrayValue"),new Pt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return Ze(t.timestampValue,"timestampValue"),new kt(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return Ze(t.geoPointValue,"geoPointValue"),new It(new tt(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){Ze(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Dt(n)}if("referenceValue"in t){Ze(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),r=new it(i.get(1),i.get(3)),o=new st(this.extractLocalPathFromResourceName(i));return new Ot(r,o)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return y(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ct(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,i){n[t]=e.toValue(i)}),n},t.prototype.fromFields=function(t){var e=this,n=Rt.EMPTY;return k(t,function(t,i){n=n.set(new at([t]),e.fromValue(i))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){y(!!t.found,"Tried to deserialize a found document from a missing document."),Ze(t.found.name,"doc.found.name"),Ze(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),i=this.fromFields(t.found.fields||{});return new ct(e,n,i,{},t.found)},t.prototype.fromMissing=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ht(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Be.Added:return"ADD";case Be.Current:return"CURRENT";case Be.NoChange:return"NO_CHANGE";case Be.Removed:return"REMOVE";case Be.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ve)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Fe){var e;if(t.newDoc instanceof ct)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ht)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ue){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return ve.OK;switch(t){case _.OK:return ve.OK;case _.CANCELLED:return ve.CANCELLED;case _.UNKNOWN:return ve.UNKNOWN;case _.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case _.INTERNAL:return ve.INTERNAL;case _.UNAVAILABLE:return ve.UNAVAILABLE;case _.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case _.NOT_FOUND:return ve.NOT_FOUND;case _.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case _.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case _.ABORTED:return ve.ABORTED;case _.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case _.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case _.DATA_LOSS:return ve.DATA_LOSS;default:return v("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e;if("targetChange"in t){Ze(t.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=t.targetChange.resumeToken||this.emptyByteString(),o=t.targetChange.cause,l=o&&this.fromRpcStatus(o);e=new Ue(n,i,r,l||null)}else if("documentChange"in t){Ze(t.documentChange,"documentChange"),Ze(t.documentChange.document,"documentChange.name"),Ze(t.documentChange.document.name,"documentChange.document.name"),Ze(t.documentChange.document.updateTime,"documentChange.document.updateTime");var a=t.documentChange,s=this.fromName(a.document.name),u=this.fromVersion(a.document.updateTime),c=this.fromFields(a.document.fields||{}),h=new ct(s,u,c,{},a.document);e=new Fe(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){Ze(t.documentDelete,"documentDelete"),Ze(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;s=this.fromName(d.document),u=d.readTime?this.fromVersion(d.readTime):Zt.forDeletedDoc(),h=new ht(s,u),e=new Fe([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){Ze(t.documentRemove,"documentRemove"),Ze(t.documentRemove.document,"documentRemove");var p=t.documentRemove;s=this.fromName(p.document),e=new Fe([],p.removedTargetIds||[],s,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));Ze(t.filter,"filter"),Ze(t.filter.targetId,"filter.targetId");var f=t.filter,g=new me(f.count||0);e=new Ve(f.targetId,g)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Be.NoChange:"ADD"===t?Be.Added:"REMOVE"===t?Be.Removed:"CURRENT"===t?Be.Current:"RESET"===t?Be.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return Zt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zt.MIN:e.readTime?this.fromVersion(e.readTime):Zt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ae)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ce)e={delete:this.toName(t.key)};else if(t instanceof se)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof ue))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):oe.NONE;if(t.update){Ze(t.update.name,"name");var i=this.fromName(t.update.name),r=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new se(i,r,o,n)}return new ae(i,r,n)}if(t.delete)return i=this.fromName(t.delete),new ce(i,n);if(t.transform){i=this.fromName(t.transform.document);var l=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new ue(i,l)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return y(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?oe.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?oe.exists(t.exists):oe.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,i=this.fromVersion(t.updateTime?t.updateTime:e),r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return n.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(i,r)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(y(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof he)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof de)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof pe)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof fe)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=he.instance;else if("appendMissingElements"in t)n=new de((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new pe((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var i=this.fromValue(t.increment);y(i instanceof Ct,"NUMERIC_ADD transform requires a NumberValue"),n=new fe(i)}else v("Unknown transform proto: "+JSON.stringify(t));var r=at.fromServerFormat(t.fieldPath);return new ie(r,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return y(1===e,"DocumentsTarget contained other than 1 document: "+e),Bt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(y(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var i=this.toFilter(t.filters);i&&(e.structuredQuery.where=i);var r=this.toOrder(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){y(1===i,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var l=[];n.where&&(l=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Bt(e,r,a,l,s,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Jt.Listen:return null;case Jt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Jt.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Wt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,i=t.values.map(function(t){return e.fromValue(t)});return new Yt(i,n)},t.prototype.toDirection=function(t){return Xe[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Gt.ASCENDING;case"DESCENDING":return Gt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Ke[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return qt.EQUAL;case"GREATER_THAN":return qt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return qt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return qt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return qt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return qt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return at.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Xt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Wt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Wt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof zt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Ht?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new zt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Ht(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return at.fromServerFormat(t)});return ne.fromArray(e)},t}(),tn=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),en=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t}(),nn=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),rn="Connection",on={BatchGetDocuments:"batchGet",Commit:"commit"},ln="gl-js/ fire/"+u,an=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ln},t.prototype.invokeRPC=function(t,e,n){var i=this,r=this.makeUrl(t);return new Promise(function(o,l){var s=new a.XhrIo;s.listenOnce(a.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=s.getResponseJson();f(rn,"XHR received:",JSON.stringify(e)),o(e);break;case a.ErrorCode.TIMEOUT:f(rn,'RPC "'+t+'" timed out'),l(new C(_.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=s.getStatus();f(rn,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?l(new C(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(f(rn,'RPC "'+t+'" failed'),l(new C(_.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{f(rn,'RPC "'+t+'" completed.')}});var u=JSON.stringify(e);f(rn,"XHR sending: ",r+" "+u);var c={"Content-Type":"text/plain"};i.modifyHeadersForRequest(c,n),s.send(r,"POST",u,c,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=a.createWebChannelTransport(),r={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(r.initMessageHeaders,e),s.isReactNative()||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f(rn,"Creating WebChannel: "+o+" "+r);var l=i.createWebChannel(o,r),u=!1,c=!1,h=new nn({sendFn:function(t){c?f(rn,"Not sending because WebChannel is closed:",t):(u||(f(rn,"Opening WebChannel transport."),l.open(),u=!0),f(rn,"WebChannel sending:",t),l.send(t))},closeFn:function(){return l.close()}}),d=function(t,e){l.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return d(a.WebChannel.EventType.OPEN,function(){c||f(rn,"WebChannel transport opened.")}),d(a.WebChannel.EventType.CLOSE,function(){c||(c=!0,f(rn,"WebChannel transport closed"),h.callOnClose())}),d(a.WebChannel.EventType.ERROR,function(t){c||(c=!0,f(rn,"WebChannel transport errored:",t),h.callOnClose(new C(_.UNAVAILABLE,"The operation could not be completed")))}),d(a.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];y(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){f(rn,"WebChannel received error:",n);var i=n.status,r=function(t){var e=ve[i];if(void 0!==e)return be(e)}(),o=n.message;void 0===r&&(r=_.INTERNAL,o="Unknown error status: "+i+" with message "+n.message),c=!0,h.callOnClose(new C(r,o)),l.close()}else f(rn,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=on[t];y(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new an(t))},t.prototype.newConnectivityMonitor=function(){return this.window?new en:new tn},t.prototype.newSerializer=function(t){return new $e(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var sn,un=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),cn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(sn||(sn={}));var hn=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,i,r,o){var l=new t(e,n,Date.now()+i,r,o);return l.start(i),l},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),dn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.verifyNotFailed(),y(e>=0,"Attempted to schedule an operation with a negative delay of "+e),y(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var r=hn.createAndSchedule(this,t,e,n,function(t){return i.removeDelayedOperation(t)});return this.delayedOperations.push(r),r},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){y(t===sn.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,i=e.delayedOperations;n<i.length;n++){var r=i[n];if(r.skipDelay(),t!==sn.All&&r.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);y(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),pn="\x01",fn="\x01",gn="\x10",mn="\x11";function vn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bn(e)),e=yn(t.get(n),e);return bn(e)}function yn(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+=pn+gn;break;case pn:n+=pn+mn;break;default:n+=o}}return n}function bn(t){return t+pn+fn}function wn(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y(t.charAt(0)===pn&&t.charAt(1)===fn,"Non-empty path "+t+" had length 2"),ot.EMPTY_PATH;for(var n=e-2,i=[],r="",o=0;o<e;){var l=t.indexOf(pn,o);switch((l<0||l>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(l+1)){case fn:var a=t.substring(o,l),s=void 0;0===r.length?s=a:(s=r+=a,r=""),i.push(s);break;case gn:r+=t.substring(o,l),r+="\0";break;case mn:r+=t.substring(o,l+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=l+2}return new ot(i)}var _n=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i,y(i.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var i=n.mutationResults;y(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,i[r]))}return e},t.prototype.applyToLocalView=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t)&&(e=a.applyToLocalView(e,e,this.localWriteTime));for(var r=e,o=0,l=this.mutations;o<l.length;o++){var a;(a=l[o]).key.isEqual(t)&&(e=a.applyToLocalView(e,r,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(i){var r=e.applyToLocalView(i.key,t.get(i.key));r&&(n=n.insert(i.key,r))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ae())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&X(this.mutations,t.mutations)&&X(this.baseMutations,t.baseMutations)},t}(),Cn=function(){function t(t,e,n,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=i,this.docVersions=r}return t.from=function(e,n,i,r){y(e.mutations.length===i.length,"Mutations sent "+e.mutations.length+" must equal results received "+i.length);for(var o=Te(),l=e.mutations,a=0;a<l.length;a++)o=o.insert(l[a].key,i[a].version);return new t(e,n,i,r,o)},t}(),xn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var i=0,r=0,o=!1;e.forEach(function(e){++i,e.next(function(){++r,o&&r===i&&t()},function(t){return n(t)})}),o=!0,r===i&&t()})},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.waitFor(i)},t}(),Sn=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=i,this.documentKeysByBatchId={}}return t.forUser=function(e,n,i,r){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return An(t).iterate({index:si.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=kn(n),On(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=kn(e),On(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=Dn(t),l=An(t);return l.add({}).next(function(a){y("number"==typeof a,"Auto-generated key is not a number");var s=new _n(a,e,n,i),u=r.serializer.toDbMutationBatch(r.userId,s);r.documentKeysByBatchId[a]=s.keys();for(var c=[],h=0,d=i;h<d.length;h++){var p=d[h],f=ui.key(r.userId,p.key.path,a);c.push(l.put(u)),c.push(o.put(f,ui.PLACEHOLDER)),c.push(r.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return xn.waitFor(c).next(function(){return s})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return An(t).get(e).next(function(t){return t?(y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?xn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var i=t.keys();return n.documentKeysByBatchId[e]=i,i}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return An(t).iterate({index:si.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(y(e.batchId>=i,"Should have found mutation after "+i),o=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return An(t).loadAll(si.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=ui.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Dn(t).iterate({range:r},function(i,r,l){var a=i[0],s=i[2],u=wn(i[1]);if(a===n.userId&&e.path.isEqual(u))return An(t).get(s).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+i+" which points to "+s);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+s),o.push(n.serializer.fromDbMutationBatch(t))});l.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new te(Y),r=[];return e.forEach(function(e){var o=ui.prefixForPath(n.userId,e.path),l=IDBKeyRange.lowerBound(o),a=Dn(t).iterate({range:l},function(t,r,o){var l=t[0],a=t[2],s=wn(t[1]);l===n.userId&&e.path.isEqual(s)?i=i.add(a):o.done()});r.push(a)}),xn.waitFor(r).next(function(){return n.lookupMutationBatches(t,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;y(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=e.path,r=i.length+1,o=ui.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(o),a=new te(Y);return Dn(t).iterate({range:l},function(t,e,o){var l=t[0],s=t[2],u=wn(t[1]);l===n.userId&&i.isPrefixOf(u)?u.length===r&&(a=a.add(s)):o.done()}).next(function(){return n.lookupMutationBatches(t,a)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(An(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),i.push(n.serializer.fromDbMutationBatch(t))}))}),xn.waitFor(r).next(function(){return i})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Tn(t.simpleDbTransaction,this.userId,e).next(function(i){return n.removeCachedMutationKeys(e.batchId),xn.forEach(i,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return xn.resolve();var i=IDBKeyRange.lowerBound(ui.prefixForUser(e.userId)),r=[];return Dn(t).iterate({range:i},function(t,n,i){if(t[0]===e.userId){var o=wn(t[1]);r.push(o)}else i.done()}).next(function(){y(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return En(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return On(t).get(this.userId).next(function(t){return t||new ai(e.userId,-1,"")})},t}();function En(t,e,n){var i=ui.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),l=!1;return Dn(t).iterate({range:o,keysOnly:!0},function(t,n,i){t[0]===e&&t[1]===r&&(l=!0),i.done()}).next(function(){return l})}function Tn(t,e,n){var i=t.store(si.store),r=t.store(ui.store),o=[],l=IDBKeyRange.only(n.batchId),a=0,s=i.iterate({range:l},function(t,e,n){return a++,n.delete()});o.push(s.next(function(){y(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=ui.key(e,d.key.path,n.batchId);o.push(r.delete(p)),u.push(d.key)}return xn.waitFor(o).next(function(){return u})}function kn(e){return e instanceof Uint8Array?(y("YES"===t.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function An(t){return Mi.getStore(t,si.store)}function Dn(t){return Mi.getStore(t,ui.store)}function On(t){return Mi.getStore(t,ai.store)}var In=1,Rn=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Pn=function(){function t(t,e){this.generatorId=t,y((t&In)===t,"Generator ID "+t+" contains more than "+In+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<In,t},t.prototype.after=function(t){return this.seek(t+(1<<In)),this.next()},t.prototype.seek=function(t){y((t&In)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Rn.QueryCache,2)},t.forSyncEngine=function(){return new t(Rn.SyncEngine)},t}(),Mn=function(){function e(t){this.db=t,12.2===e.getIOSVersion(s.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,i){return y(e.isAvailable(),"IndexedDB not supported in current environment."),f("SimpleDb","Opening database:",t),new xn(function(r,o){var l=window.indexedDB.open(t,n);l.onsuccess=function(t){r(new e(t.target.result))},l.onblocked=function(){o(new C(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new C(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},l.onupgradeneeded=function(e){f("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,r=new jn(l.transaction);i.createOrUpgrade(n,r,e.oldVersion,ri).next(function(){f("SimpleDb","Database upgrade to version "+ri+" complete")})}}).toPromise()},e.delete=function(t){return f("SimpleDb","Removing database:",t),Fn(window.indexedDB.deleteDatabase(t)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===t.env.USE_MOCK_PERSISTENCE;var n=s.getUA(),i=e.getIOSVersion(n),r=0<i&&i<10,o=e.getAndroidVersion(n),l=0<o&&o<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||r||l)},e.getStore=function(t,e){return t.store(e)},e.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){var i=jn.open(this.db,t,e),r=n(i).catch(function(t){return i.abort(t),xn.reject(t)}).toPromise();return r.catch(function(){}),i.completionPromise.then(function(){return r})},e.prototype.close=function(){this.db.close()},e}(),Nn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Fn(this.dbCursor.delete())},t}(),jn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new cn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=t.target.error;Bn(n),e.completionDeferred.reject(n)}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new Ln(e)},t}(),Ln=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Fn(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),Fn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Fn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),Fn(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),Fn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.iterateCursor(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.deleteAll=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var i=this.cursor(n);return this.iterateCursor(i,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.iterateCursor(i,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new xn(function(n,i){e.onerror=function(t){var e=t.target.error;Bn(e),i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new xn(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new Nn(r),l=e(r.primaryKey,r.value,o);if(l instanceof xn){var a=l.catch(function(t){return o.done(),xn.reject(t)});n.push(a)}o.isDone?i():null===o.skipToKey?r.continue():r.continue(o.skipToKey)}else i()}}).next(function(){return xn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Fn(t){return new xn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=t.target.error;Bn(e),n(e)}})}var Vn=!1;function Bn(t){if(!Vn){var e=Mn.getIOSVersion(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";t.message.indexOf(n)>=0&&(Vn=!0,setTimeout(function(){throw new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")},0))}}}var Un=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Pn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Zt.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Hn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.retrieveMetadata(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.saveMetadata(t,r)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(i){return i.targetCount+=1,n.updateMetadataFromQueryData(e,i),n.saveMetadata(t,i)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return qn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return y(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return qn(t).iterate(function(l,a){var s=i.serializer.fromDbTarget(a);s.sequenceNumber<=e&&void 0===n[s.targetId]&&(r++,o.push(i.removeQueryData(t,s)))}).next(function(){return xn.waitFor(o)}).next(function(){return r})},t.prototype.forEachTarget=function(t,e){var n=this;return qn(t).iterate(function(t,i){var r=n.serializer.fromDbTarget(i);e(r)})},t.prototype.retrieveMetadata=function(t){return Wn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Mi.getStore(n,fi.store)).put(fi.key,e);var n},t.prototype.saveQueryData=function(t,e){return qn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,i=e.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return qn(t).iterate({range:r,index:di.queryTargetsIndexName},function(t,i,r){var l=n.serializer.fromDbTarget(i);e.isEqual(l.query)&&(o=l,r.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=zn(t);return e.forEach(function(e){var l=vn(e.path);r.push(o.put(new pi(n,l))),r.push(i.referenceDelegate.addReference(t,e))}),xn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=zn(t);return xn.forEach(e,function(e){var o=vn(e.path);return xn.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=zn(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=zn(t),r=Ae();return i.iterate({range:n,keysOnly:!0},function(t,e,n){var i=wn(t[1]),o=new st(i);r=r.add(o)}).next(function(){return r})},t.prototype.containsKey=function(t,e){var n=vn(e.path),i=IDBKeyRange.bound([n],[K(n)],!1,!0),r=0;return zn(t).iterate({index:pi.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return qn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function qn(t){return Mi.getStore(t,di.store)}function Wn(t){return Mn.getStore(t,fi.store).get(fi.key).next(function(t){return y(null!==t,"Missing metadata row."),t})}function Hn(t){return Wn(t).next(function(t){return t.highestListenSequenceNumber})}function zn(t){return Mi.getStore(t,pi.store)}var Gn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],l=o[1];if(o[0].isEqual(t))return l}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Yn=function(){function t(){this.changes=_e(),this.documentSizes=new Gn(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,i=this.assertChanges().get(e);return i?xn.resolve(i):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return y(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Xn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Kn=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Mn.getStore(t,vi.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var i=[];if(e.length>0){for(var r=Jn(t),o=Ae(),l=0,a=e;l<a.length;l++){var s=a[l],u=s.key,c=s.doc;i.push(r.put(ti(u),c)),o=o.add(u),i.push(this.indexManager.addToCollectionParentIndex(t,u.path.popLast()))}this.keepDocumentChangeLog&&i.push($n(t).put({changes:this.serializer.toDbResourcePaths(o)})),i.push(this.updateSize(t,n))}return xn.waitFor(i)},t.prototype.removeEntry=function(t,e){var n=Jn(t),i=ti(e);return n.get(i).next(function(t){return t?n.delete(i).next(function(){return ei(t)}):xn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return Jn(t).get(ti(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Jn(t).get(ti(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:ei(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,i=Ce();return this.forEachDbEntry(t,e,function(t,e){i=i.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return i})},t.prototype.getSizedEntries=function(t,e){var n=this,i=Ce(),r=new pt(st.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(i=i.insert(t,n.serializer.fromDbRemoteDocument(e)),r=r.insert(t,ei(e))):(i=i.insert(t,null),r=r.insert(t,0))}).next(function(){return{maybeDocuments:i,sizeMap:r}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return xn.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return Jn(t).iterate({range:i},function(t,e,i){for(var l=st.fromSegments(t);o&&st.comparator(o,l)<0;)n(o,null),o=r.getNext();o&&o.isEqual(l)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.skip(o.path.toArray()):i.done()}).next(function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Se(),r=e.path.length+1,o=e.path.toArray(),l=IDBKeyRange.lowerBound(o);return Jn(t).iterate({range:l},function(t,o,l){if(t.length===r){var a=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(a.key.path)?a instanceof ct&&e.matches(a)&&(i=i.insert(a.key,a)):l.done()}}).next(function(){return i})},t.prototype.getNewDocumentChanges=function(t){var e=this;y(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ae(),i=_e(),r=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,l=$n(t);return l.iterate({range:r},function(t,i){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==i.id))return e.synchronizeLastDocumentChangeId(l).next(function(){return xn.reject(new C(_.DATA_LOSS,Xn))});n=n.unionWith(e.serializer.fromDbResourcePaths(i.changes)),e._lastProcessedDocumentChangeId=i.id}).next(function(){var r=[];return n.forEach(function(n){r.push(e.getEntry(t,n).next(function(t){var e=t||new ht(n,Zt.forDeletedDoc());i=i.insert(n,e)}))}),xn.waitFor(r)}).next(function(){return i})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return $n(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,i){e._lastProcessedDocumentChangeId=t,i.done()})},t.prototype.newChangeBuffer=function(){return new Zn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Qn(t).get(hi.key).next(function(t){return y(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Qn(t).put(hi.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.setMetadata(t,i)})},t}();function Qn(t){return Mi.getStore(t,hi.store)}var Zn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return l.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=0,i=[];return this.assertChanges().forEach(function(t,r){var o=e.documentCache.serializer.toDbRemoteDocument(r),l=e.documentSizes.get(t);y(void 0!==l,"Attempting to change document "+t.toString()+" without having read it first");var a=ei(o);n+=a-l,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Yn);function Jn(t){return Mi.getStore(t,ci.store)}function $n(t){return Mi.getStore(t,vi.store)}function ti(t){return t.path.toArray()}function ei(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var ni=function(){function t(){this.collectionParentIndex=new ii}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),xn.resolve()},t.prototype.getCollectionParents=function(t,e){return xn.resolve(this.collectionParentIndex.getEntries(e))},t}(),ii=function(){function t(){this.index={}}return t.prototype.add=function(t){y(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new te(ot.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.getEntries=function(t){return(this.index[t]||new te(ot.comparator)).toArray()},t}(),ri=8,oi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;y(n<i&&n>=0&&i<=ri,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&i>=1&&(function(t){t.createObjectStore(li.store)}(t),function(t){t.createObjectStore(ai.store,{keyPath:ai.keyPath}),t.createObjectStore(si.store,{keyPath:si.keyPath,autoIncrement:!0}).createIndex(si.userMutationsIndex,si.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ui.store)}(t),mi(t),function(t){t.createObjectStore(ci.store)}(t));var o=xn.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(pi.store),t.deleteObjectStore(di.store),t.deleteObjectStore(fi.store)}(t),mi(t)),o=o.next(function(){return function(t){var e=t.store(fi.store),n=new fi(0,0,Zt.MIN.toTimestamp(),0);return e.put(fi.key,n)}(e)})),n<4&&i>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(si.store).loadAll().next(function(n){t.deleteObjectStore(si.store),t.createObjectStore(si.store,{keyPath:si.keyPath,autoIncrement:!0}).createIndex(si.userMutationsIndex,si.userMutationsKeyPath,{unique:!0});var i=e.store(si.store),r=n.map(function(t){return i.put(t)});return xn.waitFor(r)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(yi.store,{keyPath:yi.keyPath})}(t),function(t){t.createObjectStore(vi.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&i>=5&&(o=o.next(function(){return r.removeAcknowledgedMutations(e)})),n<6&&i>=6&&(o=o.next(function(){return function(t){t.createObjectStore(hi.store)}(t),r.addDocumentGlobal(e)})),n<7&&i>=7&&(o=o.next(function(){return r.ensureSequenceNumbers(e)})),n<8&&i>=8&&(o=o.next(function(){return r.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(ci.store).iterate(function(t,n){e+=ei(n)}).next(function(){var n=new hi(e);return t.store(hi.store).put(hi.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ai.store),i=t.store(si.store);return n.loadAll().next(function(n){return xn.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.loadAll(si.userMutationsIndex,r).next(function(i){return xn.forEach(i,function(i){y(i.userId===n.userId,"Cannot process batch "+i.batchId+" from unexpected user");var r=e.serializer.fromDbMutationBatch(i);return Tn(t,n.userId,r).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(pi.store),n=t.store(ci.store);return Hn(t).next(function(t){var i=[];return n.iterate(function(n,r){var o=new ot(n),l=function(t){return[0,vn(t)]}(o);i.push(e.get(l).next(function(n){return n?xn.resolve():function(n){return e.put(new pi(0,vn(n),t))}(o)}))}).next(function(){return xn.waitFor(i)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(gi.store,{keyPath:gi.keyPath});var n=e.store(gi.store),i=new ii,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:vn(r)})}};return e.store(ci.store).iterate({keysOnly:!0},function(t,e){var n=new ot(t);return r(n.popLast())}).next(function(){return e.store(ui.store).iterate({keysOnly:!0},function(t,e){var n=wn(t[1]);return r(n.popLast())})})},t}(),li=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),ai=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),si=function(){function t(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),ui=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vn(e)]},t.key=function(t,e,n){return[t,vn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),ci=function(){function t(t,e,n,i){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i}return t.store="remoteDocuments",t}(),hi=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),di=function(){function t(t,e,n,i,r,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),pi=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,y(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),fi=function(){function t(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),gi=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function mi(t){t.createObjectStore(pi.store,{keyPath:pi.keyPath}).createIndex(pi.documentTargetsIndex,pi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(di.store,{keyPath:di.keyPath}).createIndex(di.queryTargetsIndexName,di.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(fi.store)}var vi=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),yi=function(){function t(t,e,n,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i,this.lastProcessedDocumentChangeId=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),bi=[ai.store,si.store,ui.store,ci.store,di.store,li.store,fi.store,pi.store].concat([yi.store,vi.store]).concat([hi.store]).concat([gi.store]),wi=function(){function t(){this.collectionParentsCache=new ii}return t.prototype.addToCollectionParentIndex=function(t,e){if(y(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){y(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),i=e.popLast();return _i(t).put({collectionId:n,parent:vn(i)})}return xn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[K(e),""],!1,!0);return _i(t).loadAll(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(wn(o.parent))}return n})},t}();function _i(t){return Mi.getStore(t,gi.store)}var Ci=function(){function e(t){this.remoteSerializer=t}return e.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=st.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ht(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=st.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new dt(e,n)):v("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(t){if(t instanceof ct){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new ci(null,null,e,r=t.hasCommittedMutations)}if(t instanceof ht){var n=t.key.path.toArray(),i=this.toDbTimestamp(t.version),r=t.hasCommittedMutations;return new ci(null,new function(t,e){this.path=t,this.readTime=e}(n,i),null,r)}return t instanceof dt?(n=t.key.path.toArray(),i=this.toDbTimestamp(t.version),new ci(new function(t,e){this.path=t,this.version=e}(n,i),null,null,!0)):v("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new function(t,e){this.seconds=t,this.nanoseconds=e}(e.seconds,e.nanoseconds)},e.prototype.fromDbTimestamp=function(t){var e=new et(t.seconds,t.nanoseconds);return Zt.fromTimestamp(e)},e.prototype.toDbMutationBatch=function(t,e){var n=this,i=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new si(t,e.batchId,e.localWriteTime.toMillis(),i,r)},e.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),i=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=et.fromMillis(t.localWriteTimeMs);return new _n(t.batchId,r,n,i)},e.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(vn(t.path))}),e},e.prototype.fromDbResourcePaths=function(t){for(var e=Ae(),n=0,i=t;n<i.length;n++)e=e.add(new st(wn(i[n])));return e},e.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new $t(e,t.targetId,Jt.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},e.prototype.toDbTarget=function(e){y(Jt.Listen===e.purpose,"Only queries with purpose "+Jt.Listen+" may be stored, got "+e.purpose);var n,i,r=this.toDbTimestamp(e.snapshotVersion);return n=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(y("YES"===t.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),i=e.resumeToken.toString()):i=e.resumeToken,new di(e.targetId,e.query.canonicalId(),r,i,e.sequenceNumber,n)},e}();function xi(t,e){var n=t[1],i=e[1],r=Y(t[0],e[0]);return 0===r?Y(n,i):r}var Si=function(){function t(t){this.maxElements=t,this.buffer=new te(xi),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xi(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ei={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ti=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),ki=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){y(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Ti.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;y(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(sn.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Ni)})},t}(),Ai=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return xn.resolve(un.INVALID);var i=new Si(e);return this.delegate.forEachTarget(t,function(t){return i.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return i.addElement(t)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Ti.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),xn.resolve(Ei)):this.getCacheSize(t).next(function(i){return i<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ei):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,i,r,o,l,a,s,u,c=this;return o=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),i=c.params.maximumSequenceNumbersToCollect):i=e,l=Date.now(),c.nthSequenceNumber(t,i)}).next(function(i){return n=i,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return r=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),d()<=h.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(l-o)+"ms\n\tDetermined least recently used "+i+" in "+(a-l)+"ms\n\tRemoved "+r+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-o)+"ms"),xn.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})})},t}(),Di="IndexedDbPersistence",Oi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ii="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Ri="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Pi=function(t){function e(e,n){var i=t.call(this)||this;return i.simpleDbTransaction=e,i.currentSequenceNumber=n,i}return l.__extends(e,t),e}(function(){}),Mi=function(){function t(e,n,i,r,o,l,a){if(this.persistenceKey=e,this.clientId=n,this.queue=r,this.multiClientParams=a,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new C(_.UNIMPLEMENTED,Ri);if(this.referenceDelegate=new Fi(this,l),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Ci(o),this.document=i.document,this.allowTabSynchronization=void 0!==a,this.queryCache=new Un(this.referenceDelegate,this.serializer),this.indexManager=new wi,this.remoteDocumentCache=new Kn(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Pi)return Mn.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,i,r,o,a){return l.__awaiter(this,void 0,void 0,function(){var s;return l.__generator(this,function(l){switch(l.label){case 0:return[4,(s=new t(e,n,i,r,o,a)).start()];case 1:return l.sent(),[2,s]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,i,r,o,a,s){return l.__awaiter(this,void 0,void 0,function(){var u;return l.__generator(this,function(l){switch(l.label){case 0:return[4,(u=new t(e,n,i,r,o,a,s)).start()];case 1:return l.sent(),[2,u]}})})},t.prototype.start=function(){var t=this;return y(!this.started,"IndexedDbPersistence double-started!"),y(null!==this.window,"Expected 'window' to be defined"),Mn.openOrCreate(this.dbName,ri,new oi(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[fi.store],function(e){return Hn(e).next(function(e){t.listenSequence=new un(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",bi,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return l.__awaiter(e,void 0,void 0,function(){return l.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return l.__awaiter(e,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return l.__awaiter(e,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",bi,function(e){return Li(e).put(new yi(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var i=t.isPrimary;return t.isPrimary=n,i!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),i&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return ji(t).get(li.key).next(function(t){return xn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Li(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return l.__awaiter(this,void 0,void 0,function(){var e,n,i=this;return l.__generator(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(r){var o=t.getStore(r,yi.store);return o.loadAll().next(function(t){e=i.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return xn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==i.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return i.remoteDocumentCache.removeDocumentChangesThroughChangeId(r,n)}})})]);case 1:r.sent(),n.forEach(function(t){i.window.localStorage.removeItem(i.zombiedClientLocalStorageKey(t.clientId))}),r.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(sn.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return ji(t).get(li.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Ii);return!1}}return!(!e.networkEnabled||!e.inForeground)||Li(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&f(Di,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return l.__awaiter(this,void 0,void 0,function(){var t=this;return l.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[li.store,yi.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[yi.store],function(e){return Li(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,Mn.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return y(this.started,"Cannot initialize MutationQueue before persistence is started."),Sn.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return y(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return y(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return y(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var i=this;return f(Di,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",bi,function(r){return"readwrite-primary"===e?i.verifyPrimaryLease(r).next(function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.queue.enqueueAndForget(function(){return i.primaryStateListener(!1)}),new C(_.FAILED_PRECONDITION,Oi);return n(new Pi(r,i.listenSequence.next()))}).next(function(t){return i.acquireOrExtendPrimaryLease(r).next(function(){return t})}):i.verifyAllowTabSynchronization(r).next(function(){return n(new Pi(r,i.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return ji(t).get(li.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Ii)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new li(this.clientId,this.allowTabSynchronization,Date.now());return ji(t).put(li.key,e)},t.isAvailable=function(){return Mn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=ji(t);return n.get(li.key).next(function(t){return e.isLocalClient(t)?(f(Di,"Releasing primary lease."),n.delete(li.key)):xn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(y(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return f(Di,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return g(Di,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Ni(t){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){if(!function(t){return t.code===_.FAILED_PRECONDITION&&t.message===Oi}(t))throw t;return f(Di,"Unexpectedly lost primary lease"),[2]})})}function ji(t){return t.store(li.store)}function Li(t){return t.store(yi.store)}var Fi=function(){function t(t,e){this.db=t,this.garbageCollector=new Ai(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Vi(t,e)},t.prototype.removeReference=function(t,e){return Vi(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Vi(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?xn.resolve(!0):function(t,e){var n=!1;return On(t).iterateSerial(function(i){return En(t,i,e).next(function(t){return t&&(n=!0),xn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=0,r=0,o=[];return this.forEachOrphanedDocument(t,function(l,a){if(a<=e){var s=n.isPinned(t,l).next(function(e){if(!e)return i++,n.removeOrphanedDocument(t,l).next(function(t){r+=t})});o.push(s)}}).next(function(){return xn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-r)}).next(function(){return i})},t.prototype.removeOrphanedDocument=function(t,e){var n,i=0,r=this.db.getRemoteDocumentCache();return xn.waitFor([zn(t).delete((n=e,[0,vn(n.path)])),r.removeEntry(t,e).next(function(t){i+=t})]).next(function(){return i})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Vi(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,i=zn(t),r=un.INVALID;return i.iterate({index:pi.documentTargetsIndex},function(t,i){var o=i.path,l=i.sequenceNumber;0===t[0]?(r!==un.INVALID&&e(new st(wn(n)),r),r=l,n=o):r=un.INVALID}).next(function(){r!==un.INVALID&&e(new st(wn(n)),r)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Vi(t,e){return zn(t).put(function(t,e){return new pi(0,vn(t.path),e)}(e,t.currentSequenceNumber))}var Bi=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(i){return n.getDocumentInternal(t,e,i)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var i=Ce();return e.forEach(function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);i=i.insert(t,e)}),i},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(i){var r=n.applyLocalMutationsToDocuments(t,e,i),o=_e();return r.forEach(function(t,e){e||(e=new ht(t,Zt.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new st(e)).next(function(t){var e=Se();return t instanceof ct&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;y(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,r=Se();return this.indexManager.getCollectionParents(t,i).next(function(o){return xn.forEach(o,function(o){var l=e.asCollectionQueryAtPath(o.child(i));return n.getDocumentsMatchingCollectionQuery(t,l).next(function(t){t.forEach(function(t,e){r=r.insert(t,e)})})}).next(function(){return r})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var i=0,r=t;i<r.length;i++)for(var o=r[i],l=0,a=o.mutations;l<a.length;l++){var s=a[l],u=s.key;if(e.path.isImmediateParentOf(u.path)){var c=n.get(u),h=s.applyToLocalView(c,c,o.localWriteTime);n=h instanceof ct?n.insert(u,h):n.remove(u)}}}).next(function(){return n.forEach(function(t,i){e.matches(i)||(n=n.remove(t))}),n})},t}(),Ui=function(){function t(){this.refsByKey=new te(qi.compareByKey),this.refsByTarget=new te(qi.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new qi(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new qi(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=st.EMPTY,i=new qi(n,t),r=new qi(n,t+1),o=[];return this.refsByTarget.forEachInRange([i,r],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=st.EMPTY,n=new qi(e,t),i=new qi(e,t+1),r=Ae();return this.refsByTarget.forEachInRange([n,i],function(t){r=r.add(t.key)}),r},t.prototype.containsKey=function(t){var e=new qi(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),qi=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return st.comparator(t.key,e.key)||Y(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Y(t.targetOrBatchId,e.targetOrBatchId)||st.comparator(t.key,e.key)},t}(),Wi=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Ui,this.queryDataByTarget={},y(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Bi(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var i;return e.mutationQueue.getAllMutationBatches(n).next(function(r){return i=r,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Bi(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var r=[],o=[],l=Ae(),a=0,s=i;a<s.length;a++){r.push((p=s[a]).batchId);for(var u=0,c=p.mutations;u<c.length;u++)l=l.add(c[u].key)}for(var h=0,d=t;h<d.length;h++){var p;o.push((p=d[h]).batchId);for(var f=0,g=p.mutations;f<g.length;f++)l=l.add(g[f].key)}return e.localDocuments.getDocuments(n,l).next(function(t){return{affectedDocuments:t,removedBatchIds:r,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this,n=et.now(),i=t.reduce(function(t,e){return t.add(e.key)},Ae());return this.persistence.runTransaction("Locally write mutations","readwrite",function(r){return e.localDocuments.getDocuments(r,i).next(function(i){for(var o=[],l=0,a=t;l<a.length;l++){var s=a[l],u=i.get(s.key);if(!s.isIdempotent){var c=s.fieldMask;if(c){var h=u instanceof ct?c.applyTo(u.data):Rt.EMPTY;o.push(new se(s.key,h,c,oe.exists(!0)))}}}return e.mutationQueue.addMutationBatch(r,n,o,t).next(function(t){var e=t.applyToLocalDocumentSet(i);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):xn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var i=t.batch.keys(),r=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,r)}).next(function(){return r.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return y(null!==t,"Attempt to reject nonexistent batch!"),i=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,i=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(r){var o=[],l=Ae();T(e.targetChanges,function(i,a){var s=n.queryDataByTarget[i];if(s){a.addedDocuments.forEach(function(t){l=l.add(t)}),a.modifiedDocuments.forEach(function(t){l=l.add(t)}),o.push(n.queryCache.removeMatchingKeys(r,a.removedDocuments,i).next(function(){return n.queryCache.addMatchingKeys(r,a.addedDocuments,i)}));var u=a.resumeToken;if(u.length>0){var c=s;s=s.copy({resumeToken:u,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[i]=s,t.shouldPersistQueryData(c,s,a)&&o.push(n.queryCache.updateQueryData(r,s))}}});var a=_e(),s=Ae();e.documentUpdates.forEach(function(t,e){s=s.add(t)}),o.push(i.getEntries(r,s).next(function(t){e.documentUpdates.forEach(function(s,u){var c=t.get(s);null==c||u.version.isEqual(Zt.MIN)||l.has(u.key)&&!c.hasPendingWrites||u.version.compareTo(c.version)>=0?(i.addEntry(u),a=a.insert(s,u)):f("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(s)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,s))})}));var u=e.snapshotVersion;if(!u.isEqual(Zt.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(r).next(function(t){return y(u.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+t),n.queryCache.setTargetsMetadata(r,r.currentSequenceNumber,u)});o.push(c)}return xn.waitFor(o).next(function(){return i.apply(r)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(r,a)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return xn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),xn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var i;return e.queryCache.getQueryData(n,t).next(function(r){return r?(i=r,xn.resolve()):e.queryCache.allocateTargetId(n).next(function(r){return i=new $t(t,r,Jt.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,i)})}).next(function(){return y(!e.queryDataByTarget[i.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[i.targetId]=i,i})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(i){return n.queryCache.getQueryData(i,t).next(function(r){y(null!=r,"Tried to release nonexistent query: "+t);var o=r.targetId,l=n.queryDataByTarget[o],a=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?xn.resolve():xn.forEach(a,function(t){return n.persistence.referenceDelegate.removeReference(i,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(i,l)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var i=this,r=e.batch,o=r.keys(),l=xn.resolve();return o.forEach(function(i){l=l.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,l=e.docVersions.get(i);y(null!==l,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(l)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):y(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),l.next(function(){return i.mutationQueue.removeMutationBatch(t,r)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Hi=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new te(qi.compareByKey)}return t.prototype.checkEmpty=function(t){return xn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var i=e.batchId,r=this.indexOfExistingBatchId(i,"acknowledged");y(0===r,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[r];return y(i===o.batchId,"Queue ordering failure: expected batch "+i+", got batch "+o.batchId),this.lastStreamToken=n,xn.resolve()},t.prototype.getLastStreamToken=function(t){return xn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,xn.resolve()},t.prototype.addMutationBatch=function(t,e,n,i){y(0!==i.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new _n(r,e,n,i);this.mutationQueue.push(o);for(var l=0,a=i;l<a.length;l++){var s=a[l];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new qi(s.key,r)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast())}return xn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return xn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return y(null!=n,"Failed to find local mutation batch."),xn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),i=n<0?0:n;return xn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getAllMutationBatches=function(t){return xn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new qi(e,0),r=new qi(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([i,r],function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var i=n.findMutationBatch(t.targetOrBatchId);y(null!==i,"Batches in the index must exist in the main table"),o.push(i)}),xn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new te(Y);return e.forEach(function(t){var e=new qi(t,0),r=new qi(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,r],function(e){y(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),i=i.add(e.targetOrBatchId)})}),xn.resolve(this.findMutationBatches(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,i=n.length+1,r=n;st.isDocumentKey(r)||(r=r.child(""));var o=new qi(new st(r),0),l=new te(Y);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(l=l.add(t.targetOrBatchId)),!0)},o),xn.resolve(this.findMutationBatches(l))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.findMutationBatch(t);null!==i&&n.push(i)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;y(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var i=this.batchesByDocumentKey;return xn.forEach(e.mutations,function(r){var o=new qi(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.removeMutationReference(t,r.key)}).next(function(){n.batchesByDocumentKey=i})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new qi(e,0),i=this.batchesByDocumentKey.firstAfterOrEqual(n);return xn.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),xn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return y(n.batchId===t,"If found batch must match"),n},t}(),zi=function(){function t(t){this.persistence=t,this.queries=new Gn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Zt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Ui,this.targetCount=0,this.targetIdGenerator=Pn.forQueryCache()}return t.prototype.getTargetCount=function(t){return xn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),xn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return xn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return xn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,xn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),xn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return y(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,xn.resolve()},t.prototype.updateQueryData=function(t,e){return y(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),xn.resolve()},t.prototype.removeQueryData=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,xn.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.queries.forEach(function(l,a){a.sequenceNumber<=e&&!n[a.targetId]&&(i.queries.delete(l),o.push(i.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),xn.waitFor(o).next(function(){return r})},t.prototype.getQueryCount=function(t){return xn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return xn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(function(e){r.push(i.addReference(t,e))}),xn.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(function(e){r.push(i.removeReference(t,e))}),xn.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),xn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return xn.resolve(n)},t.prototype.containsKey=function(t,e){return xn.resolve(this.references.containsKey(e))},t}(),Gi=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new pt(st.comparator),this.newDocumentChanges=Ae(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var i=[],r=0,o=e;r<o.length;r++){var l=o[r],a=l.maybeDocument.key;this.docs=this.docs.insert(a,l),this.newDocumentChanges=this.newDocumentChanges.add(a),i.push(this.indexManager.addToCollectionParentIndex(t,a.path.popLast()))}return this.size+=n,xn.waitFor(i)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,xn.resolve(n.size)):xn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return xn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return xn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,i=Ce();return e.forEach(function(t){var e=n.docs.get(t);i=i.insert(t,e?e.maybeDocument:null)}),xn.resolve(i)},t.prototype.getSizedEntries=function(t,e){var n=this,i=Ce(),r=new pt(st.comparator);return e.forEach(function(t){var e=n.docs.get(t);i=i.insert(t,e?e.maybeDocument:null),r=r.insert(t,e?e.size:0)}),xn.resolve({maybeDocuments:i,sizeMap:r})},t.prototype.getDocumentsMatchingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Se(),i=new st(e.path.child("")),r=this.docs.getIteratorFrom(i);r.hasNext();){var o=r.getNext(),l=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;l instanceof ct&&e.matches(l)&&(n=n.insert(l.key,l))}return xn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return xn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=_e();return this.newDocumentChanges.forEach(function(t){var i=e.docs.get(t),r=i?i.maybeDocument:new ht(t,Zt.forDeletedDoc());n=n.insert(t,r)}),this.newDocumentChanges=Ae(),xn.resolve(n)},t.prototype.newChangeBuffer=function(){return new Yi(this.sizer,this)},t.prototype.getSize=function(t){return xn.resolve(this.size)},t}(),Yi=function(t){function e(e,n){var i=t.call(this)||this;return i.sizer=e,i.documentCache=n,i}return l.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=0,i=[];return this.assertChanges().forEach(function(t,r){var o=e.documentSizes.get(t);y(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var l=e.sizer(r);n+=l-o,i.push({maybeDocument:r,size:l})}),this.documentCache.addEntries(t,i,n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Yn),Xi=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new un(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new zi(this),this.indexManager=new ni,this.remoteDocumentCache=new Gi(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,i){return new t(e,function(t){return new Zi(t,new Ci(n),i)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Qi(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Hi(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var i=this;f("MemoryPersistence","Starting transaction:",t);var r=new Ki(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(r).next(function(t){return i.referenceDelegate.onTransactionCommitted(r).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return xn.or((n=this.mutationQueues,i=[],k(n,function(t,e){return i.push(e)}),i).map(function(n){return function(){return n.containsKey(t,e)}}));var n,i},t}(),Ki=function(t){this.currentSequenceNumber=t},Qi=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),xn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),xn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),xn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,i=this.persistence.getQueryCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return i.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return xn.forEach(this.orphanedDocuments,function(i){return e.isReferenced(t,i).next(function(e){return e?xn.resolve():n.removeEntry(t,i).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return xn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return xn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Zi=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Gn(function(t){return vn(t.path)}),this.garbageCollector=new Ai(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return xn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return xn.forEach(this.orphanedSequenceNumbers,function(i,r){return n.isPinned(t,i,r).next(function(t){return t?xn.resolve():e(r)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=0,r=this.persistence.getRemoteDocumentCache();return r.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?xn.resolve():(i++,r.removeEntry(t,o).next())})}).next(function(){return i})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),xn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),xn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),xn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),xn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var i=this;return xn.or([function(){return i.persistence.mutationQueuesContainKey(t,e)},function(){return xn.resolve(i.inMemoryPins.containsKey(e))},function(){return i.persistence.getQueryCache().containsKey(t,e)},function(){var t=i.orphanedSequenceNumbers.get(e);return xn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Ji=function(){function t(t,e,n,i,r){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=i,this.maxDelayMs=r,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),i=Math.max(0,Date.now()-this.lastAttemptTime),r=Math.max(0,n-i);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),$i=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),tr=1e3,er=6e4,nr=1.5,ir=function(){function t(t,e,n,i,r,o){this.queue=t,this.idleTimerId=n,this.connection=i,this.credentialsProvider=r,this.listener=o,this.state=$i.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Ji(t,e,tr,nr,er)}return t.prototype.isStarted=function(){return this.state===$i.Starting||this.state===$i.Open||this.state===$i.Backoff},t.prototype.isOpen=function(){return this.state===$i.Open},t.prototype.start=function(){this.state!==$i.Error?(y(this.state===$i.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close($i.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=$i.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){return this.isOpen()?[2,this.close($i.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(n){switch(n.label){case 0:return y(this.isStarted(),"Only started streams should be closed."),y(t===$i.Error||Ft(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==$i.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;y(this.state===$i.Initial,"Must be in initial state to auth"),this.state=$i.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new C(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;y(this.state===$i.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return y(e.state===$i.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=$i.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;y(this.state===$i.Error,"Should only perform backoff when in Error state"),this.state=$i.Backoff,this.backoff.backoffAndRun(function(){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(t){return y(this.state===$i.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=$i.Initial,this.start(),y(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return y(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close($i.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),rr=function(t){function e(e,n,i,r,o){var l=t.call(this,e,sn.ListenStreamConnectionBackoff,sn.ListenStreamIdle,n,i,o)||this;return l.serializer=r,l}return l.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(ir),or=function(t){function e(e,n,i,r,o){var l=t.call(this,e,sn.WriteStreamConnectionBackoff,sn.WriteStreamIdle,n,i,o)||this;return l.serializer=r,l.handshakeComplete_=!1,l}return l.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(ir),lr=function(){function t(t,e,n,i){this.queue=t,this.connection=e,this.credentials=n,this.serializer=i}return t.prototype.newPersistentWriteStream=function(t){return new or(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new rr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var i=_e();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);i=i.insert(n.key,n)});var r=[];return t.forEach(function(t){var e=i.get(t);y(!!e,"Missing entity in write response for "+t),r.push(e)}),r})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(i){return n.connection.invokeRPC(t,e,i)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(i){return n.connection.invokeStreamingRPC(t,e,i)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),ar=function(){function t(t){this.datastore=t,this.readVersions=Te(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ct)e=t.version;else{if(!(t instanceof ht))throw v("Document in a transaction was a "+t.constructor.name);e=Zt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof ht||t instanceof ct?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new C(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?oe.updateTime(e):oe.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Zt.forDeletedDoc()))throw new C(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?oe.updateTime(e):oe.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ce(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Zt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),sr=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),ur=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),cr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=sr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(sr.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(sn.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,y(t.state===sr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(sr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===sr.Online?(this.setAndBroadcast(sr.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(sr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===sr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),hr="RemoteStore",dr=function(){function t(t,e,n,i,r){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=r,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return l.__awaiter(o,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(hr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new cr(n,i),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return l.__awaiter(this,void 0,void 0,function(){var t;return l.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(sr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(sr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(f(hr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return f(hr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(sr.Unknown),[2]}})})},t.prototype.listen=function(t){y(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){y(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(sr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new We(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return l.__awaiter(this,void 0,void 0,function(){var t=this;return l.__generator(this,function(e){return T(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){return void 0===t&&y(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(sr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return l.__awaiter(this,void 0,void 0,function(){var n;return l.__generator(this,function(i){switch(i.label){case 0:return this.onlineStateTracker.set(sr.Online),t instanceof Ue&&t.state===Be.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Fe?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Ve?this.watchChangeAggregator.handleExistenceFilter(t):(y(t instanceof Ue,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Zt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=i.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;y(!t.isEqual(Zt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return T(n.targetChanges,function(n,i){if(i.resumeToken.length>0){var r=e.listenTargets[n];r&&(e.listenTargets[n]=r.copy({resumeToken:i.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:w()}),e.sendUnwatchRequest(t);var i=new $t(n.query,t,Jt.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(i)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,i=Promise.resolve();return t.targetIds.forEach(function(t){i=i.then(function(){return l.__awaiter(e,void 0,void 0,function(){return l.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),i},t.prototype.fillWritePipeline=function(){return l.__awaiter(this,void 0,void 0,function(){var t;return l.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Ni)},t.prototype.onMutationResult=function(t,e){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var i=this.writePipeline.shift(),r=Cn.from(i,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return l.__awaiter(this,void 0,void 0,function(){var e=this;return l.__generator(this,function(n){return void 0===t&&y(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){return ye(t.code)?(f(hr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Ni)]):[2]})})},t.prototype.handleWriteError=function(t){return l.__awaiter(this,void 0,void 0,function(){var e,n=this;return l.__generator(this,function(i){return ye(r=t.code)&&r!==_.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var r})})},t.prototype.createTransaction=function(){return new ar(this.datastore)},t.prototype.restartNetwork=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(sr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(hr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(sr.Unknown),e.label=4;case 4:return[2]}})})},t}(),pr=function(){function t(t){this.syncEngine=t,this.queries=new Gn(function(t){return t.canonicalId()}),this.onlineState=sr.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,i=this.queries.get(e);return i||(n=!0,i=new function(){this.listeners=[]},this.queries.set(e,i)),i.listeners.push(t),t.applyOnlineStateChange(this.onlineState),i.viewSnap&&t.onViewSnapshot(i.viewSnap),n?this.syncEngine.listen(e).then(function(t){return i.targetId=t,t}):Promise.resolve(i.targetId)},t.prototype.unlisten=function(t){return l.__awaiter(this,void 0,void 0,function(){var e,n,i,r;return l.__generator(this,function(o){return n=!1,(i=this.queries.get(e=t.query))&&(r=i.listeners.indexOf(t))>=0&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e],r=this.queries.get(i.query);if(r){for(var o=0,l=r.listeners;o<l.length;o++)l[o].onViewSnapshot(i);r.viewSnap=i}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var i=0,r=n.listeners;i<r.length;i++)r[i].applyOnlineStateChange(t)})},t}(),fr=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=sr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(y(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];r.type!==Re.Metadata&&e.push(r)}t=new Ne(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==sr.Offline?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===sr.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Ne.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),gr=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var i=Ae(),r=Ae(),o=0,l=n.docChanges;o<l.length;o++){var a=l[o];switch(a.type){case Re.Added:i=i.add(a.doc.key);break;case Re.Removed:r=r.add(a.doc.key)}}return new t(e,i,r)},t}(),mr=function(t){this.key=t},vr=function(t){this.key=t},yr=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ae(),this.mutatedKeys=Ae(),this.documentSet=new Ie(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,i=e?e.changeSet:new Me,r=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,l=r,a=!1,s=this.query.hasLimit()&&r.size===this.query.limit?r.last():null;if(t.inorderTraversal(function(t,e){var u=r.get(t),c=e instanceof ct?e:null;c&&(y(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!u&&n.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(i.track({type:Re.Metadata,doc:c}),p=!0):n.shouldWaitForSyncedDocument(u,c)||(i.track({type:Re.Modified,doc:c}),p=!0,s&&n.query.docComparator(c,s)>0&&(a=!0)):!u&&c?(i.track({type:Re.Added,doc:c}),p=!0):u&&!c&&(i.track({type:Re.Removed,doc:u}),p=!0,s&&(a=!0)),p&&(c?(l=l.add(c),o=d?o.add(t):o.delete(t)):(l=l.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;l.size>this.query.limit;){var u=l.last();l=l.delete(u.key),o=o.delete(u.key),i.track({type:Re.Removed,doc:u})}return y(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:l,changeSet:i,needsRefill:a,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this;y(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Re.Added:return 1;case Re.Modified:case Re.Metadata:return 2;case Re.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||i.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var l=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Pe.Synced:Pe.Local,s=a!==this.syncState;return this.syncState=a,0!==o.length||s?{snapshot:new Ne(this.query,t.documentSet,r,o,t.mutatedKeys,a===Pe.Local,s,!1),limboChanges:l}:{limboChanges:l}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===sr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Me,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return y(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ae(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new vr(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new mr(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ae();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Ne.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Pe.Local)},t}(),br=function(){function t(t,e,n,i){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=i,this.syncEngineListener=null,this.queryViewsByQuery=new Gn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new pt(st.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Ui,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Pn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=sr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){y(null!==t,"SyncEngine listener cannot be null"),y(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return l.__awaiter(this,void 0,void 0,function(){var e,n,i,r,o;return l.__generator(this,function(l){switch(l.label){case 0:return this.assertSubscribed("listen()"),(i=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=i.targetId),n=i.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return r=l.sent(),o=this.sharedClientState.addLocalQueryTarget(r.targetId),e=r.targetId,[4,this.initializeViewAndComputeSnapshot(r,"current"===o)];case 3:n=l.sent(),this.isPrimary&&this.remoteStore.listen(r),l.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,i=t.query;return this.localStore.executeQuery(i).then(function(r){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var l=new yr(i,o),a=l.computeDocChanges(r),s=Le.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==sr.Offline),u=l.applyChanges(a,!0===n.isPrimary,s);y(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!u.snapshot,"applyChanges for new view should always return a snapshot");var c=new function(t,e,n){this.query=t,this.targetId=e,this.view=n}(i,t.targetId,l);return n.queryViewsByQuery.set(i,c),n.queryViewsByTarget[t.targetId]=c,u.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(i){return l.__awaiter(e,void 0,void 0,function(){var e;return l.__generator(this,function(r){return e=t.view.synchronizeWithPersistedState(n,i),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return l.__awaiter(this,void 0,void 0,function(){var e,n=this;return l.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),y(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Ni)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),y(e>=0,"Got negative number of retries for transaction.");var i=this.remoteStore.createTransaction();return function(){try{var e=t(i);return!Ft(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(r){return i.commit().then(function(){return r}).catch(function(i){return 0===e?Promise.reject(i):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return k(t.targetChanges,function(t,n){var i=e.limboResolutionsByTarget[t];i&&(y(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?i.receivedDocument=!0:n.modifiedDocuments.size>0?y(i.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(y(i.receivedDocument,"Received remove for limbo target document without add."),i.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(Ni)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===ur.RemoteStore||!this.isPrimary&&e===ur.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,i){var r=i.view.applyOnlineStateChange(t);y(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&n.push(r.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return l.__awaiter(this,void 0,void 0,function(){var n,i,r,o,a,s,u=this;return l.__generator(this,function(l){switch(l.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(i=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboResolutionsByTarget[t],r=(r=new pt(st.comparator)).insert(i,new ht(i,Zt.forDeletedDoc())),o=Ae().add(i),a=new je(Zt.MIN,{},new te(Y),r,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return y(!!(s=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return u.removeAndCleanupQuery(s)}).catch(Ni)];case 2:l.sent(),this.syncEngineListener.onWatchError(s.query,e),l.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return l.__awaiter(this,void 0,void 0,function(){var i;return l.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(i=r.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),r.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(i)];case 5:return r.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(Ni)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(i){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(i)}).catch(Ni)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new pt(Y)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var i=n.get(t);i&&(y(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?i.reject(e):i.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof mr?(this.limboDocumentRefs.addReference(r.key,t),this.trackLimboChange(r)):r instanceof vr?(f("SyncEngine","Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,t),this.limboDocumentRefs.containsKey(r.key)||this.removeLimboTarget(r.key)):v("Unknown limbo change: "+JSON.stringify(r))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),i=Bt.atPath(e.path);this.limboResolutionsByTarget[n]=new function(t){this.key=t}(e),this.remoteStore.listen(new $t(i,n,Jt.LimboResolution,un.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return l.__awaiter(this,void 0,void 0,function(){var n,i,r,o=this;return l.__generator(this,function(l){switch(l.label){case 0:return n=[],i=[],r=[],this.queryViewsByQuery.forEach(function(l,a){r.push(Promise.resolve().then(function(){var e=a.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(a.query).then(function(t){return a.view.computeDocChanges(t,e)}):e}).then(function(t){var r=a.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[a.targetId]);if(o.updateTrackedLimbos(a.targetId,r.limboChanges),r.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(a.targetId,r.snapshot.fromCache?"not-current":"current"),n.push(r.snapshot);var l=gr.fromSnapshot(a.targetId,r.snapshot);i.push(l)}}))}),[4,Promise.all(r)];case 1:return l.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(i)];case 2:return l.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){y(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return l.__awaiter(this,void 0,void 0,function(){var e,n;return l.__generator(this,function(i){switch(i.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=i.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:i.sent(),i.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return i.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return l.__awaiter(this,void 0,void 0,function(){var e,n,i,r,o,a,s=this;return l.__generator(this,function(l){switch(l.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return l.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=l.sent(),i=0,r=n;i<r.length;i++)this.remoteStore.listen(r[i]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],a=Promise.resolve(),T(this.queryViewsByTarget,function(t,e){s.sharedClientState.isLocalQueryTarget(t)?o.push(t):a=a.then(function(){return s.unlisten(e.query)}),s.remoteStore.unlisten(e.targetId)}),[4,a]);case 4:return l.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return l.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;T(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new pt(st.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),i=[],r=[],o=function(t){n=n.then(function(){return l.__awaiter(e,void 0,void 0,function(){var e,n,o,a;return l.__generator(this,function(l){switch(l.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return l.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=l.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=l.sent()).snapshot&&r.push(o.snapshot),[3,8];case 4:return y(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return y(!!(a=l.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return e=l.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:l.sent(),l.label=8;case 8:return i.push(e),[2]}})})})},a=0,s=t;a<s.length;a++)o(s[a]);return n.then(function(){return e.syncEngineListener.onWatchChange(r),i})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return l.__awaiter(this,void 0,void 0,function(){var i,r=this;return l.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return l.__awaiter(r,void 0,void 0,function(){var i;return l.__generator(this,function(r){switch(r.label){case 0:return i=je.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,i)];case 1:return r.sent(),[2]}})})},function(t){return l.__awaiter(r,void 0,void 0,function(){var e;return l.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===_.DATA_LOSS&&t.message===Xn}(t)?(e=[],T(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(i=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(i.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(i.query,n),[3,5];case 4:v("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return l.__awaiter(this,void 0,void 0,function(){var n,i,r,o,a,s,u,c,h,d=this;return l.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,i=t,p.label=1;case 1:return n<i.length?(y(!this.queryViewsByTarget[h=i[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return y(!!(r=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(r)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return l.__generator(this,function(n){switch(n.label){case 0:return(e=s.queryViewsByTarget[t])?[4,s.localStore.releaseQuery(e.query,!1).then(function(){d.remoteStore.unlisten(t),d.removeAndCleanupQuery(e)}).catch(Ni)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},s=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,a(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ae().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ae()},t}(),wr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),_r="SharedClientState",Cr="firestore_clients",xr="firestore_mutations",Sr="firestore_targets",Er="firestore_online_state",Tr="firestore_sequence_number",kr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i,y(void 0!==i==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),l=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(l=new C(r.error.code,r.error.message)),o?new t(e,n,r.state,l):(g(_r,"Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ar=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,y(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new C(i.error.code,i.error.message)),r?new t(e,i.state,o):(g(_r,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Dr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Oe(),l=0;r&&l<i.activeTargetIds.length;++l)r=Vt(i.activeTargetIds[l]),o=o.add(i.activeTargetIds[l]);return r?new t(e,o):(g(_r,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Or=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==sr[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,sr[n.onlineState]):(g(_r,"Failed to parse online state: "+e),null)},t}(),Ir=function(){function t(){this.activeTargetIds=Oe()}return t.prototype.addQueryTarget=function(t){y(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Rr=function(){function t(e,n,i,r,o){if(this.queue=e,this.platform=n,this.persistenceKey=i,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Tr+"_"+i,this.activeClients[this.localClientId]=new Ir,this.clientStateKeyRe=new RegExp("^"+Cr+"_"+l+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+xr+"_"+l+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Sr+"_"+l+"_(\\d+)$"),this.onlineStateKey=Er+"_"+i,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return l.__awaiter(this,void 0,void 0,function(){var t,e,n,i,r,o,a,s,u,c,h=this;return l.__generator(this,function(l){switch(l.label){case 0:return y(!this.started,"WebStorageSharedClientState already started"),y(null!==this.syncEngine,"syncEngine property must be set before calling start()"),y(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.localClientId&&(r=this.getItem(this.toWebStorageClientStateKey(i)))&&(o=Dr.fromWebStorageEntry(i,r))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Oe();return k(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var i=Ar.fromWebStorageEntry(t,n);i&&(e=i.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach(function(t){i.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){i.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f(_r,"READ",t,e),e},t.prototype.setItem=function(t,e){f(_r,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f(_r,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(f(_r,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return l.__awaiter(e,void 0,void 0,function(){var e,n,i,r,o,a;return l.__generator(this,function(l){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(i)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(r)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(y(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=un.INVALID;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){g(_r,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==un.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var i=new kr(this.currentUser,t,e,n),r=this.toWebStorageMutationBatchKey(t);this.setItem(r,i.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:sr[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var i=this.toWebStorageQueryTargetMetadataKey(t),r=new Ar(t,e,n);this.setItem(i,r.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return y(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Cr+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Sr+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=xr+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return y(null!==n,"Cannot parse client state key '"+t+"'"),Dr.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);y(null!==n,"Cannot parse mutation batch key '"+t+"'");var i=Number(n[1]);return kr.fromWebStorageEntry(new wr(void 0!==n[2]?n[2]:null),i,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);y(null!==n,"Cannot parse query target key '"+t+"'");var i=Number(n[1]);return Ar.fromWebStorageEntry(i,e)},t.prototype.fromWebStorageOnlineState=function(t){return Or.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(f(_r,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,i=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var r=this.getAllActiveQueryTargets(),o=[],a=[];return r.forEach(function(t){return l.__awaiter(n,void 0,void 0,function(){return l.__generator(this,function(e){return i.has(t)||o.push(t),[2]})})}),i.forEach(function(t){return l.__awaiter(n,void 0,void 0,function(){return l.__generator(this,function(e){return r.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Pr=function(){function t(){this.localState=new Ir,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Ir,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Mr=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return Ti.withCacheSize(this.cacheSizeBytes)},t}(),Nr=function(){function t(t,e,n,i){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=i,this.clientId=G.newId(),this._clientShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new cn,i=new cn,r=!1;return this.credentials.setChangeListener(function(o){r?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(r=!0,e.initializePersistence(t,i,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var i=this;return t instanceof Mr?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!i.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),i.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new C(_.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,i=Mi.buildStoragePrefix(this.databaseInfo),r=new $e(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return l.__awaiter(n,void 0,void 0,function(){var n,o;return l.__generator(this,function(l){switch(l.label){case 0:if(e.synchronizeTabs&&!Rr.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.synchronizeTabs?(this.sharedClientState=new Rr(this.asyncQueue,this.platform,i,this.clientId,t),[4,Mi.createMultiClientIndexedDbPersistence(i,this.clientId,this.platform,this.asyncQueue,r,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=l.sent(),[3,4];case 2:return this.sharedClientState=new Pr,[4,Mi.createIndexedDbPersistence(i,this.clientId,this.platform,this.asyncQueue,r,o)];case 3:n=l.sent(),l.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Xi.createEagerPersistence(this.clientId),this.sharedClientState=new Pr,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return f("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(i){return l.__awaiter(n,void 0,void 0,function(){var n,r,o,a,s=this;return l.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Wi(this.persistence,t),e&&(this.lruScheduler=new ki(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),r=this.platform.newSerializer(this.databaseInfo.databaseId),o=new lr(this.asyncQueue,i,this.credentials,r),a=function(t){return s.syncEngine.applyOnlineStateChange(t,ur.SharedClientState)},this.remoteStore=new dr(this.localStore,o,this.asyncQueue,function(t){return s.syncEngine.applyOnlineStateChange(t,ur.RemoteStore)},n),this.syncEngine=new br(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new pr(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return l.__awaiter(s,void 0,void 0,function(){return l.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return l.__awaiter(s,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return[4,this.shutdown()];case 1:return t.sent(),[2]}})})})];case 4:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.enqueue(function(){return l.__awaiter(t,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:t.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,t.label=4;case 4:return[2]}})})})},t.prototype.listen=function(t,e,n){var i=this;this.verifyNotShutdown();var r=new fr(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return i.eventMgr.listen(r)}),r},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ct)return t;if(t instanceof ht)return null;throw new C(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Ae(),i=new yr(t,n),r=i.computeDocChanges(e);return i.applyChanges(r,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new cn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(t.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return l.__awaiter(e,void 0,void 0,function(){return l.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),jr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Lr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,i,r){if(!(t instanceof Array)||t.length<1)throw new C(_.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+z(1,"element")+".")}();for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new C(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(at.keyField().canonicalString()),t}(),Fr=new RegExp("[~\\*/\\[\\]]"),Vr=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(wr.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){y(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Br=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new C(_.ABORTED,"getToken aborted due to token change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){y(null!=this.tokenListener,"removeChangeListener() called twice"),y(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new wr(t)},t}(),Ur=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=wr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),qr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Ur(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(wr.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Wr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Hr=function(){function t(t){this._methodName=t}return t.delete=function(){return D("FieldValue.delete",arguments),zr.instance},t.serverTimestamp=function(){return D("FieldValue.serverTimestamp",arguments),Gr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I("FieldValue.arrayUnion",arguments,1),new Yr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I("FieldValue.arrayRemove",arguments,1),new Xr(t)},t.increment=function(t){return P("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1),new Kr(t)},t.prototype.isEqual=function(t){return this===t},t}(),zr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return l.__extends(e,t),e.instance=new e,e}(Hr),Gr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return l.__extends(e,t),e.instance=new e,e}(Hr),Yr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return l.__extends(e,t),e}(Hr),Xr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return l.__extends(e,t),e}(Hr),Kr=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return l.__extends(e,t),e}(Hr),Qr=x(Hr,"Use FieldValue.<field>() instead."),Zr=/^__.*__$/,Jr=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new se(t,this.data,this.fieldMask,e):new ae(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ue(t,this.fieldTransforms)),n},t}(),$r=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new se(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new ue(t,this.fieldTransforms)),n},t}(),to=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function eo(t){switch(t){case to.Set:case to.MergeSet:case to.Update:return!0;case to.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var no=function(){function t(t,e,n,i,r,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=i,void 0===r&&this.validatePath(),this.arrayElement=void 0!==i&&i,this.fieldTransforms=r||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePathSegment(e),i},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePath(),i},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(eo(this.dataSource)&&Zr.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),io=function(t,e){this.databaseId=t,this.key=e},ro=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new no(to.Set,t,at.EMPTY_PATH);lo("Data must be an object, but it was:",n,e);var i=this.parseData(e,n);return new Jr(i,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var i=new no(to.MergeSet,t,at.EMPTY_PATH);lo("Data must be an object, but it was:",i,e);var r,o,l=this.parseData(e,i);if(n){for(var a=new te(at.comparator),s=0,u=n;s<u.length;s++){var c=u[s],h=void 0;if(c instanceof Lr)h=c._internalPath;else{if("string"!=typeof c)throw v("Expected stringOrFieldPath to be a string or a FieldPath");h=so(t,c)}if(!i.contains(h))throw new C(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}r=ne.fromSet(a),o=i.fieldTransforms.filter(function(t){return r.covers(t.field)})}else r=ne.fromArray(i.fieldMask),o=i.fieldTransforms;return new Jr(l,r,o)},t.prototype.parseUpdateData=function(t,e){var n=this,i=new no(to.Update,t,at.EMPTY_PATH);lo("Data must be an object, but it was:",i,e);var r=new te(at.comparator),o=Rt.EMPTY;k(e,function(e,l){var a=so(t,e),s=i.childContextForFieldPath(a);if((l=n.runPreConverter(l,s))instanceof zr)r=r.add(a);else{var u=n.parseData(l,s);null!=u&&(r=r.add(a),o=o.set(a,u))}});var l=ne.fromSet(r);return new $r(o,l,i.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,i){var r=new no(to.Update,t,at.EMPTY_PATH),o=[ao(t,e)],l=[n];if(i.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<i.length;a+=2)o.push(ao(t,i[a])),l.push(i[a+1]);var s=new te(at.comparator),u=Rt.EMPTY;for(a=0;a<o.length;++a){var c=o[a],h=r.childContextForFieldPath(c),d=this.runPreConverter(l[a],h);if(d instanceof zr)s=s.add(c);else{var p=this.parseData(d,h);null!=p&&(s=s.add(c),u=u.set(c,p))}}var f=ne.fromSet(s);return new $r(u,f,r.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new no(to.Argument,t,at.EMPTY_PATH),i=this.parseData(e,n);return y(null!=i,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=uo(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(oo(t=this.runPreConverter(t,e)))return lo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Hr)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,i=new pt(Y);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,function(t,r){var o=n.parseData(r,e.childContextForField(t));null!=o&&(i=i.insert(t,o))}),new Rt(i)},t.prototype.parseArray=function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var l=this.parseData(o[r],e.childContextForArray(i));null==l&&(l=wt.INSTANCE),n.push(l),i++}return new Pt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!eo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof zr){if(e.dataSource!==to.MergeSet)throw e.dataSource===to.Update?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Gr)e.fieldTransforms.push(new ie(e.path,he.instance));else if(t instanceof Yr){var n=this.parseArrayTransformElements(t._methodName,t._elements),i=new de(n);e.fieldTransforms.push(new ie(e.path,i))}else if(t instanceof Xr){n=this.parseArrayTransformElements(t._methodName,t._elements);var r=new pe(n);e.fieldTransforms.push(new ie(e.path,r))}else if(t instanceof Kr){var o=this.parseQueryValue("FieldValue.increment",t._operand),l=new fe(o);e.fieldTransforms.push(new ie(e.path,l))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return wt.INSTANCE;if("number"==typeof t)return Vt(t)?new St(t):new Et(t);if("boolean"==typeof t)return _t.of(t);if("string"==typeof t)return new Tt(t);if(t instanceof Date)return new kt(et.fromDate(t));if(t instanceof et)return new kt(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new It(t);if(t instanceof J)return new Dt(t);if(t instanceof io)return new Ot(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,i){var r=new no(to.Argument,t,at.EMPTY_PATH);return n.parseData(e,r.childContextForArray(i))})},t}();function oo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof J||t instanceof io||t instanceof Hr)}function lo(t,e,n){if(!oo(n)||!V(n)){var i=B(n);throw e.createError("an object"===i?t+" a custom object":t+" "+i)}}function ao(t,e){if(e instanceof Lr)return e._internalPath;if("string"==typeof e)return so(t,e);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function so(t,e){try{return function(t){if(t.search(Fr)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Lr.bind.apply(Lr,[void 0].concat(t.split("."))))}catch(e){throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=uo(e);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function uo(t){return t instanceof Error?t.message:t.toString()}var co="firestore.googleapis.com",ho=!0,po=!0,fo=!1,go=Ti.COLLECTION_DISABLED,mo=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=co,this.ssl=ho}else N("settings","non-empty string","host",t.host),this.host=t.host,j("settings","boolean","ssl",t.ssl),this.ssl=E(t.ssl,ho);if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),j("settings","object","credentials",t.credentials),this.credentials=t.credentials,j("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=E(t.timestampsInSnapshots,po),j("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ti.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==go&&t.cacheSizeBytes<Ti.MINIMUM_CACHE_SIZE_BYTES)throw new C(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ti.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}j("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?fo:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),vo=function(){},yo=function(){function t(e){var n=this;this._queue=new dn,this.INTERNAL={delete:function(){return l.__awaiter(n,void 0,void 0,function(){return l.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),[2]}})})}};var i=new vo;if("object"==typeof e.options){var r=e;i.firebaseApp=r,i.databaseId=t.databaseIdFromApp(r),i.persistenceKey=i.firebaseApp.name,i.credentials=new Br(r)}else{var o=e;if(!o.projectId)throw new C(_.INVALID_ARGUMENT,"Must provide projectId");i.databaseId=new it(o.projectId,o.database),i.persistenceKey="[DEFAULT]",i.credentials=new Vr}i.settings=new mo({}),this._config=i,this._databaseId=i.databaseId}return t.prototype.settings=function(t){if(O("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),S(t,"persistence"))throw new C(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new mo(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Vr;switch(t.type){case"gapi":var e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new qr(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=E(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Mr(this._config.settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Mi.buildStoragePrefix(this.makeDatabaseInfo()),n=new cn;return this._queue.enqueueAndForget(function(){return l.__awaiter(t,void 0,void 0,function(){var t;return l.__generator(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new C(_.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Mi.clearPersistence(e)];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new function(){}),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new function(t,e,n,i,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;y(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),y(!this._firestoreClient,"configureClient() called multiple times");var n=this.makeDatabaseInfo();return this._dataConverter=new ro(function(t){if(t instanceof _o){var n=e._config.databaseId,i=t.firestore._config.databaseId;if(!i.isEqual(n))throw new C(_.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new io(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Nr(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId"))throw new C(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new ko(ot.fromString(t),this)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),_o.forPath(ot.fromString(t),this)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Eo(new Bt(ot.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new bo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new wo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return v("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(O("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new C(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),bo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=Io("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var i=t[0];if(i instanceof ht)return new xo(e._firestore,n._key,null,!1,!1);if(i instanceof ct)return new xo(e._firestore,n._key,i,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+i.constructor.name)})},t.prototype.set=function(t,e,n){R("Transaction.set",arguments,2,3);var i=Io("Transaction.set",t,this._firestore),r=(n=Ao("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(i._key,r),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];return"string"==typeof e||e instanceof Lr?(I("Transaction.update",arguments,3),i=Io("Transaction.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(O("Transaction.update",arguments,2),i=Io("Transaction.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(i._key,r),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=Io("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),wo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){R("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var i=Io("WriteBatch.set",t,this._firestore),r=(n=Ao("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(r.toMutations(i._key,oe.NONE)),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Lr?(I("WriteBatch.update",arguments,3),i=Io("WriteBatch.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(O("WriteBatch.update",arguments,2),i=Io("WriteBatch.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(r.toMutations(i._key,oe.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Io("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ce(e._key,oe.NONE)),this},t.prototype.commit=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),_o=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new st(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ko(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new C(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ot.fromString(t);return new ko(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){R("DocumentReference.set",arguments,1,2);var n=(e=Ao("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,oe.NONE))},t.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof Lr?(I("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,i)):(O("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,oe.exists(!0)))},t.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ce(this._key,oe.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Wr(t[r])||(q("DocumentReference.onSnapshot",i=t[r],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return Wr(t[r])?n=t[r]:(P("DocumentReference.onSnapshot","function",r,t[r]),M("DocumentReference.onSnapshot","function",r+1,t[r+1]),M("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new jr({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var i=t.docs.get(n._key);e.next(new xo(n.firestore,n._key,i,t.fromCache,t.hasPendingWrites))}},error:i}),o=this._firestoreClient.listen(Bt.atPath(this._key.path),r,t);return function(){r.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return R("DocumentReference.get",arguments,0,1),Oo("DocumentReference.get",t),new Promise(function(n,i){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new xo(e.firestore,e._key,t,!0,t instanceof ct&&t.hasLocalMutations))},i):e.getViaSnapshotListener(n,i,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?e(new C(_.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t}(),Co=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xo=function(){function t(t,e,n,i,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=i,this._hasPendingWrites=r}return t.prototype.data=function(t){return R("DocumentSnapshot.data",arguments,0,1),t=Do("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,yt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(R("DocumentSnapshot.get",arguments,1,2),e=Do("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(ao("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,yt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new _o(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Co(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,i={};return t.forEach(function(t,r){i[t]=n.convertValue(r,e)}),i},t.prototype.convertValue=function(t,e){if(t instanceof Rt)return this.convertObject(t,e);if(t instanceof Pt)return this.convertArray(t,e);if(t instanceof Ot){var n=t.value(e),i=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(i)||g("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),new _o(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),So=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return l.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(xo),Eo=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,i){var r;O("Query.where",arguments,3),U("Query.where",3,i),function(t,e,n,i){if(!e.some(function(t){return t===i}))throw new C(_.INVALID_ARGUMENT,"Invalid value "+B(i)+" provided to function Query.where() for its "+H(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var o=ao("Query.where",e),l=qt.fromString(n);if(o.isKeyField()){if(l===qt.ARRAY_CONTAINS)throw new C(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof i){if(""===i)throw new C(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==i.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+i+"' contains a slash.");var a=this._query.path.child(ot.fromString(i));if(!st.isDocumentKey(a))throw new C(_.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");r=new Ot(this.firestore._databaseId,new st(a))}else{if(!(i instanceof _o))throw new C(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+B(i)+".");r=new Ot(this.firestore._databaseId,i._key)}}else r=this.firestore._dataConverter.parseQueryValue("Query.where",i);var s=Ut.create(o,l,r);return this.validateNewFilter(s),new t(this._query.addFilter(s),this.firestore)},t.prototype.orderBy=function(e,n){var i;if(R("Query.orderBy",arguments,1,2),M("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i=Gt.ASCENDING;else{if("desc"!==n)throw new C(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=Gt.DESCENDING}if(null!==this._query.startAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=ao("Query.orderBy",e),o=new Xt(r,i);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(O("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];I("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(r),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];I("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(r),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];I("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(r),this.firestore)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];I("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(r),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,i){if(U(t,1,e),e instanceof xo){if(n.length>0)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new C(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,r._document,i)}var o=[e].concat(n);return this.boundFromFields(t,o,i)},t.prototype.boundFromDocument=function(t,e,n){for(var i=[],r=0,o=this._query.orderBy;r<o.length;r++){var l=o[r];if(l.field.isKeyField())i.push(new Ot(this.firestore._databaseId,e.key));else{var a=e.field(l.field);if(a instanceof At)throw new C(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===a){var s=l.field.canonicalString();throw new C(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+s+"' (used as the orderBy) does not exist.")}i.push(a)}}return new Yt(i,n)},t.prototype.boundFromFields=function(t,e,n){var i=this._query.explicitOrderBy;if(e.length>i.length)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var l=e[o];if(i[o].field.isKeyField()){if("string"!=typeof l)throw new C(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof l);if(!this._query.isCollectionGroupQuery()&&-1!==l.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+l+"' contains a slash.");var a=this._query.path.child(ot.fromString(l));if(!st.isDocumentKey(a))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var s=new st(a);r.push(new Ot(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,l);r.push(u)}}return new Yt(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||Wr(t[r])||(q("Query.onSnapshot",i=t[r],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),Wr(t[r])?n=t[r]:(P("Query.onSnapshot","function",r,t[r]),M("Query.onSnapshot","function",r+1,t[r+1]),M("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new jr({next:function(t){e.next&&e.next(new To(n.firestore,n._query,t))},error:i}),o=this.firestore.ensureClientConfigured(),l=o.listen(this._query,r,t);return function(){r.mute(),o.unlisten(l)}},t.prototype.get=function(t){var e=this;return R("Query.get",arguments,0,1),Oo("Query.get",t),new Promise(function(n,i){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new To(e.firestore,e._query,t))},i):e.getViaSnapshotListener(n,i,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Wt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new C(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===qt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new C(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),To=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Co(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;R("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(i){t.call(e,n.convertToDocumentImpl(i))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Eo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var i,r=0;return n.docChanges.map(function(e){var o=new So(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return y(e.type===Re.Added,"Invalid event type for first snapshot"),y(!i||n.query.docComparator(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Re.Metadata}).map(function(e){var i=new So(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),r=-1,l=-1;return e.type!==Re.Added&&(y((r=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Re.Removed&&(l=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case Re.Added:return"added";case Re.Modified:case Re.Metadata:return"modified";case Re.Removed:return"removed";default:return v("Unknown change type: "+t)}}(e.type),doc:i,oldIndex:r,newIndex:l}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new So(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(To.prototype.docChanges,t,{get:function(){return function(){throw new C(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var ko=function(t){function e(e,n){var i=t.call(this,Bt.atPath(e),n)||this;if(e.length%2!=1)throw new C(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return i}return l.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new _o(new st(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(R("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ot.fromString(t);return _o.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Eo);function Ao(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),j(t,"boolean","merge",e.merge),void 0!==(n=e.mergeFields)&&function(t,e,n,i,r){if(!(i instanceof Array))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(i));for(var o=0;o<i.length;++o)if(!("string"==typeof(l=i[o])||l instanceof Lr))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+B(i[o]));var l}(t,0,0,n),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Do(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Oo(t,e){M(t,"object",1,e),e&&(q(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function Io(t,e,n){if(e instanceof _o){if(e.firestore!==n)throw new C(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw W(t,"DocumentReference",1,e)}var Ro=x(yo,"Use firebase.firestore() instead."),Po=x(bo,"Use firebase.firestore().runTransaction() instead."),Mo=x(wo,"Use firebase.firestore().batch() instead."),No=x(_o,"Use firebase.firestore().doc() instead."),jo=x(xo),Lo=x(So),Fo=x(Eo),Vo=x(To),Bo=x(ko,"Use firebase.firestore().collection() instead."),Uo={Firestore:Ro,GeoPoint:tt,Timestamp:et,Blob:$,Transaction:Po,WriteBatch:Mo,DocumentReference:No,DocumentSnapshot:jo,Query:Fo,QueryDocumentSnapshot:Lo,QuerySnapshot:Vo,CollectionReference:Bo,FieldPath:Lr,FieldValue:Qr,setLogLevel:yo.setLogLevel,CACHE_SIZE_UNLIMITED:go};function qo(t){t.INTERNAL.registerService("firestore",function(t){return new yo(t)},function(t){y(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Uo))}qo(r),e.registerFirestore=qo}).call(e,n("W2nU"))},Wubi:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},X3l8:function(t,e,n){var i=n("63KW"),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function l(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=l),o(r,l),l.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},l.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},l.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},l.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},X4X3:function(t,e,n){"use strict";var i=n("X3l8").Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=s,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=h,e=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function l(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=l(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=l(e[i]))>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=l(e[i]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},XTlk:function(t,e,n){"use strict";e.a=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},XtZC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("TToO"),r=n("p1Bo"),o=n("NGRO"),l=function(t){function e(e,n,i){void 0===i&&(i=0);var r=t.call(this,e)||this;return r.scheduler=n,r.delay=i,r}return i.__extends(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},e}(r.a),a=function(t,e){this.notification=t,this.destination=e}},Y9kR:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("TToO"),r=n("lWPP"),o=n("wdeq"),l=n("03ca"),a=function(t){function e(e,n,i){void 0===n&&(n=0),void 0===i&&(i=o.a);var r=t.call(this)||this;return r.source=e,r.delayTime=n,r.scheduler=i,(!Object(l.a)(n)||n<0)&&(r.delayTime=0),i&&"function"==typeof i.schedule||(r.scheduler=o.a),r}return i.__extends(e,t),e.create=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=o.a),new e(t,n,i)},e.dispatch=function(t){return this.add(t.source.subscribe(t.subscriber))},e.prototype._subscribe=function(t){return this.scheduler.schedule(e.dispatch,this.delayTime,{source:this.source,subscriber:t})},e}(r.a)},YgML:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},"Yrc+":function(t,e,n){"use strict";var i=n("lWPP"),r=n("HC03"),o=n("V9Cg"),l=n("oqWd"),a=n("sfXZ"),s=n("5wWS"),u=n("CmsN"),c=n("XTlk"),h=n("6iAM"),d=n("I6Lf");e.a=function(t,e){if(null!=t){if(Object(u.a)(t))return function(t,e){return new i.a(function(n){var i=new r.a;return i.add(e.schedule(function(){var r=t[o.a]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if(Object(c.a)(t))return Object(l.a)(t,e);if(Object(h.a)(t))return Object(a.a)(t,e);if(Object(d.a)(t)||"string"==typeof t)return Object(s.a)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},Z8D6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("xpN4"),n("utZs"),n("ZBjc"),n("ag5F");var i=n("H0JA"),r=new WeakMap;function o(t,e){return t.sampleTime(100,e).share().startWith("")}e.sampleObservable=o,e.getScrollListener=function(t){if(!t||"function"!=typeof t.addEventListener)return"undefined"!=typeof window&&console.warn("`addEventListener` on "+t+" (scrollTarget) is not a function. Skipping this target"),i.Observable.empty();if(r.has(t))return r.get(t);var e=o(i.Observable.create(function(e){var n=function(t){return e.next(t)},i={passive:!0,capture:!1};return t.addEventListener("scroll",n,i),function(){return t.removeEventListener("scroll",n,i)}}));return r.set(t,e),e}},ZBjc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("4MTI");i.b.prototype.share=r.a},ZC01:function(t,e,n){!function(t){"use strict";function e(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function n(t,n,i){var r,o=new Promise(function(o,l){e(r=t[n].apply(t,i)).then(o,l)});return o.request=r,o}function i(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function r(t,e,i,r){r.forEach(function(r){r in i.prototype&&(t.prototype[r]=function(){return n(this[e],r,arguments)})})}function o(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function l(t,e,i,r){r.forEach(function(r){r in i.prototype&&(t.prototype[r]=function(){return(t=n(this[e],r,arguments)).then(function(e){if(e)return new s(e,t.request)});var t})})}function a(t){this._index=t}function s(t,e){this._cursor=t,this._request=e}function u(t){this._store=t}function c(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function h(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new c(n)}function d(t){this._db=t}i(a,"_index",["name","keyPath","multiEntry","unique"]),r(a,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(a,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(s,"_cursor",["direction","key","primaryKey","value"]),r(s,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(s.prototype[t]=function(){var n=this,i=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,i),e(n._request).then(function(t){if(t)return new s(t,n._request)})})})}),u.prototype.createIndex=function(){return new a(this._store.createIndex.apply(this._store,arguments))},u.prototype.index=function(){return new a(this._store.index.apply(this._store,arguments))},i(u,"_store",["name","keyPath","indexNames","autoIncrement"]),r(u,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(u,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(u,"_store",IDBObjectStore,["deleteIndex"]),c.prototype.objectStore=function(){return new u(this._tx.objectStore.apply(this._tx,arguments))},i(c,"_tx",["objectStoreNames","mode"]),o(c,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new u(this._db.createObjectStore.apply(this._db,arguments))},i(h,"_db",["name","version","objectStoreNames"]),o(h,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new c(this._db.transaction.apply(this._db,arguments))},i(d,"_db",["name","version","objectStoreNames"]),o(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[u,a].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=Array.prototype.slice.call(arguments),n=e[e.length-1],i=this._store||this._index,r=i[t].apply(i,e.slice(0,-1));r.onsuccess=function(){n(r.result)}})})}),[a,u].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise(function(r){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)})})})}),t.openDb=function(t,e,i){var r=n(indexedDB,"open",[t,e]),o=r.request;return o&&(o.onupgradeneeded=function(t){i&&i(new h(o.result,t.oldVersion,o.transaction))}),r.then(function(t){return new d(t)})},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ZKbr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=l,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:a(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof o?o(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},ZqVu:function(t,e,n){(function(t){e.fetch=a(t.fetch)&&a(t.ReadableStream),e.writableStream=a(t.WritableStream),e.abortController=a(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var n;function i(){if(void 0!==n)return n;if(t.XMLHttpRequest){n=new t.XMLHttpRequest;try{n.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){n=null}}else n=null;return n}function r(t){var e=i();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o="undefined"!=typeof t.ArrayBuffer,l=o&&a(t.ArrayBuffer.prototype.slice);function a(t){return"function"==typeof t}e.arraybuffer=e.fetch||o&&r("arraybuffer"),e.msstream=!e.fetch&&l&&r("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o&&r("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!i()&&a(i().overrideMimeType),e.vbArray=a(t.VBArray),n=null}).call(e,n("DuR2"))},aEs4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("O4tu"))&&"object"==typeof i&&"default"in i?i.default:i,o=n("TOi5"),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},a=function(t){function e(n,i,r){var o=t.call(this,i)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=r,o}return o.__extends(e,t),e}(Error),s=function(){function t(t){this.app=t}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(t=e.sent())?[2,t]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function u(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}var c=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null===t||void 0===t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return u(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null===t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=parseFloat(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?u(t,function(t){return e.decode(t)}):t},t}(),h=function(){function t(t,e){var n=this;void 0===e&&(e="us-central1"),this.app_=t,this.region_=e,this.serializer=new c,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return n.deleteService()}},this.contextProvider=new s(t),this.cancelAllRequests=new Promise(function(t){n.deleteService=function(){return t()}})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(i){return n.call(t,i,e||{})}},t.prototype.postJSON=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var i,r;return o.__generator(this,function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,i.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:i.status,json:r}]}})})},t.prototype.call=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var i,r,s,u,c,h,d,p;return o.__generator(this,function(o){switch(o.label){case 0:return i=this._url(t),e=this.serializer.encode(e),r={data:e},s=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=o.sent()).authToken&&s.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&s.append("Firebase-Instance-ID-Token",u.instanceIdToken),c=n.timeout||7e4,[4,Promise.race([this.postJSON(i,r,s),(f=c,new Promise(function(t,e){setTimeout(function(){e(new a("deadline-exceeded","deadline-exceeded"))},f)})),this.cancelAllRequests])];case 2:if(!(h=o.sent()))throw new a("cancelled","Firebase Functions instance was deleted.");if(d=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(h.status),r=i,o=void 0;try{var s=e.error;if(s){var u=s.status;if("string"==typeof u){if(!l[u])return new a("internal","internal");i=l[u]}r=u;var c=s.message;"string"==typeof c&&(r=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===i?null:new a(i,r,o)}(0,h.json,this.serializer))throw d;if(!h.json)throw new a("internal","Response is not valid JSON object.");if("undefined"==typeof(p=h.json.data)&&(p=h.json.result),"undefined"==typeof p)throw new a("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}var f})})},t}(),d="functions";function p(t,e,n){return new h(t,n)}function f(t){t.INTERNAL.registerService(d,p,{Functions:h},void 0,!0)}f(r),e.registerFunctions=f},ag5F:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL");i.b.empty=i.g},ai7y:function(t,e,n){"use strict";e.a=function(t){return null!==t&&"object"==typeof t}},alQS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("uOsm"),r=function(t){return function(e){for(var n=t[i.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},b2EL:function(t,e,n){"use strict";e.a=function(t,e){return e?Object(o.a)(t,e):new i.a(Object(r.a)(t))};var i=n("lWPP"),r=n("9hho"),o=n("sfXZ")},bOhj:function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},bdRZ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=1,r={},o={setImmediate:function(t){var e=i++;return r[e]=t,Promise.resolve().then(function(){return function(t){var e=r[t];e&&e()}(e)}),e},clearImmediate:function(t){delete r[t]}}},bqNY:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("BdDE"),r=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.a),e}}},cCSk:function(t,e,n){"use strict";e.a=function(t,e,n){void 0===t&&(t=0);var s=-1;return Object(o.a)(e)?s=Number(e)<1?1:Number(e):Object(l.a)(e)&&(n=e),Object(l.a)(n)||(n=r.a),new i.a(function(e){var i=Object(o.a)(t)?t:+t-n.now();return n.schedule(a,i,{index:0,period:s,subscriber:e})})};var i=n("lWPP"),r=n("QX4X"),o=n("03ca"),l=n("5eyr");function a(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},cSWu:function(t,e,n){(e=t.exports=n("Rt1F")).Stream=e,e.Readable=e,e.Writable=n("7dSG"),e.Duplex=n("DsFX"),e.Transform=n("D1Va"),e.PassThrough=n("f48b")},dfzL:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("9hho"),r=n("bqNY"),o=n("alQS"),l=n("JzXe"),a=n("6iAM"),s=n("XTlk"),u=n("ai7y"),c=n("uOsm"),h=n("V9Cg"),d=function(t){if(t&&"function"==typeof t[h.a])return Object(l.a)(t);if(Object(a.a)(t))return Object(i.a)(t);if(Object(s.a)(t))return Object(r.a)(t);if(t&&"function"==typeof t[c.a])return Object(o.a)(t);var e=Object(u.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},dhnS:function(t,e,n){var i=n("63KW").Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(i.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,r=0;r<n;r++)e[r]=t[r];return e.buffer}throw new Error("Argument must be a Buffer")}},dqyG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("O4tu"),r=n.n(i),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function l(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})}function u(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}var h,d=n("Pxmi");n.d(e,"isSupported",function(){return M}),n.d(e,"registerMessaging",function(){return P});var p,f,g=((h={})["only-available-in-window"]="This method is available in a Window context.",h["only-available-in-sw"]="This method is available in a service worker context.",h["should-be-overriden"]="This method should be overriden by extended classes.",h["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",h["permission-default"]="The required permissions were not granted and dismissed instead.",h["permission-blocked"]="The required permissions were not granted and blocked instead.",h["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",h["notifications-blocked"]="Notifications have been blocked.",h["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",h["sw-registration-expected"]="A service worker registration was the expected input.",h["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",h["invalid-saved-token"]="Unable to access details of the saved token.",h["sw-reg-redundant"]="The service worker being used for push was made redundant.",h["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",h["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",h["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",h["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",h["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",h["token-update-no-token"]="FCM returned no token when updating the user to push.",h["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",h["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",h["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",h["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",h["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",h["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",h["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$errorInfo}",h["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",h["failed-to-delete-token"]="Unable to delete the currently saved token.",h["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",h["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",h["bad-scope"]="The service worker scope must be a string with at least one character.",h["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",h["bad-subscription"]="The subscription must be a valid PushSubscription.",h["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",h["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",h["failed-delete-vapid-key"]="The VAPID key could not be deleted.",h["invalid-public-vapid-key"]="The public VAPID key must be a string.",h["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",h["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",h),m=new d.ErrorFactory("messaging","Messaging",g),v=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),y="https://fcm.googleapis.com";function b(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t),i=new DataView(e),r=0;r<t.byteLength;r++)if(n.getUint8(r)!==i.getUint8(r))return!1;return!0}function w(t){return function(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}(e)))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(p||(p={})),function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(f||(f={}));var _=function(){function t(){}return t.prototype.getToken=function(t,e,n){return s(this,void 0,void 0,function(){var i,r,o,l,a,s,c,h;return u(this,function(u){switch(u.label){case 0:i=w(e.getKey("p256dh")),r=w(e.getKey("auth")),o="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+r,b(n.buffer,v.buffer)||(l=w(n),o+="&application_pub_key="+l),(a=new Headers).append("Content-Type","application/x-www-form-urlencoded"),s={method:"POST",headers:a,body:o},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch(y+"/fcm/connect/subscribe",s)];case 2:return[4,u.sent().json()];case 3:return c=u.sent(),[3,5];case 4:throw h=u.sent(),m.create("token-subscribe-failed",{errorInfo:h});case 5:if(c.error)throw m.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw m.create("token-subscribe-no-token");if(!c.pushSet)throw m.create("token-subscribe-no-push-set");return[2,{token:c.token,pushSet:c.pushSet}]}})})},t.prototype.updateToken=function(t,e,n,i,r){return s(this,void 0,void 0,function(){var o,l,a,s,c,h,d,p;return u(this,function(u){switch(u.label){case 0:o=w(i.getKey("p256dh")),l=w(i.getKey("auth")),a="push_set="+n+"&token="+e+"&authorized_entity="+t+"&endpoint="+i.endpoint+"&encryption_key="+o+"&encryption_auth="+l,b(r.buffer,v.buffer)||(s=w(r),a+="&application_pub_key="+s),(c=new Headers).append("Content-Type","application/x-www-form-urlencoded"),h={method:"POST",headers:c,body:a},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch(y+"/fcm/connect/subscribe",h)];case 2:return[4,u.sent().json()];case 3:return d=u.sent(),[3,5];case 4:throw p=u.sent(),m.create("token-update-failed",{errorInfo:p});case 5:if(d.error)throw m.create("token-update-failed",{errorInfo:d.error.message});if(!d.token)throw m.create("token-update-no-token");return[2,d.token]}})})},t.prototype.deleteToken=function(t,e,n){return s(this,void 0,void 0,function(){var i,r,o,l,a;return u(this,function(s){switch(s.label){case 0:i="authorized_entity="+t+"&token="+e+"&pushSet="+n,(r=new Headers).append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:r,body:i},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(y+"/fcm/connect/unsubscribe",o)];case 2:return[4,s.sent().json()];case 3:if((l=s.sent()).error)throw m.create("token-unsubscribe-failed",{errorInfo:l.error.message});return[3,5];case 4:throw a=s.sent(),m.create("token-unsubscribe-failed",{errorInfo:a});case 5:return[2]}})})},t}();function C(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}var x=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){return this.createTransaction(function(n){return n.index(t).get(e)})},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t.sent().close(),this.dbPromise=null,t.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),s(this,void 0,void 0,function(){var n,i,r,o;return u(this,function(l){switch(l.label){case 0:return[4,this.getDb()];case 1:return n=l.sent(),i=n.transaction(this.objectStoreName,e),r=i.objectStore(this.objectStoreName),[4,function(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}(t(r))];case 2:return o=l.sent(),[2,new Promise(function(t,e){i.oncomplete=function(){t(o)},i.onerror=function(){e(i.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,n){var i=indexedDB.open(t.dbName,t.dbVersion);i.onsuccess=function(){e(i.result)},i.onerror=function(){t.dbPromise=null,n(i.error)},i.onupgradeneeded=function(e){return t.onDbUpgrade(i,e)}})),this.dbPromise},t}(),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return l(e,t),e.prototype.onDbUpgrade=function(t,e){var n=t.result;switch(e.oldVersion){case 0:(i=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),i.createIndex("fcmToken","fcmToken",{unique:!0});case 1:!function(){var t=indexedDB.open("undefined");t.onerror=function(t){},t.onsuccess=function(e){!function(t){if(t.objectStoreNames.contains("fcm_token_object_Store")){var e=t.transaction("fcm_token_object_Store").objectStore("fcm_token_object_Store"),n=new _,i=e.openCursor();i.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},i.onsuccess=function(){var e=i.result;if(e){var r=e.value;n.deleteToken(r.fcmSenderId,r.fcmToken,r.fcmPushSet),e.continue()}else t.close(),indexedDB.deleteDatabase("undefined")}}}(t.result)}}();case 2:var i,r=(i=t.transaction.objectStore(this.objectStoreName)).openCursor();r.onsuccess=function(){var t=r.result;if(t){var e=t.value,n=a({},e);e.createTime||(n.createTime=Date.now()),"string"==typeof e.vapidKey&&(n.vapidKey=C(e.vapidKey)),"string"==typeof e.auth&&(n.auth=C(e.auth).buffer),"string"==typeof e.auth&&(n.p256dh=C(e.p256dh).buffer),t.update(n),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(!t)throw m.create("bad-token");return E({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(!t)throw m.create("bad-scope");return E({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(!t.swScope)throw m.create("bad-scope");if(!t.vapidKey)throw m.create("bad-vapid-key");if(!t.endpoint||!t.auth||!t.p256dh)throw m.create("bad-subscription");if(!t.fcmSenderId)throw m.create("bad-sender-id");if(!t.fcmToken)throw m.create("bad-token");if(!t.fcmPushSet)throw m.create("bad-push-set");return E(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(m.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=n.sent()))throw m.create("delete-token-not-found");return[4,this.delete(e.swScope)];case 2:return n.sent(),[2,e]}})})},e}(x);function E(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw m.create("bad-token");if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw m.create("bad-scope");if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw m.create("bad-vapid-key");if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw m.create("bad-subscription");if(t.auth&&!(t.auth instanceof ArrayBuffer))throw m.create("bad-subscription");if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw m.create("bad-subscription");if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw m.create("bad-sender-id");if(t.fcmPushSet&&("string"!=typeof t.fcmPushSet||0===t.fcmPushSet.length))throw m.create("bad-push-set")}var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return l(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.length)throw m.create("bad-scope");return[4,this.get(t)];case 1:return[2,(e=n.sent())?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){if("string"!=typeof t||0===t.length)throw m.create("bad-scope");if(null===e||65!==e.length)throw m.create("bad-vapid-key");return[2,this.put({swScope:t,vapidKey:e})]})})},e.prototype.deleteVapidDetails=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=n.sent()))throw m.create("delete-scope-not-found");return[4,this.delete(t)];case 2:return n.sent(),[2,e]}})})},e}(x),k="messagingSenderId",A=function(){function t(t){var e=this;if(!t.options[k]||"string"!=typeof t.options[k])throw m.create("bad-sender-id");this.messagingSenderId=t.options[k],this.tokenDetailsModel=new S,this.vapidDetailsModel=new T,this.iidModel=new _,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return s(this,void 0,void 0,function(){var t,e,n,i,r;return u(this,function(o){switch(o.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw m.create("notifications-blocked");return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return e=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(e,n)];case 3:return i=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(r=o.sent())?[2,this.manageExistingToken(e,i,n,r)]:[2,this.getNewToken(e,i,n)]}})})},t.prototype.manageExistingToken=function(t,e,n,i){return s(this,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return function(t,e,n){if(!n.vapidKey||!b(e.buffer,n.vapidKey.buffer))return!1;var i=t.endpoint===n.endpoint,r=b(t.getKey("auth"),n.auth),o=b(t.getKey("p256dh"),n.p256dh);return i&&r&&o}(e,n,i)?Date.now()<i.createTime+6048e5?[2,i.fcmToken]:[2,this.updateToken(t,e,n,i)]:[4,this.deleteTokenFromDB(i.fcmToken)];case 1:return r.sent(),[2,this.getNewToken(t,e,n)]}})})},t.prototype.updateToken=function(t,e,n,i){return s(this,void 0,void 0,function(){var r,o,l;return u(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,i.fcmToken,i.fcmPushSet,e,n)];case 1:return r=a.sent(),o={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r,fcmPushSet:i.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return a.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return a.sent(),[2,r];case 4:return l=a.sent(),[4,this.deleteToken(i.fcmToken)];case 5:throw a.sent(),l;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,n){return s(this,void 0,void 0,function(){var i,r;return u(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,n)];case 1:return i=o.sent(),r={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i.token,fcmPushSet:i.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(r)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return o.sent(),[2,i.token]}})})},t.prototype.deleteToken=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(i){switch(i.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return i.sent(),[4,this.getSWRegistration_()];case 2:return(e=i.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(n=i.sent())return[2,n.unsubscribe()];i.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=n.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return n.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(n){return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw m.create("only-available-in-window")},t.prototype.useServiceWorker=function(t){throw m.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){throw m.create("only-available-in-window")},t.prototype.onMessage=function(t,e,n){throw m.create("only-available-in-window")},t.prototype.onTokenRefresh=function(t,e,n){throw m.create("only-available-in-window")},t.prototype.setBackgroundMessageHandler=function(t){throw m.create("only-available-in-sw")},t.prototype.delete=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIidModel=function(){return this.iidModel},t}(),D=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(t){n.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){n.onSubChange(t)}),self.addEventListener("notificationclick",function(t){n.onNotificationClick(t)}),n}return l(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return s(this,void 0,void 0,function(){var e,n,i,r,o,l;return u(this,function(a){switch(a.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return a.sent()?[2,this.sendMessageToWindowClients_(e)]:(n=this.getNotificationData_(e))?(i=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return r=a.sent(),o=n.actions,l=Notification.maxActions,o&&l&&o.length>l&&console.warn("This browser only supports "+l+" actions.The remaining actions will not be displayed."),[2,r.showNotification(i,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return a.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return s(this,void 0,void 0,function(){var t,e,n,i;return u(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=r.sent(),[3,3];case 2:throw e=r.sent(),m.create("unable-to-resubscribe",{errorInfo:e});case 3:return r.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return r.sent(),[3,8];case 5:return n=r.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(i=r.sent()))throw n;return[4,this.deleteToken(i.fcmToken)];case 7:throw r.sent(),n;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return s(this,void 0,void 0,function(){var e,n,i,r;return u(this,function(o){switch(o.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(e=t.notification.data.FCM_MSG).notification&&(n=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(i=o.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return i=o.sent(),[3,5];case 3:return[4,i.focus()];case 4:i=o.sent(),o.label=5;case 5:return i?(delete e.notification,delete e.fcmOptions,r=I(f.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(i,r)]):[2]}})})},e.prototype.getNotificationData_=function(t){var e;if(t&&"object"==typeof t.notification){var n=a({},t.notification);return n.data=a({},t.notification.data,((e={}).FCM_MSG=t,e)),n}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw m.create("bg-handler-function-expected");this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return s(this,void 0,void 0,function(){var e,n,i,r;return u(this,function(o){switch(o.label){case 0:return e=new URL(t,self.location.href).href,[4,O()];case 1:for(n=o.sent(),i=null,r=0;r<n.length;r++)if(new URL(n[r].url,self.location.href).href===e){i=n[r];break}return[2,i]}})})},e.prototype.attemptToMessageClient_=function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){if(!t)throw m.create("no-window-client-to-msg");return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,O()];case 1:return[2,t.sent().some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return s(this,void 0,void 0,function(){var e,n,i=this;return u(this,function(r){switch(r.label){case 0:return[4,O()];case 1:return e=r.sent(),n=I(f.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return i.attemptToMessageClient_(t,n)}))];case 2:return r.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=n.sent()))throw m.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(e=n.sent())?[2,v]:[2,e]}})})},e}(A);function O(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function I(t,e){var n;return(n={})[p.TYPE_OF_MSG]=t,n[p.DATA]=e,n}var R=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(d.createSubscribe)(function(t){n.messageObserver=t}),n.onTokenRefreshInternal=Object(d.createSubscribe)(function(t){n.tokenRefreshObserver=t}),n.setupSWMessageListener_(),n}return l(e,t),e.prototype.getToken=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return[4,n.sent().json()];case 3:return e=n.sent(),[3,5];case 4:return n.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==e.gcm_sender_id)throw m.create("incorrect-gcm-sender-id");return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,t.prototype.getToken.call(this)]}})})},e.prototype.requestPermission=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw m.create("denied"===t?"permission-blocked":"permission-default")}})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw m.create("sw-registration-expected");if(null!=this.registrationToUse)throw m.create("use-sw-before-get-token");this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw m.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw m.create("use-public-key-before-get-token");var e=C(t);if(65!==e.length)throw m.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"==typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"==typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(n,i){if(e)if("activated"!==e.state)if("redundant"!==e.state){var r=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;i(m.create("sw-reg-redundant"))}e.removeEventListener("statechange",r)};e.addEventListener("statechange",r)}else i(m.create("sw-reg-redundant"));else n(t);else i(m.create("no-sw-in-reg"))})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw m.create("failed-serviceworker-registration",{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,v]})})},e.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[p.TYPE_OF_MSG]){var n=e.data;switch(n[p.TYPE_OF_MSG]){case f.PUSH_MSG_RECEIVED:case f.NOTIFICATION_CLICKED:t.messageObserver&&t.messageObserver.next(n[p.DATA])}}},!1)},e}(A);function P(t){t.INTERNAL.registerService("messaging",function(t){if(!M())throw m.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new D(t):new R(t)},{isSupported:M})}function M(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}P(r.a)},e7x4:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&l(r,n.prototype),r}).apply(null,arguments)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}var u=function(t){return Object.keys(t).map(function(e){return t[e]})},c=function(t){return Array.prototype.slice.call(t)},h=function(t){console.warn("".concat("SweetAlert2:"," ").concat(t))},d=function(t){console.error("".concat("SweetAlert2:"," ").concat(t))},p=[],f=function(t,e){var n;n='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===p.indexOf(n)&&(p.push(n),h(n))},g=function(t){return"function"==typeof t?t():t},m=function(t){return t&&Promise.resolve(t)===t},v=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),y=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},b=y(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]),w=y(["success","warning","info","question","error"]),_={previousBodyPadding:null},C=function(t,e){return t.classList.contains(e)},x=function(t,e,n){c(t.classList).forEach(function(e){-1===u(b).indexOf(e)&&-1===u(w).indexOf(e)&&t.classList.remove(e)}),e&&e[n]&&A(t,e[n])};function S(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return O(t,b[e]);case"checkbox":return t.querySelector(".".concat(b.checkbox," input"));case"radio":return t.querySelector(".".concat(b.radio," input:checked"))||t.querySelector(".".concat(b.radio," input:first-child"));case"range":return t.querySelector(".".concat(b.range," input"));default:return O(t,b.input)}}var E,T=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},k=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},A=function(t,e){k(t,e,!0)},D=function(t,e){k(t,e,!1)},O=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(C(t.childNodes[n],e))return t.childNodes[n]},I=function(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?n+"px":n:t.style.removeProperty(e)},R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.opacity="",t.style.display=e},P=function(t){t.style.opacity="",t.style.display="none"},M=function(t,e,n){e?R(t,n):P(t)},N=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},j=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},L=function(){return document.body.querySelector("."+b.container)},F=function(t){var e=L();return e?e.querySelector(t):null},V=function(t){return F("."+t)},B=function(){return V(b.popup)},U=function(){var t=B();return c(t.querySelectorAll("."+b.icon))},q=function(){var t=U().filter(function(t){return N(t)});return t.length?t[0]:null},W=function(){return V(b.title)},H=function(){return V(b.content)},z=function(){return V(b.image)},G=function(){return V(b["progress-steps"])},Y=function(){return V(b["validation-message"])},X=function(){return F("."+b.actions+" ."+b.confirm)},K=function(){return F("."+b.actions+" ."+b.cancel)},Q=function(){return V(b.actions)},Z=function(){return V(b.header)},J=function(){return V(b.footer)},$=function(){return V(b.close)},tt=function(){var t=c(B().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0}),e=c(B().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return N(t)})},et=function(){return!nt()&&!document.body.classList.contains(b["no-backdrop"])},nt=function(){return document.body.classList.contains(b["toast-shown"])},it=function(){return"undefined"==typeof window||"undefined"==typeof document},rt='\n <div aria-labelledby="'.concat(b.title,'" aria-describedby="').concat(b.content,'" class="').concat(b.popup,'" tabindex="-1">\n   <div class="').concat(b.header,'">\n     <ul class="').concat(b["progress-steps"],'"></ul>\n     <div class="').concat(b.icon," ").concat(w.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(b.icon," ").concat(w.question,'"></div>\n     <div class="').concat(b.icon," ").concat(w.warning,'"></div>\n     <div class="').concat(b.icon," ").concat(w.info,'"></div>\n     <div class="').concat(b.icon," ").concat(w.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(b.image,'" />\n     <h2 class="').concat(b.title,'" id="').concat(b.title,'"></h2>\n     <button type="button" class="').concat(b.close,'">&times;</button>\n   </div>\n   <div class="').concat(b.content,'">\n     <div id="').concat(b.content,'"></div>\n     <input class="').concat(b.input,'" />\n     <input type="file" class="').concat(b.file,'" />\n     <div class="').concat(b.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(b.select,'"></select>\n     <div class="').concat(b.radio,'"></div>\n     <label for="').concat(b.checkbox,'" class="').concat(b.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(b.label,'"></span>\n     </label>\n     <textarea class="').concat(b.textarea,'"></textarea>\n     <div class="').concat(b["validation-message"],'" id="').concat(b["validation-message"],'"></div>\n   </div>\n   <div class="').concat(b.actions,'">\n     <button type="button" class="').concat(b.confirm,'">OK</button>\n     <button type="button" class="').concat(b.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(b.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ot=function(t){Jt.isVisible()&&E!==t.target.value&&Jt.resetValidationMessage(),E=t.target.value},lt=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?at(n,e):e&&(n.innerHTML=e)},at=function(t,e){if(t.innerHTML="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},st=function(){if(it())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(e.hasOwnProperty(n)&&"undefined"!=typeof t.style[n])return e[n];return!1}();function ut(t,e,n){M(t,n["showC"+e.substring(1)+"Button"],"inline-block"),t.innerHTML=n[e+"ButtonText"],t.setAttribute("aria-label",n[e+"ButtonAriaLabel"]),t.className=b[e],x(t,n.customClass,e+"Button"),A(t,n[e+"ButtonClass"])}var ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},ht=function(t,e){var n=S(H(),t);if(n)for(var i in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===i||n.setAttribute(i,e[i])},dt=function(t,e,n){t.className=e,n.inputClass&&A(t,n.inputClass),n.customClass&&A(t,n.customClass.input)},pt=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},ft={};ft.text=ft.email=ft.password=ft.number=ft.tel=ft.url=function(e){var n=O(H(),b.input);return"string"==typeof e.inputValue||"number"==typeof e.inputValue?n.value=e.inputValue:m(e.inputValue)||h('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(e.inputValue),'"')),pt(n,e),n.type=e.input,n},ft.file=function(t){var e=O(H(),b.file);return pt(e,t),e.type=t.input,e},ft.range=function(t){var e=O(H(),b.range),n=e.querySelector("input"),i=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,i.value=t.inputValue,e},ft.select=function(t){var e=O(H(),b.select);if(e.innerHTML="",t.inputPlaceholder){var n=document.createElement("option");n.innerHTML=t.inputPlaceholder,n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return e},ft.radio=function(){var t=O(H(),b.radio);return t.innerHTML="",t},ft.checkbox=function(t){var e=O(H(),b.checkbox),n=S(H(),"checkbox");return n.type="checkbox",n.value=1,n.id=b.checkbox,n.checked=Boolean(t.inputValue),e.querySelector("span").innerHTML=t.inputPlaceholder,e},ft.textarea=function(t){var e=O(H(),b.textarea);return e.value=t.inputValue,pt(e,t),e};var gt=function(t,e){var n=G();if(!e.progressSteps||0===e.progressSteps.length)return P(n);R(n),n.innerHTML="";var i=parseInt(null===e.currentProgressStep?Jt.getQueueStep():e.currentProgressStep);i>=e.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,r){var o=function(t){var e=document.createElement("li");return A(e,b["progress-step"]),e.innerHTML=t,e}(t);if(n.appendChild(o),r===i&&A(o,b["active-progress-step"]),r!==e.progressSteps.length-1){var l=function(t){var e=document.createElement("li");return A(e,b["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(t);n.appendChild(l)}})},mt=function(t,e){!function(t,e){var n=B();I(n,"width",e.width),I(n,"padding",e.padding),e.background&&(n.style.background=e.background),n.className=b.popup,e.toast?(A([document.documentElement,document.body],b["toast-shown"]),A(n,b.toast)):A(n,b.modal),x(n,e.customClass,"popup"),"string"==typeof e.customClass&&A(n,e.customClass),k(n,b.noanimation,!e.animation)}(0,e),function(t,e){var n=L();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||A([document.documentElement,document.body],b["no-backdrop"])}(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in b?A(t,b[e]):(h('The "position" parameter is not valid, defaulting to "center"'),A(t,b.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-"+e;n in b&&A(t,b[n])}}(n,e.grow),x(n,e.customClass,"container"),e.customContainerClass&&A(n,e.customContainerClass))}(0,e),function(t,e){var n=Z();x(n,e.customClass,"header"),gt(0,e),function(t,e){var n=ct.innerParams.get(t);if(n&&e.type===n.type&&q())x(q(),e.customClass,"icon");else if(function(){for(var t=U(),e=0;e<t.length;e++)P(t[e])}(),e.type)if(function(){for(var t=B(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),i=0;i<n.length;i++)n[i].style.backgroundColor=e}(),-1!==Object.keys(w).indexOf(e.type)){var i=F(".".concat(b.icon,".").concat(w[e.type]));R(i),x(i,e.customClass,"icon"),k(i,"swal2-animate-".concat(e.type,"-icon"),e.animation)}else d('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.type,'"'))}(t,e),function(t,e){var n=z();if(!e.imageUrl)return P(n);R(n),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),I(n,"width",e.imageWidth),I(n,"height",e.imageHeight),n.className=b.image,x(n,e.customClass,"image"),e.imageClass&&A(n,e.imageClass)}(0,e),function(t,e){var n=W();M(n,e.title||e.titleText),e.title&&lt(e.title,n),e.titleText&&(n.innerText=e.titleText),x(n,e.customClass,"title")}(0,e),function(t,e){var n=$();x(n,e.customClass,"closeButton"),M(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)}(t,e),function(t,e){var n=H().querySelector("#"+b.content);e.html?(lt(e.html,n),R(n,"block")):e.text?(n.textContent=e.text,R(n,"block")):P(n),function(t,e){for(var n=ct.innerParams.get(t),i=!n||e.input!==n.input,r=H(),o=["input","file","range","select","radio","checkbox","textarea"],l=0;l<o.length;l++){var a=b[o[l]],s=O(r,a);ht(o[l],e.inputAttributes),dt(s,a,e),i&&P(s)}if(e.input){if(!ft[e.input])return d('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));if(i){var u=ft[e.input](e);R(u)}}}(t,e),x(H(),e.customClass,"content")}(t,e),function(t,e){var n=Q(),i=X(),r=K();e.showConfirmButton||e.showCancelButton?R(n):P(n),x(n,e.customClass,"actions"),ut(i,"confirm",e),ut(r,"cancel",e),e.buttonsStyling?function(t,e,n){A([t,e],b.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor);var i=window.getComputedStyle(t).getPropertyValue("background-color");t.style.borderLeftColor=i,t.style.borderRightColor=i}(i,r,e):(D([i,r],b.styled),i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor="",r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor="")}(0,e),function(t,e){var n=J();M(n,e.footer),e.footer&&lt(e.footer,n),x(n,e.customClass,"footer")}(0,e)},vt=[],yt=function(){var t=B();t||Jt.fire(""),t=B();var e=Q(),n=X(),i=K();R(e),R(n),A([t,e],b.loading),n.disabled=!0,i.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},bt={},wt=function(){return new Promise(function(t){var e=window.scrollX,n=window.scrollY;bt.restoreFocusTimeout=setTimeout(function(){bt.previousActiveElement&&bt.previousActiveElement.focus?(bt.previousActiveElement.focus(),bt.previousActiveElement=null):document.body&&document.body.focus(),t()},100),"undefined"!=typeof e&&"undefined"!=typeof n&&window.scrollTo(e,n)})},_t={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",customContainerClass:"",target:"body",backdrop:!0,animation:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:"",cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:"",buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:"",timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:"",inputAttributes:{},inputValidator:null,validationMessage:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onAfterClose:null,onOpen:null,onClose:null,scrollbarPadding:!0},Ct=["title","titleText","text","html","type","customClass","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","confirmButtonClass","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","cancelButtonClass","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeigth","imageAlt","imageClass","progressSteps","currentProgressStep"],xt={customContainerClass:"customClass",confirmButtonClass:"customClass",cancelButtonClass:"customClass",imageClass:"customClass",inputClass:"customClass"},St=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Et=function(t){return _t.hasOwnProperty(t)},Tt=function(t){return xt[t]},kt=function(t){Et(t)||h('Unknown parameter "'.concat(t,'"'))},At=function(t){-1!==St.indexOf(t)&&h('The parameter "'.concat(t,'" is incompatible with toasts'))},Dt=function(t){Tt(t)&&f(t,Tt(t))},Ot=Object.freeze({isValidParameter:Et,isUpdatableParameter:function(t){return-1!==Ct.indexOf(t)},isDeprecatedParameter:Tt,argsToParams:function(e){var n={};switch(t(e[0])){case"object":r(n,e[0]);break;default:["title","html","type"].forEach(function(i,r){switch(t(e[r])){case"string":n[i]=e[r];break;case"undefined":break;default:d("Unexpected type of ".concat(i,'! Expected "string", got ').concat(t(e[r])))}})}return n},isVisible:function(){return N(B())},clickConfirm:function(){return X()&&X().click()},clickCancel:function(){return K()&&K().click()},getContainer:L,getPopup:B,getTitle:W,getContent:H,getImage:z,getIcon:q,getIcons:U,getCloseButton:$,getActions:Q,getConfirmButton:X,getCancelButton:K,getHeader:Z,getFooter:J,getFocusableElements:tt,getValidationMessage:Y,isLoading:function(){return B().hasAttribute("data-loading")},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a(this,e)},mixin:function(t){return function(n){function a(){return e(this,a),this,!(t=o(a).apply(this,arguments))||"object"!=typeof t&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):t;var t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,n),i(a,[{key:"_main",value:function(e){return s(o(a.prototype),"_main",this).call(this,r({},t,e))}}]),a}(this)},queue:function(t){var e=this;vt=t;var n=function(t,e){vt=[],document.body.removeAttribute("data-swal2-queue-step"),t(e)},i=[];return new Promise(function(t){!function r(o,l){o<vt.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(vt[o]).then(function(e){"undefined"!=typeof e.value?(i.push(e.value),r(o+1,l)):n(t,{dismiss:e.dismiss})})):n(t,{value:i})}(0)})},getQueueStep:function(){return document.body.getAttribute("data-swal2-queue-step")},insertQueueStep:function(t,e){return e&&e<vt.length?vt.splice(e,0,t):vt.push(t)},deleteQueueStep:function(t){"undefined"!=typeof vt[t]&&vt.splice(t,1)},showLoading:yt,enableLoading:yt,getTimerLeft:function(){return bt.timeout&&bt.timeout.getTimerLeft()},stopTimer:function(){return bt.timeout&&bt.timeout.stop()},resumeTimer:function(){return bt.timeout&&bt.timeout.start()},toggleTimer:function(){var t=bt.timeout;return t&&(t.running?t.stop():t.start())},increaseTimer:function(t){return bt.timeout&&bt.timeout.increase(t)},isTimerRunning:function(){return bt.timeout&&bt.timeout.isRunning()}});function It(){var t=ct.innerParams.get(this),e=ct.domCache.get(this);t.showConfirmButton||(P(e.confirmButton),t.showCancelButton||P(e.actions)),D([e.popup,e.actions],b.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}var Rt=function(){null!==_.previousBodyPadding&&(document.body.style.paddingRight=_.previousBodyPadding+"px",_.previousBodyPadding=null)},Pt=function(){if(C(document.body,b.iosfix)){var t=parseInt(document.body.style.top,10);D(document.body,b.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Mt=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Nt=function(){var t=L(),e=B();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},jt=function(){"undefined"!=typeof window&&Mt()&&window.removeEventListener("resize",Nt)},Lt=function(){c(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Ft={swalPromiseResolve:new WeakMap};function Vt(t,e,n){e?qt(n):(wt().then(function(){return qt(n)}),bt.keydownTarget.removeEventListener("keydown",bt.keydownHandler,{capture:bt.keydownListenerCapture}),bt.keydownHandlerAdded=!1),delete bt.keydownHandler,delete bt.keydownTarget,t.parentNode&&t.parentNode.removeChild(t),D([document.documentElement,document.body],[b.shown,b["height-auto"],b["no-backdrop"],b["toast-shown"],b["toast-column"]]),et()&&(Rt(),Pt(),jt(),Lt())}function Bt(t){var e=L(),n=B();if(n&&!C(n,b.hide)){var i=ct.innerParams.get(this),r=Ft.swalPromiseResolve.get(this),o=i.onClose,l=i.onAfterClose;D(n,b.show),A(n,b.hide),st&&j(n)?n.addEventListener(st,function(t){t.target===n&&function(t,e,n,i){C(t,b.hide)&&Vt(e,n,i),Ut(ct),Ut(Ft)}(n,e,nt(),l)}):Vt(e,nt(),l),null!==o&&"function"==typeof o&&o(n),r(t||{}),delete this.params}}var Ut=function(t){for(var e in t)t[e]=new WeakMap},qt=function(t){null!==t&&"function"==typeof t&&setTimeout(function(){t()})};function Wt(t,e,n){var i=ct.domCache.get(t);e.forEach(function(t){i[t].disabled=n})}function Ht(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),i=0;i<n.length;i++)n[i].disabled=e;else t.disabled=e}var zt=function(){function t(n,i){e(this,t),this.callback=n,this.remaining=i,this.running=!1,this.start()}return i(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Gt={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Yt(t,e){t.removeEventListener(st,Yt),e.style.overflowY="auto"}var Xt,Kt={select:function(t,e,n){var i=O(t,b.select);e.forEach(function(t){var e=t[0],r=t[1],o=document.createElement("option");o.value=e,o.innerHTML=r,n.inputValue.toString()===e.toString()&&(o.selected=!0),i.appendChild(o)}),i.focus()},radio:function(t,e,n){var i=O(t,b.radio);e.forEach(function(t){var e=t[0],r=t[1],o=document.createElement("input"),l=document.createElement("label");o.type="radio",o.name=b.radio,o.value=e,n.inputValue.toString()===e.toString()&&(o.checked=!0);var a=document.createElement("span");a.innerHTML=r,a.className=b.label,l.appendChild(o),l.appendChild(a),i.appendChild(l)});var r=i.querySelectorAll("input");r.length&&r[0].focus()}},Qt=Object.freeze({hideLoading:It,disableLoading:It,getInput:function(t){var e=ct.innerParams.get(t||this);return S(ct.domCache.get(t||this).content,e.input)},close:Bt,closePopup:Bt,closeModal:Bt,closeToast:Bt,enableButtons:function(){Wt(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){Wt(this,["confirmButton","cancelButton"],!0)},enableConfirmButton:function(){f("Swal.disableConfirmButton()","Swal.getConfirmButton().removeAttribute('disabled')"),Wt(this,["confirmButton"],!1)},disableConfirmButton:function(){f("Swal.enableConfirmButton()","Swal.getConfirmButton().setAttribute('disabled', '')"),Wt(this,["confirmButton"],!0)},enableInput:function(){return Ht(this.getInput(),!1)},disableInput:function(){return Ht(this.getInput(),!0)},showValidationMessage:function(t){var e=ct.domCache.get(this);e.validationMessage.innerHTML=t;var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),R(e.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedBy",b["validation-message"]),T(i),A(i,b.inputerror))},resetValidationMessage:function(){var t=ct.domCache.get(this);t.validationMessage&&P(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),D(e,b.inputerror))},getProgressSteps:function(){return f("Swal.getProgressSteps()","const swalInstance = Swal.fire({progressSteps: ['1', '2', '3']}); const progressSteps = swalInstance.params.progressSteps"),ct.innerParams.get(this).progressSteps},setProgressSteps:function(t){f("Swal.setProgressSteps()","Swal.update()");var e=r({},ct.innerParams.get(this),{progressSteps:t});gt(0,e),ct.innerParams.set(this,e)},showProgressSteps:function(){var t=ct.domCache.get(this);R(t.progressSteps)},hideProgressSteps:function(){var t=ct.domCache.get(this);P(t.progressSteps)},_main:function(e){var n=this;!function(t){for(var e in t)kt(e),t.toast&&At(e),Dt()}(e);var i=r({},_t,e);!function(t){t.inputValidator||Object.keys(Gt).forEach(function(e){t.input===e&&(t.inputValidator=Gt[e])}),t.showLoaderOnConfirm&&!t.preConfirm&&h("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=g(t.animation),(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),t.target="body"),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />"));var e=B(),n="string"==typeof t.target?document.querySelector(t.target):t.target;(!e||e&&n&&e.parentNode!==n.parentNode)&&function(t){var e;if((e=L())&&(e.parentNode.removeChild(e),D([document.documentElement,document.body],[b["no-backdrop"],b["toast-shown"],b["has-column"]])),it())d("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=b.container,n.innerHTML=rt;var i,r,o,l,a,s,u,c,h,p="string"==typeof(i=t.target)?document.querySelector(i):i;p.appendChild(n),function(t){var e=B();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&A(L(),b.rtl)}(p),r=H(),o=O(r,b.input),l=O(r,b.file),a=r.querySelector(".".concat(b.range," input")),s=r.querySelector(".".concat(b.range," output")),u=O(r,b.select),c=r.querySelector(".".concat(b.checkbox," input")),h=O(r,b.textarea),o.oninput=ot,l.onchange=ot,u.onchange=ot,c.onchange=ot,h.oninput=ot,a.oninput=function(t){ot(t),s.value=a.value},a.onchange=function(t){ot(t),a.nextSibling.value=a.value}}}(t)}(i),Object.freeze(i),bt.timeout&&(bt.timeout.stop(),delete bt.timeout),clearTimeout(bt.restoreFocusTimeout);var o={popup:B(),container:L(),content:H(),actions:Q(),confirmButton:X(),cancelButton:K(),closeButton:$(),validationMessage:Y(),progressSteps:G()};ct.domCache.set(this,o),mt(this,i),ct.innerParams.set(this,i);var l=this.constructor;return new Promise(function(e){var r=function(t){n.closePopup({value:t})},a=function(t){n.closePopup({dismiss:t})};Ft.swalPromiseResolve.set(n,e),i.timer&&(bt.timeout=new zt(function(){a("timer"),delete bt.timeout},i.timer)),i.input&&setTimeout(function(){var t=n.getInput();t&&T(t)},0);for(var s=function(t){i.showLoaderOnConfirm&&l.showLoading(),i.preConfirm?(n.resetValidationMessage(),Promise.resolve().then(function(){return i.preConfirm(t,i.validationMessage)}).then(function(e){N(o.validationMessage)||!1===e?n.hideLoading():r("undefined"==typeof e?t:e)})):r(t)},u=function(t){var e=t.target,r=o.confirmButton,u=o.cancelButton,c=r&&(r===e||r.contains(e)),h=u&&(u===e||u.contains(e));switch(t.type){case"click":if(c)if(n.disableButtons(),i.input){var d=function(){var t=n.getInput();if(!t)return null;switch(i.input){case"checkbox":return t.checked?1:0;case"radio":return t.checked?t.value:null;case"file":return t.files.length?t.files[0]:null;default:return i.inputAutoTrim?t.value.trim():t.value}}();i.inputValidator?(n.disableInput(),Promise.resolve().then(function(){return i.inputValidator(d,i.validationMessage)}).then(function(t){n.enableButtons(),n.enableInput(),t?n.showValidationMessage(t):s(d)})):n.getInput().checkValidity()?s(d):(n.enableButtons(),n.showValidationMessage(i.validationMessage))}else s(!0);else h&&(n.disableButtons(),a(l.DismissReason.cancel))}},h=o.popup.querySelectorAll("button"),p=0;p<h.length;p++)h[p].onclick=u,h[p].onmouseover=u,h[p].onmouseout=u,h[p].onmousedown=u;if(o.closeButton.onclick=function(){a(l.DismissReason.close)},i.toast)o.popup.onclick=function(){i.showConfirmButton||i.showCancelButton||i.showCloseButton||i.input||a(l.DismissReason.close)};else{var f=!1;o.popup.onmousedown=function(){o.container.onmouseup=function(t){o.container.onmouseup=void 0,t.target===o.container&&(f=!0)}},o.container.onmousedown=function(){o.popup.onmouseup=function(t){o.popup.onmouseup=void 0,(t.target===o.popup||o.popup.contains(t.target))&&(f=!0)}},o.container.onclick=function(t){f?f=!1:t.target===o.container&&g(i.allowOutsideClick)&&a(l.DismissReason.backdrop)}}i.reverseButtons?o.confirmButton.parentNode.insertBefore(o.cancelButton,o.confirmButton):o.confirmButton.parentNode.insertBefore(o.confirmButton,o.cancelButton);var v,y,w,x,S=function(t,e){for(var n=tt(),i=0;i<n.length;i++)return(t+=e)===n.length?t=0:-1===t&&(t=n.length-1),n[t].focus();o.popup.focus()};bt.keydownTarget&&bt.keydownHandlerAdded&&(bt.keydownTarget.removeEventListener("keydown",bt.keydownHandler,{capture:bt.keydownListenerCapture}),bt.keydownHandlerAdded=!1),i.toast||(bt.keydownHandler=function(t){return function(t,e){if(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"!==t.key||t.isComposing)if("Tab"===t.key){for(var i=t.target,r=tt(),s=-1,u=0;u<r.length;u++)if(i===r[u]){s=u;break}S(s,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()}else-1!==["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"].indexOf(t.key)?document.activeElement===o.confirmButton&&N(o.cancelButton)?o.cancelButton.focus():document.activeElement===o.cancelButton&&N(o.confirmButton)&&o.confirmButton.focus():"Escape"!==t.key&&"Esc"!==t.key||!0!==g(e.allowEscapeKey)||(t.preventDefault(),a(l.DismissReason.esc));else if(t.target&&n.getInput()&&t.target.outerHTML===n.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(e.input))return;l.clickConfirm(),t.preventDefault()}}(t,i)},bt.keydownTarget=i.keydownListenerCapture?window:o.popup,bt.keydownListenerCapture=i.keydownListenerCapture,bt.keydownTarget.addEventListener("keydown",bt.keydownHandler,{capture:bt.keydownListenerCapture}),bt.keydownHandlerAdded=!0),n.enableButtons(),n.hideLoading(),n.resetValidationMessage(),i.toast&&(i.input||i.footer||i.showCloseButton)?A(document.body,b["toast-column"]):D(document.body,b["toast-column"]),"select"===i.input||"radio"===i.input?(v=n,y=i,w=H(),x=function(t){return Kt[y.input](w,function(t){var e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach(function(t,n){e.push([n,t])}):Object.keys(t).forEach(function(n){e.push([n,t[n]])}),e}(t),y)},m(y.inputOptions)?(yt(),y.inputOptions.then(function(t){v.hideLoading(),x(t)})):"object"===t(y.inputOptions)?x(y.inputOptions):d("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(y.inputOptions)))):-1!==["text","email","number","tel","textarea"].indexOf(i.input)&&m(i.inputValue)&&function(t,e){var n=t.getInput();P(n),e.inputValue.then(function(i){n.value="number"===e.input?parseFloat(i)||0:i+"",R(n),n.focus(),t.hideLoading()}).catch(function(t){d("Error in inputValue promise: "+t),n.value="",R(n),n.focus(),(void 0).hideLoading()})}(n,i),function(t){var e=L(),n=B();null!==t.onBeforeOpen&&"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n),t.animation&&(A(n,b.show),A(e,b.fade)),R(n),st&&j(n)?(e.style.overflowY="hidden",n.addEventListener(st,Yt.bind(null,n,e))):e.style.overflowY="auto",A([document.documentElement,document.body,e],b.shown),t.heightAuto&&t.backdrop&&!t.toast&&A([document.documentElement,document.body],b["height-auto"]),et()&&(t.scrollbarPadding&&null===_.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(_.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=_.previousBodyPadding+function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var t=document.createElement("div");t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}()+"px"),function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!C(document.body,b.iosfix)){var t=document.body.scrollTop;document.body.style.top=-1*t+"px",A(document.body,b.iosfix),(n=L()).ontouchstart=function(t){var i;e=t.target===n||!((i=n).scrollHeight>i.clientHeight)&&"INPUT"!==t.target.tagName},n.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}var e,n}(),"undefined"!=typeof window&&Mt()&&(Nt(),window.addEventListener("resize",Nt)),c(document.body.children).forEach(function(t){t===L()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,L())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),setTimeout(function(){e.scrollTop=0})),nt()||bt.previousActiveElement||(bt.previousActiveElement=document.activeElement),null!==t.onOpen&&"function"==typeof t.onOpen&&setTimeout(function(){t.onOpen(n)})}(i),i.toast||(g(i.allowEnterKey)?i.focusCancel&&N(o.cancelButton)?o.cancelButton.focus():i.focusConfirm&&N(o.confirmButton)?o.confirmButton.focus():S(-1,1):document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()),o.container.scrollTop=0})},update:function(t){var e={};Object.keys(t).forEach(function(n){Jt.isUpdatableParameter(n)?e[n]=t[n]:h('Invalid parameter to update: "'.concat(n,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))});var n=r({},ct.innerParams.get(this),e);mt(this,n),ct.innerParams.set(this,n),Object.defineProperties(this,{params:{value:r({},this.params,t),writable:!1,enumerable:!0}})}});function Zt(){if("undefined"!=typeof window){"undefined"==typeof Promise&&d("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),Xt=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});var r=this._main(this.params);ct.promise.set(this,r)}}Zt.prototype.then=function(t){return ct.promise.get(this).then(t)},Zt.prototype.finally=function(t){return ct.promise.get(this).finally(t)},r(Zt.prototype,Qt),r(Zt,Ot),Object.keys(Qt).forEach(function(t){Zt[t]=function(){var e;if(Xt)return(e=Xt)[t].apply(e,arguments)}}),Zt.DismissReason=v,Zt.version="8.12.1";var Jt=Zt;return Jt.default=Jt,Jt}(),"undefined"!=typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'@charset "UTF-8";@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon::before{display:flex;align-items:center;font-size:2em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon::before{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 1.5em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}@-webkit-keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;background-color:transparent;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-fade{transition:background-color .1s}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{z-index:1;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{-webkit-transform:none;transform:none;background:0 0;color:#f27474}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:300;line-height:normal;word-wrap:break-word}#swal2-content{text-align:center}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:inherit}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:inherit;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;zoom:normal;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;zoom:normal;border:.25em solid transparent;border-radius:50%;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon::before{display:flex;align-items:center;height:92%;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning::before{content:"!"}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info::before{content:"i"}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question::before{content:"?"}.swal2-icon.swal2-question.swal2-arabic-question-mark::before{content:"\u061f"}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-progress-steps{align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}')},eYUY:function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},e.b=r;var i=n("VWaN");function r(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:i.a}},f48b:function(t,e,n){"use strict";t.exports=o;var i=n("D1Va"),r=n("jOgh");function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n("LC74"),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},fBpl:function(t,e,n){var i=n("nFqq"),r=n("UZ5h"),o=t.exports;for(var l in i)i.hasOwnProperty(l)&&(o[l]=i[l]);function a(t){if("string"==typeof t&&(t=r.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=a(t),i.request.call(this,t,e)},o.get=function(t,e){return t=a(t),i.get.call(this,t,e)}},fjI4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LogLevel",function(){return r}),n.d(e,"Logger",function(){return a}),n.d(e,"setLogLevel",function(){return s});var i=[],r=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=r.INFO,l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},a=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=l,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function s(t){i.forEach(function(e){e.logLevel=t})}},fqSz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(t){var e=n("O4tu"),i=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r="undefined"!=typeof window&&window===this?this:"undefined"!=typeof t&&null!=t?t:this;function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(t)}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var l=t[o];l in i||(i[l]={}),i=i[l]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var l=r.setTimeout;n.prototype.c=function(t){l(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.o),reject:t(this.g)}},e.prototype.o=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.u(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.l(t):this.h(t)}},e.prototype.l=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.m()},e.prototype.m=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.u=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){o(t)}}:e}var r,o,l=new e(function(t,e){r=t,o=e});return this.Ja(i(t,r),i(n,o)),l},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),l=r.next();!l.done;l=r.next())i(l.value).Ja(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){l[e]=n,0==--a&&t(l)}}var l=[],a=0;do{l.push(void 0),a++,i(r.value).Ja(o(l.length-1),e),r=n.next()}while(!r.done)})},e});var l=l||{},a=this;function s(t){return"string"==typeof t}function u(t){return"boolean"==typeof t}var c=/^[\w+/_-]+[=]{0,2}$/,h=null;function d(){}function p(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function f(t){return null===t}function g(t){return"array"==p(t)}function m(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==p(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function C(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function x(t,e,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:C).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.cd=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");A.call(this,n+t[i])}function O(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function I(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function R(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function P(){this.b=this.a=null}T(A,Error),A.prototype.name="CustomError",T(D,A),D.prototype.name="AssertionError",I.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new I(function(){return new j},function(t){t.reset()});function N(){var t=yt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}P.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r=s(t)?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=s(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function U(t,e){return 0<=L(t,e)}function q(t,e){var n;return(n=0<=(e=L(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n=s(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)})}function H(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var G,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,K=/</g,Q=/>/g,Z=/"/g,J=/'/g,$=/\x00/g,tt=/[\x00&<>"']/;function et(t,e){return-1!=t.indexOf(e)}function nt(t,e){return t<e?-1:t>e?1:0}t:{var it=a.navigator;if(it){var rt=it.userAgent;if(rt){G=rt;break t}}G=""}function ot(t){return et(G,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function at(t){for(var e in t)return!1;return!0}function st(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut,ct,ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ht.length;o++)n=ht[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function pt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function ft(t){return tt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(K,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Z,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(J,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace($,"&#0;"))),t}function gt(t){a.setTimeout(function(){throw t},0)}function mt(t,e){ct||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ct=function(){t.then(bt)}}else ct=function(){var t=bt;!v(a.setImmediate)||a.Window&&a.Window.prototype&&!ot("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ut||(ut=function(){var t=a.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ot("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=x(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&!ot("Trident")&&!ot("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){i.next={yb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),ut(t)):a.setImmediate(t)}}(),vt||(ct(),vt=!0),yt.add(t,e)}var vt=!1,yt=new P;function bt(){for(var t;t=N();){try{t.a.call(t.b)}catch(t){gt(t)}R(M,t)}vt=!1}function wt(t,e){if(this.a=_t,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,function(t){Pt(n,Ct,t)},function(t){if(!(t instanceof Bt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Pt(n,xt,t)})}catch(t){Pt(this,xt,t)}}var _t=0,Ct=2,xt=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new I(function(){return new St},function(t){t.reset()});function Tt(t,e,n){var i=Et.get();return i.g=t,i.b=e,i.f=n,i}function kt(t){if(t instanceof wt)return t;var e=new wt(d);return Pt(e,Ct,t),e}function At(t){return new wt(function(e,n){n(t)})}function Dt(t,e,n){Mt(t,e,n,null)||mt(S(e,t))}function Ot(t){return new wt(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Dt(t[o],S(r,o,!0),S(r,o,!1));else e(i)})}function It(t,e){t.b||t.a!=Ct&&t.a!=xt||Nt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Rt(t,e,n,i){var r=Tt(null,null,null);return r.a=new wt(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Bt?o(e):t(r)}catch(t){o(t)}}:o}),r.a.c=t,It(t,r),r.a}function Pt(t,e,n){t.a==_t&&(t===n&&(e=xt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Mt(n,t.Lc,t.Mc,t)||(t.i=n,t.a=e,t.c=null,Nt(t),e!=xt||n instanceof Bt||function(t,e){t.g=!0,mt(function(){t.g&&Vt.call(null,e)})}(t,n)))}function Mt(t,e,n,i){if(t instanceof wt)return It(t,Tt(e||d,n||null,i)),!0;if(k(t))return t.then(e,n,i),!0;if(y(t))try{var r=t.then;if(v(r))return function(t,e,n,i,r){function o(t){l||(l=!0,i.call(r,t))}var l=!1;try{e.call(t,function(t){l||(l=!0,n.call(r,t))},o)}catch(t){o(t)}}(t,r,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function Nt(t){t.h||(t.h=!0,mt(t.Xb,t))}function jt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Lt(t,e,n,i){if(n==xt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ft(e,n,i);else try{e.c?e.g.call(e.f):Ft(e,n,i)}catch(t){Vt.call(null,t)}R(Et,e)}function Ft(t,e,n){e==Ct?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}wt.prototype.then=function(t,e,n){return Rt(this,v(t)?t:null,v(e)?e:null,n)},wt.prototype.$goog_Thenable=!0,(e=wt.prototype).ia=function(t,e){return(t=Tt(t,t,e)).c=!0,It(this,t),this},e.s=function(t,e){return Rt(this,null,t,e)},e.cancel=function(t){this.a==_t&&mt(function(){!function t(e,n){if(e.a==_t)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,l=null,a=i.b;a&&(a.c||(r++,a.a==e&&(o=a),!(o&&1<r)));a=a.next)o||(l=a);o&&(i.a==_t&&1==r?t(i,n):(l?((r=l).next==i.f&&(i.f=r),r.next=r.next.next):jt(i),Lt(i,o,xt,n)))}e.c=null}else Pt(e,xt,n)}(this,new Bt(t))},this)},e.Lc=function(t){this.a=_t,Pt(this,Ct,t)},e.Mc=function(t){this.a=_t,Pt(this,xt,t)},e.Xb=function(){for(var t;t=jt(this);)Lt(this,t,this.a,this.i);this.h=!1};var Vt=gt;function Bt(t){A.call(this,t)}function Ut(){0!=qt&&(Wt[this[b]||(this[b]=++w)]=this),this.qa=this.qa,this.ja=this.ja}T(Bt,A),Bt.prototype.name="cancel";var qt=0,Wt={};function Ht(t){if(!t.qa&&(t.qa=!0,t.va(),0!=qt)){var e=t[b]||(t[b]=++w);if(0!=qt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wt[e]}}function zt(t){return zt[" "](t),t}Ut.prototype.qa=!1,Ut.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},zt[" "]=d;var Gt,Yt,Xt=ot("Opera"),Kt=ot("Trident")||ot("MSIE"),Qt=ot("Edge"),Zt=Qt||Kt,Jt=ot("Gecko")&&!(et(G.toLowerCase(),"webkit")&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),$t=et(G.toLowerCase(),"webkit")&&!ot("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Yt=G,Jt?/rv:([^\);]+)(\)|;)/.exec(Yt):Qt?/Edge\/([\d\.]+)/.exec(Yt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt):$t?/WebKit\/(\S+)/.exec(Yt):Xt?/(?:Version)[ \/]?(\S+)/.exec(Yt):void 0);if(ne&&(ee=ne?ne[1]:""),Kt){var ie=te();if(null!=ie&&ie>parseFloat(ee)){Gt=String(ie);break t}}Gt=ee}var re,oe={};function le(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Y(String(Gt)).split("."),i=Y(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var l=n[o]||"",a=i[o]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==l[0].length&&0==a[0].length)break;e=nt(0==l[1].length?0:parseInt(l[1],10),0==a[1].length?0:parseInt(a[1],10))||nt(0==l[2].length,0==a[2].length)||nt(l[2],a[2]),l=l[3],a=a[3]}while(0==e)}return 0<=e})}var ae=a.document;re=ae&&Kt?te()||("CSS1Compat"==ae.compatMode?parseInt(Gt,10):5):void 0;var se=Object.freeze||function(t){return t},ue=!Kt||9<=Number(re),ce=Kt&&!le("9"),he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",d,e),a.removeEventListener("test",d,e)}catch(t){}return t}();function de(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function pe(t,e){if(de.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{zt(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:fe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}de.prototype.preventDefault=function(){this.Kb=!1},T(pe,de);var fe=se({2:"touch",3:"pen",4:"mouse"});pe.prototype.preventDefault=function(){pe.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ce)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},pe.prototype.f=function(){return this.a};var ge="closure_listenable_"+(1e6*Math.random()|0),me=0;function ve(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function ye(t){this.src=t,this.a={},this.b=0}function be(t,e){var n=e.type;n in t.a&&q(t.a[n],e)&&(ve(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function we(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.Na==i)return r}return-1}ye.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var l=we(t,e,i,r);return-1<l?(e=t[l],n||(e.Ia=!1)):((e=new function(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Na=r,this.key=++me,this.oa=this.Ia=!1}(e,this.src,o,!!i,r)).Ia=n,t.push(e)),e};var _e="closure_lm_"+(1e6*Math.random()|0),Ce={};function xe(t,e,n,i,r){if(i&&i.once)Ee(t,e,n,i,r);else if(g(e))for(var o=0;o<e.length;o++)xe(t,e[o],n,i,r);else n=Me(n),t&&t[ge]?je(t,e,n,y(i)?!!i.capture:!!i,r):Se(t,e,n,!1,i,r)}function Se(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var l=y(r)?!!r.capture:!!r,a=Re(t);if(a||(t[_e]=a=new ye(t)),!(n=a.add(e,n,i,l,o)).proxy)if(i=function(){var t=Ie,e=ue?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)he||(r=l),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ae(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function Ee(t,e,n,i,r){if(g(e))for(var o=0;o<e.length;o++)Ee(t,e[o],n,i,r);else n=Me(n),t&&t[ge]?Le(t,e,n,y(i)?!!i.capture:!!i,r):Se(t,e,n,!0,i,r)}function Te(t,e,n,i,r){if(g(e))for(var o=0;o<e.length;o++)Te(t,e[o],n,i,r);else i=y(i)?!!i.capture:!!i,n=Me(n),t&&t[ge]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=we(o=t.a[e],n,i,r))&&(ve(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Re(t))&&(e=t.a[e.toString()],t=-1,e&&(t=we(e,n,i,r)),(n=-1<t?e[t]:null)&&ke(n))}function ke(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[ge])be(e.m,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ae(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Re(e))?(be(n,t),0==n.b&&(n.src=null,e[_e]=null)):ve(t)}}}function Ae(t){return t in Ce?Ce[t]:Ce[t]="on"+t}function De(t,e,n,i){var r=!0;if((t=Re(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=Oe(o,i),r=r&&!1!==o)}return r}function Oe(t,e){var n=t.listener,i=t.Na||t.src;return t.Ia&&ke(t),n.call(i,e)}function Ie(t,e){if(t.oa)return!0;if(!ue){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new pe(i=e,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}(r||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=De(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=De(i[r],t,!1,e),n=n&&o}return n}return Oe(t,new pe(e,this))}function Re(t){return(t=t[_e])instanceof ye?t:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(t){return v(t)?t:(t[Pe]||(t[Pe]=function(e){return t.handleEvent(e)}),t[Pe])}function Ne(){Ut.call(this),this.m=new ye(this),this.Qb=this,this.Va=null}function je(t,e,n,i,r){t.m.add(String(e),n,!1,i,r)}function Le(t,e,n,i,r){t.m.add(String(e),n,!0,i,r)}function Fe(t,e,n,i){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.oa&&l.capture==n){var a=l.listener,s=l.Na||l.src;l.Ia&&be(t.m,l),r=!1!==a.call(s,i)&&r}}return r&&0!=i.Kb}function Ve(t,e,n){if(v(t))n&&(t=x(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Be(t){var e=null;return new wt(function(n,i){-1==(e=Ve(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).s(function(t){throw a.clearTimeout(e),t})}function Ue(t){if(t.S&&"function"==typeof t.S)return t.S();if(s(t))return t.split("");if(m(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function qe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(m(t)||s(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function We(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof We)for(n=t.U(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function He(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];ze(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)ze(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(Ne,Ut),Ne.prototype[ge]=!0,Ne.prototype.addEventListener=function(t,e,n,i){xe(this,t,e,n,i)},Ne.prototype.removeEventListener=function(t,e,n,i){Te(this,t,e,n,i)},Ne.prototype.dispatchEvent=function(t){var e,n=this.Va;if(n)for(e=[];n;n=n.Va)e.push(n);n=this.Qb;var i=t.type||t;if(s(t))t=new de(t,n);else if(t instanceof de)t.target=t.target||n;else{var r=t;dt(t=new de(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.b=e[o];r=Fe(l,i,!0,t)&&r}if(r=Fe(l=t.b=n,i,!0,t)&&r,r=Fe(l,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Fe(l=t.b=e[o],i,!1,t)&&r;return r},Ne.prototype.va=function(){if(Ne.qb.va.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ve(n[i]);delete e.a[t],e.b--}}this.Va=null},(e=We.prototype).S=function(){He(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.U=function(){return He(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return ze(this.b,t)?this.b[t]:e},e.set=function(t,e){ze(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.U(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Ge=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ye(t,e){var n;this.b=this.i=this.f="",this.m=null,this.g=this.c="",this.h=!1,t instanceof Ye?(this.h=void 0!==e?e:t.h,Xe(this,t.f),this.i=t.i,this.b=t.b,Ke(this,t.m),this.c=t.c,Qe(this,mn(t.a)),this.g=t.g):t&&(n=String(t).match(Ge))?(this.h=!!e,Xe(this,n[1]||"",!0),this.i=en(n[2]||""),this.b=en(n[3]||"",!0),Ke(this,n[4]),this.c=en(n[5]||"",!0),Qe(this,n[6]||"",!0),this.g=en(n[7]||"")):(this.h=!!e,this.a=new cn(null,this.h))}function Xe(t,e,n){t.f=n?en(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ke(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Qe(t,e,n){e instanceof cn?(t.a=e,function(t,e){e&&!t.f&&(hn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),gn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=nn(e,sn)),t.a=new cn(e,t.h))}function Ze(t,e,n){t.a.set(e,n)}function Je(t,e){return t.a.get(e)}function $e(t){return t instanceof Ye?new Ye(t):new Ye(t,void 0)}function tn(t,e){var n=new Ye(null,void 0);return Xe(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function en(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nn(t,e,n){return s(t)?(t=encodeURI(t).replace(e,rn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ye.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nn(e,on,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(nn(e,on,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(nn(n,"/"==n.charAt(0)?an:ln,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",nn(n,un)),t.join("")},Ye.prototype.resolve=function(t){var e=new Ye(this),n=!!t.f;n?Xe(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.m;var i=t.c;if(n)Ke(e,t.m);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(et(r,"./")||et(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],l=0;l<r.length;){var a=r[l++];"."==a?i&&l==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&l==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Qe(e,mn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var on=/[#\/\?@]/g,ln=/[#\?:]/g,an=/[#\?]/g,sn=/[#\?@]/g,un=/#/g;function cn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hn(t){t.a||(t.a=new We,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function dn(t){var e=qe(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new cn(null,void 0);t=Ue(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];g(o)?gn(n,r,o):n.add(r,o)}return n}function pn(t,e){hn(t),e=vn(t,e),ze(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ze((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&He(t)))}function fn(t,e){return hn(t),e=vn(t,e),ze(t.a.b,e)}function gn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(vn(t,e),z(n)),t.b+=n.length)}function mn(t){var e=new cn;return e.c=t.c,t.a&&(e.a=new We(t.a),e.b=t.b),e}function vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(e=cn.prototype).add=function(t,e){hn(this),this.c=null,t=vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){hn(this),this.a.forEach(function(n,i){F(n,function(n){t.call(e,n,i,this)},this)},this)},e.U=function(){hn(this);for(var t=this.a.S(),e=this.a.U(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},e.S=function(t){hn(this);var e=[];if(s(t))fn(this,t)&&(e=H(e,this.a.get(vn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},e.set=function(t,e){return hn(this),this.c=null,fn(this,t=vn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.S(i);for(var o=0;o<i.length;o++){var l=r;""!==i[o]&&(l+="="+encodeURIComponent(String(i[o]))),t.push(l)}}return this.c=t.join("&")};var yn=!Kt||9<=Number(re);function bn(t,e){this.a=t===Cn&&e||"",this.b=_n}function wn(t){return t instanceof bn&&t.constructor===bn&&t.b===_n?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}bn.prototype.na=!0,bn.prototype.ma=function(){return this.a},bn.prototype.toString=function(){return"Const{"+this.a+"}"};var _n={},Cn={};function xn(){this.a="",this.b=An}function Sn(t){return t instanceof xn&&t.constructor===xn&&t.b===An?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function En(t,e){var n=wn(t);if(!kn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new xn;return e.a=t,e}(t=n.replace(Tn,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof bn?wn(t):encodeURIComponent(String(t))}))}xn.prototype.na=!0,xn.prototype.ma=function(){return this.a.toString()},xn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tn=/%{(\w+)}/g,kn=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,An={};function Dn(){this.a="",this.b=Pn}function On(t){return t instanceof Dn&&t.constructor===Dn&&t.b===Pn?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}Dn.prototype.na=!0,Dn.prototype.ma=function(){return this.a.toString()},Dn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var In=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rn(t){return t instanceof Dn?t:(t="object"==typeof t&&t.na?t.ma():String(t),In.test(t)||(t="about:invalid#zClosurez"),Mn(t))}var Pn={};function Mn(t){var e=new Dn;return e.a=t,e}function Nn(){this.a="",this.b=jn}Mn("about:blank"),Nn.prototype.na=!0,Nn.prototype.ma=function(){return this.a.toString()},Nn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jn={};function Ln(t){var e=new Nn;return e.a=t,e}function Fn(t){var e=document;return s(t)?e.getElementById(t):t}function Vn(t,e){lt(e,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Bn.hasOwnProperty(n)?t.setAttribute(Bn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Ln("<!DOCTYPE html>"),Ln(""),Ln("<br>");var Bn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Un(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(v(t))return"function"==typeof t.item}return!1}function qn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(g(n)){var r=n;n=r.length,i.push("[");for(var o="",l=0;l<n;l++)i.push(o),t(e,r[l],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(l=n[r])&&(i.push(o),zn(r,i),i.push(":"),t(e,l,i),o=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":zn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var Wn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Hn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function zn(t,e){e.push('"',t.replace(Hn,function(t){var e=Wn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Wn[t]=e),e}),'"')}function Gn(){var t=hi();return Kt&&!!re&&11==re||/Edge\/\d+/.test(t)}function Yn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function Xn(t,e){e=e||a.window;var n="about:blank";t&&(n=On(Rn(t)).toString()),e.location.href=n}function Kn(t){return!!((t=(t||hi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Qn(t){t=t||a.window;try{t.close()}catch(t){}}function Zn(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(l in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=hi().toLowerCase(),i&&(e.target=i,et(n,"crios/")&&(e.target="_blank")),si(hi())==li&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Dn?n:Rn("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(l){case"width":case"height":case"top":case"left":r.push(l+"="+t[l]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(l+"="+(t[l]?1:0))}var l=r.join(",");if((ot("iPhone")&&!ot("iPod")&&!ot("iPad")||ot("iPad")||ot("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(l=i.document.createElement("A"),e instanceof Dn||e instanceof Dn||(e="object"==typeof e&&e.na?e.ma():String(e),In.test(e)||(e="about:invalid#zClosurez"),e=Mn(e)),l.href=On(e),l.setAttribute("target",n),t.noreferrer&&l.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),l.dispatchEvent(t),l={}):t.noreferrer?(l=i.open("",n,l),t=On(e).toString(),l&&(Zt&&et(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),l.opener=null,t=Ln('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ft(t)+'">'),l.document.write(function(t){return t instanceof Nn&&t.constructor===Nn&&t.b===jn?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}(t)),l.document.close())):(l=i.open(On(e).toString(),n,l))&&t.noopener&&(l.opener=null),l)try{l.focus()}catch(t){}return l}var Jn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$n=/^[^@]+@[^@]+$/;function ti(){var t=null;return new wt(function(e){"complete"==a.document.readyState?e():(t=function(){e()},Ee(window,"load",t))}).s(function(e){throw Te(window,"load",t),e})}function ei(t){return t=t||hi(),!("file:"!==mi()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ni(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function ii(){return"undefined"!=typeof a.WorkerGlobalScope&&"function"==typeof a.importScripts}function ri(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":ii()?"Worker":"Browser"}function oi(){var t=ri();return"ReactNative"===t||"Node"===t}var li="Firefox",ai="Chrome";function si(t){var e=t.toLowerCase();return et(e,"opera/")||et(e,"opr/")||et(e,"opios/")?"Opera":et(e,"iemobile")?"IEMobile":et(e,"msie")||et(e,"trident/")?"IE":et(e,"edge/")?"Edge":et(e,"firefox/")?li:et(e,"silk/")?"Silk":et(e,"blackberry")?"Blackberry":et(e,"webos")?"Webos":!et(e,"safari/")||et(e,"chrome/")||et(e,"crios/")||et(e,"android")?!et(e,"chrome/")&&!et(e,"crios/")||et(e,"edge/")?et(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":ai:"Safari"}var ui={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};function ci(t,e){e=e||[];var n,i=[],r={};for(n in ui)r[ui[n]]=!0;for(n=0;n<e.length;n++)"undefined"!=typeof r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=ri())?i=si(r=hi()):"Worker"===i&&(i=si(r=hi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function hi(){return a.navigator&&a.navigator.userAgent||""}function di(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function pi(){try{var t=a.localStorage,e=_i();if(t)return t.setItem(e,"1"),t.removeItem(e),!Gn()||!!a.indexedDB}catch(t){return ii()&&!!a.indexedDB}return!1}function fi(){return(gi()||"chrome-extension:"===mi()||ei())&&!oi()&&pi()&&!ii()}function gi(){return"http:"===mi()||"https:"===mi()}function mi(){return a.location&&a.location.protocol||null}function vi(t){return!Kn(t=t||hi())&&si(t)!=li}function yi(t){return"undefined"==typeof t?null:qn(t)}function bi(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function wi(t){if(null!==t)return JSON.parse(t)}function _i(t){return t||Math.floor(1e9*Math.random()).toString()}function Ci(t){return"Safari"!=si(t=t||hi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function xi(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Si(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=hi(),e=ri(),this.b=Kn(t)||"ReactNative"===e}function Ei(){var t=a.document;return!t||"undefined"==typeof t.visibilityState||"visible"==t.visibilityState}function Ti(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function ki(){return!(!di("fireauth.oauthhelper",a)&&!di("fireauth.iframe",a))}Si.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!gi()&&"chrome-extension:"!==mi()&&"undefined"==typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ai,Di={};function Oi(t){Di[t]||(Di[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ii={};Object.defineProperty(Ii,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ii,"abcd",{configurable:!0,enumerable:!0,value:2}),Ai=2==Ii.abcd}catch(Yt){Ai=!1}function Ri(t,e,n){Ai?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Pi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ri(t,n,e[n])}function Mi(t){var e={};return Pi(e,t),e}function Ni(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ri(e,n,Ni(t[n]));return e}function ji(t,e){this.code=Fi+t,this.message=e||Vi[t]||""}function Li(t){var e=t&&t.code;return e?new ji(e.substring(Fi.length),t.message):null}T(ji,Error),ji.prototype.w=function(){return{code:this.code,message:this.message}},ji.prototype.toJSON=function(){return this.w()};var Fi="auth/",Vi={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Bi(t){var e=t[zi];if("undefined"==typeof e)throw new ji("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new ji("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ui];if(n&&"object"==typeof n){e=n[Xi];var i=n[Gi];if(n=n[Yi],"string"==typeof e&&e.length){if(this.a=e,"undefined"!=typeof i&&"boolean"!=typeof i)throw new ji("argument-error",Gi+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!=typeof n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new ji("argument-error",Yi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!=typeof e)throw new ji("argument-error",Xi+" property must be a non empty string when specified.");if("undefined"!=typeof i||"undefined"!=typeof n)throw new ji("missing-android-pkg-name")}}else if("undefined"!=typeof n)throw new ji("argument-error",Ui+" property must be a non null object when specified.");if(this.f=null,(e=t[Hi])&&"object"==typeof e){if("string"==typeof(e=e[Ki])&&e.length)this.f=e;else if("undefined"!=typeof e)throw new ji("argument-error",Ki+" property must be a non empty string when specified.")}else if("undefined"!=typeof e)throw new ji("argument-error",Hi+" property must be a non null object when specified.");if("undefined"!=typeof(e=t[Wi])&&"boolean"!=typeof e)throw new ji("argument-error",Wi+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!=typeof(t=t[qi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new ji("argument-error",qi+" property must be a non empty string when specified.");this.i=t||null}var Ui="android",qi="dynamicLinkDomain",Wi="handleCodeInApp",Hi="iOS",zi="url",Gi="installApp",Yi="minimumVersion",Xi="packageName",Ki="bundleId";function Qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Zi=null,Ji=null;function $i(t){this.c=t.sub,E(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function tr(t){return(t=er(t))&&t.sub&&t.iss&&t.aud&&t.exp?new $i(t):null}function er(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Ji[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Zi){Zi={},Ji={};for(var t=0;65>t;t++)Zi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ji[Zi[t]]=t,62<=t&&(Ji["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var i=0;;){var r=n(-1),o=n(0),l=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=l&&(e(o<<4&240|l>>2),64!=a&&e(l<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(t){}return null}$i.prototype.f=function(){return this.b};var nr,ir={Yc:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function rr(t){for(var e in ir)if(ir[e].id===t)return{firebaseEndpoint:(t=ir[e]).ab,secureTokenEndpoint:t.ib};return null}nr=rr("__EID__")?"__EID__":void 0;var or="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),lr=["client_id","response_type","scope","redirect_uri","state"],ar={Tc:{Oa:"locale",Ba:500,Aa:600,Pa:"facebook.com",hb:lr},Vc:{Oa:null,Ba:500,Aa:620,Pa:"github.com",hb:lr},Wc:{Oa:"hl",Ba:515,Aa:680,Pa:"google.com",hb:lr},bd:{Oa:"lang",Ba:485,Aa:705,Pa:"twitter.com",hb:or}};function sr(t){for(var e in ar)if(ar[e].Pa==t)return ar[e];return null}function ur(t){var e={};e["facebook.com"]=fr,e["google.com"]=mr,e["github.com"]=gr,e["twitter.com"]=vr;var n=t&&t[hr];try{if(n)return e[n]?new e[n](t):new pr(t);if("undefined"!=typeof t[cr])return new dr(t)}catch(t){}return null}var cr="idToken",hr="providerId";function dr(t){var e=t[hr];if(!e&&t[cr]){var n=tr(t[cr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!=typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ri(this,"providerId",e),Ri(this,"isNewUser",n)}function pr(t){dr.call(this,t),Ri(this,"profile",Ni((t=wi(t.rawUserInfo||"{}"))||{}))}function fr(t){if(pr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function gr(t){if(pr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ri(this,"username",this.profile&&this.profile.login||null)}function mr(t){if(pr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function vr(t){if(pr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ri(this,"username",t.screenName||null)}function yr(t){var e=$e(t),n=Je(e,"link"),i=Je($e(n),"link");return Je($e(e=Je(e,"deep_link_id")),"link")||e||i||n||t}function br(){}function wr(t,e){return t.then(function(t){if(t[ll]){var n=tr(t[ll]);if(!n||e!=n.c)throw new ji("user-mismatch");return t}throw new ji("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Fi+"user-not-found"?new ji("user-mismatch"):t})}function _r(t,e){if(!e)throw new ji("internal-error","failed to construct a credential");this.a=e,Ri(this,"providerId",t),Ri(this,"signInMethod",t)}function Cr(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function xr(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new _r(t.providerId,t.pendingToken)}catch(t){}return null}function Sr(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ri(this,"idToken",e.idToken),e.accessToken&&Ri(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ri(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new ji("internal-error","failed to construct a credential");Ri(this,"accessToken",e.oauthToken),Ri(this,"secret",e.oauthTokenSecret)}Ri(this,"providerId",t),Ri(this,"signInMethod",n)}function Er(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:dn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Tr(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Sr(t.providerId,e,t.signInMethod)}catch(t){}}return null}function kr(t,e){this.Dc=e||[],Pi(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(sr(t)||{}).Oa||null,this.$a=null}function Ar(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new ji("argument-error",'SAML provider IDs must be prefixed with "saml."');kr.call(this,t,[])}function Dr(t){kr.call(this,t,lr),this.a=[]}function Or(){Dr.call(this,"facebook.com")}function Ir(t){if(!t)throw new ji("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Or).credential({accessToken:e})}function Rr(){Dr.call(this,"github.com")}function Pr(t){if(!t)throw new ji("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Rr).credential({accessToken:e})}function Mr(){Dr.call(this,"google.com"),this.ua("profile")}function Nr(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new Mr).credential({idToken:n,accessToken:e})}function jr(){kr.call(this,"twitter.com",or)}function Lr(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new ji("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Sr("twitter.com",n,"twitter.com")}function Fr(t,e,n){this.a=t,this.c=e,Ri(this,"providerId","password"),Ri(this,"signInMethod",n===Br.EMAIL_LINK_SIGN_IN_METHOD?Br.EMAIL_LINK_SIGN_IN_METHOD:Br.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Vr(t){return t&&t.email&&t.password?new Fr(t.email,t.password,t.signInMethod):null}function Br(){Pi(this,{providerId:"password",isOAuthProvider:!1})}function Ur(t,e){if(!(e=qr(e)))throw new ji("argument-error","Invalid email link!");return new Fr(t,e,Br.EMAIL_LINK_SIGN_IN_METHOD)}function qr(t){var e=Je((t=new function(t){this.a=$e(t)}(t=yr(t))).a,"oobCode")||null;return"signIn"===(Je(t.a,"mode")||null)&&e?e:null}function Wr(t){if(!(t.Ta&&t.Sa||t.Fa&&t.$))throw new ji("internal-error");this.a=t,Ri(this,"providerId","phone"),Ri(this,"signInMethod","phone")}function Hr(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Wr(e)}return null}function zr(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ta,code:t.a.Sa}}function Gr(t){try{this.a=t||i.a.auth()}catch(t){throw new ji("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Pi(this,{providerId:"phone",isOAuthProvider:!1})}function Yr(t,e){if(!t)throw new ji("missing-verification-id");if(!e)throw new ji("missing-verification-code");return new Wr({Ta:t,Sa:e})}function Xr(t){if(t.temporaryProof&&t.phoneNumber)return new Wr({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,l=t&&t.pendingToken;try{switch(e){case"google.com":return Nr(o,n);case"facebook.com":return Ir(n);case"github.com":return Pr(n);case"twitter.com":return Lr(n,i);default:return n||i||o||l?l?0==e.indexOf("saml.")?new _r(e,l):new Sr(e,{pendingToken:l,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Dr(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(t){return null}}function Kr(t){if(!t.isOAuthProvider)throw new ji("invalid-oauth-provider")}function Qr(t,e,n,i,r,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.h=o||null,this.a=r||null,!this.g&&!this.a)throw new ji("invalid-auth-event");if(this.g&&this.a)throw new ji("invalid-auth-event");if(this.g&&!this.f)throw new ji("invalid-auth-event")}function Zr(t){return(t=t||{}).type?new Qr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Li(t.error),t.postBody):null}function Jr(){this.b=null,this.a=[]}T(pr,dr),T(fr,pr),T(gr,pr),T(mr,pr),T(vr,pr),_r.prototype.la=function(t){return Sl(t,Cr(this))},_r.prototype.b=function(t,e){var n=Cr(this);return n.idToken=e,El(t,n)},_r.prototype.f=function(t,e){return wr(Tl(t,Cr(this)),e)},_r.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Sr.prototype.la=function(t){return Sl(t,Er(this))},Sr.prototype.b=function(t,e){var n=Er(this);return n.idToken=e,El(t,n)},Sr.prototype.f=function(t,e){return wr(Tl(t,Er(this)),e)},Sr.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},kr.prototype.Da=function(t){return this.zb=st(t),this},T(Ar,kr),T(Dr,kr),Dr.prototype.ua=function(t){return U(this.a,t)||this.a.push(t),this},Dr.prototype.Fb=function(){return z(this.a)},Dr.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new ji("argument-error","credential failed: must provide the ID token and/or the access token.");return new Sr(this.providerId,n,this.providerId)},T(Or,Dr),Ri(Or,"PROVIDER_ID","facebook.com"),Ri(Or,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Rr,Dr),Ri(Rr,"PROVIDER_ID","github.com"),Ri(Rr,"GITHUB_SIGN_IN_METHOD","github.com"),T(Mr,Dr),Ri(Mr,"PROVIDER_ID","google.com"),Ri(Mr,"GOOGLE_SIGN_IN_METHOD","google.com"),T(jr,kr),Ri(jr,"PROVIDER_ID","twitter.com"),Ri(jr,"TWITTER_SIGN_IN_METHOD","twitter.com"),Fr.prototype.la=function(t){return this.signInMethod==Br.EMAIL_LINK_SIGN_IN_METHOD?ea(t,Ml,{email:this.a,oobCode:this.c}):ea(t,Zl,{email:this.a,password:this.c})},Fr.prototype.b=function(t,e){return this.signInMethod==Br.EMAIL_LINK_SIGN_IN_METHOD?ea(t,Nl,{idToken:e,email:this.a,oobCode:this.c}):ea(t,zl,{idToken:e,email:this.a,password:this.c})},Fr.prototype.f=function(t,e){return wr(this.la(t),e)},Fr.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Pi(Br,{PROVIDER_ID:"password"}),Pi(Br,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Pi(Br,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Wr.prototype.la=function(t){return t.Ua(zr(this))},Wr.prototype.b=function(t,e){var n=zr(this);return n.idToken=e,ea(t,$l,n)},Wr.prototype.f=function(t,e){var n=zr(this);return n.operation="REAUTH",wr(t=ea(t,ta,n),e)},Wr.prototype.w=function(){var t={providerId:"phone"};return this.a.Ta&&(t.verificationId=this.a.Ta),this.a.Sa&&(t.verificationCode=this.a.Sa),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Gr.prototype.Ua=function(t,e){var n=this.a.c;return kt(e.verify()).then(function(i){if(!s(i))throw new ji("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return ea(n,Wl,e)}(0,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new ji("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Pi(Gr,{PROVIDER_ID:"phone"}),Pi(Gr,{PHONE_SIGN_IN_METHOD:"phone"}),Qr.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var $r,to=null;function eo(t){var e="unauthorized-domain",n=void 0,i=$e(t);t=i.b,"chrome-extension"==(i=i.f)?n=pt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=pt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",ji.call(this,e,n)}function no(t,e,n){ji.call(this,t,n),(t=e||{}).Ab&&Ri(this,"email",t.Ab),t.$&&Ri(this,"phoneNumber",t.$),t.credential&&Ri(this,"credential",t.credential)}function io(t){if(t.code){var e=t.code||"";0==e.indexOf(Fi)&&(e=e.substring(Fi.length));var n={credential:Xr(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new ji(e,t.message||void 0);return new no(e,n,t.message)}return null}function ro(){}function oo(){}function lo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ao(){}function so(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.dc,this),this.a.onerror=x(this.Gb,this),this.a.onprogress=x(this.ec,this),this.a.ontimeout=x(this.ic,this)}function uo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function co(t,e,n){this.reset(t,e,n,void 0,void 0)}function ho(t){this.f=t,this.b=this.c=this.a=null}function po(t,e){this.name=t,this.value=e}Jr.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=di("universalLinks.subscribe",a))&&t(null,this.b))},Jr.prototype.unsubscribe=function(t){W(this.a,function(e){return e==t})},T(eo,ji),T(no,ji),no.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.w();return e&&dt(t,e),t},no.prototype.toJSON=function(){return this.w()},ro.prototype.c=null,T(oo,ro),oo.prototype.a=function(){var t=lo(this);return t?new ActiveXObject(t):new XMLHttpRequest},oo.prototype.b=function(){var t={};return lo(this)&&(t[0]=!0,t[1]=!0),t},$r=new oo,T(ao,ro),ao.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new so;throw Error("Unsupported browser")},ao.prototype.b=function(){return{}},(e=so.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.dc=function(){this.status=200,this.response=this.responseText=this.a.responseText,uo(this,4)},e.Gb=function(){this.status=500,this.response=this.responseText="",uo(this,4)},e.ic=function(){this.Gb()},e.ec=function(){this.status=200,uo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},co.prototype.a=null,co.prototype.reset=function(t,e,n,i,r){i||E(),delete this.a},po.prototype.toString=function(){return this.name};var fo=new po("SEVERE",1e3),go=new po("WARNING",900),mo=new po("CONFIG",700),vo=new po("FINE",500);ho.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(v(e)&&(e=e()),t=new co(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var yo={},bo=null;function wo(t){var e;if(bo||(bo=new ho(""),yo[""]=bo,bo.c=mo),!(e=yo[t])){e=new ho(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=wo(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,yo[t]=e}return e}function _o(t,e){t&&t.log(vo,e,void 0)}function Co(t){this.f=t}function xo(t){Ne.call(this),this.u=t,this.readyState=So,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.o="GET",this.g="",this.a=!1,this.h=wo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Co,ro),Co.prototype.a=function(){return new xo(this.f)},Co.prototype.b=function(t){return function(){return t}}({}),T(xo,Ne);var So=0;function Eo(t){t.c.read().then(t.cc.bind(t)).catch(t.Ma.bind(t))}function To(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ko(t)}function ko(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ao(t){Ne.call(this),this.headers=new We,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Do,this.v=this.O=!1}(e=xo.prototype).open=function(t,e){if(this.readyState!=So)throw this.abort(),Error("Error reopening a connection");this.o=t,this.g=e,this.readyState=1,ko(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.o,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.hc.bind(this),this.Ma.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,To(this,!1)),this.readyState=So},e.hc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ko(this)),this.a&&(this.readyState=3,ko(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.fc.bind(this),this.Ma.bind(this)):"undefined"!=typeof a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Eo(this)):t.text().then(this.gc.bind(this),this.Ma.bind(this)))))},e.cc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?To(this,!0):ko(this),3==this.readyState&&Eo(this)}},e.gc=function(t){this.a&&(this.response=this.responseText=t,To(this,!0))},e.fc=function(t){this.a&&(this.response=t,To(this,!0))},e.Ma=function(t){var e=this.h;e&&e.log(go,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&To(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(go,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(go,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(Ao,Ne);var Do="";Ao.prototype.b=wo("goog.net.XhrIo");var Oo=/^https?$/i,Io=["POST","PUT"];function Ro(t){return"content-type"==t.toLowerCase()}function Po(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Mo(t),jo(t)}function Mo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function No(t){if(t.c&&"undefined"!=typeof l)if(t.A[1]&&4==Fo(t)&&2==Vo(t))_o(t.b,Bo(t,"Local request error detected and ignored"));else if(t.i&&4==Fo(t))Ve(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==Fo(t)){_o(t.b,Bo(t,"Request complete")),t.c=!1;try{var e,n=Vo(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(Ge)[1]||null;if(!o&&a.self&&a.self.location){var s=a.self.location.protocol;o=s.substr(0,s.length-1)}r=!Oo.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Fo(t)?t.a.statusText:""}catch(e){_o(t.b,"Can not get status: "+e.message),u=""}t.h=u+" ["+Vo(t)+"]",Mo(t)}}finally{jo(t)}}}function jo(t,e){if(t.a){Lo(t);var n=t.a,i=t.A[0]?d:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(fo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Lo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(a.clearTimeout(t.u),t.u=null)}function Fo(t){return t.a?t.a.readyState:0}function Vo(t){try{return 2<Fo(t)?t.a.status:-1}catch(t){return-1}}function Bo(t,e){return e+" ["+t.N+" "+t.l+" "+Vo(t)+"]"}function Uo(t){var e=Jo;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.m=0}function qo(t,e,n){t.a=!0,t.c=n,t.f=!e,Go(t)}function Wo(t){if(t.a){if(!t.l)throw new Yo(t);t.l=!1}}function Ho(t,e,n,i){t.g.push([e,n,i]),t.a&&Go(t)}function zo(t){return B(t.g,function(t){return v(t[1])})}function Go(t){if(t.h&&t.a&&zo(t)){var e=t.h,n=Qo[e];n&&(a.clearTimeout(n.a),delete Qo[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],l=r[1];if(r=r[2],o=t.f?l:o)try{var s=o.call(r||t.u,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(k(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(i){e=i,t.f=!0,zo(t)||(n=!0)}}t.c=e,i&&(s=x(t.o,t,!0),i=x(t.o,t,!1),e instanceof Uo?(Ho(e,s,i),e.A=!0):e.then(s,i)),n&&(e=new Ko(e),Qo[e.a]=e,t.h=e.a)}function Yo(){A.call(this)}function Xo(){A.call(this)}function Ko(t){this.a=a.setTimeout(x(this.c,this),0),this.b=t}(e=Ao.prototype).Ga=function(){"undefined"!=typeof l&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",_o(this.b,Bo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(_o(this.b,Bo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),jo(this))},e.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),jo(this,!0)),Ao.qb.va.call(this)},e.Jb=function(){this.qa||(this.I||this.i||this.f?No(this):this.wc())},e.wc=function(){No(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Do:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(fo,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return _o(this.b,"Can not get response: "+t.message),null}},Uo.prototype.cancel=function(t){if(this.a)this.c instanceof Uo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new Xo(this),Wo(this),qo(this,!1,t))}},Uo.prototype.o=function(t,e){this.i=!1,qo(this,t,e)},Uo.prototype.then=function(t,e,n){var i,r,o=new wt(function(t,e){i=t,r=e});return Ho(this,i,function(t){t instanceof Xo?o.cancel():r(t)}),o.then(t,e,n)},Uo.prototype.$goog_Thenable=!0,T(Yo,A),Yo.prototype.message="Deferred has already fired",Yo.prototype.name="AlreadyCalledError",T(Xo,A),Xo.prototype.message="Deferred was canceled",Xo.prototype.name="CanceledError",Ko.prototype.c=function(){throw delete Qo[this.a],this.b};var Qo={};function Zo(t){var e={},n=e.document||document,i=Sn(t).toString(),r=document.createElement("SCRIPT"),o={Lb:r,Ga:void 0},l=new Uo(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){$o(r,!0);var t=new nl(el,"Timeout reached for loading script "+i);Wo(l),qo(l,!1,t)},u),o.Ga=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||($o(r,e.dd||!1,s),Wo(l),qo(l,!0,null))},r.onerror=function(){$o(r,!0,s);var t=new nl(tl,"Error while loading script "+i);Wo(l),qo(l,!1,t)},dt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Vn(r,o),function(t,e){t.src=Sn(e),null===h&&(h=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),l}function Jo(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&$o(t,!0,this.Ga)}}function $o(t,e,n){null!=n&&a.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var tl=0,el=1;function nl(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function il(t){this.f=t}function rl(t,e,n){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||al,this.f=st(t.secureTokenHeaders||sl),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||ul,this.a=st(t.firebaseHeaders||cl),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==ri(),!(n=a.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!ii())throw new ji("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=ii()?new Co(self):oi()?new il(n):new ao}T(nl,A),T(il,ro),il.prototype.a=function(){return new this.f},il.prototype.b=function(){return{}};var ol,ll="idToken",al=new Si(3e4,6e4),sl={"Content-Type":"application/x-www-form-urlencoded"},ul=new Si(3e4,6e4),cl={"Content-Type":"application/json"};function hl(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function dl(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function pl(t,e,n,i,r,o,l){(function(){var t=hi();return!((t=si(t)!=ai?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&re&&!(9<re))})()||ii()?t=x(t.o,t):(ol||(ol=new wt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[gl]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=En(fl,{onload:gl});!function(t,e){Ho(Zo(n),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=x(t.l,t)),t(e,n,i,r,o,l)}rl.prototype.o=function(t,e,n,i,r,o){if(ii()&&("undefined"==typeof a.fetch||"undefined"==typeof a.Headers||"undefined"==typeof a.Request))throw new ji("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new Ao(this.c);if(o){l.g=Math.max(0,o);var u=setTimeout(function(){l.dispatchEvent("timeout")},o)}je(l,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return _o(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Le(l,"ready",function(){u&&clearTimeout(u),Ht(this)}),Le(l,"timeout",function(){u&&clearTimeout(u),Ht(this),e&&e(null)}),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():$r.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:$r),t.a.onreadystatechange=x(t.Jb,t);try{_o(t.b,Bo(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return _o(t.b,Bo(t,"Error opening Xhr: "+e.message)),void Po(t,e)}e=i||"";var o=new We(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||s(t))F(t,e,void 0);else for(var n=qe(t),i=Ue(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Ro,n=t.length,i=s(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(o.U()),i=a.FormData&&e instanceof a.FormData,!U(Io,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Lo(t),0<t.g&&(t.v=function(t){return Kt&&le(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),_o(t.b,Bo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=x(t.Ga,t)):t.u=Ve(t.Ga,t.g,t)),_o(t.b,Bo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){_o(t.b,Bo(t,"Send error: "+e.message)),Po(t,e)}}(l,t,n,i,r)};var fl=new bn(Cn,"https://apis.google.com/js/client.js?onload=%{onload}"),gl="__fcb"+Math.floor(1e6*Math.random()).toString();function ml(t){if(!s(t=t.email)||!$n.test(t))throw new ji("invalid-email")}function vl(t){"email"in t&&ml(t)}function yl(t){if(!t[ll])throw new ji("internal-error")}function bl(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new ji("internal-error")}else{if(!t.sessionInfo)throw new ji("missing-verification-id");if(!t.code)throw new ji("missing-verification-code")}}rl.prototype.l=function(t,e,n,i,r){var o=this;ol.then(function(){window.gapi.client.setApiKey(o.b);var l=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(l),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},rl.prototype.ob=function(){return ea(this,Gl,{})},rl.prototype.rb=function(t,e){return ea(this,Hl,{idToken:t,email:e})},rl.prototype.sb=function(t,e){return ea(this,zl,{idToken:t,password:e})};var wl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function _l(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new ji("internal-error")}function Cl(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&fn(t=new cn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function xl(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=io(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=io(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=io(t)):t.errorMessage&&(e=na(t.errorMessage)),e)throw e;if(!t[ll])throw new ji("internal-error")}function Sl(t,e){return e.returnIdpCredential=!0,ea(t,Yl,e)}function El(t,e){return e.returnIdpCredential=!0,ea(t,Kl,e)}function Tl(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ea(t,Xl,e)}function kl(t){if(!t.oobCode)throw new ji("invalid-action-code")}(e=rl.prototype).tb=function(t,e){var n={idToken:t},i=[];return lt(wl,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),ea(this,Hl,n)},e.kb=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),ea(this,Vl,t)},e.lb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),ea(this,Ll,t)},e.jb=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ea(this,Fl,t)},e.Ua=function(t){return ea(this,Jl,t)},e.Za=function(t,e){return ea(this,ql,{oobCode:t,newPassword:e})},e.Ka=function(t){return ea(this,Dl,{oobCode:t})},e.Wa=function(t){return ea(this,Al,{oobCode:t})};var Al={endpoint:"setAccountInfo",C:kl,da:"email"},Dl={endpoint:"resetPassword",C:kl,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new ji("internal-error")}},Ol={endpoint:"signupNewUser",C:function(t){if(ml(t),!t.password)throw new ji("weak-password")},J:yl,R:!0},Il={endpoint:"createAuthUri"},Rl={endpoint:"deleteAccount",T:["idToken"]},Pl={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(t){if(!g(t.deleteProvider))throw new ji("internal-error")}},Ml={endpoint:"emailLinkSignin",T:["email","oobCode"],C:ml,J:yl,R:!0},Nl={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:ml,J:yl,R:!0},jl={endpoint:"getAccountInfo"},Ll={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new ji("internal-error");ml(t)},da:"email"},Fl={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new ji("internal-error")},da:"email"},Vl={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new ji("internal-error");ml(t)},da:"email"},Bl={wb:!0,endpoint:"getProjectConfig",Ib:"GET"},Ul={wb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new ji("internal-error")}},ql={endpoint:"resetPassword",C:kl,da:"email"},Wl={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Hl={endpoint:"setAccountInfo",T:["idToken"],C:vl,R:!0},zl={endpoint:"setAccountInfo",T:["idToken"],C:function(t){if(vl(t),!t.password)throw new ji("weak-password")},J:yl,R:!0},Gl={endpoint:"signupNewUser",J:yl,R:!0},Yl={endpoint:"verifyAssertion",C:_l,Qa:Cl,J:xl,R:!0},Xl={endpoint:"verifyAssertion",C:_l,Qa:Cl,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new ji("user-not-found");if(t.errorMessage)throw na(t.errorMessage);if(!t[ll])throw new ji("internal-error")},R:!0},Kl={endpoint:"verifyAssertion",C:function(t){if(_l(t),!t.idToken)throw new ji("internal-error")},Qa:Cl,J:xl,R:!0},Ql={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new ji("invalid-custom-token")},J:yl,R:!0},Zl={endpoint:"verifyPassword",C:function(t){if(ml(t),!t.password)throw new ji("wrong-password")},J:yl,R:!0},Jl={endpoint:"verifyPhoneNumber",C:bl,J:yl},$l={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new ji("internal-error");bl(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",io(t);yl(t)}},ta={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:bl,J:yl};function ea(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0}(n,e.T))return At(new ji("internal-error"));var i,r=e.Ib||"POST";return kt(n).then(e.C).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,i,r,o){var l=$e(t.g+e);Ze(l,"key",t.b),o&&Ze(l,"cb",E().toString());var a="GET"==n;if(a)for(var s in i)i.hasOwnProperty(s)&&Ze(l,s,i[s]);return new wt(function(e,o){pl(t,l.toString(),function(t){t?t.error?o(ia(t,r||{})):e(t):o(new ji("network-request-failed"))},n,a?void 0:qn(bi(i)),t.a,t.h.get())})}(t,e.endpoint,r,n,e.Wb,e.wb||!1)}).then(function(t){return i=t,e.Qa?e.Qa(n,i):i}).then(e.J).then(function(){if(!e.da)return i;if(!(e.da in i))throw new ji("internal-error");return i[e.da]})}function na(t){return ia({error:{errors:[{message:t}],code:400,message:t}})}function ia(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new ji(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",dt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new ji(i[r],e);return!e&&t&&(e=yi(t)),new ji("internal-error",e)}var ra=new bn(Cn,"https://apis.google.com/js/api.js?onload=%{onload}"),oa=new Si(3e4,6e4),la=new Si(5e3,15e3),aa=null;function sa(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=tn(this.i,"/__/auth/iframe"),Ze(this.a,"apiKey",this.g),Ze(this.a,"appName",this.h),this.b=null,this.c=[]}function ua(t,e,n,i,r){this.o=t,this.l=e,this.c=n,this.m=i,this.h=this.g=this.i=null,this.a=r,this.f=null}function ca(t){try{return i.a.app(t).auth().ya()}catch(t){return[]}}function ha(t,e,n,i,r){this.l=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function da(t){var e=Yn();return function(t){return ea(t,Bl,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=$e(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],l=n,a=i;if(0==o.indexOf("chrome-extension://")?l=$e(o).b==l&&"chrome-extension"==a:"http"!=a&&"https"!=a?l=!1:Jn.test(o)?l=l==o:(o=o.split(".").join("\\."),l=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)),l){t=!0;break t}}t=!1}if(!t)throw new eo(Yn())})}function pa(t){return t.m?t.m:(t.m=ti().then(function(){if(!t.u){var e=t.c,n=t.h,i=ca(t.b),r=new sa(t.l,t.f,t.b);r.f=e,r.b=n,r.c=z(i||[]),t.u=r.toString()}t.i=new function(t){this.b=t,this.a=null,this.fb=function(t){return(aa||(aa=new wt(function(t,e){function n(){xi(),di("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){xi(),e(Error("Network Error"))},timeout:oa.get()})}if(di("gapi.iframes.Iframe"))t();else if(di("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){di("gapi.load")?n():e(Error("Network Error"))},kt(Zo(i=En(ra,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw aa=null,t}))).then(function(){return new wt(function(e,n){di("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},la.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Zr(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",kt(n)}return n.status="ERROR",kt(n)})}(t)}),t.m)}function fa(t){return t.o||(t.v=t.c?ci(t.c,ca(t.b)):null,t.o=new rl(t.f,rr(t.h),t.v)),t.o}function ga(t,e,n,i,r,o,l,a,s,u){return(t=new ua(t,e,n,i,r)).i=o,t.g=l,t.h=a,t.b=st(s||null),t.f=u,t.toString()}function ma(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ji("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function va(t){this.b=t,this.a={},this.c=x(this.f,this)}sa.prototype.toString=function(){return this.f?Ze(this.a,"v",this.f):pn(this.a.a,"v"),this.b?Ze(this.a,"eid",this.b):pn(this.a.a,"eid"),this.c.length?Ze(this.a,"fw",this.c.join(",")):pn(this.a.a,"fw"),this.a.toString()},ua.prototype.toString=function(){var t=tn(this.o,"/__/auth/handler");if(Ze(t,"apiKey",this.l),Ze(t,"appName",this.c),Ze(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().ea()}catch(t){n=null}for(var r in e.$a=n,Ze(t,"providerId",this.a.providerId),n=bi((e=this.a).zb))n[r]=n[r].toString();r=e.Dc,n=st(n);for(var o=0;o<r.length;o++){var l=r[o];l in n&&delete n[l]}e.cb&&e.$a&&!n[e.cb]&&(n[e.cb]=e.$a),at(n)||Ze(t,"customParameters",yi(n))}if("function"==typeof this.a.Fb&&(e=this.a.Fb()).length&&Ze(t,"scopes",e.join(",")),this.i?Ze(t,"redirectUrl",this.i):pn(t.a,"redirectUrl"),this.g?Ze(t,"eventId",this.g):pn(t.a,"eventId"),this.h?Ze(t,"v",this.h):pn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Je(t,a)&&Ze(t,a,this.b[a]);return this.f?Ze(t,"eid",this.f):pn(t.a,"eid"),(a=ca(this.c)).length&&Ze(t,"fw",a.join(",")),t.toString()},(e=ha.prototype).Ea=function(t,e,n){var i=new ji("popup-closed-by-user"),r=new ji("web-storage-unsupported"),o=this,l=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return pa(t).then(function(){return function(t,e){return t.fb.then(function(){return new wt(function(n){t.a.send(e.type,e,n,di("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!=typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Qn(t),e(r),l=!0)})}).s(function(){}).then(function(){if(!l)return function(t){return new wt(function(e){return function n(){Be(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!l)return Be(n).then(function(){e(i)})})},e.Mb=function(){var t=hi();return!vi(t)&&!Ci(t)},e.Hb=function(){return!1},e.Db=function(t,e,n,i,r,o,l){if(!t)return At(new ji("popup-blocked"));if(l&&!vi())return this.ga().s(function(e){Qn(t),r(e)}),i(),kt();this.a||(this.a=da(fa(this)));var a=this;return this.a.then(function(){var e=a.ga().s(function(e){throw Qn(t),r(e),e});return i(),e}).then(function(){Kr(n),l||Xn(ga(a.l,a.f,a.b,e,n,null,o,a.c,void 0,a.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t})},e.Ca=function(t,e,n){this.a||(this.a=da(fa(this)));var i=this;return this.a.then(function(){Kr(e),Xn(ga(i.l,i.f,i.b,t,e,Yn(),n,i.c,void 0,i.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},e.ga=function(){var t=this;return pa(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new ji("network-request-failed")})},e.Pb=function(){return!0},e.wa=function(t){this.g.push(t)},e.La=function(t){W(this.g,function(e){return e==t})},(e=ma.prototype).get=function(t){return kt(this.a.getItem(t)).then(function(t){return t&&wi(t)})},e.set=function(t,e){return kt(this.a.setItem(t,yi(e)))},e.P=function(t){return kt(this.a.removeItem(t))},e.Y=function(){},e.ca=function(){};var ya,ba=[];function wa(t){this.a=t}function _a(t){this.c=t,this.b=!1,this.a=[]}function Ca(t,e,n,i){var r,o,l,a,s=n||{},u=null;if(t.b)return At(Error("connection_unavailable"));var c=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new wt(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),l=setTimeout(function(){i(Error("unsupported_event"))},c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(l),a=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!=typeof t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(l),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:s},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return xa(t,u),e}).s(function(e){throw xa(t,u),e})}function xa(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),W(t.a,function(t){return t==e})}}function Sa(){if(!Ta())throw new ji("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.i=null,this.u=!1,this.h=null;var t=this;ii()&&self?(this.m=function(){var t=ii()?self:null;if(F(ba,function(n){n.b==t&&(e=n)}),!e){var e=new va(t);ba.push(e)}return e}(),this.m.subscribe("keyChanged",function(e,n){return Ia(t).then(function(e){return 0<e.length&&F(t.a,function(t){t(e)}),{keyProcessed:U(e,n.key)}})}),this.m.subscribe("ping",function(){return kt(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?kt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):kt(null)}().then(function(e){(t.h=e)&&(t.g=new _a(new wa(e)),Ca(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&U(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Ea(t){return t.o||(t.o=function t(e){return new wt(function(n,i){var r=e.l.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){i(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new wt(function(e,n){var i=t.l.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){i(t)})}})}(t)),t.o}function Ta(){try{return!!a.indexedDB}catch(t){return!1}}function ka(t){return t.objectStore("firebaseLocalStorage")}function Aa(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Da(t){return new wt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Oa(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ca(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):kt()}function Ia(t){return Ea(t).then(function(t){var e=ka(Aa(t,!1));return e.getAll?Da(e.getAll()):new wt(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i})}function Ra(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pa(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=kt().then(function(){if(Ta()){var t=_i(),i="__sak"+t;return ya||(ya=new Sa),(n=ya).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(i)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){F(e.a,function(e){e(t)})}),t})}function Ma(){this.a={},this.type="inMemory"}function Na(){if(!function(){var t="Node"==ri();if(!(t=ja()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ri())throw new ji("internal-error","The LocalStorage compatibility library was not found.");throw new ji("web-storage-unsupported")}this.a=ja()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function ja(){try{var t=a.localStorage,e=_i();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function La(){this.type="nullStorage"}function Fa(){if(!function(){var t="Node"==ri();if(!(t=Va()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ri())throw new ji("internal-error","The SessionStorage compatibility library was not found.");throw new ji("web-storage-unsupported")}this.a=Va()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Va(){try{var t=a.sessionStorage,e=_i();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}va.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];F(i,function(e){r.push(kt().then(function(){return e(t.origin,t.data.data)}))}),Ot(r).then(function(i){var r=[];F(i,function(t){r.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})}),F(r,function(t){for(var e in t)"undefined"==typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},va.prototype.subscribe=function(t,e){at(this.a)&&this.b.addEventListener("message",this.c),"undefined"==typeof this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},va.prototype.unsubscribe=function(t,e){"undefined"!=typeof this.a[t]&&e?(W(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],at(this.a)&&this.b.removeEventListener("message",this.c)},wa.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_a.prototype.close=function(){for(;0<this.a.length;)xa(this,this.a[0]);this.b=!0},(e=Sa.prototype).set=function(t,e){var n,i=!1,r=this;return Ea(this).then(function(e){return Da((e=ka(Aa(n=e,!0))).get(t))}).then(function(o){var l=ka(Aa(n,!0));return o?(o.value=e,Da(l.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,Da(l.add(o)))}).then(function(){return r.c[t]=e,Oa(r,t)}).ia(function(){i&&r.b--})},e.get=function(t){return Ea(this).then(function(e){return Da(ka(Aa(e,!1)).get(t))}).then(function(t){return t&&t.value})},e.P=function(t){var e=!1,n=this;return Ea(this).then(function(i){return e=!0,n.b++,Da(ka(Aa(i,!0)).delete(t))}).then(function(){return delete n.c[t],Oa(n,t)}).ia(function(){e&&n.b--})},e.Y=function(t){0==this.a.length&&function(t){Ra(t),function e(){t.f=setTimeout(function(){t.i=Ia(t).then(function(e){0<e.length&&F(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},e.ca=function(t){W(this.a,function(e){return e==t}),0==this.a.length&&Ra(this)},(e=Pa.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},e.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},e.P=function(t){return this.b.then(function(e){return e.P(t)})},e.Y=function(t){this.a.push(t)},e.ca=function(t){W(this.a,function(e){return e==t})},(e=Ma.prototype).get=function(t){return kt(this.a[t])},e.set=function(t,e){return this.a[t]=e,kt()},e.P=function(t){return delete this.a[t],kt()},e.Y=function(){},e.ca=function(){},(e=Na.prototype).get=function(t){var e=this;return kt().then(function(){return wi(e.a.getItem(t))})},e.set=function(t,e){var n=this;return kt().then(function(){var i=yi(e);null===i?n.P(t):n.a.setItem(t,i)})},e.P=function(t){var e=this;return kt().then(function(){e.a.removeItem(t)})},e.Y=function(t){a.window&&xe(a.window,"storage",t)},e.ca=function(t){a.window&&Te(a.window,"storage",t)},(e=La.prototype).get=function(){return kt(null)},e.set=function(){return kt()},e.P=function(){return kt()},e.Y=function(){},e.ca=function(){},(e=Fa.prototype).get=function(t){var e=this;return kt().then(function(){return wi(e.a.getItem(t))})},e.set=function(t,e){var n=this;return kt().then(function(){var i=yi(e);null===i?n.P(t):n.a.setItem(t,i)})},e.P=function(t){var e=this;return kt().then(function(){e.a.removeItem(t)})},e.Y=function(){},e.ca=function(){};var Ba,Ua,qa={B:Na,Ra:Fa},Wa={B:Na,Ra:Fa},Ha={B:ma,Ra:La},za={B:Na,Ra:La},Ga={Xc:"local",NONE:"none",Zc:"session"};function Ya(){var t=!(Ci(hi())||!ni()),e=vi(),n=pi();this.o=t,this.h=e,this.m=n,this.a={},Ba||(Ba=new function(){var t={};t.Browser=qa,t.Node=Wa,t.ReactNative=Ha,t.Worker=za,this.a=t[ri()]}),t=Ba;try{this.g=!Gn()&&ki()||!a.indexedDB?new t.a.B:new Pa(ii()?new Ma:new t.a.B)}catch(t){this.g=new Ma,this.h=!0}try{this.i=new t.a.Ra}catch(t){this.i=new Ma}this.l=new Ma,this.f=x(this.Ob,this),this.b={}}function Xa(){return Ua||(Ua=new Ya),Ua}function Ka(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function Qa(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Za(t,e,n){return n=Qa(e,n),"local"==e.B&&(t.b[n]=null),Ka(t,e.B).P(n)}function Ja(t){t.c&&(clearInterval(t.c),t.c=null)}(e=Ya.prototype).get=function(t,e){return Ka(this,t.B).get(Qa(t,e))},e.set=function(t,e,n){var i=Qa(t,n),r=this,o=Ka(this,t.B);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.B&&(r.b[i]=e)})},e.addListener=function(t,e,n){t=Qa(t,e),this.m&&(this.b[t]=a.localStorage.getItem(t)),at(this.a)&&(Ka(this,"local").Y(this.f),this.h||(Gn()||!ki())&&a.indexedDB||!this.m||function(t){Ja(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new pe({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Ob(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Qa(t,e),this.a[t]&&(W(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),at(this.a)&&(Ka(this,"local").ca(this.f),Ja(this))},e.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];"undefined"==typeof i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.Xa(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!=typeof t.a.a?Ka(this,"local").ca(this.f):Ja(this),this.o)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&"undefined"==typeof t.a.a)return;var o=this;n=function(){"undefined"==typeof t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.Xa(e))},Kt&&re&&10==re&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,x(this.Xa,this))},e.Xa=function(t){this.a[t]&&F(this.a[t],function(t){t()})};var $a,ts={name:"authEvent",B:"local"};function es(t,e){this.b=ns,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=a.Int32Array?new Int32Array(64):Array(64),void 0!==$a||($a=a.Int32Array?new Int32Array(us):us),this.reset()}T(es,function(){this.b=-1});for(var ns=64,is=ns-1,rs=[],os=0;os<is;os++)rs[os]=0;var ls=H(128,rs);function as(t){for(var e=t.f,n=t.m,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,l=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+l|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],s=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;l=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((l=(l=u&c^~u&h)+(0|$a[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=s+l|0,s=a,a=r,r=i,i=l+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+s|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ss(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if(s(e))for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(as(t),r=0);else{if(!m(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(as(t),r=0)}}t.c=r,t.g+=n}es.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):z(this.h)};var us=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cs(){es.call(this,8,hs)}T(cs,es);var hs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ds(t,e,n,i,r){this.l=t,this.i=e,this.m=n,this.o=i||null,this.u=r||null,this.h=e+":"+n,this.v=new function(){this.a=Xa()},this.g=new function(t){this.a=t,this.b=Xa()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function ps(t){return new ji("invalid-cordova-configuration",t)}function fs(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function gs(t){return t.f||(t.f=t.ga().then(function(){return new wt(function(e){t.wa(function n(i){return e(i),t.La(n),!1}),function(t){function e(e){i=!0,r&&r.cancel(),ms(t).then(function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=yr(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=wi(Je(o=$e(r),"firebaseError")||null))?Li(o):null)?new Qr(i.c,i.b,null,null,o):new Qr(i.c,i.b,r,i.f)),r=o||n}fs(t,r)})}var n=new Qr("unknown",null,null,null,new ji("no-auth-event")),i=!1,r=Be(500).then(function(){return ms(t).then(function(){i||fs(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(di("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},to||(to=new Jr),to.subscribe(e)}(t)})})),t.f}function ms(t){var e=null;return function(t){return t.b.get(ts,t.a).then(function(t){return Zr(t)})}(t.g).then(function(n){return e=n,Za((n=t.g).b,ts,n.a)}).then(function(){return e})}(e=ds.prototype).ga=function(){return this.za?this.za:this.za=(ei(void 0)?ti().then(function(){return new wt(function(t,e){var n=a.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):At(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof di("universalLinks.subscribe",a))throw ps("cordova-universal-links-plugin-fix is not installed");if("undefined"==typeof di("BuildInfo.packageName",a))throw ps("cordova-plugin-buildinfo is not installed");if("function"!=typeof di("cordova.plugins.browsertab.openUrl",a))throw ps("cordova-plugin-browsertab is not installed");if("function"!=typeof di("cordova.InAppBrowser.open",a))throw ps("cordova-plugin-inappbrowser is not installed")},function(){throw new ji("cordova-not-ready")})},e.Ea=function(t,e){return e(new ji("operation-not-supported-in-this-environment")),kt()},e.Db=function(){return At(new ji("operation-not-supported-in-this-environment"))},e.Pb=function(){return!1},e.Mb=function(){return!0},e.Hb=function(){return!0},e.Ca=function(t,e,n){if(this.c)return At(new ji("redirect-operation-pending"));var i=this,r=a.document,o=null,l=null,s=null,u=null;return this.c=kt().then(function(){return Kr(e),gs(i)}).then(function(){return function(t,e,n,i){var r=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new Qr(e,i,null,r,new ji("no-auth-event")),l=di("BuildInfo.packageName",a);if("string"!=typeof l)throw new ji("invalid-cordova-configuration");var s=di("BuildInfo.displayName",a),u={};if(hi().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=l;else{if(!hi().toLowerCase().match(/android/))return At(new ji("operation-not-supported-in-this-environment"));u.apn=l}s&&(u.appDisplayName=s),r=function(t){var e=new cs;ss(e,t),t=[];var n=8*e.g;ss(e,ls,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(as(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return V(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(r),u.sessionId=r;var c=ga(t.l,t.i,t.m,e,n,null,i,t.o,u,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(ts,o.w(),e)}).then(function(){var e=di("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new ji("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=di("cordova.plugins.browsertab.openUrl",a)))throw new ji("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=di("cordova.InAppBrowser.open",a)))throw new ji("invalid-cordova-configuration");e=hi(),t.a=n(c,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n)}).then(function(){return new wt(function(t,e){l=function(){var e=di("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(l),u=function(){Ei()&&s()},r.addEventListener("resume",s=function(){o||(o=Be(2e3).then(function(){e(new ji("redirect-cancelled-by-user"))}))},!1),hi().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",u,!1)}).s(function(t){return ms(i).then(function(){throw t})})}).ia(function(){s&&r.removeEventListener("resume",s,!1),u&&r.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),l&&i.La(l),i.c=null})},e.wa=function(t){this.b.push(t),gs(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Qr("unknown",null,null,null,new ji("no-auth-event")),t(e))})},e.La=function(t){W(this.b,function(e){return e==t})};var vs={name:"pendingRedirect",B:"session"};function ys(t){return Za(t.b,vs,t.a)}function bs(t,e,n){this.i={},this.u=0,this.A=t,this.l=e,this.o=n,this.h=[],this.f=!1,this.m=x(this.bb,this),this.b=new Ds,this.v=new Ps,this.g=new function(t){this.a=t,this.b=Xa()}(this.l+":"+this.o),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=ws(this.A,this.l,this.o,nr)}function ws(t,e,n,r){var o=i.a.SDK_VERSION||null;return ei()?new ds(t,e,n,o,r):new ha(t,e,n,o,r)}function _s(t){t.f||(t.f=!0,t.a.wa(t.m));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Cs(t){t.a.Mb()&&_s(t).s(function(e){var n=new Qr("unknown",null,null,null,new ji("operation-not-supported-in-this-environment"));Ts(e)&&t.bb(n)}),t.a.Hb()||Os(t.b)}(e=bs.prototype).reset=function(){this.f=!1,this.a.La(this.m),this.a=ws(this.A,this.l,this.o),this.i={}},e.Ya=function(){this.b.Ya()},e.subscribe=function(t){if(U(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(vs,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?ys(e.g).then(function(){_s(e).s(function(t){var n=new Qr("unknown",null,null,null,new ji("operation-not-supported-in-this-environment"));Ts(t)&&e.bb(n)})}):Cs(e)}).s(function(){Cs(e)})}},e.unsubscribe=function(t){W(this.h,function(e){return e==t})},e.bb=function(t){if(!t)throw new ji("invalid-auth-event");if(6e5<=E()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=E())),e=!0;break}}return Os(this.b),e};var xs=new Si(2e3,1e4),Ss=new Si(3e4,6e4);function Es(t,e,n,i,r,o){return t.a.Db(e,n,i,function(){t.f||(t.f=!0,t.a.wa(t.m))},function(){t.reset()},r,o)}function Ts(t){return!(!t||"auth/cordova-not-ready"!=t.code)}bs.prototype.fa=function(){return this.b.fa()},bs.prototype.Ca=function(t,e,n){var i,r=this;return function(t){return t.b.set(vs,"pending",t.a)}(this.g).then(function(){return r.a.Ca(t,e,n).s(function(t){if(Ts(t))throw new ji("operation-not-supported-in-this-environment");return i=t,ys(r.g).then(function(){throw i})}).then(function(){return r.a.Pb()?new wt(function(){}):ys(r.g).then(function(){return r.fa()}).then(function(){}).s(function(){})})})},bs.prototype.Ea=function(t,e,n,i){return this.a.Ea(n,function(n){t.ha(e,null,n,i)},xs.get())};var ks={};function As(t,e,n){var i=e+":"+n;return ks[i]||(ks[i]=new bs(t,e,n)),ks[i]}function Ds(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Os(t){t.g||(t.g=!0,Rs(t,!1,null,null))}function Is(t,e){if(t.b=function(){return kt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Rs(t,e,n,i){e?i?function(t,e){if(t.b=function(){return At(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Is(t,n):Is(t,{user:null}),t.f=[],t.c=[]}function Ps(){}function Ms(){this.ub=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ub},set:function(t){this.ub=t},enumerable:!1})}function Ns(t,e){this.a=e,Ri(this,"verificationId",t)}function js(t,e,n,i){return new Gr(t).Ua(e,n).then(function(t){return new Ns(t,i)})}function Ls(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Fs(t){this.f=t,this.b=this.a=null,this.c=0}function Vs(t,e){var n=e[ll],i=e.refreshToken;e=Bs(e.expiresIn),t.b=n,t.c=e,t.a=i}function Bs(t){return E()+1e3*parseInt(t,10)}function Us(t,e){this.a=t||null,this.b=e||null,Pi(this,{lastSignInTime:Ti(e||null),creationTime:Ti(t||null)})}function qs(t,e){for(var n in de.call(this,t),e)this[n]=e[n]}function Ws(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=i.a.SDK_VERSION?ci(i.a.SDK_VERSION):null,this.c=new rl(this.l,rr(nr),t),this.h=new Fs(this.c),Qs(this,e[ll]),Vs(this.h,e),Ri(this,"refreshToken",this.h.a),$s(this,n||{}),Ne.call(this),this.I=!1,this.u&&fi()&&(this.a=As(this.u,this.l,this.o)),this.N=[],this.i=null,this.A=function(t){return new Ls(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-E()-3e5;return 0<e?e:0})}(this),this.V=x(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){zs(r,t.c)},this.W=null}function Hs(t,e){t.X&&Te(t.X,"languageCodeChanged",t.ta),(t.X=e)&&xe(e,"languageCodeChanged",t.ta)}function zs(t,e){t.O=e,dl(t.c,i.a.SDK_VERSION?ci(i.a.SDK_VERSION,t.O):null)}function Gs(t,e){t.W&&Te(t.W,"frameworkChanged",t.sa),(t.W=e)&&xe(e,"frameworkChanged",t.sa)}function Ys(t){try{return i.a.app(t.o).auth()}catch(e){throw new ji("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Xs(t){t.D||t.A.b||(t.A.start(),Te(t,"tokenChanged",t.V),xe(t,"tokenChanged",t.V))}function Ks(t){Te(t,"tokenChanged",t.V),t.A.stop()}function Qs(t,e){t.ra=e,Ri(t,"_lat",e)}function Zs(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Ot(e).then(function(){return t})}function Js(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function $s(t,e){Pi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Us(e.createdAt,e.lastLoginAt),providerData:[]})}function tu(){}function eu(t){return kt().then(function(){if(t.D)throw new ji("app-deleted")})}function nu(t){return V(t.providerData,function(t){return t.providerId})}function iu(t,e){e&&(ru(t,e.providerId),t.providerData.push(e))}function ru(t,e){W(t.providerData,function(t){return t.providerId==e})}function ou(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ri(t,e,n)}function lu(t,e){t!=e&&(Pi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Ri(t,"metadata",e.metadata?function(t){return new Us(t.a,t.b)}(e.metadata):new Us),F(e.providerData,function(e){iu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Ri(t,"refreshToken",t.h.a))}function au(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return ea(t.c,jl,{idToken:e}).then(x(t.xc,t))}(t,e).then(function(){return n||ou(t,"isAnonymous",!1),e})})}function su(t,e){e[ll]&&t.ra!=e[ll]&&(Vs(t.h,e),t.dispatchEvent(new qs("tokenChanged")),Qs(t,e[ll]),ou(t,"refreshToken",t.h.a))}function uu(t,e){return au(t).then(function(){if(U(nu(t),e))return Zs(t).then(function(){throw new ji("provider-already-linked")})})}function cu(t,e,n){return Mi({user:t,credential:Xr(e),additionalUserInfo:e=ur(e),operationType:n})}function hu(t,e){return su(t,e),t.reload().then(function(){return t})}function du(t,e,n,r,o){if(!fi())return At(new ji("operation-not-supported-in-this-environment"));if(t.i&&!o)return At(t.i);var l=sr(n.providerId),a=_i(t.uid+":::"),s=null;(!vi()||ni())&&t.u&&n.isOAuthProvider&&(s=ga(t.u,t.l,t.o,e,n,null,a,i.a.SDK_VERSION||null));var u=Zn(s,l&&l.Ba,l&&l.Aa);return r=r().then(function(){if(fu(t),!o)return t.F().then(function(){})}).then(function(){return Es(t.a,u,e,n,a,!!s)}).then(function(){return new wt(function(n,i){t.ha(e,null,new ji("cancelled-popup-request"),t.g||null),t.f=n,t.v=i,t.g=a,t.b=t.a.Ea(t,e,u,a)})}).then(function(t){return u&&Qn(u),t?Mi(t):null}).s(function(t){throw u&&Qn(u),t}),gu(t,r,o)}function pu(t,e,n,i,r){if(!fi())return At(new ji("operation-not-supported-in-this-environment"));if(t.i&&!r)return At(t.i);var o=null,l=_i(t.uid+":::");return i=i().then(function(){if(fu(t),!r)return t.F().then(function(){})}).then(function(){return t.aa=l,Zs(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(vu,t.w(),e.a)),e}).then(function(){return t.a.Ca(e,n,l)}).s(function(e){if(o=e,t.ba)return yu(t.ba);throw o}).then(function(){if(o)throw o}),gu(t,i,r)}function fu(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new ji("internal-error");throw new ji("auth-domain-config-required")}}function gu(t,e,n){var i=function(t,e,n){return t.i&&!n?(e.cancel(),At(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new qs("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(i),i.ia(function(){q(t.G,i)}),i}function mu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[ll]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-E())/1e3;var i=new Ws(e,n,t);return t.providerData&&F(t.providerData,function(t){t&&iu(i,Mi(t))}),t.redirectEventId&&(i.aa=t.redirectEventId),i}Ds.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ds.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Rs(this,!0,null,t.a),kt()):e.xa(n,i)?function(t,e,n){n=n.xa(e.c,e.b);var i=e.g,r=e.f,o=e.h,l=!!e.c.match(/Redirect$/);n(i,r,o).then(function(e){Rs(t,l,e,null)}).s(function(e){Rs(t,l,null,e)})}(this,t,e):At(new ji("invalid-auth-event")):(Rs(this,!1,null,null),kt())}else At(new ji("invalid-auth-event"))},Ds.prototype.Ya=function(){this.g&&!this.i&&Rs(this,!1,null,null)},Ds.prototype.fa=function(){var t=this;return new wt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new ji("timeout");t.a&&t.a.cancel(),t.a=Be(Ss.get()).then(function(){t.b||(t.g=!0,Rs(t,!0,null,e))})}(t))})},Ps.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.ha(t.c,null,t.a,t.b),kt()):e.xa(n,i)?function(t,e){var n=t.b,i=t.c;e.xa(i,n)(t.g,t.f,t.h).then(function(t){e.ha(i,t,null,n)}).s(function(t){e.ha(i,null,t,n)})}(t,e):At(new ji("invalid-auth-event"))}else At(new ji("invalid-auth-event"))},Ns.prototype.confirm=function(t){return t=Yr(this.verificationId,t),this.a(t)},Ls.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Be(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=a.document,e=null,Ei()||!t?kt():new wt(function(n){t.addEventListener("visibilitychange",e=function(){Ei()&&(t.removeEventListener("visibilitychange",e,!1),n())},!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Ls.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Fs.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Fs.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?At(new ji("user-token-expired")):t||!this.b||E()>this.c-3e4?this.a?function(t,e){return function(t,e){return new wt(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?pl(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?i(ia(t)):t.access_token&&t.refresh_token?n(t):i(new ji("internal-error")):i(new ji("network-request-failed"))},"POST",dn(e).toString(),t.f,t.m.get()):i(new ji("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Bs(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):kt(null):kt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Us.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(qs,de),T(Ws,Ne),Ws.prototype.pa=function(t){this.ka=t,hl(this.c,t)},Ws.prototype.ea=function(){return this.ka},Ws.prototype.ya=function(){return z(this.O)},Ws.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Ri(Ws.prototype,"providerId","firebase"),(e=Ws.prototype).reload=function(){var t=this;return gu(this,eu(this).then(function(){return au(t).then(function(){return Zs(t)}).then(tu)}))},e.bc=function(t){return this.F(t).then(function(t){return new function(t){var e=er(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new ji("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Pi(this,{token:t,expirationTime:Ti(1e3*e.exp),authTime:Ti(1e3*e.auth_time),issuedAtTime:Ti(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},e.F=function(t){var e=this;return gu(this,eu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new ji("internal-error");return t.accessToken!=e.ra&&(Qs(e,t.accessToken),e.dispatchEvent(new qs("tokenChanged"))),ou(e,"refreshToken",t.refreshToken),t.accessToken}))},e.xc=function(t){if(!(t=t.users)||!t.length)throw new ji("internal-error");$s(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,function(t){return new function(t,e,n,i,r,o){Pi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)iu(this,e[n]);ou(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},e.yc=function(t){return Oi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},e.gb=function(t){var e=this,n=null;return gu(this,t.f(this.c,this.uid).then(function(t){return su(e,t),n=cu(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},e.pc=function(t){return Oi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},e.eb=function(t){var e=this,n=null;return gu(this,uu(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.c,n)}).then(function(t){return n=cu(e,t,"link"),hu(e,t)}).then(function(){return n}))},e.qc=function(t,e){var n=this;return gu(this,uu(this,"phone").then(function(){return js(Ys(n),t,e,x(n.eb,n))}))},e.zc=function(t,e){var n=this;return gu(this,kt().then(function(){return js(Ys(n),t,e,x(n.gb,n))}),!0)},e.rb=function(t){var e=this;return gu(this,this.F().then(function(n){return e.c.rb(n,t)}).then(function(t){return su(e,t),e.reload()}))},e.Pc=function(t){var e=this;return gu(this,this.F().then(function(n){return t.b(e.c,n)}).then(function(t){return su(e,t),e.reload()}))},e.sb=function(t){var e=this;return gu(this,this.F().then(function(n){return e.c.sb(n,t)}).then(function(t){return su(e,t),e.reload()}))},e.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return eu(this);var e=this;return gu(this,this.F().then(function(n){return e.c.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return su(e,t),ou(e,"displayName",t.displayName||null),ou(e,"photoURL",t.photoUrl||null),F(e.providerData,function(t){"password"===t.providerId&&(Ri(t,"displayName",e.displayName),Ri(t,"photoURL",e.photoURL))}),Zs(e)}).then(tu))},e.Nc=function(t){var e=this;return gu(this,au(this).then(function(n){return U(nu(e),t)?function(t,e,n){return ea(t,Pl,{idToken:e,deleteProvider:n})}(e.c,n,[t]).then(function(t){var n={};return F(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),F(nu(e),function(t){n[t]||ru(e,t)}),n[Gr.PROVIDER_ID]||Ri(e,"phoneNumber",null),Zs(e)}):Zs(e).then(function(){throw new ji("no-such-provider")})}))},e.delete=function(){var t=this;return gu(this,this.F().then(function(e){return ea(t.c,Rl,{idToken:e})}).then(function(){t.dispatchEvent(new qs("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Hs(t,null),Gs(t,null),t.G=[],t.D=!0,Ks(t),Ri(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},e.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},e.ha=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},e.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?x(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?x(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?x(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?x(this.Cb,this):null},e.rc=function(t){var e=this;return du(this,"linkViaPopup",t,function(){return uu(e,t.providerId).then(function(){return Zs(e)})},!1)},e.Ac=function(t){return du(this,"reauthViaPopup",t,function(){return kt()},!0)},e.sc=function(t){var e=this;return pu(this,"linkViaRedirect",t,function(){return uu(e,t.providerId)},!1)},e.Bc=function(t){return pu(this,"reauthViaRedirect",t,function(){return kt()},!0)},e.Bb=function(t,e,n){var i=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return gu(this,this.F().then(function(r){return El(i.c,{requestUri:t,postBody:n,sessionId:e,idToken:r})}).then(function(t){return r=cu(i,t,"link"),hu(i,t)}).then(function(){return r}))},e.Cb=function(t,e,n){var i=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return gu(this,kt().then(function(){return wr(Tl(i.c,{requestUri:t,sessionId:e,postBody:n}),i.uid)}).then(function(t){return r=cu(i,t,"reauthenticate"),su(i,t),i.i=null,i.reload()}).then(function(){return r}),!0)},e.jb=function(t){var e=this,n=null;return gu(this,this.F().then(function(e){return n=e,"undefined"==typeof t||at(t)?{}:Qi(new Bi(t))}).then(function(t){return e.c.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},e.toJSON=function(){return this.w()},e.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&dt(t,this.metadata.w()),F(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var vu={name:"redirectUser",B:"session"};function yu(t){return Za(t.b,vu,t.a)}function bu(t){this.a=t,this.b=Xa(),this.c=null,this.f=function(t){var e=Cu("local"),n=Cu("session"),i=Cu("none");return function(t,e,n){var i=Qa(e,n),r=Ka(t,e.B);return t.get(e,n).then(function(o){var l=null;try{l=wi(a.localStorage.getItem(i))}catch(t){}if(l&&!o)return a.localStorage.removeItem(i),t.set(e,l,n);l&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(_u,t.a).then(function(t){return t?Cu(t):e})})})}).then(function(e){return t.c=e,wu(t,e.B)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Cu("local"),this.a,x(this.g,this))}function wu(t,e){var n,i=[];for(n in Ga)Ga[n]!==e&&i.push(Za(t.b,Cu(Ga[n]),t.a));return i.push(Za(t.b,_u,t.a)),function(t){return new wt(function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},l=function(t){n(t)},a=0;a<t.length;a++)Dt(t[a],S(o,a),l);else e(r)})}(i)}bu.prototype.g=function(){var t=this,e=Cu("local");Tu(this,function(){return kt().then(function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null}).then(function(n){if(n)return wu(t,"local").then(function(){t.c=e})})})};var _u={name:"persistence",B:"session"};function Cu(t){return{name:"authUser",B:t}}function xu(t,e){return Tu(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Su(t){return Tu(t,function(){return Za(t.b,t.c,t.a)})}function Eu(t,e){return Tu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),mu(t||{})})})}function Tu(t,e){return t.f=t.f.then(e,e),t.f}function ku(t){if(this.l=!1,Ri(this,"settings",new Ms),Ri(this,"app",t),!Mu(this).options||!Mu(this).options.apiKey)throw new ji("invalid-api-key");t=i.a.SDK_VERSION?ci(i.a.SDK_VERSION):null,this.c=new rl(Mu(this).options&&Mu(this).options.apiKey,rr(nr),t),this.N=[],this.o=[],this.I=[],this.Sb=i.a.INTERNAL.createSubscribe(x(this.mc,this)),this.O=void 0,this.Tb=i.a.INTERNAL.createSubscribe(x(this.nc,this)),Ru(this,null),this.h=new bu(Mu(this).options.apiKey+":"+Mu(this).name),this.A=new function(t){this.a=t,this.b=Xa()}(Mu(this).options.apiKey+":"+Mu(this).name),this.V=Fu(this,function(t){var e=Mu(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(vu,t.a).then(function(t){return t&&e&&(t.authDomain=e),mu(t||{})})}(t.A,Mu(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.A),yu(t.A)});return Fu(t,e)}(t).then(function(){return Eu(t.h,e)}).then(function(e){return e?(e.ba=t.A,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return xu(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Su(t.h)})):null}).then(function(e){Ru(t,e||null)});return Fu(t,n)}(this)),this.i=Fu(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Cu("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=x(this.Kc,this),this.Ha=x(this.Z,this),this.ra=x(this.$b,this),this.sa=x(this.jc,this),this.ta=x(this.kc,this),function(t){var e=Mu(t).options.authDomain,n=Mu(t).options.apiKey;e&&fi()&&(t.Rb=t.V.then(function(){if(!t.l){if(t.a=As(e,n,Mu(t).name),t.a.subscribe(t),Nu(t)&&Js(Nu(t)),t.D){Js(t.D);var i=t.D;i.pa(t.ea()),Hs(i,t),zs(i=t.D,t.G),Gs(i,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.tc,this),this.u=0,Ne.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Au(t){de.call(this,"languageCodeChanged"),this.g=t}function Du(t){de.call(this,"frameworkChanged"),this.c=t}function Ou(t){return t.Rb||At(new ji("auth-domain-config-required"))}function Iu(t,e){var n={};return n.apiKey=Mu(t).options.apiKey,n.authDomain=Mu(t).options.authDomain,n.appName=Mu(t).name,t.V.then(function(){return function(t,e,n,i){var r=new Ws(t,e);return n&&(r.ba=n),i&&zs(r,i),r.reload().then(function(){return r})}(n,e,t.A,t.ya())}).then(function(e){return Nu(t)&&e.uid==Nu(t).uid?(lu(Nu(t),e),t.Z(e)):(Ru(t,e),Js(e),t.Z(e))}).then(function(){Lu(t)})}function Ru(t,e){Nu(t)&&(function(t,e){W(t.N,function(t){return t==e})}(Nu(t),t.Ha),Te(Nu(t),"tokenChanged",t.ra),Te(Nu(t),"userDeleted",t.sa),Te(Nu(t),"userInvalidated",t.ta),Ks(Nu(t))),e&&(e.N.push(t.Ha),xe(e,"tokenChanged",t.ra),xe(e,"userDeleted",t.sa),xe(e,"userInvalidated",t.ta),0<t.u&&Xs(e)),Ri(t,"currentUser",e),e&&(e.pa(t.ea()),Hs(e,t),zs(e,t.G),Gs(e,t))}function Pu(t,e){var n=null,i=null;return Fu(t,e.then(function(e){return n=Xr(e),i=ur(e),Iu(t,e)}).then(function(){return Mi({user:Nu(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function Mu(t){return t.app}function Nu(t){return t.currentUser}function ju(t){return Nu(t)&&Nu(t)._lat||null}function Lu(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](ju(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](ju(t))}}function Fu(t,e){return t.N.push(e),e.ia(function(){q(t.N,e)}),e}function Vu(){}function Bu(){this.a={},this.b=1e12}bu.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new ji("invalid-persistence-type"),n=new ji("unsupported-persistence-type");t:{for(i in Ga)if(Ga[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(ri()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!pi()&&"none"!==t)throw n}}(t),Tu(this,function(){return t!=n.c.B?n.b.get(n.c,n.a).then(function(i){return e=i,wu(n,t)}).then(function(){if(n.c=Cu(t),e)return n.b.set(n.c,e,n.a)}):kt()})},T(ku,Ne),T(Au,de),T(Du,de),(e=ku.prototype).mb=function(t){return Fu(this,t=this.h.mb(t))},e.pa=function(t){this.W===t||this.l||(this.W=t,hl(this.c,this.W),this.dispatchEvent(new Au(this.ea())))},e.ea=function(){return this.W},e.Qc=function(){var t=a.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.tc=function(t){this.G.push(t),dl(this.c,i.a.SDK_VERSION?ci(i.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Du(this.G))},e.ya=function(){return z(this.G)},e.toJSON=function(){return{apiKey:Mu(this).options.apiKey,authDomain:Mu(this).options.authDomain,appName:Mu(this).name,currentUser:Nu(this)&&Nu(this).w()}},e.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.ha=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},e.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?x(this.Zb,this):null},e.Zb=function(t,e,n){var i=this;t={requestUri:t,postBody:n,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var r=null,o=null,l=Sl(i.c,t).then(function(t){return r=Xr(t),o=ur(t),t});return Fu(this,t=i.V.then(function(){return l}).then(function(t){return Iu(i,t)}).then(function(){return Mi({user:Nu(i),credential:r,additionalUserInfo:o,operationType:"signIn"})}))},e.Ic=function(t){if(!fi())return At(new ji("operation-not-supported-in-this-environment"));var e=this,n=sr(t.providerId),r=_i(),o=null;(!vi()||ni())&&Mu(this).options.authDomain&&t.isOAuthProvider&&(o=ga(Mu(this).options.authDomain,Mu(this).options.apiKey,Mu(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null));var l=Zn(o,n&&n.Ba,n&&n.Aa);return Fu(this,n=Ou(this).then(function(e){return Es(e,l,"signInViaPopup",t,r,!!o)}).then(function(){return new wt(function(t,n){e.ha("signInViaPopup",null,new ji("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ea(e,"signInViaPopup",l,r)})}).then(function(t){return l&&Qn(l),t?Mi(t):null}).s(function(t){throw l&&Qn(l),t}))},e.Jc=function(t){if(!fi())return At(new ji("operation-not-supported-in-this-environment"));var e=this;return Fu(this,Ou(this).then(function(){return Tu(t=e.h,function(){return t.b.set(_u,t.c.B,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},e.fa=function(){if(!fi())return At(new ji("operation-not-supported-in-this-environment"));var t=this;return Fu(this,Ou(this).then(function(){return t.a.fa()}).then(function(t){return t?Mi(t):null}))},e.Oc=function(t){if(!t)return At(new ji("null-user"));var e=this,n={};n.apiKey=Mu(this).options.apiKey,n.authDomain=Mu(this).options.authDomain,n.appName=Mu(this).name;var i=function(t,e,n,i){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var r=t.h,o={};return o[ll]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-E())/1e3,e=new Ws(e,o),n&&(e.ba=n),i&&zs(e,i),lu(e,t),e}(t,n,e.A,e.ya());return Fu(this,this.i.then(function(){if(Mu(e).options.apiKey!=t.l)return i.reload()}).then(function(){return Nu(e)&&t.uid==Nu(e).uid?(lu(Nu(e),t),e.Z(t)):(Ru(e,i),Js(i),e.Z(i))}).then(function(){Lu(e)}))},e.pb=function(){var t=this;return Fu(this,this.i.then(function(){return Nu(t)?(Ru(t,null),Su(t.h).then(function(){Lu(t)})):kt()}))},e.Kc=function(){var t=this;return Eu(this.h,Mu(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Nu(t)&&e){n=Nu(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return lu(Nu(t),e),Nu(t).F();(Nu(t)||e)&&(Ru(t,e),e&&(Js(e),e.ba=t.A),t.a&&t.a.subscribe(t),Lu(t))}})},e.Z=function(t){return xu(this.h,t)},e.$b=function(){Lu(this),this.Z(Nu(this))},e.jc=function(){this.pb()},e.kc=function(){this.pb()},e.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Nu(e))})},e.nc=function(t){var e=this;!function(t,e){t.I.push(e),Fu(t,t.i.then(function(){!t.l&&U(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(ju(t)))}))}(this,function(){t.next(Nu(e))})},e.vc=function(t,e,n){var i=this;return this.X&&Promise.resolve().then(function(){v(t)?t(Nu(i)):v(t.next)&&t.next(Nu(i))}),this.Sb(t,e,n)},e.uc=function(t,e,n){var i=this;return this.X&&Promise.resolve().then(function(){i.O=i.getUid(),v(t)?t(Nu(i)):v(t.next)&&t.next(Nu(i))}),this.Tb(t,e,n)},e.ac=function(t){var e=this;return Fu(this,this.i.then(function(){return Nu(e)?Nu(e).F(t).then(function(t){return{accessToken:t}}):null}))},e.Ec=function(t){var e=this;return this.i.then(function(){return Pu(e,ea(e.c,Ql,{token:t}))}).then(function(t){var n=t.user;return ou(n,"isAnonymous",!1),e.Z(n),t})},e.Fc=function(t,e){var n=this;return this.i.then(function(){return Pu(n,ea(n.c,Zl,{email:t,password:e}))})},e.Vb=function(t,e){var n=this;return this.i.then(function(){return Pu(n,ea(n.c,Ol,{email:t,password:e}))})},e.Nb=function(t){var e=this;return this.i.then(function(){return Pu(e,t.la(e.c))})},e.nb=function(t){return Oi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Nb(t)},e.ob=function(){var t=this;return this.i.then(function(){var e=Nu(t);return e&&e.isAnonymous?Mi({user:e,credential:null,additionalUserInfo:Mi({providerId:null,isNewUser:!1}),operationType:"signIn"}):Pu(t,t.c.ob()).then(function(e){var n=e.user;return ou(n,"isAnonymous",!0),t.Z(n),e})})},e.getUid=function(){return Nu(this)&&Nu(this).uid||null},e.Ub=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Nu(this)&&Xs(Nu(this))},e.Cc=function(t){var e=this;F(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Nu(this)&&Ks(Nu(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.o.push(t),Fu(this,this.i.then(function(){e.l||U(e.o,t)&&t(ju(e))}))},e.removeAuthTokenListener=function(t){W(this.o,function(e){return e==t})},e.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Cu("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),Promise.resolve()},e.Yb=function(t){return Fu(this,function(t,e){return ea(t,Il,{identifier:e,continueUri:gi()?Yn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.c,t))},e.oc=function(t){return!!qr(t)},e.lb=function(t,e){var n=this;return Fu(this,kt().then(function(){var t=new Bi(e);if(!t.c)throw new ji("argument-error",Wi+" must be true when sending sign in link to email");return Qi(t)}).then(function(e){return n.c.lb(t,e)}).then(function(){}))},e.Rc=function(t){return this.Ka(t).then(function(t){return t.data.email})},e.Za=function(t,e){return Fu(this,this.c.Za(t,e).then(function(){}))},e.Ka=function(t){return Fu(this,this.c.Ka(t).then(function(t){return new function(t){var e={},n=t.email,i=t.newEmail;if(!(t=t.requestType)||"EMAIL_SIGNIN"!=t&&!n)throw Error("Invalid provider user info!");e.fromEmail=i||null,e.email=n||null,Ri(this,"operation",t),Ri(this,"data",Ni(e))}(t)}))},e.Wa=function(t){return Fu(this,this.c.Wa(t).then(function(){}))},e.kb=function(t,e){var n=this;return Fu(this,kt().then(function(){return"undefined"==typeof e||at(e)?{}:Qi(new Bi(e))}).then(function(e){return n.c.kb(t,e)}).then(function(){}))},e.Hc=function(t,e){return Fu(this,js(this,t,e,x(this.nb,this)))},e.Gc=function(t,e){var n=this;return Fu(this,kt().then(function(){var i=Ur(t,e||Yn());return n.nb(i)}))},Vu.prototype.render=function(){},Vu.prototype.reset=function(){},Vu.prototype.getResponse=function(){},Vu.prototype.execute=function(){};var Uu=null;function qu(t,e){return(e=Wu(e))&&t.a[e]||null}function Wu(t){return(t="undefined"==typeof t?1e12:t)?t.toString():null}function Hu(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Fn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():xe(this.f,"click",this.i)}function zu(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Gu(){}Bu.prototype.render=function(t,e){return this.a[this.b.toString()]=new Hu(t,e),this.b++},Bu.prototype.reset=function(t){var e=qu(this,t);t=Wu(t),e&&t&&(e.delete(),delete this.a[t])},Bu.prototype.getResponse=function(t){return(t=qu(this,t))?t.getResponse():null},Bu.prototype.execute=function(t){(t=qu(this,t))&&t.execute()},Hu.prototype.getResponse=function(){return zu(this),this.b},Hu.prototype.execute=function(){zu(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},Hu.prototype.delete=function(){zu(this),this.g=!0,clearTimeout(this.a),this.a=null,Te(this.f,"click",this.i)},Gu.prototype.g=function(){return Uu||(Uu=new Bu),kt(Uu)},Gu.prototype.c=function(){};var Yu=null;function Xu(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ku=new bn(Cn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Qu=new Si(3e4,6e4);Xu.prototype.g=function(t){var e=this;return new wt(function(n,i){var r=setTimeout(function(){i(new ji("network-request-failed"))},Qu.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new ji("internal-error"));delete a[e.a]},kt(Zo(En(Ku,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(r),i(new ji("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),n(a.grecaptcha))})},Xu.prototype.c=function(){this.b--};var Zu=null;function Ju(t,e,n,i,r,o,l){if(Ri(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,l?(Yu||(Yu=new Gu),l=Yu):(Zu||(Zu=new Xu),l=Zu),this.o=l,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[ec])throw new ji("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[nc],!a.document)throw new ji("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fn(e)||!this.i&&Fn(e).hasChildNodes())throw new ji("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new rl(t,o||null,r||null),this.v=i||function(){return null};var s=this;this.m=[];var u=this.a[$u];this.a[$u]=function(t){if(ic(s,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=di(u,a);"function"==typeof e&&e(t)}};var c=this.a[tc];this.a[tc]=function(){if(ic(s,null),"function"==typeof c)c();else if("string"==typeof c){var t=di(c,a);"function"==typeof t&&t()}}}var $u="callback",tc="expired-callback",ec="sitekey",nc="size";function ic(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(t){}}function rc(t,e){return t.h.push(e),e.ia(function(){q(t.h,e)}),e}function oc(t){if(t.D)throw new ji("internal-error","RecaptchaVerifier instance has been destroyed.")}function lc(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(t){throw new ji("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ji("invalid-api-key");n=this.b.options.apiKey;var o=this,l=null;try{l=this.b.auth().ya()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}l=i.a.SDK_VERSION?ci(i.a.SDK_VERSION,l):null,Ju.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},l,rr(nr),r)}function ac(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,l=0;l<e.length;l++)if(e[l].optional)o=!0;else{if(o)throw new ji("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=sc.length)throw new ji("internal-error","Argument validator received an unsupported number of arguments.");n=sc[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new ji("argument-error",t+" failed: "+i)}(e=Ju.prototype).za=function(){var t=this;return this.f?this.f:this.f=rc(this,kt().then(function(){if(gi()&&!ii())return ti();throw new ji("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,ea(t.u,Ul,{})}).then(function(e){t.a[ec]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},e.render=function(){oc(this);var t=this;return rc(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Fn(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),l=i[1];if(!yn&&l&&(l.name||l.type)){if(o=["<",o],l.name&&o.push(' name="',ft(l.name),'"'),l.type){o.push(' type="',ft(l.type),'"');var a={};dt(a,l),delete a.type,l=a}o.push(">"),o=o.join("")}return o=r.createElement(o),l&&(s(l)?o.className=l:g(l)?o.className=l.join(" "):Vn(o,l)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!m(o)||y(o)&&0<o.nodeType?i(o):F(Un(o)?z(o):o,i)}}(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},e.verify=function(){oc(this);var t=this;return rc(this,this.render().then(function(e){return new wt(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){W(t.m,function(t){return t==e})}(t,r),n(e))};t.m.push(r),t.i&&t.g.execute(t.c)}})}))},e.reset=function(){oc(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){oc(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Fn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},T(lc,Ju);var sc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function uc(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:s}}function cc(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:u}}function hc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function dc(t,e){return{name:t||"",K:"a function",optional:!!e,M:v}}function pc(t,e){return{name:t||"",K:"null",optional:!!e,M:f}}function fc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function gc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&s(t.type)&&v(t.verify))}}}function mc(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function vc(t,e){for(var n in e){var i=e[n].name;t[i]=wc(i,t[n],e[n].j)}}function yc(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:S(function(t){return this[t]},n),set:S(function(t,e,n,i){ac(t,[n],[i],!0),this[e]=i},i,n,e[n].vb),enumerable:!0})}}function bc(t,e,n,i){t[e]=wc(e,n,i)}function wc(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return ac(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}vc(ku.prototype,{Wa:{name:"applyActionCode",j:[uc("code")]},Ka:{name:"checkActionCode",j:[uc("code")]},Za:{name:"confirmPasswordReset",j:[uc("code"),uc("newPassword")]},Vb:{name:"createUserWithEmailAndPassword",j:[uc("email"),uc("password")]},Yb:{name:"fetchSignInMethodsForEmail",j:[uc("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[uc("emailLink")]},uc:{name:"onAuthStateChanged",j:[mc(hc(),dc(),"nextOrObserver"),dc("opt_error",!0),dc("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[mc(hc(),dc(),"nextOrObserver"),dc("opt_error",!0),dc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[uc("email"),mc(hc("opt_actionCodeSettings",!0),pc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[uc("email"),hc("actionCodeSettings")]},mb:{name:"setPersistence",j:[uc("persistence")]},nb:{name:"signInAndRetrieveDataWithCredential",j:[fc()]},ob:{name:"signInAnonymously",j:[]},Nb:{name:"signInWithCredential",j:[fc()]},Ec:{name:"signInWithCustomToken",j:[uc("token")]},Fc:{name:"signInWithEmailAndPassword",j:[uc("email"),uc("password")]},Gc:{name:"signInWithEmailLink",j:[uc("email"),uc("emailLink",!0)]},Hc:{name:"signInWithPhoneNumber",j:[uc("phoneNumber"),gc()]},Ic:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"updateCurrentUser",j:[mc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Ws)}},pc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[uc(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[uc("code")]}}),yc(ku.prototype,{lc:{name:"languageCode",vb:mc(uc(),pc(),"languageCode")}}),(ku.Persistence=Ga).LOCAL="local",ku.Persistence.SESSION="session",ku.Persistence.NONE="none",vc(Ws.prototype,{delete:{name:"delete",j:[]},bc:{name:"getIdTokenResult",j:[cc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[cc("opt_forceRefresh",!0)]},pc:{name:"linkAndRetrieveDataWithCredential",j:[fc()]},eb:{name:"linkWithCredential",j:[fc()]},qc:{name:"linkWithPhoneNumber",j:[uc("phoneNumber"),gc()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},yc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[fc()]},gb:{name:"reauthenticateWithCredential",j:[fc()]},zc:{name:"reauthenticateWithPhoneNumber",j:[uc("phoneNumber"),gc()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[mc(hc("opt_actionCodeSettings",!0),pc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[uc(null,!0)]},Nc:{name:"unlink",j:[uc("provider")]},rb:{name:"updateEmail",j:[uc("email")]},sb:{name:"updatePassword",j:[uc("password")]},Pc:{name:"updatePhoneNumber",j:[fc("phone")]},tb:{name:"updateProfile",j:[hc("profile")]}}),vc(Bu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vc(Vu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vc(wt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),yc(Ms.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",vb:cc("appVerificationDisabledForTesting")}}),vc(Ns.prototype,{confirm:{name:"confirm",j:[uc("verificationCode")]}}),bc(br,"fromJSON",function(t){t=s(t)?JSON.parse(t):t;for(var e,n=[Tr,Vr,Hr,xr],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[mc(uc(),hc(),"json")]),bc(Br,"credential",function(t,e){return new Fr(t,e)},[uc("email"),uc("password")]),vc(Fr.prototype,{w:{name:"toJSON",j:[uc(null,!0)]}}),vc(Or.prototype,{ua:{name:"addScope",j:[uc("scope")]},Da:{name:"setCustomParameters",j:[hc("customOAuthParameters")]}}),bc(Or,"credential",Ir,[mc(uc(),hc(),"token")]),bc(Br,"credentialWithLink",Ur,[uc("email"),uc("emailLink")]),vc(Rr.prototype,{ua:{name:"addScope",j:[uc("scope")]},Da:{name:"setCustomParameters",j:[hc("customOAuthParameters")]}}),bc(Rr,"credential",Pr,[mc(uc(),hc(),"token")]),vc(Mr.prototype,{ua:{name:"addScope",j:[uc("scope")]},Da:{name:"setCustomParameters",j:[hc("customOAuthParameters")]}}),bc(Mr,"credential",Nr,[mc(uc(),mc(hc(),pc()),"idToken"),mc(uc(),pc(),"accessToken",!0)]),vc(jr.prototype,{Da:{name:"setCustomParameters",j:[hc("customOAuthParameters")]}}),bc(jr,"credential",Lr,[mc(uc(),hc(),"token"),uc("secret",!0)]),vc(Dr.prototype,{ua:{name:"addScope",j:[uc("scope")]},credential:{name:"credential",j:[mc(uc(),mc(hc(),pc()),"optionsOrIdToken"),mc(uc(),pc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[hc("customOAuthParameters")]}}),vc(Sr.prototype,{w:{name:"toJSON",j:[uc(null,!0)]}}),vc(_r.prototype,{w:{name:"toJSON",j:[uc(null,!0)]}}),bc(Gr,"credential",Yr,[uc("verificationId"),uc("verificationCode")]),vc(Gr.prototype,{Ua:{name:"verifyPhoneNumber",j:[uc("phoneNumber"),gc()]}}),vc(Wr.prototype,{w:{name:"toJSON",j:[uc(null,!0)]}}),vc(ji.prototype,{toJSON:{name:"toJSON",j:[uc(null,!0)]}}),vc(no.prototype,{toJSON:{name:"toJSON",j:[uc(null,!0)]}}),vc(eo.prototype,{toJSON:{name:"toJSON",j:[uc(null,!0)]}}),vc(lc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"==typeof i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ku,AuthCredential:br,Error:ji};bc(t,"EmailAuthProvider",Br,[]),bc(t,"FacebookAuthProvider",Or,[]),bc(t,"GithubAuthProvider",Rr,[]),bc(t,"GoogleAuthProvider",Mr,[]),bc(t,"TwitterAuthProvider",jr,[]),bc(t,"OAuthProvider",Dr,[uc("providerId")]),bc(t,"SAMLAuthProvider",Ar,[uc("providerId")]),bc(t,"PhoneAuthProvider",Gr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ku)}}]),bc(t,"RecaptchaVerifier",lc,[mc(uc(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),hc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.a.app.App)}}]),i.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:x((t=new ku(t)).getUid,t),getToken:x(t.ac,t),addAuthTokenListener:x(t.Ub,t),removeAuthTokenListener:x(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),i.a.INTERNAL.extendNamespace({User:Ws})}()}).apply("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n("DuR2"))},ftaU:function(t,e,n){var i,r;r=function(){return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){if(!s&&"function"==typeof i&&i)return i(a,!0);if(l)return l(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){return o(e[a][1][t]||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var l="function"==typeof i&&i,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";var i=t("inherits"),r=t("multimath"),o=t("multimath/lib/unsharp_mask"),l=t("./mm_resize");function a(t){var e=t||[],n={js:e.indexOf("js")>=0,wasm:e.indexOf("wasm")>=0};r.call(this,n),this.features={js:n.js,wasm:n.wasm&&this.has_wasm},this.use(o),this.use(l)}i(a,r),a.prototype.resizeAndUnsharp=function(t,e){var n=this.resize(t,e);return t.unsharpAmount&&this.unsharp_mask(n,t.toWidth,t.toHeight,t.unsharpAmount,t.unsharpRadius,t.unsharpThreshold),n},e.exports=a},{"./mm_resize":4,inherits:15,multimath:16,"multimath/lib/unsharp_mask":19}],2:[function(t,e,n){"use strict";function i(t){return t<0?0:t>255?255:t}e.exports={convolveHorizontally:function(t,e,n,r,o,l){var a,s,u,c,h,d,p,f,g,m,v,y=0,b=0;for(g=0;g<r;g++){for(h=0,m=0;m<o;m++){for(d=l[h++],p=l[h++],f=y+4*d|0,a=s=u=c=0;p>0;p--)c=c+(v=l[h++])*t[f+3]|0,u=u+v*t[f+2]|0,s=s+v*t[f+1]|0,a=a+v*t[f]|0,f=f+4|0;e[b+3]=i(c+8192>>14),e[b+2]=i(u+8192>>14),e[b+1]=i(s+8192>>14),e[b]=i(a+8192>>14),b=b+4*r|0}b=4*(g+1)|0,y=(g+1)*n*4|0}},convolveVertically:function(t,e,n,r,o,l){var a,s,u,c,h,d,p,f,g,m,v,y=0,b=0;for(g=0;g<r;g++){for(h=0,m=0;m<o;m++){for(d=l[h++],p=l[h++],f=y+4*d|0,a=s=u=c=0;p>0;p--)c=c+(v=l[h++])*t[f+3]|0,u=u+v*t[f+2]|0,s=s+v*t[f+1]|0,a=a+v*t[f]|0,f=f+4|0;e[b+3]=i(c+8192>>14),e[b+2]=i(u+8192>>14),e[b+1]=i(s+8192>>14),e[b]=i(a+8192>>14),b=b+4*r|0}b=4*(g+1)|0,y=(g+1)*n*4|0}}}},{}],3:[function(t,e,n){"use strict";e.exports="AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw=="},{}],4:[function(t,e,n){"use strict";e.exports={name:"resize",fn:t("./resize"),wasm_fn:t("./resize_wasm"),wasm_src:t("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,e,n){"use strict";var i=t("./resize_filter_gen"),r=t("./convolve").convolveHorizontally,o=t("./convolve").convolveVertically;e.exports=function(t){var e=t.src,n=t.width,l=t.height,a=t.toWidth,s=t.toHeight,u=t.scaleX||t.toWidth/t.width,c=t.scaleY||t.toHeight/t.height,h=t.offsetX||0,d=t.offsetY||0,p=t.dest||new Uint8Array(a*s*4),f="undefined"==typeof t.quality?3:t.quality,g=t.alpha||!1,m=i(f,n,a,u,h),v=i(f,l,s,c,d),y=new Uint8Array(a*l*4);return r(e,y,n,l,a,m),o(y,p,l,a,s,v),g||function(t,e,n){for(var i=3,r=a*s*4|0;i<r;)t[i]=255,i=i+4|0}(p),p}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,e,n){"use strict";var i=t("./resize_filter_info"),r=14;function o(t){return Math.round(t*((1<<r)-1))}e.exports=function(t,e,n,r,l){var a,s,u,c,h,d,p,f,g,m,v,y,b,w,_,C,x=i[t].filter,S=1/r,E=Math.min(1,r),T=i[t].win/E,k=Math.floor(2*(T+1)),A=new Int16Array((k+2)*n),D=0,O=!A.subarray||!A.set;for(a=0;a<n;a++){for(s=(a+.5)*S+l,u=Math.max(0,Math.floor(s-T)),h=(c=Math.min(e-1,Math.ceil(s+T)))-u+1,d=new Float32Array(h),p=new Int16Array(h),f=0,g=u,m=0;g<=c;g++,m++)f+=v=x((g+.5-s)*E),d[m]=v;for(y=0,m=0;m<d.length;m++)y+=b=d[m]/f,p[m]=o(b);for(p[n>>1]+=o(1-y),w=0;w<p.length&&0===p[w];)w++;if(w<p.length){for(_=p.length-1;_>0&&0===p[_];)_--;if(C=_-w+1,A[D++]=u+w,A[D++]=C,O)for(m=w;m<=_;m++)A[D++]=p[m];else A.set(p.subarray(w,_+1),D),D+=C}else A[D++]=0,A[D++]=0}return A}},{"./resize_filter_info":7}],7:[function(t,e,n){"use strict";e.exports=[{win:.5,filter:function(t){return t>=-.5&&t<.5?1:0}},{win:1,filter:function(t){if(t<=-1||t>=1)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*(.54+.46*Math.cos(e/1))}},{win:2,filter:function(t){if(t<=-2||t>=2)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/2)/(e/2)}},{win:3,filter:function(t){if(t<=-3||t>=3)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/3)/(e/3)}}]},{}],8:[function(t,e,n){"use strict";var i=t("./resize_filter_gen"),r=!0;try{r=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(t){}function o(t,e,n){if(r)e.set(function(t){return new Uint8Array(t.buffer,0,t.byteLength)}(t),n);else for(var i=n,o=0;o<t.length;o++){var l=t[o];e[i++]=255&l,e[i++]=l>>8&255}}e.exports=function(t){var e=t.src,n=t.width,r=t.height,l=t.toWidth,a=t.toHeight,s=t.scaleX||t.toWidth/t.width,u=t.scaleY||t.toHeight/t.height,c=t.offsetX||0,h=t.offsetY||0,d=t.dest||new Uint8Array(l*a*4),p="undefined"==typeof t.quality?3:t.quality,f=t.alpha||!1,g=i(p,n,l,s,c),m=i(p,r,a,u,h),v=this.__align(0+Math.max(e.byteLength,d.byteLength)),y=this.__align(v+r*l*4),b=this.__align(y+g.byteLength),w=this.__instance("resize",b+m.byteLength),_=new Uint8Array(this.__memory.buffer),C=new Uint32Array(this.__memory.buffer),x=new Uint32Array(e.buffer);return C.set(x),o(g,_,y),o(m,_,b),(w.exports.convolveHV||w.exports._convolveHV)(y,b,v,n,r,l,a),new Uint32Array(d.buffer).set(new Uint32Array(this.__memory.buffer,0,a*l)),f||function(t,e,n){for(var i=3,r=l*a*4|0;i<r;)t[i]=255,i=i+4|0}(d),d}},{"./resize_filter_gen":6}],9:[function(t,e,n){"use strict";function i(t,e){this.create=t,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=e||2e3}i.prototype.acquire=function(){var t=this,e=void 0;return 0!==this.available.length?e=this.available.pop():((e=this.create()).id=this.lastId++,e.release=function(){return t.release(e)}),this.acquired[e.id]=e,e},i.prototype.release=function(t){var e=this;delete this.acquired[t.id],t.lastUsed=Date.now(),this.available.push(t),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return e.gc()},100))},i.prototype.gc=function(){var t=this,e=Date.now();this.available=this.available.filter(function(n){return!(e-n.lastUsed>t.idle&&(n.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return t.gc()},100):0},e.exports=i},{}],10:[function(t,e,n){"use strict";e.exports=function(t,e,n,i,r,o){var l=n/t,a=i/e,s=(2*o+2+1)/r;if(s>.5)return[[n,i]];var u=Math.ceil(Math.log(Math.min(l,a))/Math.log(s));if(u<=1)return[[n,i]];for(var c=[],h=0;h<u;h++){var d=Math.round(Math.pow(Math.pow(t,u-h-1)*Math.pow(n,h+1),1/u)),p=Math.round(Math.pow(Math.pow(e,u-h-1)*Math.pow(i,h+1),1/u));c.push([d,p])}return c}},{}],11:[function(t,e,n){"use strict";var i=1e-5;function r(t){var e=Math.round(t);return Math.abs(t-e)<i?e:Math.floor(t)}function o(t){var e=Math.round(t);return Math.abs(t-e)<i?e:Math.ceil(t)}e.exports=function(t){var e,n,i,l,a,s,u=t.toWidth/t.width,c=t.toHeight/t.height,h=r(t.srcTileSize*u)-2*t.destTileBorder,d=r(t.srcTileSize*c)-2*t.destTileBorder;if(h<1||d<1)throw new Error("Internal error in pica: target tile width/height is too small.");var p,f=[];for(l=0;l<t.toHeight;l+=d)for(i=0;i<t.toWidth;i+=h)(e=i-t.destTileBorder)<0&&(e=0),e+(a=i+h+t.destTileBorder-e)>=t.toWidth&&(a=t.toWidth-e),(n=l-t.destTileBorder)<0&&(n=0),n+(s=l+d+t.destTileBorder-n)>=t.toHeight&&(s=t.toHeight-n),p={toX:e,toY:n,toWidth:a,toHeight:s,toInnerX:i,toInnerY:l,toInnerWidth:h,toInnerHeight:d,offsetX:e/u-r(e/u),offsetY:n/c-r(n/c),scaleX:u,scaleY:c,x:r(e/u),y:r(n/c),width:o(a/u),height:o(s/c)},f.push(p);return f}},{}],12:[function(t,e,n){"use strict";function i(t){return Object.prototype.toString.call(t)}e.exports.isCanvas=function(t){var e=i(t);return"[object HTMLCanvasElement]"===e||"[object Canvas]"===e},e.exports.isImage=function(t){return"[object HTMLImageElement]"===i(t)},e.exports.limiter=function(t){var e=0,n=[];function i(){e<t&&n.length&&(e++,n.shift()())}return function(t){return new Promise(function(r,o){n.push(function(){t().then(function(t){r(t),e--,i()},function(t){o(t),e--,i()})}),i()})}},e.exports.cib_quality_name=function(t){switch(t){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},e.exports.cib_support=function(){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap||"undefined"==typeof document)return!1;var t=document.createElement("canvas");return t.width=100,t.height=100,createImageBitmap(t,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(e){var n=10===e.width;return e.close(),t=null,n})}).catch(function(){return!1})}},{}],13:[function(t,e,n){"use strict";e.exports=function(){var e=t("./mathlib"),n=void 0;onmessage=function(t){var i=t.data.opts;n||(n=new e(t.data.features));var r=n.resizeAndUnsharp(i);postMessage({result:r},[r.buffer])}}},{"./mathlib":1}],14:[function(t,e,n){var i,r,o,l,a,s;function u(t,e,n,i,r,o){var l,a,s,u,c,h,d,p,f,g,m,v,y,b;for(f=0;f<o;f++){for(d=f,p=0,u=c=(l=t[h=f*r])*i[6],m=i[0],v=i[1],y=i[4],b=i[5],g=0;g<r;g++)s=(a=t[h])*m+l*v+u*y+c*b,c=u,l=a,n[p]=u=s,p++,h++;for(p--,d+=o*(r-1),u=c=(l=t[--h])*i[7],a=l,m=i[2],v=i[3],g=r-1;g>=0;g--)s=a*m+l*v+u*y+c*b,c=u,l=a,a=t[h],e[d]=n[p]+(u=s),h--,p--,d-=o}}e.exports=function(t,e,n,c){if(c){var h=new Uint16Array(t.length),d=new Float32Array(Math.max(e,n)),p=function(t){t<.5&&(t=.5);var e=Math.exp(.527076)/t,n=Math.exp(-e),u=Math.exp(-2*e),c=(1-n)*(1-n)/(1+2*e*n-u);return i=c,r=c*(e-1)*n,o=c*(e+1)*n,l=-c*u,a=2*n,s=-u,new Float32Array([i,r,o,l,a,s,(i+r)/(1-a-s),(o+l)/(1-a-s)])}(c);u(t,h,d,p,e,n),u(h,t,d,p,n,e)}}},{}],15:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],16:[function(t,e,n){"use strict";var i=t("object-assign"),r=t("./lib/base64decode"),o=t("./lib/wa_detect"),l={js:!0,wasm:!0};function a(t){if(!(this instanceof a))return new a(t);var e=i({},l,t||{});if(this.options=e,this.__cache={},this.has_wasm=o(),this.__init_promise=null,this.__modules=e.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}a.prototype.use=function(t){return this.__modules[t.name]=t,this[t.name]=this.has_wasm&&this.options.wasm&&t.wasm_fn?t.wasm_fn:t.fn,this},a.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm)return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var t=this;return this.__init_promise=Promise.all(Object.keys(t.__modules).map(function(e){var n=t.__modules[e];return t.has_wasm&&t.options.wasm&&n.wasm_fn?t.__wasm[e]?null:WebAssembly.compile(t.__base64decode(n.wasm_src)).then(function(n){t.__wasm[e]=n}):null})).then(function(){return t}),this.__init_promise},a.prototype.__base64decode=r,a.prototype.__reallocate=function(t){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(t/65536)}),this.__memory;var e=this.__memory.buffer.byteLength;return e<t&&this.__memory.grow(Math.ceil((t-e)/65536)),this.__memory},a.prototype.__instance=function(t,e,n){if(e&&this.__reallocate(e),this.__wasm[t]||(this.__wasm[t]=new WebAssembly.Module(this.__base64decode(this.__modules[t].wasm_src))),!this.__cache[t]){var r={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[t]=new WebAssembly.Instance(this.__wasm[t],{env:i(r,n||{})})}return this.__cache[t]},a.prototype.__align=function(t,e){var n=t%(e=e||8);return t+(n?e-n:0)},e.exports=a},{"./lib/base64decode":17,"./lib/wa_detect":23,"object-assign":24}],17:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.replace(/[\r\n=]/g,""),n=e.length,i=new Uint8Array(3*n>>2),r=0,o=0,l=0;l<n;l++)l%4==0&&l&&(i[o++]=r>>16&255,i[o++]=r>>8&255,i[o++]=255&r),r=r<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(l));var a=n%4*6;return 0===a?(i[o++]=r>>16&255,i[o++]=r>>8&255,i[o++]=255&r):18===a?(i[o++]=r>>10&255,i[o++]=r>>2&255):12===a&&(i[o++]=r>>4&255),i}},{}],18:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var i,r,o,l=e*n,a=new Uint16Array(l),s=0;s<l;s++)o=t[4*s+2],a[s]=257*(((i=t[4*s])>=(r=t[4*s+1])&&i>=o?i:r>=o&&r>=i?r:o)+(i<=r&&i<=o?i:r<=o&&r<=i?r:o))>>1;return a}},{}],19:[function(t,e,n){"use strict";e.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":20,"./unsharp_mask_wasm":21,"./unsharp_mask_wasm_base64":22}],20:[function(t,e,n){"use strict";var i=t("glur/mono16"),r=t("./hsl_l16");e.exports=function(t,e,n,o,l,a){var s,u,c,h,d,p,f,g,m,v,y,b,w;if(!(0===o||l<.5)){l>2&&(l=2);var _=r(t,e,n),C=new Uint16Array(_);i(C,e,n,l);for(var x=o/100*4096+.5|0,S=257*a|0,E=e*n,T=0;T<E;T++)b=2*(_[T]-C[T]),Math.abs(b)>=S&&(c=t[2+(w=4*T)],p=257*((g=(s=t[w])>=(u=t[w+1])&&s>=c?s:u>=s&&u>=c?u:c)+(f=s<=u&&s<=c?s:u<=s&&u<=c?u:c))>>1,f===g?h=d=0:(d=p<=32767?4095*(g-f)/(g+f)|0:4095*(g-f)/(510-g-f)|0,h=s===g?65535*(u-c)/(6*(g-f))|0:u===g?21845+(65535*(c-s)/(6*(g-f))|0):43690+(65535*(s-u)/(6*(g-f))|0)),(p+=x*b+2048>>12)>65535?p=65535:p<0&&(p=0),0===d?s=u=c=p>>8:(m=2*p-(v=p<=32767?p*(4096+d)+2048>>12:p+((65535-p)*d+2048>>12))>>8,v>>=8,s=(y=h+21845&65535)>=43690?m:y>=32767?m+(6*(v-m)*(43690-y)+32768>>16):y>=10922?v:m+(6*(v-m)*y+32768>>16),u=(y=65535&h)>=43690?m:y>=32767?m+(6*(v-m)*(43690-y)+32768>>16):y>=10922?v:m+(6*(v-m)*y+32768>>16),c=(y=h-21845&65535)>=43690?m:y>=32767?m+(6*(v-m)*(43690-y)+32768>>16):y>=10922?v:m+(6*(v-m)*y+32768>>16)),t[w]=s,t[w+1]=u,t[w+2]=c)}}},{"./hsl_l16":18,"glur/mono16":14}],21:[function(t,e,n){"use strict";e.exports=function(t,e,n,i,r,o){if(!(0===i||r<.5)){r>2&&(r=2);var l=e*n,a=4*l,s=2*l,u=2*l,c=4*Math.max(e,n),h=a,d=h+s,p=d+u,f=p+u,g=f+c,m=this.__instance("unsharp_mask",a+s+2*u+c+32,{exp:Math.exp}),v=new Uint32Array(t.buffer);new Uint32Array(this.__memory.buffer).set(v);var y=m.exports.hsl_l16||m.exports._hsl_l16;y(0,h,e,n),(y=m.exports.blurMono16||m.exports._blurMono16)(h,d,p,f,g,e,n,r),(y=m.exports.unsharp||m.exports._unsharp)(0,0,h,d,e,n,i,o),v.set(new Uint32Array(this.__memory.buffer,0,l))}}},{}],22:[function(t,e,n){"use strict";e.exports="AGFzbQEAAAABMQZgAXwBfGACfX8AYAZ/f39/f38AYAh/f39/f39/fQBgBH9/f38AYAh/f39/f39/fwACGQIDZW52A2V4cAAAA2VudgZtZW1vcnkCAAEDBgUBAgMEBQQEAXAAAAdMBRZfX2J1aWxkX2dhdXNzaWFuX2NvZWZzAAEOX19nYXVzczE2X2xpbmUAAgpibHVyTW9ubzE2AAMHaHNsX2wxNgAEB3Vuc2hhcnAABQkBAAqJEAXZAQEGfAJAIAFE24a6Q4Ia+z8gALujIgOaEAAiBCAEoCIGtjgCECABIANEAAAAAAAAAMCiEAAiBbaMOAIUIAFEAAAAAAAA8D8gBKEiAiACoiAEIAMgA6CiRAAAAAAAAPA/oCAFoaMiArY4AgAgASAEIANEAAAAAAAA8L+gIAKioiIHtjgCBCABIAQgA0QAAAAAAADwP6AgAqKiIgO2OAIIIAEgBSACoiIEtow4AgwgASACIAegIAVEAAAAAAAA8D8gBqGgIgKjtjgCGCABIAMgBKEgAqO2OAIcCwu3AwMDfwR9CHwCQCADKgIUIQkgAyoCECEKIAMqAgwhCyADKgIIIQwCQCAEQX9qIgdBAEgiCA0AIAIgAC8BALgiDSADKgIYu6IiDiAJuyIQoiAOIAq7IhGiIA0gAyoCBLsiEqIgAyoCALsiEyANoqCgoCIPtjgCACACQQRqIQIgAEECaiEAIAdFDQAgBCEGA0AgAiAOIBCiIA8iDiARoiANIBKiIBMgAC8BALgiDaKgoKAiD7Y4AgAgAkEEaiECIABBAmohACAGQX9qIgZBAUoNAAsLAkAgCA0AIAEgByAFbEEBdGogAEF+ai8BACIIuCINIAu7IhGiIA0gDLsiEqKgIA0gAyoCHLuiIg4gCrsiE6KgIA4gCbsiFKKgIg8gAkF8aioCALugqzsBACAHRQ0AIAJBeGohAiAAQXxqIQBBACAFQQF0ayEHIAEgBSAEQQF0QXxqbGohBgNAIAghAyAALwEAIQggBiANIBGiIAO4Ig0gEqKgIA8iECAToqAgDiAUoqAiDyACKgIAu6CrOwEAIAYgB2ohBiAAQX5qIQAgAkF8aiECIBAhDiAEQX9qIgRBAUoNAAsLCwvfAgIDfwZ8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIgyaEAAiDSANoCIPtjgCECAEIAxEAAAAAAAAAMCiEAAiDraMOAIUIAREAAAAAAAA8D8gDaEiCyALoiANIAwgDKCiRAAAAAAAAPA/oCAOoaMiC7Y4AgAgBCANIAxEAAAAAAAA8L+gIAuioiIQtjgCBCAEIA0gDEQAAAAAAADwP6AgC6KiIgy2OAIIIAQgDiALoiINtow4AgwgBCALIBCgIA5EAAAAAAAA8D8gD6GgIgujtjgCGCAEIAwgDaEgC6O2OAIcIAYEQCAFQQF0IQogBiEJIAIhCANAIAAgCCADIAQgBSAGEAIgACAKaiEAIAhBAmohCCAJQX9qIgkNAAsLIAVFDQAgBkEBdCEIIAUhAANAIAIgASADIAQgBiAFEAIgAiAIaiECIAFBAmohASAAQX9qIgANAAsLC7wBAQV/IAMgAmwiAwRAQQAgA2shBgNAIAAoAgAiBEEIdiIHQf8BcSECAn8gBEH/AXEiAyAEQRB2IgRB/wFxIgVPBEAgAyIIIAMgAk8NARoLIAQgBCAHIAIgA0kbIAIgBUkbQf8BcQshCAJAIAMgAk0EQCADIAVNDQELIAQgByAEIAMgAk8bIAIgBUsbQf8BcSEDCyAAQQRqIQAgASADIAhqQYECbEEBdjsBACABQQJqIQEgBkEBaiIGDQALCwvTBgEKfwJAIAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6CqIQ0gBSAEbCILBEAgB0GBAmwhDgNAQQAgAi8BACADLwEAayIGQQF0IgdrIAcgBkEASBsgDk8EQCAAQQJqLQAAIQUCfyAALQAAIgYgAEEBai0AACIESSIJRQRAIAYiCCAGIAVPDQEaCyAFIAUgBCAEIAVJGyAGIARLGwshCAJ/IAYgBE0EQCAGIgogBiAFTQ0BGgsgBSAFIAQgBCAFSxsgCRsLIgogCGoiD0GBAmwiEEEBdiERQQAhDAJ/QQAiCSAIIApGDQAaIAggCmsiCUH/H2wgD0H+AyAIayAKayAQQYCABEkbbSEMIAYgCEYEQCAEIAVrQf//A2wgCUEGbG0MAQsgBSAGayAGIARrIAQgCEYiBhtB//8DbCAJQQZsbUHVqgFBqtUCIAYbagshCSARIAcgDWxBgBBqQQx1aiIGQQAgBkEAShsiBkH//wMgBkH//wNIGyEGAkACfwJAIAxB//8DcSIFBEAgBkH//wFKDQEgBUGAIGogBmxBgBBqQQx2DAILIAZBCHYiBiEFIAYhBAwCCyAFIAZB//8Dc2xBgBBqQQx2IAZqCyIFQQh2IQcgBkEBdCAFa0EIdiIGIQQCQCAJQdWqAWpB//8DcSIFQanVAksNACAFQf//AU8EQEGq1QIgBWsgByAGa2xBBmxBgIACakEQdiAGaiEEDAELIAchBCAFQanVAEsNACAFIAcgBmtsQQZsQYCAAmpBEHYgBmohBAsCfyAGIgUgCUH//wNxIghBqdUCSw0AGkGq1QIgCGsgByAGa2xBBmxBgIACakEQdiAGaiAIQf//AU8NABogByIFIAhBqdUASw0AGiAIIAcgBmtsQQZsQYCAAmpBEHYgBmoLIQUgCUGr1QJqQf//A3EiCEGp1QJLDQAgCEH//wFPBEBBqtUCIAhrIAcgBmtsQQZsQYCAAmpBEHYgBmohBgwBCyAIQanVAEsEQCAHIQYMAQsgCCAHIAZrbEEGbEGAgAJqQRB2IAZqIQYLIAEgBDoAACABQQFqIAU6AAAgAUECaiAGOgAACyADQQJqIQMgAkECaiECIABBBGohACABQQRqIQEgC0F/aiILDQALCwsL"},{}],23:[function(t,e,n){"use strict";var i;e.exports=function(){if("undefined"!=typeof i)return i;if(i=!1,"undefined"==typeof WebAssembly)return i;try{var t=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),e=new WebAssembly.Module(t);return 0!==new WebAssembly.Instance(e,{}).exports.test(4)&&(i=!0),i}catch(t){}return i}},{}],24:[function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,l,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var u in n=Object(arguments[s]))r.call(n,u)&&(a[u]=n[u]);if(i){l=i(n);for(var c=0;c<l.length;c++)o.call(n,l[c])&&(a[l[c]]=n[l[c]])}}return a}},{}],25:[function(t,e,n){var i=arguments[3],r=arguments[4],o=arguments[5],l=JSON.stringify;e.exports=function(t,e){for(var n,a=Object.keys(o),s=0,u=a.length;s<u;s++){var c=o[d=a[s]].exports;if(c===t||c&&c.default===t){n=d;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(s=0,u=a.length;s<u;s++){var d;h[d=a[s]]=d}r[n]=["function(require,module,exports){"+t+"(self); }",h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[n]=n,r[p]=["function(require,module,exports){var f = require("+l(n)+");(f.default ? f.default : f)(self);}",f];var g={};!function t(e){for(var n in g[e]=!0,r[e][1]){var i=r[e][1][n];g[i]||t(i)}}(p);var m="("+i+")({"+Object.keys(g).map(function(t){return l(t)+":["+r[t][0]+","+l(r[t][1])+"]"}).join(",")+"},{},["+l(p)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([m],{type:"text/javascript"});if(e&&e.bare)return y;var b=v.createObjectURL(y),w=new Worker(b);return w.objectURL=b,w}},{}],"/":[function(t,e,n){"use strict";var i=t("object-assign"),r=t("webworkify"),o=t("./lib/mathlib"),l=t("./lib/pool"),a=t("./lib/utils"),s=t("./lib/worker"),u=t("./lib/stepper"),c=t("./lib/tiler"),h={},d=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(d=navigator.userAgent.indexOf("Safari")>=0)}catch(t){}var p=1;"undefined"!=typeof navigator&&(p=Math.min(navigator.hardwareConcurrency||1,4));var f={tile:1024,concurrency:p,features:["js","wasm","ww"],idle:2e3},g={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},m=void 0,v=void 0;function y(){return{value:r(s),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var t=window.URL||window.webkitURL||window.mozURL||window.msURL;t&&t.revokeObjectURL&&this.value.objectURL&&t.revokeObjectURL(this.value.objectURL)}}}}function b(t){if(!(this instanceof b))return new b(t);this.options=i({},f,t||{});var e="lk_"+this.options.concurrency;this.__limit=h[e]||a.limiter(this.options.concurrency),h[e]||(h[e]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}b.prototype.init=function(){var e=this;if(this.__initPromise)return this.__initPromise;if(!1!==m&&!0!==m&&(m=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),m=!0}catch(t){}!1!==v&&!0!==v&&(v=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?v=!0:this.debug("ImageBitmap does not support .close(), disabled")));var n=this.options.features.slice();if(n.indexOf("all")>=0&&(n=["cib","wasm","js","ww"]),this.__requested_features=n,this.__mathlib=new o(n),n.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{t("webworkify")(function(){}).terminate(),this.features.ww=!0;var r="wp_"+JSON.stringify(this.options);h[r]?this.__workersPool=h[r]:(this.__workersPool=new l(y,this.options.idle),h[r]=this.__workersPool)}catch(t){}var s,u=this.__mathlib.init().then(function(t){i(e.features,t.features)});return s=v?a.cib_support().then(function(t){e.features.cib&&n.indexOf("cib")<0?e.debug("createImageBitmap() resize supported, but disabled by config"):n.indexOf("cib")>=0&&(e.features.cib=t)}):Promise.resolve(!1),this.__initPromise=Promise.all([u,s]).then(function(){return e}),this.__initPromise},b.prototype.resize=function(t,e,n){var r=this;this.debug("Start resize...");var o=i({},g);if(isNaN(n)?n&&(o=i(o,n)):o=i(o,{quality:n}),o.toWidth=e.width,o.toHeight=e.height,o.width=t.naturalWidth||t.width,o.height=t.naturalHeight||t.height,0===e.width||0===e.height)return Promise.reject(new Error("Invalid output size: "+e.width+"x"+e.height));o.unsharpRadius>2&&(o.unsharpRadius=2);var l=!1,s=null;o.cancelToken&&(s=o.cancelToken.then(function(t){throw l=!0,t},function(t){throw l=!0,t}));var h=Math.ceil(Math.max(3,2.5*o.unsharpRadius|0));return this.init().then(function(){if(l)return s;if(r.features.cib){var n=e.getContext("2d",{alpha:Boolean(o.alpha)});return r.debug("Resize via createImageBitmap()"),createImageBitmap(t,{resizeWidth:o.toWidth,resizeHeight:o.toHeight,resizeQuality:a.cib_quality_name(o.quality)}).then(function(t){if(l)return s;if(!o.unsharpAmount)return n.drawImage(t,0,0),t.close(),n=null,r.debug("Finished!"),e;r.debug("Unsharp result");var i=document.createElement("canvas");i.width=o.toWidth,i.height=o.toHeight;var a=i.getContext("2d",{alpha:Boolean(o.alpha)});a.drawImage(t,0,0),t.close();var u=a.getImageData(0,0,o.toWidth,o.toHeight);return r.__mathlib.unsharp(u.data,o.toWidth,o.toHeight,o.unsharpAmount,o.unsharpRadius,o.unsharpThreshold),n.putImageData(u,0,0),u=a=i=n=null,r.debug("Finished!"),e})}var p={};return function t(e,n,o,u){if(l)return s;var f=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(i=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.shift(),2),g=f[0],y=f[1],b=0===e.length;u=i({},u,{toWidth:g,toHeight:y,quality:b?u.quality:Math.min(1,u.quality)});var w=void 0;return b||((w=document.createElement("canvas")).width=g,w.height=y),function(t,e,n){var i=void 0,o=void 0,u=void 0;return Promise.resolve().then(function(){if(u=e.getContext("2d",{alpha:Boolean(n.alpha)}),a.isCanvas(t))return i=t.getContext("2d",{alpha:Boolean(n.alpha)}),null;if(a.isImage(t))return v?(r.debug("Decode image via createImageBitmap"),createImageBitmap(t).then(function(t){o=t})):null;throw new Error('".from" should be image or canvas')}).then(function(){if(l)return s;r.debug("Calculate tiles");var f=c({width:n.width,height:n.height,srcTileSize:r.options.tile,toWidth:n.toWidth,toHeight:n.toHeight,destTileBorder:h}).map(function(e){return function(e){return r.__limit(function(){if(l)return s;var c=void 0;if(a.isCanvas(t))r.debug("Get tile pixel data"),c=i.getImageData(e.x,e.y,e.width,e.height);else{r.debug("Draw tile imageBitmap/image to temporary canvas");var h=document.createElement("canvas");h.width=e.width,h.height=e.height;var f=h.getContext("2d",{alpha:Boolean(n.alpha)});f.globalCompositeOperation="copy",f.drawImage(o||t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.debug("Get tile pixel data"),c=f.getImageData(0,0,e.width,e.height),f=h=null}var g={src:c.data,width:e.width,height:e.height,toWidth:e.toWidth,toHeight:e.toHeight,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:e.offsetX,offsetY:e.offsetY,quality:n.quality,alpha:n.alpha,unsharpAmount:n.unsharpAmount,unsharpRadius:n.unsharpRadius,unsharpThreshold:n.unsharpThreshold};return r.debug("Invoke resize math"),Promise.resolve().then(function(){return t=g,Promise.resolve().then(function(){return r.features.ww?new Promise(function(e,n){var i=r.__workersPool.acquire();s&&s.catch(function(t){return n(t)}),i.value.onmessage=function(t){i.release(),t.data.err?n(t.data.err):e(t.data.result)},i.value.postMessage({opts:t,features:r.__requested_features,preload:{wasm_nodule:r.__mathlib.__}},[t.src.buffer])}):r.__mathlib.resizeAndUnsharp(t,p)});var t}).then(function(t){if(l)return s;c=null;var n=void 0;if(r.debug("Convert raw rgba tile result to ImageData"),m)n=new ImageData(new Uint8ClampedArray(t),e.toWidth,e.toHeight);else if((n=u.createImageData(e.toWidth,e.toHeight)).data.set)n.data.set(t);else for(var i=n.data.length-1;i>=0;i--)n.data[i]=t[i];return r.debug("Draw tile"),d?u.putImageData(n,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth+1e-5,e.toInnerHeight+1e-5):u.putImageData(n,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth,e.toInnerHeight),null})})}(e)});function g(){o&&(o.close(),o=null)}return r.debug("Process tiles"),Promise.all(f).then(function(){return r.debug("Finished!"),g(),e},function(t){throw g(),t})})}(n,b?o:w,u).then(function(){return b?o:(u.width=g,u.height=y,t(e,w,o,u))})}(u(o.width,o.height,o.toWidth,o.toHeight,r.options.tile,h),t,e,o)})},b.prototype.resizeBuffer=function(t){var e=this,n=i({},g,t);return this.init().then(function(){return e.__mathlib.resizeAndUnsharp(n)})},b.prototype.toBlob=function(t,e,n){return e=e||"image/png",new Promise(function(i){if(t.toBlob)t.toBlob(function(t){return i(t)},e,n);else{for(var r=atob(t.toDataURL(e,n).split(",")[1]),o=r.length,l=new Uint8Array(o),a=0;a<o;a++)l[a]=r.charCodeAt(a);i(new Blob([l],{type:e}))}})},b.prototype.debug=function(){},e.exports=b},{"./lib/mathlib":1,"./lib/pool":9,"./lib/stepper":10,"./lib/tiler":11,"./lib/utils":12,"./lib/worker":13,"object-assign":24,webworkify:25}]},{},[])("/")},t.exports=r()},g8cW:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("TToO"),r=n("Wubi"),o=function(t){function e(n,i){void 0===i&&(i=r.a.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():i()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return i.__extends(e,t),e.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,r):t.prototype.schedule.call(this,n,i,r)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(r.a)},gne3:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("TToO"),r=n("tUzZ"),o=n("lWPP"),l=n("p1Bo"),a=n("HC03"),s=n("/qTI"),u=function(t){function e(e,n){var i=t.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return i.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new h(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t},e.prototype.refCount=function(){return Object(s.a)()(this)},e}(o.a).prototype,c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:u._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},h=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return i.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.c);!function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}i.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}(l.a)},iP15:function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(e,n("DuR2"))},im1K:function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,s=t[t.length-1];return Object(r.a)(s)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof s&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof i.a?t[0]:Object(o.a)(n)(Object(l.a)(t,a))};var i=n("lWPP"),r=n("5eyr"),o=n("4jp/"),l=n("b2EL")},"j+ls":function(t,e,n){"use strict"},jAXq:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("TToO"),r=n("1E73"),o=n("3SjU"),l={},a=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.resultSelector))},t}(),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return i.__extends(e,t),e.prototype._next=function(t){this.values.push(l),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(Object(o.a)(this,i,i,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.values,a=this.toRespond?o[n]===l?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(r.a)},jE0U:function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r,o,l,a,s,u,c,h,d,p,f,g,m=(r=n("O4tu"))&&"object"==typeof r&&"default"in r?r.default:r,v=n("QJXb"),y=n("Pxmi"),b=n("fjI4"),w=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),y.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:y.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),_=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return y.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),C=function(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w(e)}}catch(t){}return new _},x=C("localStorage"),S=C("sessionStorage"),E=new b.Logger("@firebase/database"),T=(o=1,function(){return o++}),k=function(t){var e=y.stringToByteArray(t),n=new y.Sha1;n.update(e);var i=n.digest();return y.base64.encodeByteArray(i)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"==typeof t[i]&&"number"==typeof t[i].length?n+=A.apply(null,t[i]):n+="object"==typeof t[i]?y.stringify(t[i]):t[i],n+=" ";return n},D=null,O=!0,I=function(t,e){y.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(E.logLevel=b.LogLevel.VERBOSE,D=E.log.bind(E),e&&S.set("logging_enabled",!0)):"function"==typeof t?D=t:(D=null,S.remove("logging_enabled"))},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===O&&(O=!1,null===D&&!0===S.get("logging_enabled")&&I(!0)),D){var n=A.apply(null,t);D(n)}},P=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];R.apply(void 0,[t].concat(e))}},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+A.apply(void 0,t);E.error(n)},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+A.apply(void 0,t);throw E.error(n),new Error(n)},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+A.apply(void 0,t);E.warn(n)},L=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},F="[MIN_NAME]",V="[MAX_NAME]",B=function(t,e){if(t===e)return 0;if(t===F||e===V)return-1;if(e===F||t===V)return 1;var n=X(t),i=X(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},U=function(t,e){return t===e?0:t<e?-1:1},q=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+y.stringify(e))},W=function(t){if("object"!=typeof t||null===t)return y.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=y.stringify(e[r]),i+=":",i+=W(t[e[r]]);return i+"}"},H=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i},z=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else y.forEach(t,function(t,n){return e(n,t)})},G=function(t){var e,n,i,r,o,l,a;for(y.assert(!L(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),l=[],o=52;o;o-=1)l.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(e?1:0),l.reverse(),a=l.join("");var s="";for(o=0;o<64;o+=8){var u=parseInt(a.substr(o,8),2).toString(16);1===u.length&&(u="0"+u),s+=u}return s.toLowerCase()},Y=new RegExp("^-?\\d{1,10}$"),X=function(t){if(Y.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},K=function(t){try{t()}catch(t){setTimeout(function(){throw j("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Q=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=B(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),$=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=y.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=y.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=y.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt="long_polling",et=function(){function t(t,e,n,i,r){void 0===r&&(r=""),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=x.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&x.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(y.assert("string"==typeof t,"typeof type must == string"),y.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==tt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return y.forEach(e,function(t,e){i.push(t+"="+e)}),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),nt=function(t){var e=it(t),n=e.subdomain;return"firebase"===e.domain&&N(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||N("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&j("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new et(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new J(e.pathString)}},it=function(t){var e="",n="",i="",r="",o=!0,l="https",a=443;if("string"==typeof t){var s=t.indexOf("//");s>=0&&(l=t.substring(0,s-1),t=t.substring(s+2));var u=t.indexOf("/");-1===u&&(u=t.length);var c=t.indexOf("?");-1===c&&(c=t.length),e=t.substring(0,Math.min(u,c)),u<c&&(r=function(e){for(var n="",i=t.substring(u,c).split("/"),r=0;r<i.length;r++)if(i[r].length>0){var o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(t){}n+="/"+o}return n}());var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,i=t.split("&");n<i.length;n++){var r=i[n];if(0!==r.length){var o=r.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):j("Invalid query segment '"+r+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,c)));(s=e.indexOf(":"))>=0?(o="https"===l||"wss"===l,a=parseInt(e.substring(s+1),10)):s=t.length;var d=e.split(".");3===d.length?(n=d[1],i=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,s).toLowerCase()&&(n="localhost"),""===i&&"ns"in h&&(i=h.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:r}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,lt=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!L(t)||t&&"object"==typeof t&&y.contains(t,".sv")},ut=function(t,e,n,i,r){r&&void 0===n||ct(y.errorPrefix(t,e,r),n,i)},ct=function(t,e,n){var i=n instanceof J?new $(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(L(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>10485760/3&&y.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,o=!1;if(y.forEach(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!lt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),ct(t,n,i),i.pop()}),r&&o)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ht=function(t,e,n,i,r){if(!r||void 0!==n){var o=y.errorPrefix(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var l=[];y.forEach(n,function(t,e){var n=new J(t);if(ct(o,e,i.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(n)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!lt(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(J.comparePaths);var l=null;for(n=0;n<e.length;n++){if(i=e[n],null!==l&&l.contains(i))throw new Error(t+"contains a path "+l.toString()+" that is ancestor of another path "+i.toString());l=i}}(o,l)}},dt=function(t,e,n,i){if(!i||void 0!==n){if(L(n))throw new Error(y.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(y.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pt=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(y.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ft=function(t,e,n,i){if(!(i&&void 0===n||lt(n)))throw new Error(y.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gt=function(t,e,n,i){if(!(i&&void 0===n||at(n)))throw new Error(y.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!lt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(i))throw new Error(y.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){y.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),y.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new y.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){y.validateArgCount("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove",this.path_),y.validateCallback("OnDisconnect.remove",1,t,!0);var e=new y.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){y.validateArgCount("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),y.validateCallback("OnDisconnect.set",2,e,!0);var n=new y.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){y.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),dt("OnDisconnect.setWithPriority",2,e,!1),y.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new y.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(y.validateArgCount("OnDisconnect.update",1,2,arguments.length),mt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,j("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("OnDisconnect.update",1,t,this.path_,!1),y.validateCallback("OnDisconnect.update",2,e,!0);var r=new y.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),bt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return y.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(l="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a=0,s=[],function(t){var e,n=t===a;a=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=l.charAt(t%64),t=Math.floor(t/64);y.assert(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===s[e];e--)s[e]=0;s[e]++}else for(e=0;e<12;e++)s[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=l.charAt(s[e]);return y.assert(20===r.length,"nextPushId: Length should be 20."),r}),_t=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ct=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new _t(F,t),i=new _t(F,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return _t.MIN},t}(),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return u},set:function(t){u=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return B(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw y.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(V,u)},e.prototype.makePost=function(t,e){return y.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,u)},e.prototype.toString=function(){return".key"},e}(Ct),St=new xt,Et=function(t){return"number"==typeof t?"number:"+G(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();y.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&y.contains(e,".sv"),"Priority must be a string or number.")}else y.assert(t===c||t.isEmpty(),"priority of unexpected type.");y.assert(t===c||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},kt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,y.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(y.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Et(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?G(this.value_):this.value_,this.lazyHash_=k(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(y.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(i);return y.assert(r>=0,"Unknown leaf type: "+n),y.assert(o>=0,"Unknown leaf type: "+i),r===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),At=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?B(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(V,new kt("[PRIORITY-POST]",p))},e.prototype.makePost=function(t,e){var n=d(t);return new _t(e,new kt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ct)),Dt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Rt.EMPTY_NODE,this.right=null!=o?o:Rt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i,r;return(r=(i=n(t,(r=this).key))<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Rt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Rt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),It=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Rt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new It,t}(),Pt=Math.log(2),Mt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Pt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Nt=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,l,a=i-e;if(0==a)return null;if(1==a)return o=t[e],l=n?n(o):o,new Ot(l,o.node,Ot.BLACK,null,null);var s=parseInt(a/2,10)+e,u=r(e,s),c=r(s+1,i);return o=t[s],l=n?n(o):o,new Ot(l,o.node,Ot.BLACK,u,c)},o=function(e){for(var i=null,o=null,l=t.length,a=function(e,i){var o=l-e,a=l;l-=e;var u=r(o+1,a),c=t[o],h=n?n(c):c;s(new Ot(h,c.node,i,null,u))},s=function(t){i?(i.left=t,i=t):(o=t,i=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?a(h,Ot.BLACK):(a(h,Ot.BLACK),a(h,Ot.RED))}return o}(new Mt(t.length));return new Rt(i||e,o)},jt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return y.assert(jt&&At,"ChildrenNode.ts has not been loaded"),f=f||new t({".priority":jt},{".priority":At})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=y.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===jt?null:e},t.prototype.hasIndex=function(t){return y.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){y.assert(e!==St,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],o=!1,l=n.getIterator(_t.Wrap),a=l.getNext();a;)o=o||e.isDefinedOn(a.node),r.push(a),a=l.getNext();i=o?Nt(r,e.getCompare()):jt;var s=e.toString(),u=y.clone(this.indexSet_);u[s]=e;var c=y.clone(this.indexes_);return c[s]=i,new t(c,u)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(y.map(this.indexes_,function(t,r){var o=y.safeGet(i.indexSet_,r);if(y.assert(o,"Missing index implementation for "+r),t===jt){if(o.isDefinedOn(e.node)){for(var l=[],a=n.getIterator(_t.Wrap),s=a.getNext();s;)s.name!=e.name&&l.push(s),s=a.getNext();return l.push(e),Nt(l,o.getCompare())}return jt}var u=n.get(e.name),c=t;return u&&(c=c.remove(new _t(e.name,u))),c.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(y.map(this.indexes_,function(t){if(t===jt)return t;var i=n.get(e.name);return i?t.remove(new _t(e.name,i)):t}),this.indexSet_)},t}();function Ft(t,e){return B(t.name,e.name)}function Vt(t,e){return B(t,e)}var Bt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&y.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return g||(g=new t(new Rt(Vt),null,Lt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||g},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?g:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(y.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new _t(e,n),r=void 0,o=void 0;return n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_)),new t(r,r.isEmpty()?g:this.priorityNode_,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;y.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(At,function(l,a){n[l]=a.val(e),i++,o&&t.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!e&&o&&r<2*i){var l=[];for(var a in n)l[a]=n[a];return l}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Et(this.getPriority().val())+":"),this.forEachChild(At,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":k(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new _t(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,_t.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,_t.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===St||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===St||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(At),i=e.getIterator(At),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===St?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new Rt(Vt),Bt.EMPTY_NODE,Lt.Default)||this}return v.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Bt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Bt));Object.defineProperties(_t,{MIN:{value:new _t(F,Bt.EMPTY_NODE)},MAX:{value:new _t(V,Ut)}}),xt.__EMPTY_NODE=Bt.EMPTY_NODE,kt.__childrenNodeConstructor=Bt,c=Ut,p=Ut;var qt=!0;function Wt(t,e){if(void 0===e&&(e=null),null===t)return Bt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),y.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new kt(t,Wt(e));if(t instanceof Array||!qt){var n=Bt.EMPTY_NODE,i=t;return y.forEach(i,function(t,e){if(y.contains(i,t)&&"."!==t.substring(0,1)){var r=Wt(e);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(t,r))}}),n.updatePriority(Wt(e))}var r=[],o=!1,l=t;if(y.forEach(l,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Wt(l[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new _t(t,n)))}}),0==r.length)return Bt.EMPTY_NODE;var a=Nt(r,Ft,function(t){return t.name},Vt);if(o){var s=Nt(r,At.getCompare());return new Bt(a,Wt(e),new Lt({".priority":s},{".priority":At}))}return new Bt(a,Wt(e),Lt.Default)}d=Wt;var Ht,zt,Gt,Yt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?B(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return _t.MAX},e.prototype.makePost=function(t,e){var n=Wt(t);return new _t(e,n)},e.prototype.toString=function(){return".value"},e}(Ct)),Xt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,y.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return v.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?B(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=Wt(t),i=Bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new _t(e,i)},e.prototype.maxPost=function(){var t=Bt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new _t(V,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Ct),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return y.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return y.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return y.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return y.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){y.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),gt("DataSnapshot.child",1,e,!1);var n=new J(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,At)},t.prototype.hasChild=function(t){y.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),gt("DataSnapshot.hasChild",1,t,!1);var e=new J(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return y.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return y.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),y.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(i,r){return e(new t(r,n.ref_.child(i),At))})},t.prototype.hasChildren=function(){return y.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return y.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return y.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Qt=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+y.stringify(this.snapshot.exportVal())},t}(),Zt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Jt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Qt("value",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),$t=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return y.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.createEvent=function(t,e){y.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Qt(t.type,this,new Kt(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=y.getCount(e.callbacks_);if(n===y.getCount(this.callbacks_)){if(1===n){var i=y.getAnyKey(e.callbacks_),r=y.getAnyKey(this.callbacks_);return!(r!==i||e.callbacks_[i]&&this.callbacks_[r]&&e.callbacks_[i]!==this.callbacks_[r])}return y.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),te=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return y.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===St){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=F)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!=V)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===At){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(y.assert(t.getIndex()instanceof Xt||t.getIndex()===Yt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return y.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){y.validateArgCount("Query.on",2,4,arguments.length),pt("Query.on",1,e,!1),y.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",i,r);return"value"===e?this.onValueEvent(n,o.cancel,o.context):this.onChildEvent(function(){var t={};return t[e]=n,t}(),o.cancel,o.context),n},t.prototype.onValueEvent=function(t,e,n){var i=new Jt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new $t(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){y.validateArgCount("Query.off",0,3,arguments.length),pt("Query.off",1,t,!0),y.validateCallback("Query.off",2,e,!0),y.validateContextObject("Query.off",3,n,!0);var i=null,r=null;"value"===t?i=new Jt(e||null,null,n||null):t&&(e&&((r={})[t]=e),i=new $t(r,null,n||null)),this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var o=this;y.validateArgCount("Query.once",1,4,arguments.length),pt("Query.once",1,e,!1),y.validateCallback("Query.once",2,n,!0);var l=t.getCancelAndContextArgs_("Query.once",i,r),a=!0,s=new y.Deferred;s.promise.catch(function(){});var u=function(t){a&&(a=!1,o.off(e,u),n&&n.bind(l.context)(t),s.resolve(t))};return this.on(e,u,function(t){o.off(e,u),l.cancel&&l.cancel.bind(l.context)(t),s.reject(t)}),s.promise},t.prototype.limitToFirst=function(e){if(y.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(y.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(y.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');gt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new Xt(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){y.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(St);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){y.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(At);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){y.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Yt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),y.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),ft("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),y.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),ft("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(y.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),ft("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return y.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return y.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=W(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(y.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,i=this.path.equals(e.path),r=this.queryIdentifier()===e.queryIdentifier();return n&&i&&r},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,y.validateCallback(t,3,i.cancel,!0),i.context=n,y.validateContextObject(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(y.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ee=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return y.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return y.isEmpty(this.set)},t.prototype.count=function(){return y.getCount(this.set)},t.prototype.each=function(t){y.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return y.forEach(this.set,function(e){t.push(e)}),t},t}(),ne=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new ee);var i=e.getFront();this.children_.contains(i)||this.children_.add(i,new t);var r=this.children_.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(At,function(t,e){n.remember(new J(t),e)}),this.forget(t)}if(null!==this.children_){var i=t.getFront();return t=t.popFront(),this.children_.contains(i)&&this.children_.get(i).forget(t)&&this.children_.remove(i),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,i){var r=new J(t.toString()+"/"+n);i.forEachTree(r,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),ie=function(t,e){return t&&"object"==typeof t?(y.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,i=t.getPriority().val(),r=ie(i,e);if(t.isLeafNode()){var o=t,l=ie(o.getValue(),e);return l!==o.getValue()||r!==o.getPriority().val()?new kt(l,Wt(r)):t}var a=t;return n=a,r!==a.getPriority().val()&&(n=n.updatePriority(new kt(r))),a.forEachChild(At,function(t,i){var r=re(i,e);r!==i&&(n=n.updateImmediateChild(t,r))}),n},oe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),le=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,y.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ae=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oe.ACK_USER_WRITE,this.source=le.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return y.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(e));return new t(J.Empty,n,this.revert)}return y.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),se=function(){return zt||(zt=new Rt(U)),zt},ue=function(){function t(t,e){void 0===e&&(e=se()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return y.forEach(e,function(t,e){n=n.set(new J(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:J.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new J(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i,r=e.getFront(),o=(this.children.get(r)||t.Empty).setTree(e.popFront(),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(J.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(t.child(i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,J.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),o=this.children.get(r);return o?o.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,J.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(J.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),ce=function(){function t(t,e){this.source=t,this.path=e,this.type=oe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty):new t(this.source,this.path.popFront())},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new he(this.source,J.Empty,n.value):new t(this.source,J.Empty,n)}return y.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),fe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new pe(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new pe(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new pe(Bt.EMPTY_NODE,!1,!1),new pe(Bt.EMPTY_NODE,!1,!1)),t}(),ge=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),me=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,o){y.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(e);return l.getChild(i).equals(n.getChild(i))&&l.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ge.childRemovedChange(e,l)):y.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ge.childAddedChange(e,n)):o.trackChildChange(ge.childChangedChange(e,n,l))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(At,function(t,i){e.hasChild(t)||n.trackChildChange(ge.childRemovedChange(t,i))}),e.isLeafNode()||e.forEachChild(At,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(ge.childChangedChange(e,i,r))}else n.trackChildChange(ge.childAddedChange(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ve=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;y.assert(e==ge.CHILD_ADDED||e==ge.CHILD_CHANGED||e==ge.CHILD_REMOVED,"Only child changes supported for tracking"),y.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=y.safeGet(this.changeMap_,n);if(i){var r=i.type;if(e==ge.CHILD_ADDED&&r==ge.CHILD_REMOVED)this.changeMap_[n]=ge.childChangedChange(n,t.snapshotNode,i.snapshotNode);else if(e==ge.CHILD_REMOVED&&r==ge.CHILD_ADDED)delete this.changeMap_[n];else if(e==ge.CHILD_REMOVED&&r==ge.CHILD_CHANGED)this.changeMap_[n]=ge.childRemovedChange(n,i.oldSnap);else if(e==ge.CHILD_CHANGED&&r==ge.CHILD_ADDED)this.changeMap_[n]=ge.childAddedChange(n,t.snapshotNode);else{if(e!=ge.CHILD_CHANGED||r!=ge.CHILD_CHANGED)throw y.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap_[n]=ge.childChangedChange(n,t.snapshotNode,i.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return y.getValues(this.changeMap_)},t}(),ye=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),be=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){y.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),y.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var o,l,a=new ve;if(n.type===oe.OVERWRITE){var s=n;s.source.fromUser?o=this.applyUserOverwrite_(e,s.path,s.snap,i,r,a):(y.assert(s.source.fromServer,"Unknown source."),l=s.source.tagged||e.getServerCache().isFiltered()&&!s.path.isEmpty(),o=this.applyServerOverwrite_(e,s.path,s.snap,i,r,l,a))}else if(n.type===oe.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,i,r,a):(y.assert(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,i,r,l,a))}else if(n.type===oe.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(e,c.path,i,r,a):this.ackUserWrite_(e,c.path,c.affectedTree,i,r,a)}else{if(n.type!==oe.LISTEN_COMPLETE)throw y.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,i,a)}var h=a.getChanges();return t.maybeAddValueEvent_(e,o,h),new function(t,e){this.viewCache=t,this.changes=e}(o,h)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(ge.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var l=void 0,a=void 0;if(e.isEmpty())if(y.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var s=t.getCompleteServerSnap(),u=n.calcCompleteEventChildren(s instanceof Bt?s:Bt.EMPTY_NODE);l=this.filter_.updateFullNode(t.getEventCache().getNode(),u,r)}else{var c=n.calcCompleteEventCache(t.getCompleteServerSnap());l=this.filter_.updateFullNode(t.getEventCache().getNode(),c,r)}else{var h=e.getFront();if(".priority"==h){y.assert(1==e.getLength(),"Can't have a priority with additional path components");var d=o.getNode();a=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,a);l=null!=p?this.filter_.updatePriority(d,p):o.getNode()}else{var f=e.popFront(),g=void 0;if(o.isCompleteForChild(h)){a=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);g=null!=m?o.getNode().getImmediateChild(h).updateChild(f,m):o.getNode().getImmediateChild(h)}else g=n.calcCompleteChild(h,t.getServerCache());l=null!=g?this.filter_.updateChild(o.getNode(),h,g,f,i,r):o.getNode()}}return t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,o,l){var a,s=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered()){var c=s.getNode().updateChild(e,n);a=u.updateFullNode(s.getNode(),c,null)}else{var h=e.getFront();if(!s.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=s.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"==h?u.updatePriority(s.getNode(),p):u.updateChild(s.getNode(),h,p,d,ye,null)}var f=t.updateServerSnap(a,s.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),g=new be(i,f,r);return this.generateEventCacheAfterServerEvent_(f,e,i,g,l)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,o){var l,a,s=t.getEventCache(),u=new be(i,t,r);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),l=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),l=t.updateEventSnap(a,s.isFullyInitialized(),s.isFiltered());else{var h=e.popFront(),d=s.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):Bt.EMPTY_NODE}if(d.equals(p))l=t;else{var g=this.filter_.updateChild(s.getNode(),c,p,h,u,o);l=t.updateEventSnap(g,s.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,o,l){var a=this,s=e;return i.foreach(function(i,u){var c=n.child(i);t.cacheHasChild_(e,c.getFront())&&(s=a.applyUserOverwrite_(s,c,u,r,o,l))}),i.foreach(function(i,u){var c=n.child(i);t.cacheHasChild_(e,c.getFront())||(s=a.applyUserOverwrite_(s,c,u,r,o,l))}),s},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,o,l){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var s,u=t;s=e.isEmpty()?n:ue.Empty.setTree(e,n);var c=t.getServerCache().getNode();return s.children.inorderTraversal(function(e,n){if(c.hasChild(e)){var s=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(s,n);u=a.applyServerOverwrite_(u,new J(e),h,i,r,o,l)}}),s.children.inorderTraversal(function(e,n){var s=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!s){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new J(e),d,i,r,o,l)}}),u},t.prototype.ackUserWrite_=function(t,e,n,i,r,o){if(null!=i.shadowingWrite(e))return t;var l=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),i,r,l,o);if(e.isEmpty()){var s=ue.Empty;return a.getNode().forEachChild(St,function(t,e){s=s.set(new J(t),e)}),this.applyServerMerge_(t,e,s,i,r,l,o)}return t}var u=ue.Empty;return n.foreach(function(t,n){var i=e.child(t);a.isCompleteForPath(i)&&(u=u.set(t,a.getNode().getChild(i)))}),this.applyServerMerge_(t,e,u,i,r,l,o)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ye,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var o;if(null!=n.shadowingWrite(e))return t;var l=new be(n,t,i),a=t.getEventCache().getNode(),s=void 0;if(e.isEmpty()||".priority"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();y.assert(c instanceof Bt,"serverChildren would be complete if leaf node"),u=n.calcCompleteEventChildren(c)}s=this.filter_.updateFullNode(a,u=u,r)}else{var h=e.getFront(),d=n.calcCompleteChild(h,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(h)&&(d=a.getImmediateChild(h)),(s=null!=d?this.filter_.updateChild(a,h,d,e.popFront(),l,r):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(a,h,Bt.EMPTY_NODE,e.popFront(),l,r):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(s=this.filter_.updateFullNode(s,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),t.updateEventSnap(s,o,this.filter_.filtersNodes())},t}(),_e=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],o=[];return t.forEach(function(t){t.type===ge.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ge.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(r,ge.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,ge.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,ge.CHILD_MOVED,o,n,e),this.generateEventsForType_(r,ge.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,ge.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var o=this,l=n.filter(function(t){return t.type===e});l.sort(this.compareChanges_.bind(this)),l.forEach(function(e){var n=o.materializeSingleChange_(e,r);i.forEach(function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw y.assertionError("Should only compare child_ events.");var n=new _t(t.childName,t.snapshotNode),i=new _t(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),Ce=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new me(n.getIndex()),r=n.getNodeFilter();this.processor_=new we(r);var o=e.getServerCache(),l=e.getEventCache(),a=i.updateFullNode(Bt.EMPTY_NODE,o.getNode(),null),s=r.updateFullNode(Bt.EMPTY_NODE,l.getNode(),null),u=new pe(a,o.isFullyInitialized(),i.filtersNodes()),c=new pe(s,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=new fe(c,u),this.eventGenerator_=new _e(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){y.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(t){var r=t.createCancelEvent(e=e,i);r&&n.push(r)})}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var l=this.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(l)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===oe.MERGE&&null!==t.source.queryId&&(y.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),y.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),y.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(At,function(t,e){n.push(ge.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(ge.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),xe=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return y.assert(Gt,"Reference.ts has not been loaded"),Gt},set:function(t){y.assert(!Gt,"__referenceConstructor has already been defined"),Gt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return y.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var i=t.source.queryId;if(null!==i){var r=y.safeGet(this.views_,i);return y.assert(null!=r,"SyncTree gave us an op for an invalid query."),r.applyOperation(t,e,n)}var o=[];return y.forEach(this.views_,function(i,r){o=o.concat(r.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,i,r){var o=t.queryIdentifier(),l=y.safeGet(this.views_,o);if(!l){var a=n.calcCompleteEventCache(r?i:null),s=!1;a?s=!0:i instanceof Bt?(a=n.calcCompleteEventChildren(i),s=!1):(a=Bt.EMPTY_NODE,s=!1);var u=new fe(new pe(a,s,!1),new pe(i,r,!1));l=new Ce(t,u),this.views_[o]=l}return l.addEventRegistration(e),l.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var r=e.queryIdentifier(),o=[],l=[],a=this.hasCompleteView();if("default"===r){var s=this;y.forEach(this.views_,function(t,e){l=l.concat(e.removeEventRegistration(n,i)),e.isEmpty()&&(delete s.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var u=y.safeGet(this.views_,r);u&&(l=l.concat(u.removeEventRegistration(n,i)),u.isEmpty()&&(delete this.views_[r],u.getQuery().getQueryParams().loadsAllData()||o.push(u.getQuery())))}return a&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:l}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return y.forEach(this.views_,function(n,i){e=e||i.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return y.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return y.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Se=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ue(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,l=J.relativePath(r,e);return o=o.updateChild(l,n),new t(this.writeTree_.set(r,o))}var a=new ue(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return y.forEach(e,function(e,i){n=n.addWrite(t.child(e),i)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ue.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(J.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(At,function(e,n){t.push(new _t(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new _t(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ue(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(J.Empty,this.writeTree_,e)},t.Empty=new t(new ue(null)),t.applySubtreeWrite_=function(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(y.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=t.applySubtreeWrite_(e.child(n),o,i)}),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i},t}(),Ee=function(){function t(){this.visibleWrites_=Se.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Te(t,this)},t.prototype.addOverwrite=function(t,e,n,i){y.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){y.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});y.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,l=this.allWrites_.length-1;r&&l>=0;){var a=this.allWrites_[l];a.visible&&(l>=n&&this.recordContainsPath_(a,i.path)?r=!1:i.path.contains(a.path)&&(o=!0)),l--}return!!r&&(o?(this.resetTree_(),!0):(i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):y.forEach(i.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var o=this.visibleWrites_.childCompoundWrite(e);return!r&&o.isEmpty()?n:r||null!=n||o.hasCompleteWrite(J.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||Bt.EMPTY_NODE):null}var l=this.visibleWrites_.getCompleteNode(e);if(null!=l)return l;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(J.Empty)?a.apply(n||Bt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Bt.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(At,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(At,function(t,e){var i=r.childCompoundWrite(new J(t)).apply(e);n=n.updateImmediateChild(t,i)}),r.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){y.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(e):o.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,o){var l,a=this.visibleWrites_.childCompoundWrite(t),s=a.getCompleteNode(J.Empty);if(null!=s)l=s;else{if(null==e)return[];l=a.apply(e)}if((l=l.withIndex(o)).isEmpty()||l.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=r?l.getReverseIteratorFrom(n,o):l.getIteratorFrom(n,o),d=h.getNext();d&&u.length<i;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!y.findKey(t.children,function(n,i){return t.path.child(i).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=Se.Empty,r=0;r<t.length;++r){var o=t[r];if(e(o)){var l=o.path,a=void 0;if(o.snap)n.contains(l)?(a=J.relativePath(n,l),i=i.addWrite(a,o.snap)):l.contains(n)&&(a=J.relativePath(l,n),i=i.addWrite(J.Empty,o.snap.getChild(a)));else{if(!o.children)throw y.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))a=J.relativePath(n,l),i=i.addWrites(a,o.children);else if(l.contains(n))if((a=J.relativePath(l,n)).isEmpty())i=i.addWrites(J.Empty,o.children);else{var s=y.safeGet(o.children,a.getFront());if(s){var u=s.getChild(a.popFront());i=i.addWrite(J.Empty,u)}}}}}return i},t}(),Te=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),ke=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ue.Empty,this.pendingWriteTree_=new Ee,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new he(le.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=ue.fromObject(e);return this.applyOperationToSyncPoints_(new de(le.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=ue.Empty;return null!=n.snap?i=i.set(J.Empty,!0):y.forEach(n.children,function(t,e){i=i.set(new J(t),e)}),this.applyOperationToSyncPoints_(new ae(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new he(le.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ue.fromObject(e);return this.applyOperationToSyncPoints_(new de(le.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ce(le.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=t.parseQueryKey_(r),l=o.path,a=o.queryId,s=J.relativePath(l,e),u=new he(le.forServerTaggedQuery(a),s,n);return this.applyTaggedOperation_(l,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var o=t.parseQueryKey_(r),l=o.path,a=o.queryId,s=J.relativePath(l,e),u=ue.fromObject(n),c=new de(le.forServerTaggedQuery(a),s,u);return this.applyTaggedOperation_(l,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),o=r.path,l=r.queryId,a=J.relativePath(o,e),s=new ce(le.forServerTaggedQuery(l),a);return this.applyTaggedOperation_(o,s)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,function(t,e){var n=J.relativePath(t,i);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var l,a=this.syncPointTree_.get(i);a?(o=o||a.hasCompleteView(),r=r||a.getCompleteServerCache(J.Empty)):(a=new xe,this.syncPointTree_=this.syncPointTree_.set(i,a)),null!=r?l=!0:(l=!1,r=Bt.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=e.getCompleteServerCache(J.Empty);n&&(r=r.updateImmediateChild(t,n))}));var s=a.viewExistsForQuery(e);if(!s&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);y.assert(!(u in this.queryToTagMap_),"View does not exist, but we have a tag");var c=t.getNextQueryTag_();this.queryToTagMap_[u]=c,this.tagToQueryMap_["_"+c]=u}var h=this.pendingWriteTree_.childWrites(i),d=a.addEventRegistration(e,n,h,r,l);if(!s&&!o){var p=a.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,i){var r=this,o=e.path,l=this.syncPointTree_.get(o),a=[];if(l&&("default"===e.queryIdentifier()||l.viewExistsForQuery(e))){var s=l.removeEventRegistration(e,n,i);l.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],m=g.getQuery(),v=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),v.hashFn,v.onComplete)}}!h&&u.length>0&&!i&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach(function(e){var n=r.queryToTagMap_[t.makeQueryKey_(e)];r.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,function(e,n){var i=J.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r});return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),y.forEach(n,function(t,e){i=i.concat(e)}),i})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(n),l=this.listenProvider_.startListening(t.queryForListening_(e),r,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(i);if(r)y.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=a.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),y.forEach(n,function(t,e){i=i.concat(e)}),i}),u=0;u<s.length;++u){var c=s[u];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return l},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Bt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return y.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return y.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);y.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(J.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(J.Empty));var o=[],l=t.path.getFront(),a=t.operationForChild(l),s=e.children.get(l);if(s&&a){var u=n?n.getImmediateChild(l):null,c=i.child(l);o=o.concat(this.applyOperationHelper_(a,s,u,c))}return r&&(o=o.concat(r.applyOperation(t,i,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,o=e.get(J.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(J.Empty));var l=[];return e.children.inorderTraversal(function(e,o){var a=n?n.getImmediateChild(e):null,s=i.child(e),u=t.operationForChild(e);u&&(l=l.concat(r.applyOperationDescendantsHelper_(u,o,a,s)))}),o&&(l=l.concat(o.applyOperation(t,i,n))),l},t.nextQueryTag_=1,t}(),Ae=function(){function t(){this.rootNode_=Bt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),De=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(R("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';j(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Oe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),y.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return y.deepCopy(this.counters_)},t}(),Ie=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Oe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=y.clone(t);return this.last_&&y.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Pe=1e4,Me=3e4,Ne=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=Pe+(Me-Pe)*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;y.forEach(e,function(e,r){r>0&&y.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),je=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Le(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Le=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();D&&R("event: "+e.toString()),K(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Fe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},y.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=this.listeners_[t].slice(),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){y.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ve=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return v.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return y.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Fe),Be=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||"undefined"==typeof window.addEventListener||y.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return v.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return y.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Fe),Ue=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&K(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),qe="pLPCommand",We="pRTLPCB",He=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=P(t),this.stats_=Ie.getCollection(e),this.urlFn=function(t){return e.connectionURL(tt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ue(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(y.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new ze(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=r,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);r?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(r,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,r)},function(){n.onClosed_()},n.urlFn);var t=function(){var t={start:"t"};return t.ser=Math.floor(1e8*Math.random()),t}();n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!y.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!y.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=y.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=y.base64Encode(e),i=H(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){y.isNodeSdk()||(this.myDisconnFrame=document.createElement("iframe"),this.myDisconnFrame.src=this.urlFn(function(){var n={dframe:"t"};return n.id=t,n.pw=e,n}()),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame))},t.prototype.incrementIncomingBytes_=function(t){var e=y.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),ze=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new ee,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,y.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=T(),window[qe+this.uniqueCallbackIdentifier]=e,window[We+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(t){R("frame writing exception"),t.stack&&R(t.stack),R(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||R("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),y.isNodeSdk()&&this.myID){var n=this.urlFn(function(){var t={disconn:"t"};return t.id=this.myID,t.pw=this.myPW,t}());t.nodeRestRequest(n)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;for(var t=this.urlFn(function(){var t={};return t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial,t}()),e="",n=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+e.length<=1870;){var i=this.pendingSegs.shift();e=e+"&seg"+n+"="+i.seg+"&ts"+n+"="+i.ts+"&d"+n+"="+i.d,n++}return this.addLongPollTag_(t+=e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var i=function(){n.outstandingRequests.remove(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;y.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){R("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(t){}},Math.floor(1))},t}(),Ge=null;"undefined"!=typeof MozWebSocket?Ge=MozWebSocket:"undefined"!=typeof WebSocket&&(Ge=WebSocket);var Ye=function(){function t(e,n,i,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=P(this.connId),this.stats_=Ie.getCollection(n),this.connURL=t.connectionURL_(n,i,r)}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!y.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL("websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,x.set("previous_websocket_failure",!0);try{if(y.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+m.SDK_VERSION+"/"+i.platform+"/"+(y.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},o=i.env,l=0==this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;l&&(r.proxy={origin:l}),this.mySock=new Ge(this.connURL,[],r)}else this.mySock=new Ge(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var a=t.message||t.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ge&&!t.forceDisallow_},t.previouslyFailed=function(){return x.isInMemoryStorage||!0===x.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){x.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=y.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(y.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=y.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=H(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Xe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,Ye]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Ye&&Ye.isAvailable(),i=n&&!Ye.previouslyFailed();if(e.webSocketOnly&&(n||j("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ye];else{var r=this.transports_=[];z(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&r.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ke=function(){function t(t,e,n,i,r,o,l){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=P("c:"+this.id+":"),this.transportManager_=new Xe(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Z(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=q("t",t),n=q("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=q("t",t),n=q("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=q("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?M("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&j("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Z(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(x.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Qe=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ze=1e3,Je=3e5,$e=function(t){function e(n,i,r,o,l,a){var s=t.call(this)||this;if(s.repoInfo_=n,s.onDataUpdate_=i,s.onConnectStatus_=r,s.onServerInfoUpdate_=o,s.authTokenProvider_=l,s.authOverride_=a,s.id=e.nextPersistentConnectionId_++,s.log_=P("p:"+s.id+":"),s.interruptReasons_={},s.listens_={},s.outstandingPuts_=[],s.outstandingPutCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=Ze,s.maxReconnectDelay_=Je,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!y.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),Ve.getInstance().on("visible",s.onVisible_,s),-1===n.host.indexOf("fblocal")&&Be.getInstance().on("online",s.onOnline_,s),s}return v.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(y.stringify(r)),y.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens_[o]=this.listens_[o]||{},y.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),y.assert(!this.listens_[o][r],"listen() called twice for same path/queryId.");var l={onComplete:i,hashFn:e,query:t,tag:n};this.listens_[o][r]=l,this.connected_&&this.sendListen_(l)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var l={p:r};t.tag&&(l.q=i.queryObject(),l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,function(l){var a=l.d,s=l.s;e.warnOnListenWarnings_(a,i),(n.listens_[r]&&n.listens_[r][o])===t&&(n.log_("listen response",l),"ok"!==s&&n.removeListen_(r,o),t.onComplete&&t.onComplete(s,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&y.contains(t,"w")){var n=y.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();j("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||y.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=y.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),y.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+y.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):M("Unrecognized action received from server: "+y.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;y.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ze),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,o=this,l=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,i())};this.realtime_={close:u,sendRequest:function(t){y.assert(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then(function(e){a?R("getToken() completed but was canceled"):(R("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,s=new Ke(r,o.repoInfo_,t,n,i,function(t){j(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},l))}).then(null,function(t){o.log_("Failed to get token: "+t),a||(y.CONSTANTS.NODE_ADMIN&&j(t),u())})}},e.prototype.interrupt=function(t){R("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){R("Resuming connection for reason: "+t),delete this.interruptReasons_[t],y.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Ze,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return W(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new J(t).toString();return void 0!==this.listens_[i]?(n=this.listens_[i][e],delete this.listens_[i][e],0===y.getCount(this.listens_[i])&&delete this.listens_[i]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){R("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),y.forEach(this.listens_,function(e,n){y.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";y.CONSTANTS.NODE_ADMIN?e="admin_node":y.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+m.SDK_VERSION.replace(/\./g,"-")]=1,y.isMobileCordova()?t["framework.cordova"]=1:y.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Be.getInstance().currentlyOnline();return y.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Qe),tn=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=P("p:rest:"),r.listens_={},r}return v.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(y.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var o=this,l=t.path.toString();this.log_("Listen called for "+l+" "+t.queryIdentifier());var a=e.getListenId_(t,i),s={};this.listens_[a]=s;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(l+".json",u,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(l,n,!1,i),y.safeGet(o.listens_,a)===s&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var o=r&&r.accessToken;o&&(e.auth=o);var l=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+y.querystring(e);i.log_("Sending REST request for "+l);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){i.log_("REST Response for "+l+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=y.jsonEval(a.responseText)}catch(t){j("Failed to parse JSON response for "+l+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&j("Got unsuccessful REST response for "+l+" Status: "+a.status),n(a.status);n=null}},a.open("GET",l,!0),a.send()})},e}(Qe),en=function(){function t(t,e,n){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new je,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ne,this.persistentConnection_=null;var r=new De(n);if(this.stats_=Ie.getCollection(t),e||Q())this.server_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if("undefined"!=typeof o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{y.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new $e(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(t){i.server_.refreshAuthToken(t)}),this.statsReporter_=Ie.getOrCreateReporter(t,function(){return new Ne(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new Ae,this.infoSyncTree_=new ke({startListening:function(t,e,n,r){var o=[],l=i.infoData_.getNode(t.path);return l.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,l),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new ke({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new J(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(i)if(n){var l=y.map(e,function(t){return Wt(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(r,l,i)}else{var a=Wt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,a,i)}else if(n){var s=y.map(e,function(t){return Wt(t)});o=this.serverSyncTree_.applyServerMerge(r,s)}else{var u=Wt(e);o=this.serverSyncTree_.applyServerOverwrite(r,u)}var c=r;o.length>0&&(c=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(c,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;z(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new J("/.info/"+t),i=Wt(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),l=Wt(e,n),a=re(l,o),s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,a,s,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),l.val(!0),function(e,n){var o="ok"===e;o||j("set at "+t+" failed: "+e);var l=r.serverSyncTree_.ackUserWrite(s,!o);r.eventQueue_.raiseEventsForChangedPath(t,l),r.callOnCompleteCallback(i,e,n)});var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,o=this.generateServerValues(),l={};if(y.forEach(e,function(t,e){r=!1;var n=Wt(e);l[t]=re(n,o)}),r)R("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserMerge(t,l,a);this.eventQueue_.queueEvents(s),this.server_.merge(t.toString(),e,function(e,r){var o="ok"===e;o||j("update at "+t+" failed: "+e);var l=i.serverSyncTree_.ackUserWrite(a,!o),s=l.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(s,l),i.callOnCompleteCallback(n,e,r)}),y.forEach(e,function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];(function(t,e){var n=new ne;return t.forEachTree(new J(""),function(t,i){n.remember(t,re(i,e))}),n})(this.onDisconnect_,e).forEachTree(J.Empty,function(e,i){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,i));var r=t.abortTransactions_(e);t.rerunTransactions_(r)}),this.onDisconnect_=new ne,this.eventQueue_.raiseEventsForChangedPath(J.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)})},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=Wt(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),function(e,o){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,o=Wt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(i,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(y.isEmpty(e))return R("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(r,o){"ok"===r&&y.forEach(e,function(e,n){var r=Wt(n);i.onDisconnect_.remember(t.child(e),r)}),i.callOnCompleteCallback(n,r,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);y.forEach(e,function(t,e){for(var i=t.length;i<n+2;i++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),R.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&K(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new dn(this))},enumerable:!0,configurable:!0}),t}(),nn=function(){function t(e){this.indexedFilter_=new me(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new _t(e,n))||(n=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Bt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Bt.EMPTY_NODE);var r=this;return e.forEachChild(At,function(t,e){r.matches(new _t(t,e))||(i=i.updateImmediateChild(t,Bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),rn=function(){function t(t){this.rangedFilter_=new nn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new _t(e,n))||(n=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Bt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var l=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:this.index_.compare(l,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(l.name,l.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Bt.EMPTY_NODE);var a=void 0,s=void 0,u=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();)l=r.getNext(),!h&&u(a,l)<=0&&(h=!0),h&&o<this.limit_&&u(l,s)<=0?o++:i=i.updateImmediateChild(l.name,Bt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var o;if(this.reverse_){var l=this.index_.getCompare();o=function(t,e){return l(e,t)}}else o=this.index_.getCompare();var a=t;y.assert(a.numChildren()==this.limit_,"");var s=new _t(e,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(a.hasChild(e)){for(var h=a.getImmediateChild(e),d=i.getChildAfterChild(this.index_,u,this.reverse_);null!=d&&(d.name==e||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,s);if(c&&!n.isEmpty()&&p>=0)return null!=r&&r.trackChildChange(ge.childChangedChange(e,n,h)),a.updateImmediateChild(e,n);null!=r&&r.trackChildChange(ge.childRemovedChange(e,h));var f=a.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=r&&r.trackChildChange(ge.childAddedChange(d.name,d.node)),f.updateImmediateChild(d.name,d.node)):f}return n.isEmpty()?t:c&&o(u,s)>=0?(null!=r&&(r.trackChildChange(ge.childRemovedChange(u.name,u.node)),r.trackChildChange(ge.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(u.name,Bt.EMPTY_NODE)):t},t}(),on=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return y.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return y.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return y.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return y.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:V},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return y.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==At&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==At},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new me(this.getIndex()):this.hasLimit()?new rn(this):new nn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===At?e=n.PRIORITY_INDEX:this.index_===Yt?e=n.VALUE_INDEX:this.index_===St?e=n.KEY_INDEX:(y.assert(this.index_ instanceof Xt,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=y.stringify(e),this.startSet_&&(i[n.START_AT]=y.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+y.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=y.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+y.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),ln=function(t){function e(e,n){if(!(e instanceof en))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,on.DEFAULT,!1)||this}return v.__extends(e,t),e.prototype.getKey=function(){return y.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return y.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof J||(null===this.path.getFront()?function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gt("Reference.child",1,n,!1)}(0,0,t):gt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){y.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){y.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){y.validateArgCount("Reference.set",1,2,arguments.length),mt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),y.validateCallback("Reference.set",2,e,!0);var n=new y.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(y.validateArgCount("Reference.update",1,2,arguments.length),mt("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,j("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("Reference.update",1,t,this.path,!1),y.validateCallback("Reference.update",2,e,!0);var r=new y.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(y.validateArgCount("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),dt("Reference.setWithPriority",2,e,!1),y.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new y.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return y.validateArgCount("Reference.remove",0,1,arguments.length),mt("Reference.remove",this.path),y.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(y.validateArgCount("Reference.transaction",1,3,arguments.length),mt("Reference.transaction",this.path),y.validateCallback("Reference.transaction",1,t,!1),y.validateCallback("Reference.transaction",2,e,!0),function(t,e,i,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(y.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new y.Deferred;return"function"==typeof e&&i.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,r){t?i.reject(t):i.resolve(new bt(n,r)),"function"==typeof e&&e(t,n,r)},n),i.promise},e.prototype.setPriority=function(t,e){y.validateArgCount("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority",this.path),dt("Reference.setPriority",1,t,!1),y.validateCallback("Reference.setPriority",2,e,!0);var n=new y.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){y.validateArgCount("Reference.push",0,2,arguments.length),mt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),y.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=wt(i),o=this.child(r),l=this.child(r);return n=null!=t?o.set(t,e).then(function(){return l}):Promise.resolve(l),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return mt("Reference.onDisconnect",this.path),new yt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(te);te.__referenceConstructor=ln,xe.__referenceConstructor=ln;var an=function(){this.children={},this.childCount=0,this.value=null},sn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new an),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,i=e instanceof J?e:new J(e),r=this;null!==(n=i.getFront());)r=new t(n,r,y.safeGet(r.node_.children,n)||new an),i=i.popFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){y.assert("undefined"!=typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;y.forEach(this.node_.children,function(i,r){e(new t(i,n,r))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=y.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),un=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactions_init_=function(){this.transactionQueueTree_=new sn},en.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},o=new ln(this,t);o.on("value",r);var l={path:t,update:e,onComplete:n,status:null,order:T(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);l.currentInputSnapshot=a;var s=l.update(a.val());if(void 0===s){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var u=new Kt(l.currentInputSnapshot,new ln(this,l.path),At);l.onComplete(null,!1,u)}}else{ct("transaction failed: Data returned ",s,l.path),l.status=un.RUN;var c=this.transactionQueueTree_.subTree(t),h=c.getValue()||[];h.push(l),c.setValue(h);var d=void 0;"object"==typeof s&&null!==s&&y.contains(s,".priority")?(d=y.safeGet(s,".priority"),y.assert(st(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Bt.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),f=Wt(s,d),g=re(f,p);l.currentOutputSnapshotRaw=f,l.currentOutputSnapshotResolved=g,l.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,g,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Bt.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);y.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===un.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},en.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map(function(t){return t.currentWriteId}),r=this.getLatestState_(t,i),o=r,l=r.hash(),a=0;a<e.length;a++){var s=e[a];y.assert(s.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=un.SENT,s.retryCount++;var u=J.relativePath(t,s.path);o=o.updateChild(u,s.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;this.server_.put(h.toString(),c,function(i){n.log_("transaction put response",{path:h.toString(),status:i});var r=[];if("ok"===i){for(var o=[],l=0;l<e.length;l++){if(e[l].status=un.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[l].currentWriteId)),e[l].onComplete){var a=e[l].currentOutputSnapshotResolved,s=new ln(n,e[l].path),u=new Kt(a,s,At);o.push(e[l].onComplete.bind(null,null,!0,u))}e[l].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),l=0;l<o.length;l++)K(o[l])}else{if("datastale"===i)for(l=0;l<e.length;l++)e[l].status=e[l].status===un.SENT_NEEDS_ABORT?un.NEEDS_ABORT:un.RUN;else for(j("transaction at "+h.toString()+" failed: "+i),l=0;l<e.length;l++)e[l].status=un.NEEDS_ABORT,e[l].abortReason=i;n.rerunTransactions_(t)}},l)},en.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},en.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter(function(t){return t.status===un.RUN}).map(function(t){return t.currentWriteId}),o=0;o<t.length;o++){var l=t[o],a=J.relativePath(e,l.path),s=!1,u=void 0;if(y.assert(null!==a,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===un.NEEDS_ABORT)s=!0,u=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===un.RUN)if(l.retryCount>=en.MAX_TRANSACTION_RETRIES_)s=!0,u="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var c=this.getLatestState_(l.path,r);l.currentInputSnapshot=c;var h=t[o].update(c.val());if(void 0!==h){ct("transaction failed: Data returned ",h,l.path);var d=Wt(h);"object"==typeof h&&null!=h&&y.contains(h,".priority")||(d=d.updatePriority(c.getPriority()));var p=l.currentWriteId,f=this.generateServerValues(),g=re(d,f);l.currentOutputSnapshotRaw=d,l.currentOutputSnapshotResolved=g,l.currentWriteId=this.getNextWriteId_(),r.splice(r.indexOf(p),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,g,l.currentWriteId,l.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else s=!0,u="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],s&&(t[o].status=un.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===u){var m=new ln(this,t[o].path),v=new Kt(t[o].currentInputSnapshot,m,At);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(u),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)K(n[o]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},en.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},en.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},en.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==un.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},en.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},en.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,o=0;o<e.length;o++)e[o].status===un.SENT_NEEDS_ABORT||(e[o].status===un.SENT?(y.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,e[o].status=un.SENT_NEEDS_ABORT,e[o].abortReason="set"):(y.assert(e[o].status===un.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),o=0;o<n.length;o++)K(n[o])}};var cn,hn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return cn||(cn=new t),cn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&N("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=nt(n),r=i.repoInfo;return vt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||N("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(r,t).database},t.prototype.deleteRepo=function(t){var e=y.safeGet(this.repos_,t.app.name);e&&y.safeGet(e,t.repoInfo_.toURLString())===t||N("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=y.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var i=y.safeGet(n,t.toURLString());return i&&N("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new en(t,this.useRestClient_,e),n[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),dn=function(){function t(t){this.repo_=t,t instanceof en||N("Don't call new Database() directly - please use firebase.database()."),this.root_=new ln(t,J.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),y.validateArgCount("database.ref",0,1,arguments.length),t instanceof ln?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),y.validateArgCount(e,1,1,arguments.length);var n=nt(t);vt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&N(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&N("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){y.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){y.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),pn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){return this.database.checkDeleted_("delete"),hn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),fn=Object.freeze({forceLongPolling:function(){Ye.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return Ye.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),gn=$e;$e.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},$e.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var mn=Object.freeze({DataConnection:gn,RealTimeConnection:Ke,hijackHash:function(t){var e=$e.prototype.put;return $e.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){$e.prototype.put=e}},ConnectionTarget:et,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){hn.getInstance().forceRestClient(t)}}),vn=dn.ServerValue;function yn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return hn.getInstance().databaseFromApp(t,n)},{Reference:ln,Query:te,Database:dn,DataSnapshot:Kt,enableLogging:I,INTERNAL:fn,ServerValue:vn,TEST_ACCESS:mn},null,!0);y.isNodeSdk()&&(t.exports=n)}yn(m),e.DataSnapshot=Kt,e.Database=dn,e.OnDisconnect=yt,e.Query=te,e.Reference=ln,e.ServerValue=vn,e.enableLogging=I,e.registerDatabase=yn}).call(e,n("W2nU"))},jOgh:function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t},e.isBuffer=t.isBuffer}).call(e,n("63KW").Buffer)},kMPS:function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var l={};if("string"!=typeof t||0===t.length)return l;var a=/\+/g;t=t.split(e);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var h,d,p,f,g=t[c].replace(a,"%20"),m=g.indexOf(n);m>=0?(h=g.substr(0,m),d=g.substr(m+1)):(h=g,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),i(l,p)?r(l[p])?l[p].push(f):l[p]=[l[p],f]:l[p]=f}return l};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},"kk5+":function(t,e,n){"use strict";function i(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},kxiW:function(t,e,n){"use strict";var i,r=(i=n("O4tu"))&&"object"==typeof i&&"default"in i?i.default:i;n("fqSz"),n("jE0U"),n("Wk+B"),n("aEs4"),n("dqyG"),n("D8I6"),n("/azD"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),t.exports=r},l7Gt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return r}),e.__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n},e.__decorate=function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},e.__param=function(t,e){return function(n,i){e(n,i,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=l,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{(n=r[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:a(t[i](e)),done:"return"===i}:r?r(e):e}:r}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof o?o(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},lKpf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},lWPP:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("Qw/m"),r=n("SAuu"),o=n("V9Cg"),l=n("eYUY"),a=n("lKpf"),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,o=Object(r.a)(t,e,n);if(o.add(i?i.call(o,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(i.a)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=u(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(t){i(t),r&&r.unsubscribe()}},i,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(l.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}();function u(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},lyWU:function(t,e,n){"use strict";e.b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(r.a)(t,void 0).lift(new c(n))},n.d(e,"a",function(){return c});var i=n("TToO"),r=n("b2EL"),o=n("YgML"),l=n("p1Bo"),a=n("1E73"),s=n("3SjU"),u=n("uOsm"),c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,n,i){void 0===i&&(i=Object.create(null));var r=t.call(this,e)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:null,r.values=i,r}return i.__extends(e,t),e.prototype._next=function(t){var e=this.iterators;Object(o.a)(t)?e.push(new p(t)):e.push("function"==typeof t[u.a]?new d(t[u.a]()):new f(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var i=t[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,i=0;i<e;i++)if("function"==typeof(l=t[i]).hasValue&&!l.hasValue())return;var r=!1,o=[];for(i=0;i<e;i++){var l,a=(l=t[i]).next();if(l.hasCompleted()&&(r=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),r&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(l.a),d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.a]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),f=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return i.__extends(e,t),e.prototype[u.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(s.a)(this,this.observable,this,e)},e}(a.a)},mbU0:function(t,e,n){(function(t,i,r){var o=n("ZqVu"),l=n("LC74"),a=n("cSWu"),s=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=e.IncomingMessage=function(e,n,l,s){var u=this;if(a.Readable.call(u),u._mode=l,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){t.nextTick(function(){u.emit("close")})}),"fetch"===l){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach(function(t,e){u.headers[e.toLowerCase()]=t,u.rawHeaders.push(e,t)}),o.writableStream){var c=new WritableStream({write:function(t){return new Promise(function(e,n){u._destroyed?n():u.push(new i(t))?e():u._resumeFetch=e})},close:function(){r.clearTimeout(s),u._destroyed||u.push(null)},abort:function(t){u._destroyed||u.emit("error",t)}});try{return void n.body.pipeTo(c).catch(function(t){r.clearTimeout(s),u._destroyed||u.emit("error",t)})}catch(t){}}var h=n.body.getReader();!function t(){h.read().then(function(e){if(!u._destroyed){if(e.done)return r.clearTimeout(s),void u.push(null);u.push(new i(e.value)),t()}}).catch(function(t){r.clearTimeout(s),u._destroyed||u.emit("error",t)})}()}else if(u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(e[2])):void 0!==u.headers[n]?u.headers[n]+=", "+e[2]:u.headers[n]=e[2],u.rawHeaders.push(e[1],e[2])}}),u._charset="x-user-defined",!o.overrideMimeType){var d=u.rawHeaders["mime-type"];if(d){var p=d.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}};l(u,a.Readable),u.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},u.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==s.DONE)break;try{n=new r.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new i(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var l=new i(o.length),a=0;a<o.length;a++)l[a]=255&o.charCodeAt(a);t.push(l)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==s.DONE||!e.response)break;n=e.response,t.push(new i(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==s.LOADING||!n)break;t.push(new i(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==s.LOADING)break;var u=new r.MSStreamReader;u.onprogress=function(){u.result.byteLength>t._pos&&(t.push(new i(new Uint8Array(u.result.slice(t._pos)))),t._pos=u.result.byteLength)},u.onload=function(){t.push(null)},u.readAsArrayBuffer(n)}t._xhr.readyState===s.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(e,n("W2nU"),n("63KW").Buffer,n("DuR2"))},nErl:function(t,e){(function(e){t.exports=e}).call(e,{})},nFqq:function(t,e,n){(function(t){var i=n("rzLl"),r=n("mbU0"),o=n("q+vg"),l=n("K3Fi"),a=n("UZ5h"),s=e;s.request=function(e,n){e="string"==typeof e?a.parse(e):o(e);var r=-1===t.location.protocol.search(/^https?:$/)?"http:":"",l=e.protocol||r,s=e.hostname||e.host,u=e.port,c=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?l+"//"+s:"")+(u?":"+u:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new i(e);return n&&h.on("response",n),h},s.get=function(t,e){var n=s.request(t,e);return n.end(),n},s.ClientRequest=i,s.IncomingMessage=r.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=l,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(e,n("DuR2"))},oqWd:function(t,e,n){"use strict";e.a=function(t,e){return new i.a(function(n){var i=new r.a;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})};var i=n("lWPP"),r=n("HC03")},os0Z:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("D4VV");i.b.prototype.let=r.a,i.b.prototype.letBind=r.a},oxbf:function(t,e,n){"use strict";e.a=function(t,e,n){return Object(i.v)(t,e,n)(this)};var i=n("Nyrq")},p1Bo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("TToO"),r=n("bOhj"),o=n("ESBe"),l=n("HC03"),a=n("Egod"),s=n("lKpf"),u=n("BdDE"),c=function(t){function e(n,i,r){var l=t.call(this)||this;switch(l.syncErrorValue=null,l.syncErrorThrown=!1,l.syncErrorThrowable=!1,l.isStopped=!1,arguments.length){case 0:l.destination=o.a;break;case 1:if(!n){l.destination=o.a;break}if("object"==typeof n){n instanceof e?(l.syncErrorThrowable=n.syncErrorThrowable,l.destination=n,n.add(l)):(l.syncErrorThrowable=!0,l.destination=new h(l,n));break}default:l.syncErrorThrowable=!0,l.destination=new h(l,n,i,r)}return l}return i.__extends(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(l.a),h=function(t){function e(e,n,i,l){var a,s=t.call(this)||this;s._parentSubscriber=e;var u=s;return Object(r.a)(n)?a=n:n&&(a=n.next,i=n.error,l=n.complete,n!==o.a&&(u=Object.create(n),Object(r.a)(u.unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=a,s._error=i,s._complete=l,s}return i.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw t;Object(u.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(u.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},pHYG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("TToO"),r=function(t){function e(e,n,i){var r=t.call(this)||this;return r.parent=e,r.outerValue=n,r.outerIndex=i,r.index=0,r}return i.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("p1Bo").a)},pMHI:function(t,e,n){"use strict";var i=n("TToO").__decorate,r=n("TToO").__metadata;Object.defineProperty(e,"__esModule",{value:!0}),n("os0Z"),n("++do"),n("Jtag");var o=n("/Euu"),l=n("WT6e"),a=n("Z8D6"),s=n("N2G3"),u="undefined"!=typeof window?window:void 0;e.LazyLoadImageDirective=function(){function t(t,e){this.onLoad=new l.EventEmitter,this.elementRef=t,this.ngZone=e,this.propertyChanges$=new o.ReplaySubject}return t.prototype.ngOnChanges=function(t){this.propertyChanges$.next({lazyImage:this.lazyImage,defaultImage:this.defaultImage,errorImage:this.errorImage,scrollTarget:this.scrollTarget,scrollObservable:this.scrollObservable,offset:0|this.offset,useSrcset:this.useSrcset})},t.prototype.ngAfterContentInit=function(){var t=this;if("undefined"==typeof window)return null;this.ngZone.runOutsideAngular(function(){var e;e=t.scrollObservable?t.scrollObservable.startWith(""):a.getScrollListener(t.scrollTarget||u),t.scrollSubscription=t.propertyChanges$.debounceTime(10).switchMap(function(n){return e.let(s.lazyLoadImage(t.elementRef.nativeElement,n.lazyImage,n.defaultImage,n.errorImage,n.offset,n.useSrcset,n.scrollTarget))}).subscribe(function(e){return t.onLoad.emit(e)})})},t.prototype.ngOnDestroy=function(){[this.scrollSubscription].filter(function(t){return t&&!t.isUnsubscribed}).forEach(function(t){return t.unsubscribe()})},i([l.Input("lazyLoad"),r("design:type",Object)],t.prototype,"lazyImage",void 0),i([l.Input(),r("design:type",String)],t.prototype,"defaultImage",void 0),i([l.Input(),r("design:type",String)],t.prototype,"errorImage",void 0),i([l.Input(),r("design:type",Object)],t.prototype,"scrollTarget",void 0),i([l.Input(),r("design:type",Object)],t.prototype,"scrollObservable",void 0),i([l.Input(),r("design:type",Number)],t.prototype,"offset",void 0),i([l.Input(),r("design:type",Boolean)],t.prototype,"useSrcset",void 0),i([l.Output(),r("design:type",l.EventEmitter)],t.prototype,"onLoad",void 0),i([l.Directive({selector:"[lazyLoad]"})],t)}()},"q+vg":function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)n.call(i,r)&&(t[r]=i[r])}return t};var n=Object.prototype.hasOwnProperty},qOJP:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},rylm:function(t,e,n){"use strict";e.a=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var i=n("TToO"),r=n("p1Bo"),o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.thisArg))},t}(),l=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.project=n,r.count=0,r.thisArg=i||r,r}return i.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(r.a)},rzLl:function(t,e,n){(function(e,i,r){var o=n("ZqVu"),l=n("LC74"),a=n("mbU0"),s=n("cSWu"),u=n("dhnS"),c=a.IncomingMessage,h=a.readyStates,d=t.exports=function(t){var n,i=this;s.Writable.call(i),i._opts=t,i._body=[],i._headers={},t.auth&&i.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){i.setHeader(e,t.headers[e])});var r=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)r=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}i._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":o.vbArray&&t?"text:vbarray":"text"}(n,r),i._fetchTimer=null,i.on("finish",function(){i._onFinish()})};l(d,s.Writable),d.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===p.indexOf(n)&&(this._headers[n]={name:t,value:e})},d.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},d.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},d.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,l=t._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=o.arraybuffer?u(e.concat(t._body)):o.blobConstructor?new i.Blob(t._body.map(function(t){return u(t)}),{type:(l["content-type"]||{}).value||""}):e.concat(t._body).toString());var s=[];if(Object.keys(l).forEach(function(t){var e=l[t].name,n=l[t].value;Array.isArray(n)?n.forEach(function(t){s.push([e,t])}):s.push([e,n])}),"fetch"===t._mode){var c=null;if(o.abortController){var d=new AbortController;c=d.signal,t._fetchAbortController=d,"requestTimeout"in n&&0!==n.requestTimeout&&(t._fetchTimer=i.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},n.requestTimeout))}i.fetch(t._opts.url,{method:t._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:c}).then(function(e){t._fetchResponse=e,t._connect()},function(e){i.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)})}else{var p=t._xhr=new i.XMLHttpRequest;try{p.open(t._opts.method,t._opts.url,!0)}catch(e){return void r.nextTick(function(){t.emit("error",e)})}"responseType"in p&&(p.responseType=t._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(p.timeout=n.requestTimeout,p.ontimeout=function(){t.emit("requestTimeout")}),s.forEach(function(t){p.setRequestHeader(t[0],t[1])}),t._response=null,p.onreadystatechange=function(){switch(p.readyState){case h.LOADING:case h.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(p.onprogress=function(){t._onXHRProgress()}),p.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{p.send(a)}catch(e){return void r.nextTick(function(){t.emit("error",e)})}}}},d.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},d.prototype._connect=function(){var t=this;t._destroyed||(t._response=new c(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},d.prototype._write=function(t,e,n){this._body.push(t),n()},d.prototype.abort=d.prototype.destroy=function(){this._destroyed=!0,i.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},d.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),s.Writable.prototype.end.call(this,t,e,n)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(e,n("63KW").Buffer,n("DuR2"),n("W2nU"))},s0NH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("VHx0");i.b.prototype.catch=r.a,i.b.prototype._catch=r.a},sOR5:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},sbrb:function(t,e,i){var r;(function(){var i=!1,o=function(t){return t instanceof o?t:this instanceof o?void(this.EXIFwrapped=t):new o(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=o),e.EXIF=o;var l=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},a=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},s=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=o.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function h(t){return!!t.exifdata}function d(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;for(var n,r=2,o=t.byteLength;r<o;){if(255!=e.getUint8(r))return i&&console.log("Not a valid marker at offset "+r+", found: "+e.getUint8(r)),!1;if(n=e.getUint8(r+1),i&&console.log(n),225==n)return i&&console.log("Found 0xFFE1 marker"),y(e,r+4,e.getUint16(r+2));r+=2+e.getUint16(r+2)}}var p={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function f(t,e,n){for(var i,r,o,l,a=new DataView(t),s={},u=e;u<e+n;)28===a.getUint8(u)&&2===a.getUint8(u+1)&&(l=a.getUint8(u+2))in p&&(o=a.getInt16(u+3),r=p[l],i=v(a,u+5,o),s.hasOwnProperty(r)?s[r]instanceof Array?s[r].push(i):s[r]=[s[r],i]:s[r]=i),u++;return s}function g(t,e,n,r,o){var l,a,s,u=t.getUint16(n,!o),c={};for(s=0;s<u;s++)!(a=r[t.getUint16(l=n+12*s+2,!o)])&&i&&console.log("Unknown tag: "+t.getUint16(l,!o)),c[a]=m(t,l,e,0,o);return c}function m(t,e,n,i,r){var o,l,a,s,u,c,h=t.getUint16(e+2,!r),d=t.getUint32(e+4,!r),p=t.getUint32(e+8,!r)+n;switch(h){case 1:case 7:if(1==d)return t.getUint8(e+8,!r);for(o=d>4?p:e+8,l=[],s=0;s<d;s++)l[s]=t.getUint8(o+s);return l;case 2:return v(t,o=d>4?p:e+8,d-1);case 3:if(1==d)return t.getUint16(e+8,!r);for(o=d>2?p:e+8,l=[],s=0;s<d;s++)l[s]=t.getUint16(o+2*s,!r);return l;case 4:if(1==d)return t.getUint32(e+8,!r);for(l=[],s=0;s<d;s++)l[s]=t.getUint32(p+4*s,!r);return l;case 5:if(1==d)return u=t.getUint32(p,!r),c=t.getUint32(p+4,!r),(a=new Number(u/c)).numerator=u,a.denominator=c,a;for(l=[],s=0;s<d;s++)u=t.getUint32(p+8*s,!r),c=t.getUint32(p+4+8*s,!r),l[s]=new Number(u/c),l[s].numerator=u,l[s].denominator=c;return l;case 9:if(1==d)return t.getInt32(e+8,!r);for(l=[],s=0;s<d;s++)l[s]=t.getInt32(p+4*s,!r);return l;case 10:if(1==d)return t.getInt32(p,!r)/t.getInt32(p+4,!r);for(l=[],s=0;s<d;s++)l[s]=t.getInt32(p+8*s,!r)/t.getInt32(p+4+8*s,!r);return l}}function v(t,e,i){var r="";for(n=e;n<e+i;n++)r+=String.fromCharCode(t.getUint8(n));return r}function y(t,e){if("Exif"!=v(t,e,4))return i&&console.log("Not valid EXIF data! "+v(t,e,4)),!1;var n,r,o,h,d,p=e+6;if(18761==t.getUint16(p))n=!1;else{if(19789!=t.getUint16(p))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(p+2,!n))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var f=t.getUint32(p+4,!n);if(f<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(p+4,!n)),!1;if((r=g(t,p,p+f,a,n)).ExifIFDPointer)for(o in h=g(t,p,p+r.ExifIFDPointer,l,n)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":h[o]=c[o][h[o]];break;case"ExifVersion":case"FlashpixVersion":h[o]=String.fromCharCode(h[o][0],h[o][1],h[o][2],h[o][3]);break;case"ComponentsConfiguration":h[o]=c.Components[h[o][0]]+c.Components[h[o][1]]+c.Components[h[o][2]]+c.Components[h[o][3]]}r[o]=h[o]}if(r.GPSInfoIFDPointer)for(o in d=g(t,p,p+r.GPSInfoIFDPointer,s,n)){switch(o){case"GPSVersionID":d[o]=d[o][0]+"."+d[o][1]+"."+d[o][2]+"."+d[o][3]}r[o]=d[o]}return r.thumbnail=function(t,e,n,i){var r=function(t,e,n){var i=t.getUint16(e,!n);return t.getUint32(e+2+12*i,!n)}(t,e+n,i);if(!r)return{};if(r>t.byteLength)return{};var o=g(t,e,e+r,u,i);if(o.Compression)switch(o.Compression){case 6:o.JpegIFOffset&&o.JpegIFByteCount&&(o.blob=new Blob([new Uint8Array(t.buffer,e+o.JpegIFOffset,o.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(t,p,f,n),r}function b(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var i=t.attributes.item(n);e["@attributes"][i.nodeName]=i.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes.item(r),l=o.nodeName;if(null==e[l])e[l]=b(o);else{if(null==e[l].push){var a=e[l];e[l]=[],e[l].push(a)}e[l].push(b(o))}}return e}function w(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var i=t.children.item(n),r=i.attributes;for(var o in r){var l=r[o],a=l.nodeName;void 0!==a&&(e[a]=l.nodeValue)}var s=i.nodeName;if("undefined"==typeof e[s])e[s]=b(i);else{if("undefined"==typeof e[s].push){var u=e[s];e[s]=[],e[s].push(u)}e[s].push(b(i))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}o.enableXmp=function(){o.isXmpEnabled=!0},o.disableXmp=function(){o.isXmpEnabled=!1},o.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete||(h(t)?e&&e.call(t):function(t,e){function n(n){var r=d(n);t.exifdata=r||{};var l=function(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;for(var n=2,r=t.byteLength,o=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};n<r;){if(o(e,n)){var l=e.getUint8(n+7);return l%2!=0&&(l+=1),0===l&&(l=4),f(t,n+8+l,e.getUint16(n+6+l))}n++}}(n);if(t.iptcdata=l||{},o.isXmpEnabled){var a=function(t){if("DOMParser"in self){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;for(var n=2,r=t.byteLength,o=new DOMParser;n<r-4;){if("http"==v(e,n,4)){var l=v(e,n-1,e.getUint16(n-2)-1),a=l.indexOf("xmpmeta>")+8,s=(l=l.substring(l.indexOf("<x:xmpmeta"),a)).indexOf("x:xmpmeta")+10;return l=l.slice(0,s)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+l.slice(s),w(o.parseFromString(l,"text/xml"))}n++}}}(n);t.xmpdata=a||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))n(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),i=n.length,r=new ArrayBuffer(i),o=new Uint8Array(r),l=0;l<i;l++)o[l]=n.charCodeAt(l);return r}(t.src));else if(/^blob\:/i.test(t.src))(l=new FileReader).onload=function(t){n(t.target.result)},function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||l.readAsArrayBuffer(this.response)},n.send()}(t.src);else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",t.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var l;(l=new FileReader).onload=function(t){i&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},l.readAsArrayBuffer(t)}}(t,e),0))},o.getTag=function(t,e){if(h(t))return t.exifdata[e]},o.getIptcTag=function(t,e){if(h(t))return t.iptcdata[e]},o.getAllTags=function(t){if(!h(t))return{};var e,n=t.exifdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},o.getAllIptcTags=function(t){if(!h(t))return{};var e,n=t.iptcdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},o.pretty=function(t){if(!h(t))return"";var e,n=t.exifdata,i="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?i+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":i+=e+" : ["+n[e].length+" values]\r\n":i+=e+" : "+n[e]+"\r\n");return i},o.readFromBinaryFile=function(t){return d(t)},void 0===(r=(function(){return o}).apply(e,[]))||(t.exports=r)}).call(this)},sfXZ:function(t,e,n){"use strict";e.a=function(t,e){return new i.a(function(n){var i=new r.a,o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})};var i=n("lWPP"),r=n("HC03")},stdA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("2n4R");i.b.prototype.mergeMap=r.a,i.b.prototype.flatMap=r.a},t129:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL");i.b.of=i.l},tUzZ:function(t,e,n){"use strict";n.d(e,"c",function(){return c}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d});var i=n("TToO"),r=n("lWPP"),o=n("p1Bo"),l=n("HC03"),a=n("LHMe"),s=n("7HNm"),u=n("Egod"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i.__extends(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i.__extends(e,t),e.prototype[u.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),l.a.EMPTY):this.isStopped?(t.complete(),l.a.EMPTY):(this.observers.push(t),new s.a(this,t))},e.prototype.asObservable=function(){var t=new r.a;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(r.a),d=function(t){function e(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return i.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):l.a.EMPTY},e}(h)},tsU9:function(module,exports,__webpack_require__){(function(Buffer,process){var fabric=fabric||{version:"1.7.22"},global,sqrt,atan2,pow,abs,PiBy180,slice,apply,Dummy,min,max,supportQuality,degreesToRadians,originXOffset,originYOffset,clone,toFixed,NUM_FRACTION_DIGITS,setObjectScaleOverridden,override,parseEl,reOpacity,setOpacity;exports.fabric=fabric,"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=__webpack_require__(2).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")),fabric.window=fabric.document.createWindow?fabric.document.createWindow():fabric.document.parentWindow),fabric.isTouchSupported="ontouchstart"in fabric.window,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",fabric.fontPaths={},fabric.iMatrix=[1,0,0,1,0,0],fabric.canvasModule="canvas",fabric.perfLimitSizeTotal=2097152,fabric.maxCacheSideLimit=4096,fabric.minCacheSideLimit=256,fabric.charWidthsCache={},fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1,function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:fabric.util.array.fill(n,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(e,n){if(this.__eventListeners){if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var i in e)t.call(this,i,e[i]);else t.call(this,e,n);return this}}function i(t,e){if(this.__eventListeners){var n=this.__eventListeners[t];if(n){for(var i=0,r=n.length;i<r;i++)n[i]&&n[i].call(this,e||{});return this.__eventListeners[t]=n.filter(function(t){return!1!==t}),this}}}fabric.Observable={observe:e,stopObserving:n,fire:i,on:e,off:n,trigger:i}}(),fabric.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(t,e,n){var i=this.getObjects();return n?i[e]=t:i.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var t,e=this.getObjects(),n=!1,i=0,r=arguments.length;i<r;i++)-1!==(t=e.indexOf(arguments[i]))&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&n&&this.renderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);return this},getObjects:function(t){return"undefined"==typeof t?this._objects:this._objects.filter(function(e){return e.type===t})},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce(function(t,e){return t+(e.complexity?e.complexity():0)},0)}},fabric.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof fabric.Gradient||this.set(e,new fabric.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof fabric.Pattern?n&&n():this.set(e,new fabric.Pattern(t,n))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=fabric.util.getFunctionBody(t.clipTo);"undefined"!=typeof e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):this._set(t,"function"==typeof e&&"clipTo"!==t?e(this.get(t)):e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},global=exports,sqrt=Math.sqrt,atan2=Math.atan2,pow=Math.pow,abs=Math.abs,PiBy180=Math.PI/180,fabric.util={removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*PiBy180},radiansToDegrees:function(t){return t/PiBy180},rotatePoint:function(t,e,n){t.subtractEquals(e);var i=fabric.util.rotateVector(t,n);return new fabric.Point(i.x,i.y).addEquals(e)},rotateVector:function(t,e){var n=Math.sin(e),i=Math.cos(e);return{x:t.x*i-t.y*n,y:t.x*n+t.y*i}},transformPoint:function(t,e,n){return n?new fabric.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new fabric.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t){var e=[t[0].x,t[1].x,t[2].x,t[3].x],n=fabric.util.array.min(e),i=fabric.util.array.max(e),r=Math.abs(n-i),o=[t[0].y,t[1].y,t[2].y,t[3].y],l=fabric.util.array.min(o),a=fabric.util.array.max(o);return{left:n,top:l,width:r,height:Math.abs(l-a)}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],i=fabric.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-i.x,n[5]=-i.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(e||(e=fabric.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return i*fabric.DPI/25.4;case"cm":return i*fabric.DPI/2.54;case"in":return i*fabric.DPI;case"pt":return i*fabric.DPI/72;case"pc":return i*fabric.DPI/72*12;case"em":return i*e;default:return i}},falseFunction:function(){return!1},getKlass:function(t,e){return t=fabric.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),fabric.util.resolveNamespace(e)[t]},resolveNamespace:function(t){if(!t)return fabric;var e,n=t.split("."),i=n.length,r=global||fabric.window;for(e=0;e<i;++e)r=r[n[e]];return r},loadImage:function(t,e,n,i){if(t){var r=fabric.util.createImage();r.onload=function(){e&&e.call(n,r),r=r.onload=r.onerror=null},r.onerror=function(){fabric.log("Error loading "+r.src),e&&e.call(n,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&i&&(r.crossOrigin=i),r.src=t}else e&&e.call(n,t)},enlivenObjects:function(t,e,n,i){function r(){++l===a&&e&&e(o)}var o=[],l=0,a=(t=t||[]).length;a?t.forEach(function(t,e){t&&t.type?fabric.util.getKlass(t.type,n).fromObject(t,function(n,l){l||(o[e]=n),i&&i(t,n,l),r()},!0):r()}):e&&e(o)},enlivenPatterns:function(t,e){function n(){++r===o&&e&&e(i)}var i=[],r=0,o=(t=t||[]).length;o?t.forEach(function(t,e){t&&t.source?new fabric.Pattern(t,function(t){i[e]=t,n()}):(i[e]=t,n())}):e&&e(i)},groupSVGElements:function(t,e,n){var i;return i=new fabric.PathGroup(t,e),"undefined"!=typeof n&&(i.sourcePath=n),i},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var i=0,r=n.length;i<r;i++)n[i]in t&&(e[n[i]]=t[n[i]])},drawDashedLine:function(t,e,n,i,r,o){var l=i-e,a=r-n,s=sqrt(l*l+a*a),u=atan2(a,l),c=o.length,h=0,d=!0;for(t.save(),t.translate(e,n),t.moveTo(0,0),t.rotate(u),e=0;s>e;)(e+=o[h++%c])>s&&(e=s),t[d?"lineTo":"moveTo"](e,0),d=!d;t.restore()},createCanvasElement:function(t){return t||(t=fabric.document.createElement("canvas")),t.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),t},createImage:function(){return fabric.isLikelyNode?new(__webpack_require__(0).Image):fabric.document.createElement("img")},createAccessors:function(t){var e,n,i,r,o,l=t.prototype;for(e=l.stateProperties.length;e--;)r="set"+(i=(n=l.stateProperties[e]).charAt(0).toUpperCase()+n.slice(1)),l[o="get"+i]||(l[o]=new Function('return this.get("'+n+'")')),l[r]||(l[r]=new Function("value",'return this.set("'+n+'", value)'))},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=atan2(t[1],t[0]),n=pow(t[0],2)+pow(t[1],2),i=sqrt(n),r=(t[0]*t[3]-t[2]*t[1])/i,o=atan2(t[0]*t[2]+t[1]*t[3],n);return{angle:e/PiBy180,scaleX:i,scaleY:r,skewX:o/PiBy180,skewY:0,translateX:t[4],translateY:t[5]}},customTransformMatrix:function(t,e,n){var i=[1,0,abs(Math.tan(n*PiBy180)),1],r=[abs(t),0,0,abs(e)];return fabric.util.multiplyTransformMatrices(r,i,!0)},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.setAngle(0)},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,n,i){i>0&&(e>i?e-=i:e=0,n>i?n-=i:n=0);var r,o=!0,l=t.getImageData(e,n,2*i||1,2*i||1),a=l.data.length;for(r=3;r<a&&0!=(o=l.data[r]<=0);r+=4);return l=null,o},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",i=t.split(" ");return i&&i.length&&("meet"!==(n=i.pop())&&"slice"!==n?(e=n,n="meet"):i.length&&(e=i.pop())),{meetOrSlice:n,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){t?fabric.charWidthsCache[t]&&delete fabric.charWidthsCache[t]:fabric.charWidthsCache={}},limitDimsByArea:function(t,e){var n=Math.sqrt(e*t),i=Math.floor(e/n);return{x:Math.floor(n),y:i}},capValue:function(t,e,n){return Math.max(t,Math.min(e,n))}},function(){var t={},e={},n={},i=Array.prototype.join;function r(e,n,r,a,s,u,c){var h=i.call(arguments);if(t[h])return t[h];var d=Math.PI,p=c*d/180,f=Math.sin(p),g=Math.cos(p),m=0,v=0,y=-g*e*.5-f*n*.5,b=-g*n*.5+f*e*.5,w=(r=Math.abs(r))*r,_=(a=Math.abs(a))*a,C=b*b,x=y*y,S=w*_-w*C-_*x,E=0;if(S<0){var T=Math.sqrt(1-S/(w*_));r*=T,a*=T}else E=(s===u?-1:1)*Math.sqrt(S/(w*C+_*x));var k=E*r*b/a,A=-E*a*y/r,D=g*k-f*A+.5*e,O=f*k+g*A+.5*n,I=l(1,0,(y-k)/r,(b-A)/a),R=l((y-k)/r,(b-A)/a,(-y-k)/r,(-b-A)/a);0===u&&R>0?R-=2*d:1===u&&R<0&&(R+=2*d);for(var P=Math.ceil(Math.abs(R/d*2)),M=[],N=R/P,j=8/3*Math.sin(N/4)*Math.sin(N/4)/Math.sin(N/2),L=I+N,F=0;F<P;F++)M[F]=o(I,L,g,f,r,a,D,O,j,m,v),m=M[F][4],v=M[F][5],I=L,L+=N;return t[h]=M,M}function o(t,n,r,o,l,a,s,u,c,h,d){var p=i.call(arguments);if(e[p])return e[p];var f=Math.cos(t),g=Math.sin(t),m=Math.cos(n),v=Math.sin(n),y=r*l*m-o*a*v+s,b=o*l*m+r*a*v+u;return e[p]=[h+c*(-r*l*g-o*a*f),d+c*(-o*l*g+r*a*f),y+c*(r*l*v+o*a*m),b+c*(o*l*v-r*a*m),y,b],e[p]}function l(t,e,n,i){var r=Math.atan2(e,t),o=Math.atan2(i,n);return o>=r?o-r:2*Math.PI-(r-o)}function a(t,e,r,o,l,a,s,u){var c=i.call(arguments);if(n[c])return n[c];var h,d,p,f,g,m,v,y,b=Math.sqrt,w=Math.min,_=Math.max,C=Math.abs,x=[],S=[[],[]];d=6*t-12*r+6*l,h=-3*t+9*r-9*l+3*s,p=3*r-3*t;for(var E=0;E<2;++E)if(E>0&&(d=6*e-12*o+6*a,h=-3*e+9*o-9*a+3*u,p=3*o-3*e),C(h)<1e-12){if(C(d)<1e-12)continue;0<(f=-p/d)&&f<1&&x.push(f)}else(v=d*d-4*p*h)<0||(0<(g=(-d+(y=b(v)))/(2*h))&&g<1&&x.push(g),0<(m=(-d-y)/(2*h))&&m<1&&x.push(m));for(var T,k=x.length,A=k;k--;)S[0][k]=(T=1-(f=x[k]))*T*T*t+3*T*T*f*r+3*T*f*f*l+f*f*f*s,S[1][k]=T*T*T*e+3*T*T*f*o+3*T*f*f*a+f*f*f*u;S[0][A]=t,S[1][A]=e,S[0][A+1]=s,S[1][A+1]=u;var D=[{x:w.apply(null,S[0]),y:w.apply(null,S[1])},{x:_.apply(null,S[0]),y:_.apply(null,S[1])}];return n[c]=D,D}fabric.util.drawArc=function(t,e,n,i){for(var o=[[],[],[],[]],l=r(i[5]-e,i[6]-n,i[0],i[1],i[3],i[4],i[2]),a=0,s=l.length;a<s;a++)o[a][0]=l[a][0]+e,o[a][1]=l[a][1]+n,o[a][2]=l[a][2]+e,o[a][3]=l[a][3]+n,o[a][4]=l[a][4]+e,o[a][5]=l[a][5]+n,t.bezierCurveTo.apply(t,o[a])},fabric.util.getBoundsOfArc=function(t,e,n,i,o,l,s,u,c){for(var h,d=0,p=0,f=[],g=r(u-t,c-e,n,i,l,s,o),m=0,v=g.length;m<v;m++)h=a(d,p,g[m][0],g[m][1],g[m][2],g[m][3],g[m][4],g[m][5]),f.push({x:h[0].x+t,y:h[0].y+e}),f.push({x:h[1].x+t,y:h[1].y+e}),d=g[m][4],p=g[m][5];return f},fabric.util.getBoundsOfCurve=a}(),function(){var t=Array.prototype.slice;function e(t,e,n){if(t&&0!==t.length){var i=t.length-1,r=e?t[i][e]:t[i];if(e)for(;i--;)n(t[i][e],r)&&(r=t[i][e]);else for(;i--;)n(t[i],r)&&(r=t[i]);return r}}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==Number.POSITIVE_INFINITY&&i!==Number.NEGATIVE_INFINITY&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=0,i=this.length>>>0;n<i;n++)n in this&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var n=[],i=0,r=this.length>>>0;i<r;i++)i in this&&(n[i]=t.call(e,this[i],i,this));return n}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var n=0,i=this.length>>>0;n<i;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var n=0,i=this.length>>>0;n<i;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var n,i=[],r=0,o=this.length>>>0;r<o;r++)r in this&&t.call(e,n=this[r],r,this)&&i.push(n);return i}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,n=this.length>>>0,i=0;if(arguments.length>1)e=arguments[1];else for(;;){if(i in this){e=this[i++];break}if(++i>=n)throw new TypeError}for(;i<n;i++)i in this&&(e=t.call(null,e,this[i],i,this));return e}),fabric.util.array={fill:function(t,e){for(var n=t.length;n--;)t[n]=e;return t},invoke:function(e,n){for(var i=t.call(arguments,2),r=[],o=0,l=e.length;o<l;o++)r[o]=i.length?e[o][n].apply(e[o],i):e[o][n].call(e[o]);return r},min:function(t,n){return e(t,n,function(t,e){return t<e})},max:function(t,n){return e(t,n,function(t,e){return t>=e})}}}(),function(){function t(e,n,i){if(i)if(!fabric.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var r=0,o=n.length;r<o;r++)e[r]=t({},n[r],i)}else if(n&&"object"==typeof n)for(var l in n)n.hasOwnProperty(l)&&(e[l]=t({},n[l],i));else e=n;else for(var l in n)e[l]=n[l];return e}fabric.util.object={extend:t,clone:function(e,n){return t({},e,n)}}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},slice=Array.prototype.slice,apply=Function.prototype.apply,Dummy=function(){},Function.prototype.bind||(Function.prototype.bind=function(t){var e,n=this,i=slice.call(arguments,1);return e=i.length?function(){return apply.call(n,this instanceof Dummy?this:t,i.concat(slice.call(arguments)))}:function(){return apply.call(n,this instanceof Dummy?this:t,arguments)},Dummy.prototype=this.prototype,e.prototype=new Dummy,e}),function(){var t=Array.prototype.slice,e=function(){},n=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),i=function(t,e,i){for(var r in e)t.prototype[r]=r in t.prototype&&"function"==typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var r=e[t].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==t)return r}}(r):e[r],n&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function r(){}function o(e){for(var n=null,i=this;i.constructor.superclass;){var r=i.constructor.superclass.prototype[e];if(i[e]!==r){n=r;break}i=i.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,t.call(arguments,1)):n.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}fabric.util.createClass=function(){var n=null,l=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof l[0]&&(n=l.shift()),a.superclass=n,a.subclasses=[],n&&(r.prototype=n.prototype,a.prototype=new r,n.subclasses.push(a));for(var s=0,u=l.length;s<u;s++)i(a,l[s],n);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=o,a}}(),function(){function t(t){var e,n=Array.prototype.slice.call(arguments,1),i=n.length;for(e=0;e<i;e++)if(!/^(?:function|object|unknown)$/.test(typeof t[n[e]]))return!1;return!0}var e,n,i,r,o=(i=0,function(t){return t.__uniqueID||(t.__uniqueID="uniqueID__"+i++)});r={},e=function(t){return r[t]},n=function(t,e){r[t]=e};var l,a,s=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),u=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),c={},h={};s?(l=function(t,e,n,i){t&&t.addEventListener(e,n,!u&&i)},a=function(t,e,n,i){t&&t.removeEventListener(e,n,!u&&i)}):u?(l=function(t,i,r){if(t){var l=o(t);n(l,t),c[l]||(c[l]={}),c[l][i]||(c[l][i]=[]);var a=function(t,n){return{handler:n,wrappedHandler:function(t,n){return function(i){n.call(e(t),i||fabric.window.event)}}(t,n)}}(l,r);c[l][i].push(a),t.attachEvent("on"+i,a.wrappedHandler)}},a=function(t,e,n){if(t){var i,r=o(t);if(c[r]&&c[r][e])for(var l=0,a=c[r][e].length;l<a;l++)(i=c[r][e][l])&&i.handler===n&&(t.detachEvent("on"+e,i.wrappedHandler),c[r][e][l]=null)}}):(l=function(t,e,n){if(t){var i=o(t);if(h[i]||(h[i]={}),!h[i][e]){h[i][e]=[];var r=t["on"+e];r&&h[i][e].push(r),t["on"+e]=function(t,e){return function(n){if(h[t]&&h[t][e])for(var i=h[t][e],r=0,o=i.length;r<o;r++)i[r].call(this,n||fabric.window.event)}}(i,e)}h[i][e].push(n)}},a=function(t,e,n){if(t){var i=o(t);if(h[i]&&h[i][e])for(var r=h[i][e],l=0,a=r.length;l<a;l++)r[l]===n&&r.splice(l,1)}}),fabric.util.addListener=l,fabric.util.removeListener=a;var d=function(t){return"unknown"!=typeof t.clientX?t.clientX:0},p=function(t){return"unknown"!=typeof t.clientY?t.clientY:0};function f(t,e,n){var i="touchend"===t.type?"changedTouches":"touches";return t[i]&&t[i][0]&&t[i][0][e]-(t[i][0][e]-t[i][0][n])||t[n]}fabric.isTouchSupported&&(d=function(t){return f(t,"pageX","clientX")},p=function(t){return f(t,"pageY","clientY")}),fabric.util.getPointer=function(t){t||(t=fabric.window.event);var e=fabric.util.getScrollLeftTop(t.target||("unknown"!=typeof t.srcElement?t.srcElement:null));return{x:d(t)+e.left,y:p(t)+e.top}},fabric.util.object.extend(fabric.util,fabric.Observable)}(),parseEl=fabric.document.createElement("div"),reOpacity=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,setOpacity=function(t){return t},"string"==typeof parseEl.style.opacity?setOpacity=function(t,e){return t.style.opacity=e,t}:"string"==typeof parseEl.style.filter&&(setOpacity=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),reOpacity.test(n.filter)?n.filter=n.filter.replace(reOpacity,e=e>=.9999?"":"alpha(opacity="+100*e+")"):n.filter+=" alpha(opacity="+100*e+")",t}),fabric.util.setStyle=function(t,e){var n=t.style;if(!n)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?setOpacity(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)"opacity"===i?setOpacity(t,e[i]):n["float"===i||"cssFloat"===i?"undefined"==typeof n.styleFloat?"cssFloat":"styleFloat":i]=e[i];return t},function(){var t,e,n,i,r=Array.prototype.slice,o=function(t){return r.call(t,0)};try{t=o(fabric.document.childNodes)instanceof Array}catch(t){}function l(t,e){var n=fabric.document.createElement(t);for(var i in e)"class"===i?n.className=e[i]:"for"===i?n.htmlFor=e[i]:n.setAttribute(i,e[i]);return n}function a(t){for(var e=0,n=0,i=fabric.document.documentElement,r=fabric.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===fabric.document?(e=r.scrollLeft||i.scrollLeft||0,n=r.scrollTop||i.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1!==t.nodeType||"fixed"!==fabric.util.getElementStyle(t,"position")););return{left:e,top:n}}t||(o=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e}),e=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(t,e){var n=fabric.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},i="userSelect"in(n=fabric.document.documentElement.style)?"userSelect":"MozUserSelect"in n?"MozUserSelect":"WebkitUserSelect"in n?"WebkitUserSelect":"KhtmlUserSelect"in n?"KhtmlUserSelect":"",fabric.util.makeElementUnselectable=function(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),i?t.style[i]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},fabric.util.makeElementSelectable=function(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=null),i?t.style[i]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},fabric.util.getScript=function(t,e){var n=fabric.document.getElementsByTagName("head")[0],i=fabric.document.createElement("script"),r=!0;i.onload=i.onreadystatechange=function(t){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,e(t||fabric.window.event),i=i.onload=i.onreadystatechange=null}},i.src=t,n.appendChild(i)},fabric.util.getById=function(t){return"string"==typeof t?fabric.document.getElementById(t):t},fabric.util.toArray=o,fabric.util.makeElement=l,fabric.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},fabric.util.wrapElement=function(t,e,n){return"string"==typeof e&&(e=l(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},fabric.util.getScrollLeftTop=a,fabric.util.getElementOffset=function(t){var n,i,r=t&&t.ownerDocument,o={left:0,top:0},l={left:0,top:0},s={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return l;for(var u in s)l[s[u]]+=parseInt(e(t,u),10)||0;return n=r.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(o=t.getBoundingClientRect()),i=a(t),{left:o.left+i.left-(n.clientLeft||0)+l.left,top:o.top+i.top-(n.clientTop||0)+l.top}},fabric.util.getElementStyle=e}(),function(){var t=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{if(t[e]())return t[e]}catch(t){}}();function e(){}fabric.util.request=function(n,i){i||(i={});var r=i.method?i.method.toUpperCase():"GET",o=i.onComplete||function(){},l=t(),a=i.body||i.parameters;return l.onreadystatechange=function(){4===l.readyState&&(o(l),l.onreadystatechange=e)},"GET"===r&&(a=null,"string"==typeof i.parameters&&(n=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(n,i.parameters))),l.open(r,n,!0),"POST"!==r&&"PUT"!==r||l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(a),l}}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){"undefined"!=typeof console[t]&&"function"==typeof console[t].apply&&(fabric[t]=function(){return console[t].apply(console,arguments)})}),function(){function t(){return!1}var e=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)};function n(){return e.apply(fabric.window,arguments)}fabric.util.animate=function(e){n(function(i){e||(e={});var r,o=i||+new Date,l=e.duration||500,a=o+l,s=e.onChange||t,u=e.abort||t,c=e.onComplete||t,h=e.easing||function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},d="startValue"in e?e.startValue:0,p="endValue"in e?e.endValue:100,f=e.byValue||p-d;e.onStart&&e.onStart(),function t(i){if(u())c(p,1,1);else{var g=(r=i||+new Date)>a?l:r-o,m=g/l,v=h(g,d,f,l),y=Math.abs((v-d)/f);s(v,y,m),r>a?e.onComplete&&e.onComplete():n(t)}}(o)})},fabric.util.requestAnimFrame=n}(),fabric.util.animateColor=function(t,e,n,i){var r=new fabric.Color(t).getSource(),o=new fabric.Color(e).getSource();fabric.util.animate(fabric.util.object.extend(i=i||{},{duration:n||500,startValue:r,endValue:o,byValue:o,easing:function(t,e,n,r){var o,l,a,s;return o=e,l=n,a=i.colorEasing?i.colorEasing(t,r):1-Math.cos(t/r*(Math.PI/2)),s="rgba("+parseInt(o[0]+a*(l[0]-o[0]),10)+","+parseInt(o[1]+a*(l[1]-o[1]),10)+","+parseInt(o[2]+a*(l[2]-o[2]),10),(s+=","+(o&&l?parseFloat(o[3]+a*(l[3]-o[3])):1))+")"}}))},function(){function t(t,e,n,i){return t<Math.abs(e)?(t=e,i=n/4):i=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:i}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,r){return n-i(r-t,0,n,r)+e}function i(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}fabric.util.ease={easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t===i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,n,i){return 0===t?e:t===i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(n,i,r,o){var l=0;return 0===n?i:1==(n/=o)?i+r:(l||(l=.3*o),-e(t(r,r,l,1.70158),n,o)+i)},easeOutElastic:function(e,n,i,r){var o=0,l=i;if(0===e)return n;if(1==(e/=r))return n+i;o||(o=.3*r);var a=t(l,i,o,1.70158);return a.a*Math.pow(2,-10*e)*Math.sin((e*r-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,i,r,o){var l=0,a=r;if(0===n)return i;if(2==(n/=o/2))return i+r;l||(l=o*(.3*1.5));var s=t(a,r,l,1.70158);return n<1?-.5*e(s,n,o)+i:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-s.s)*(2*Math.PI)/s.p)*.5+s.c+i},easeInBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:n,easeOutBounce:i,easeInOutBounce:function(t,e,r,o){return t<o/2?.5*n(2*t,0,r,o)+e:.5*i(2*t-o,0,r,o)+.5*r+e}}}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,o=e.util.parseUnit,l=e.util.multiplyTransformMatrices,a=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,s=/^(symbol|image|marker|pattern|view|svg)$/i,u=/^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i,c=/^(symbol|g|a|svg)$/i,h={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX",opacity:"opacity"},d={stroke:"strokeOpacity",fill:"fillOpacity"};function p(t){return t in h?h[t]:t}function f(t,n,i,r){var a,s="[object Array]"===Object.prototype.toString.call(n);return"fill"!==t&&"stroke"!==t||"none"!==n?"strokeDashArray"===t?n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(function(t){return parseFloat(t)}):"transformMatrix"===t?n=i&&i.transformMatrix?l(i.transformMatrix,e.parseTransformAttribute(n)):e.parseTransformAttribute(n):"visible"===t?(n="none"!==n&&"hidden"!==n,i&&!1===i.visible&&(n=!1)):"opacity"===t?(n=parseFloat(n),i&&"undefined"!=typeof i.opacity&&(n*=i.opacity)):"originX"===t?n="start"===n?"left":"end"===n?"right":"center":a=s?n.map(o):o(n,r):n="",!s&&isNaN(a)?n:a}function g(t,e){for(var n,i=[],r=0;r<e.length;r++)n=t.getElementsByTagName(e[r]),i=i.concat(Array.prototype.slice.call(n));return i}function m(t,e){var n,i=!0;return(n=v(t,e.pop()))&&e.length&&(i=function(t,e){for(var n,i=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)i&&(n=e.pop()),i=v(t=t.parentNode,n);return 0===e.length}(t,e)),n&&i&&0===e.length}function v(t,e){var n,i=t.nodeName,r=t.getAttribute("class"),o=t.getAttribute("id");if(n=new RegExp("^"+i,"i"),e=e.replace(n,""),o&&e.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),r&&e.length)for(var l=(r=r.split(" ")).length;l--;)n=new RegExp("\\."+r[l]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"");return 0===e.length}function y(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var i,r,o=t.getElementsByTagName("*");for(r=0;r<o.length;r++)if(e===(i=o[r]).getAttribute("id"))return i}e.cssRules={},e.gradientDefs={},e.parseTransformAttribute=function(){function t(t,n,i){t[i]=Math.tan(e.util.degreesToRadians(n[0]))}var n=[1,0,0,1,0,0],i=e.reNum,r="(?:\\s+,?\\s*|,\\s*)",o="(?:(?:(matrix)\\s*\\(\\s*("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+")"+r+"("+i+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+i+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+i+")\\s*\\)))",l=new RegExp("^\\s*(?:(?:"+o+"(?:"+r+"*"+o+")*)?)\\s*$"),a=new RegExp(o,"g");return function(i){var r=n.concat(),s=[];if(!i||i&&!l.test(i))return r;i.replace(a,function(i){var l=new RegExp(o).exec(i).filter(function(t){return!!t}),a=l[1],u=l.slice(2).map(parseFloat);switch(a){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(r,u);break;case"rotate":u[0]=e.util.degreesToRadians(u[0]),function(t,e){var n=Math.cos(e[0]),i=Math.sin(e[0]),r=0,o=0;3===e.length&&(r=e[1],o=e[2]),t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=r-(n*r-i*o),t[5]=o-(i*r+n*o)}(r,u);break;case"scale":!function(t,e){var n=2===e.length?e[1]:e[0];t[0]=e[0],t[3]=n}(r,u);break;case"skewX":t(r,u,2);break;case"skewY":t(r,u,1);break;case"matrix":r=u}s.push(r.concat()),r=n.concat()});for(var u=s[0];s.length>1;)s.shift(),u=e.util.multiplyTransformMatrices(u,s[0]);return u}}();var b=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function w(t){var n,i,r,l,a,u,c=t.getAttribute("viewBox"),h=1,d=1,p=t.getAttribute("width"),f=t.getAttribute("height"),g=t.getAttribute("x")||0,m=t.getAttribute("y")||0,v=t.getAttribute("preserveAspectRatio")||"",y=!c||!s.test(t.nodeName)||!(c=c.match(b)),w=!p||!f||"100%"===p||"100%"===f,_=y&&w,C={},x="";if(C.width=0,C.height=0,C.toBeParsed=_,_)return C;if(y)return C.width=o(p),C.height=o(f),C;if(n=-parseFloat(c[1]),i=-parseFloat(c[2]),r=parseFloat(c[3]),l=parseFloat(c[4]),w?(C.width=r,C.height=l):(C.width=o(p),C.height=o(f),h=C.width/r,d=C.height/l),"none"!==(v=e.util.parsePreserveAspectRatioAttribute(v)).alignX&&(d=h=h>d?d:h),1===h&&1===d&&0===n&&0===i&&0===g&&0===m)return C;if((g||m)&&(x=" translate("+o(g)+" "+o(m)+") "),a=x+" matrix("+h+" 0 0 "+d+" "+n*h+" "+i*d+") ","svg"===t.nodeName){for(u=t.ownerDocument.createElement("g");t.firstChild;)u.appendChild(t.firstChild);t.appendChild(u)}else a=(u=t).getAttribute("transform")+a;return u.setAttribute("transform",a),C}e.parseSVGDocument=function(t,n,r,o){if(t){!function(t){for(var e=g(t,["use","svg:use"]),n=0;e.length&&n<e.length;){var i,r,o,l,a=e[n],s=a.getAttribute("xlink:href").substr(1),u=a.getAttribute("x")||0,c=a.getAttribute("y")||0,h=y(t,s).cloneNode(!0),d=(h.getAttribute("transform")||"")+" translate("+u+", "+c+")",p=e.length;if(w(h),/^svg$/i.test(h.nodeName)){var f=h.ownerDocument.createElement("g");for(r=0,l=(o=h.attributes).length;r<l;r++)i=o.item(r),f.setAttribute(i.nodeName,i.nodeValue);for(;h.firstChild;)f.appendChild(h.firstChild);h=f}for(r=0,l=(o=a.attributes).length;r<l;r++)"x"!==(i=o.item(r)).nodeName&&"y"!==i.nodeName&&"xlink:href"!==i.nodeName&&("transform"===i.nodeName?d=i.nodeValue+" "+d:h.setAttribute(i.nodeName,i.nodeValue));h.setAttribute("transform",d),h.setAttribute("instantiated_by_use","1"),h.removeAttribute("id"),a.parentNode.replaceChild(h,a),e.length===p&&n++}}(t);var l=e.Object.__uid++,s=w(t),c=e.util.toArray(t.getElementsByTagName("*"));if(s.crossOrigin=o&&o.crossOrigin,s.svgUid=l,0===c.length&&e.isLikelyNode){for(var h=[],d=0,p=(c=t.selectNodes('//*[name(.)!="svg"]')).length;d<p;d++)h[d]=c[d];c=h}var f=c.filter(function(t){return w(t),a.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,u)});!f||f&&!f.length?n&&n([],{}):(e.gradientDefs[l]=e.getGradientDefs(t),e.cssRules[l]=e.getCSSRules(t),e.parseElements(f,function(t){n&&n(t,s)},i(s),r,o))}};var _=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");n(e,{parseFontDeclaration:function(t,e){var n=t.match(_);if(n){var i=n[1],r=n[3],l=n[4],a=n[5],s=n[6];i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),l&&(e.fontSize=o(l)),s&&(e.fontFamily=s),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,n,i,r=g(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),o=0,l={},a={};for(o=r.length;o--;)i=(e=r[o]).getAttribute("xlink:href"),n=e.getAttribute("id"),i&&(a[n]=i.substr(1)),l[n]=e;for(n in a){var s=l[a[n]].cloneNode(!0);for(e=l[n];s.firstChild;)e.appendChild(s.firstChild)}return l},parseAttributes:function(t,i,o){if(t){var l,a,s={};"undefined"==typeof o&&(o=t.getAttribute("svgUid")),t.parentNode&&c.test(t.parentNode.nodeName)&&(s=e.parseAttributes(t.parentNode,i,o)),a=s&&s.fontSize||t.getAttribute("font-size")||e.Text.DEFAULT_SVG_FONT_SIZE;var u=i.reduce(function(e,n){return(l=t.getAttribute(n))&&(e[n]=l),e},{});u=n(u,n(function(t,n){var i={};for(var r in e.cssRules[n])if(m(t,r.split(" ")))for(var o in e.cssRules[n][r])i[o]=e.cssRules[n][r][o];return i}(t,o),e.parseStyleAttribute(t)));var h,g,v={};for(var y in u)g=f(h=p(y),u[y],s,a),v[h]=g;v&&v.font&&e.parseFontDeclaration(v.font,v);var b=n(s,v);return c.test(t.nodeName)?b:function(t){for(var n in d)if("undefined"!=typeof t[d[n]]&&""!==t[n]){if("undefined"==typeof t[n]){if(!e.Object.prototype[n])continue;t[n]=e.Object.prototype[n]}if(0!==t[n].indexOf("url(")){var i=new e.Color(t[n]);t[n]=i.setAlpha(r(i.getAlpha()*t[d[n]],2)).toRgba()}}return t}(b)}},parseElements:function(t,n,i,r,o){new e.ElementsParser(t,n,i,r,o).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"==typeof n?function(t,e){var n,i;t.replace(/;\s*$/,"").split(";").forEach(function(t){var r=t.split(":");n=r[0].trim().toLowerCase(),i=r[1].trim(),e[n]=i})}(n,e):function(t,e){for(var n in t)"undefined"!=typeof t[n]&&(e[n.toLowerCase()]=t[n])}(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,n,i=[];for(e=0,n=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<n;e+=2)i.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return i},getCSSRules:function(t){for(var n=t.getElementsByTagName("style"),i={},r=0,o=n.length;r<o;r++){var l=n[r].textContent||n[r].text;""!==(l=l.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&l.match(/[^{]*\{[\s\S]*?\}/g).map(function(t){return t.trim()}).forEach(function(t){for(var n=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),r={},o=n[2].trim().replace(/;$/,"").split(/\s*;\s*/),l=0,a=o.length;l<a;l++){var s=o[l].split(/\s*:\s*/);r[s[0]]=s[1]}(t=n[1]).split(",").forEach(function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(i[t]?e.util.object.extend(i[t],r):i[t]=e.util.object.clone(r))})})}return i},loadSVGFromURL:function(t,n,i,r){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var o=t.responseXML;o&&!o.documentElement&&e.window.ActiveXObject&&t.responseText&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),o&&o.documentElement||n&&n(null),e.parseSVGDocument(o.documentElement,function(t,e){n&&n(t,e)},i,r)}})},loadSVGFromString:function(t,n,i,r){var o;if(t=t.trim(),"undefined"!=typeof DOMParser){var l=new DOMParser;l&&l.parseFromString&&(o=l.parseFromString(t,"text/xml"))}else e.window.ActiveXObject&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));e.parseSVGDocument(o.documentElement,function(t,e){n(t,e)},i,r)}})}(),fabric.ElementsParser=function(t,e,n,i,r){this.elements=t,this.callback=e,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0,this.parsingOptions=r},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;t<e;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout(function(){t.createObject(t.elements[e],e)},0)}(this,t)},fabric.ElementsParser.prototype.createObject=function(t,e){var n=fabric[fabric.util.string.capitalize(t.tagName.replace("svg:",""))];if(n&&n.fromElement)try{this._createObject(n,t,e)}catch(t){fabric.log(t)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(t,e,n){if(t.async)t.fromElement(e,this.createCallback(n,e),this.options);else{var i=t.fromElement(e,this.options);this.resolveGradient(i,"fill"),this.resolveGradient(i,"stroke"),this.reviver&&this.reviver(e,i),this.instances[n]=i,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(t,e){var n=this;return function(i){n.resolveGradient(i,"fill"),n.resolveGradient(i,"stroke"),n.reviver&&n.reviver(e,i),n.instances[t]=i,n.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(t,e){var n=t.get(e);if(/^url\(/.test(n)){var i=n.slice(5,n.length-1);fabric.gradientDefs[this.svgUid][i]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][i],t))}},fabric.ElementsParser.prototype.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances))},function(t){"use strict";var e=exports.fabric||(exports.fabric={});function n(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=n,n.prototype={type:"point",constructor:n,add:function(t){return new n(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new n(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new n(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new n(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return"undefined"==typeof e&&(e=.5),e=Math.max(Math.min(1,e),0),new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new n(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new n(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new n(this.x,this.y)}})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={});function n(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=n,e.Intersection.prototype={constructor:n,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,i,r,o){var l,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),s=(i.x-t.x)*(t.y-r.y)-(i.y-t.y)*(t.x-r.x),u=(o.y-r.y)*(i.x-t.x)-(o.x-r.x)*(i.y-t.y);if(0!==u){var c=a/u,h=s/u;0<=c&&c<=1&&0<=h&&h<=1?(l=new n("Intersection")).appendPoint(new e.Point(t.x+c*(i.x-t.x),t.y+c*(i.y-t.y))):l=new n}else l=new n(0===a||0===s?"Coincident":"Parallel");return l},e.Intersection.intersectLinePolygon=function(t,e,i){for(var r,o=new n,l=i.length,a=0;a<l;a++)r=n.intersectLineLine(t,e,i[a],i[(a+1)%l]),o.appendPoints(r.points);return o.points.length>0&&(o.status="Intersection"),o},e.Intersection.intersectPolygonPolygon=function(t,e){for(var i=new n,r=t.length,o=0;o<r;o++){var l=n.intersectLinePolygon(t[o],t[(o+1)%r],e);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i},e.Intersection.intersectPolygonRectangle=function(t,i,r){var o=i.min(r),l=i.max(r),a=new e.Point(l.x,o.y),s=new e.Point(o.x,l.y),u=n.intersectLinePolygon(o,a,t),c=n.intersectLinePolygon(a,l,t),h=n.intersectLinePolygon(l,s,t),d=n.intersectLinePolygon(s,o,t),p=new n;return p.appendPoints(u.points),p.appendPoints(c.points),p.appendPoints(h.points),p.appendPoints(d.points),p.points.length>0&&(p.status="Intersection"),p})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={});function n(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=n,e.Color.prototype={_tryParsingColor:function(t){var e;t in n.colorNameMap&&(t=n.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=n.sourceFromHex(t)),e||(e=n.sourceFromRgb(t)),e||(e=n.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,n,i){var r,o,l,a=e.util.array.max([t/=255,n/=255,i/=255]),s=e.util.array.min([t,n,i]);if(l=(a+s)/2,a===s)r=o=0;else{var u=a-s;switch(o=l>.5?u/(2-a-s):u/(a+s),a){case t:r=(n-i)/u+(n<i?6:0);break;case n:r=(i-t)/u+2;break;case i:r=(t-n)/u+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*l)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,i=this.getSource();return t=1===(t=i[0].toString(16)).length?"0"+t:t,e=1===(e=i[1].toString(16)).length?"0"+e:e,n=1===(n=i[2].toString(16)).length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},toHexa:function(){var t;return t=1===(t=(t=255*this.getSource()[3]).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10);return this.setSource([e,e,e,t[3]]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),i=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(t){t instanceof n||(t=new n(t));for(var e=[],i=this.getAlpha(),r=this.getSource(),o=t.getSource(),l=0;l<3;l++)e.push(Math.round(.5*r[l]+.5*o[l]));return e[3]=i,this.setSource(e),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},e.Color.fromRgb=function(t){return n.fromSource(n.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(n.reRGBa);if(e){var i=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=n.fromRgb,e.Color.fromHsl=function(t){return n.fromSource(n.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(n.reHSLa);if(e){var r,o,l,a=(parseFloat(e[1])%360+360)%360/360,s=parseFloat(e[2])/(/%$/.test(e[2])?100:1),u=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===s)r=o=l=u;else{var c=u<=.5?u*(s+1):u+s-u*s,h=2*u-c;r=i(h,c,a+1/3),o=i(h,c,a),l=i(h,c,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*l),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=n.fromHsl,e.Color.fromHex=function(t){return n.fromSource(n.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(n.reHex)){var e=t.slice(t.indexOf("#")+1),i=3===e.length||4===e.length,r=8===e.length||4===e.length,o=i?e.charAt(0)+e.charAt(0):e.substring(0,2),l=i?e.charAt(1)+e.charAt(1):e.substring(2,4),a=i?e.charAt(2)+e.charAt(2):e.substring(4,6),s=r?i?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(l,16),parseInt(a,16),parseFloat((parseInt(s,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new n;return e.setSource(t),e})}(),function(){function t(t){var e,n,i,r=t.getAttribute("style"),o=t.getAttribute("offset")||0;if(o=(o=parseFloat(o)/(/%$/.test(o)?100:1))<0?0:o>1?1:o,r){var l=r.split(/\s*;\s*/);""===l[l.length-1]&&l.pop();for(var a=l.length;a--;){var s=l[a].split(/\s*:\s*/),u=s[0].trim(),c=s[1].trim();"stop-color"===u?e=c:"stop-opacity"===u&&(i=c)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),i||(i=t.getAttribute("stop-opacity")),n=(e=new fabric.Color(e)).getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=n,{offset:o,color:e.toRgb(),opacity:i}}var e=fabric.util.object.clone;function n(t,e,n){var i,r=0,o=1,l="";for(var a in e)"Infinity"===e[a]?e[a]=1:"-Infinity"===e[a]&&(e[a]=0),i=parseFloat(e[a],10),o="string"==typeof e[a]&&/^\d+%$/.test(e[a])?.01:1,"x1"===a||"x2"===a||"r2"===a?(o*="objectBoundingBox"===n?t.width:1,r="objectBoundingBox"===n&&t.left||0):"y1"!==a&&"y2"!==a||(o*="objectBoundingBox"===n?t.height:1,r="objectBoundingBox"===n&&t.top||0),e[a]=i*o+r;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===n&&t.rx!==t.ry){var s=t.ry/t.rx;l=" scale(1, "+s+")",e.y1&&(e.y1/=s),e.y2&&(e.y2/=s)}return l}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=fabric.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var n=new fabric.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return fabric.util.populateWithProperties(this,e,t),e},toSVG:function(t){var n,i,r=e(this.coords,!0),o=e(this.colorStops,!0),l=r.r1>r.r2;if(o.sort(function(t,e){return t.offset-e.offset}),!t.group||"path-group"!==t.group.type)for(var a in r)"x1"===a||"x2"===a?r[a]+=this.offsetX-t.width/2:"y1"!==a&&"y2"!==a||(r[a]+=this.offsetY-t.height/2);if(i='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(i+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?n=["<linearGradient ",i,' x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,'">\n']:"radial"===this.type&&(n=["<radialGradient ",i,' cx="',l?r.x1:r.x2,'" cy="',l?r.y1:r.y2,'" r="',l?r.r1:r.r2,'" fx="',l?r.x2:r.x1,'" fy="',l?r.y2:r.y1,'">\n']),"radial"===this.type){if(l){(o=o.concat()).reverse();for(var s=0;s<o.length;s++)o[s].offset=1-o[s].offset}var u=Math.min(r.r1,r.r2);if(u>0){var c=u/Math.max(r.r1,r.r2);for(s=0;s<o.length;s++)o[s].offset+=c*(1-o[s].offset)}}for(s=0;s<o.length;s++){var h=o[s];n.push("<stop ",'offset="',100*h.offset+"%",'" style="stop-color:',h.color,null!==h.opacity?";stop-opacity: "+h.opacity:";",'"/>\n')}return n.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),n.join("")},toLive:function(t,e){var n,i,r=fabric.util.object.clone(this.coords);if(this.type){if(e.group&&"path-group"===e.group.type)for(i in r)"x1"===i||"x2"===i?r[i]+=e.width/2-this.offsetX:"y1"!==i&&"y2"!==i||(r[i]+=e.height/2-this.offsetY);"linear"===this.type?n=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(n=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2));for(var o=0,l=this.colorStops.length;o<l;o++){var a=this.colorStops[o].color,s=this.colorStops[o].opacity,u=this.colorStops[o].offset;"undefined"!=typeof s&&(a=new fabric.Color(a).setAlpha(s).toRgba()),n.addColorStop(u,a)}return n}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(e,i){var r,o,l,a=e.getElementsByTagName("stop"),s=e.getAttribute("gradientUnits")||"objectBoundingBox",u=e.getAttribute("gradientTransform"),c=[];"linear"==(r="linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial")?o=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e):"radial"===r&&(o=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e));for(var h=a.length;h--;)c.push(t(a[h]));l=n(i,o,s);var d=new fabric.Gradient({type:r,coords:o,colorStops:c,offsetX:-i.left,offsetY:-i.top});return(u||""!==l)&&(d.gradientTransform=fabric.parseTransformAttribute((u||"")+l)),d},forObject:function(t,e){return e||(e={}),n(t,e.coords,"userSpaceOnUse"),new fabric.Gradient(e)}})}(),function(){"use strict";var t=fabric.util.toFixed;fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(t,e){if(t||(t={}),this.id=fabric.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if("undefined"!=typeof fabric.util.getFunctionBody(t.source))this.source=new Function(fabric.util.getFunctionBody(t.source)),e&&e(this);else{var n=this;this.source=fabric.util.createImage(),fabric.util.loadImage(t.source,function(t){n.source=t,e&&e(n)})}},toObject:function(e){var n,i,r=fabric.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?n=String(this.source):"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),i={type:"pattern",source:n,repeat:this.repeat,offsetX:t(this.offsetX,r),offsetY:t(this.offsetY,r)},fabric.util.populateWithProperties(this,i,e),i},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,n=e.width/t.width,i=e.height/t.height,r=this.offsetX/t.width,o=this.offsetY/t.height,l="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1),e.src?l=e.src:e.toDataURL&&(l=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+l+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if("undefined"!=typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){for(var n in"string"==typeof t&&(t=this._parseShadow(t)),t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),i=e.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(i[1],10)||0,offsetY:parseInt(i[2],10)||0,blur:parseInt(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var i=40,r=40,o=e.Object.NUM_FRACTION_DIGITS,l=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle));return t.width&&t.height&&(i=100*n((Math.abs(l.x)+this.blur)/t.width,o)+20,r=100*n((Math.abs(l.y)+this.blur)/t.height,o)+20),t.flipX&&(l.x*=-1),t.flipY&&(l.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(l.x,o)+'" dy="'+n(l.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+this.color+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var t={},n=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach(function(e){this[e]!==n[e]&&(t[e]=this[e])},this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(),function(){"use strict";if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var t=fabric.util.object.extend,e=fabric.util.getElementOffset,n=fabric.util.removeFromArray,i=fabric.util.toFixed,r=fabric.util.transformPoint,o=fabric.util.invertTransform,l=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass(fabric.CommonMethods,{initialize:function(t,e){e||(e={}),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:fabric.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!1,_initStatic:function(t,e){var n=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==fabric.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,n,i){return"string"==typeof e?fabric.util.loadImage(e,function(e){e&&(this[t]=new fabric.Image(e,i)),n&&n(e)},this,i&&i.crossOrigin):(i&&e.setOptions(i),this[t]=e,n&&n(e)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(t){var e=fabric.util.createCanvasElement(t);if(e.style||(e.style={}),!e)throw l;if("undefined"==typeof e.getContext)throw l;return e},_initOptions:function(t){this._setOptions(t),this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(t),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;for(var i in e=e||{},t)n=t[i],e.cssOnly||(this._setBackstoreDimension(i,t[i]),n+="px"),e.backstoreOnly||this._setCssDimension(i,n);return this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.renderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n=this._activeGroup;this.viewportTransform=t;for(var i=0,r=this._objects.length;i<r;i++)(e=this._objects[i]).group||e.setCoords(!1,!0);return n&&n.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderAll(),this},zoomToPoint:function(t,e){var n=t,i=this.viewportTransform.slice(0);t=r(t,o(this.viewportTransform)),i[0]=e,i[3]=e;var l=r(t,i);return i[4]+=n.x-l.x,i[5]+=n.y-l.y,this.setViewportTransform(i)},setZoom:function(t){return this.zoomToPoint(new fabric.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new fabric.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},calcViewportBoundaries:function(){var t={},e=this.getWidth(),n=this.getHeight(),i=o(this.viewportTransform);return t.tl=r({x:0,y:0},i),t.br=r({x:e,y:n},i),t.tr=new fabric.Point(t.br.x,t.tl.y),t.bl=new fabric.Point(t.tl.x,t.br.y),this.vptCoords=t,t},renderCanvas:function(t,e){this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform.apply(t,this.viewportTransform),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render")},_renderObjects:function(t,e){for(var n=0,i=e.length;n<i;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n=this[e+"Color"];n&&(t.fillStyle=n.toLive?n.toLive(t,this):n,t.fillRect(n.offsetX||0,n.offsetY||0,this.width,this.height)),(n=this[e+"Image"])&&(this[e+"Vpt"]&&(t.save(),t.transform.apply(t,this.viewportTransform)),n.render(t),this[e+"Vpt"]&&t.restore())},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return this._centerObject(t,new fabric.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new fabric.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=o(this.viewportTransform);return r({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),this.renderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var i={objects:this._toObjects(e,n)};return t(i,this.__serializeBgOverlay(e,n)),fabric.util.populateWithProperties(this,i,n),i},_toObjects:function(t,e){return this.getObjects().filter(function(t){return!t.excludeFromExport}).map(function(n){return this._toObject(n,t,e)},this)},_toObject:function(t,e,n){var i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=i),r},__serializeBgOverlay:function(t,e){var n={},i=this.backgroundImage,r=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,t,e)),r&&!r.excludeFromExport&&(n.overlayImage=this._toObject(r,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this._setSVGBgOverlayColor(n,"backgroundColor"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this._setSVGBgOverlayColor(n,"overlayColor"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,r=e.width||this.width,o=e.height||this.height,l='viewBox="0 0 '+this.width+" "+this.height+'" ',a=fabric.Object.NUM_FRACTION_DIGITS;e.viewBox?l='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(l='viewBox="'+i(-(n=this.viewportTransform)[4]/n[0],a)+" "+i(-n[5]/n[3],a)+" "+i(this.width/n[0],a)+" "+i(this.height/n[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',o,'" ',l,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",fabric.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),"</defs>\n")},createSVGRefElementsMarkup:function(){var t=this;return["backgroundColor","overlayColor"].map(function(e){var n=t[e];if(n&&n.toLive)return n.toSVG(t,!1)}).join("")},createSVGFontFacesMarkup:function(){for(var t,e,n,i,r,o,l="",a={},s=fabric.fontPaths,u=this.getObjects(),c=0,h=u.length;c<h;c++)if(e=(t=u[c]).fontFamily,-1!==t.type.indexOf("text")&&!a[e]&&s[e]&&(a[e]=!0,t.styles))for(r in n=t.styles)for(o in i=n[r])!a[e=i[o].fontFamily]&&s[e]&&(a[e]=!0);for(var d in a)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",s[d],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(t,e){for(var n,i=0,r=this.getObjects(),o=r.length;i<o;i++)(n=r[i]).excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e];if(n)if(n.toLive){var i=n.repeat;t.push('<rect transform="translate(',this.width/2,",",this.height/2,')"',' x="',n.offsetX-this.width/2,'" y="',n.offsetY-this.height/2,'" ','width="',"repeat-y"===i||"no-repeat"===i?n.source.width:this.width,'" height="',"repeat-x"===i||"no-repeat"===i?n.source.height:this.height,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,i,r,o=this._activeGroup;if(t===o)for(e=(r=o._objects).length;e--;)n(this._objects,i=r[e]),this._objects.unshift(i);else n(this._objects,t),this._objects.unshift(t);return this.renderAll&&this.renderAll()},bringToFront:function(t){if(!t)return this;var e,i,r,o=this._activeGroup;if(t===o)for(r=o._objects,e=0;e<r.length;e++)n(this._objects,i=r[e]),this._objects.push(i);else n(this._objects,t),this._objects.push(t);return this.renderAll&&this.renderAll()},sendBackwards:function(t,e){if(!t)return this;var i,r,o,l,a,s=this._activeGroup,u=0;if(t===s)for(a=s._objects,i=0;i<a.length;i++)(o=this._objects.indexOf(r=a[i]))>0+u&&(l=o-1,n(this._objects,r),this._objects.splice(l,0,r)),u++;else 0!==(o=this._objects.indexOf(t))&&(l=this._findNewLowerIndex(t,o,e),n(this._objects,t),this._objects.splice(l,0,t));return this.renderAll&&this.renderAll(),this},_findNewLowerIndex:function(t,e,n){var i;if(n){i=e;for(var r=e-1;r>=0;--r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){i=r;break}}else i=e-1;return i},bringForward:function(t,e){if(!t)return this;var i,r,o,l,a,s=this._activeGroup,u=0;if(t===s)for(i=(a=s._objects).length;i--;)(o=this._objects.indexOf(r=a[i]))<this._objects.length-1-u&&(l=o+1,n(this._objects,r),this._objects.splice(l,0,r)),u++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(l=this._findNewUpperIndex(t,o,e),n(this._objects,t),this._objects.splice(l,0,t));return this.renderAll&&this.renderAll(),this},_findNewUpperIndex:function(t,e,n){var i;if(n){i=e;for(var r=e+1;r<this._objects.length;++r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){i=r;break}}else i=e+1;return i},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,fabric.Collection),t(fabric.StaticCanvas.prototype,fabric.DataURLExporter),t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=fabric.util.createCanvasElement();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"getImageData":return"undefined"!=typeof n.getImageData;case"setLineDash":return"undefined"!=typeof n.setLineDash;case"toDataURL":return"undefined"!=typeof e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(t){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(t){return this.shadow=new fabric.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){this._captureDrawingPath(t),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new fabric.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){this._points.length>1&&t.eq(this._points[this._points.length-1])||this._points.push(t)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new fabric.Point(t.x,t.y);this._addPoint(e)},_render:function(){var t,e,n=this.canvas.contextTop,i=this.canvas.viewportTransform,r=this._points[0],o=this._points[1];if(n.save(),n.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var l=this.width/1e3;r=new fabric.Point(r.x,r.y),o=new fabric.Point(o.x,o.y),r.x-=l,o.x+=l}for(n.moveTo(r.x,r.y),t=1,e=this._points.length;t<e;t++){var a=r.midPointFrom(o);n.quadraticCurveTo(r.x,r.y,a.x,a.y),r=this._points[t],o=this._points[t+1]}n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(t){var e,n=[],i=this.width/1e3,r=new fabric.Point(t[0].x,t[0].y),o=new fabric.Point(t[1].x,t[1].y),l=t.length,a=1,s=1,u=l>2;for(u&&(a=t[2].x<o.x?-1:t[2].x===o.x?0:1,s=t[2].y<o.y?-1:t[2].y===o.y?0:1),n.push("M ",r.x-a*i," ",r.y-s*i," "),e=1;e<l;e++){if(!r.eq(o)){var c=r.midPointFrom(o);n.push("Q ",r.x," ",r.y," ",c.x," ",c.y," ")}r=t[e],e+1<t.length&&(o=t[e+1])}return u&&(a=r.x>t[e-2].x?1:r.x===t[e-2].x?0:-1,s=r.y>t[e-2].y?1:r.y===t[e-2].y?0:-1),n.push("L ",r.x+a*i," ",r.y+s*i),n},createPath:function(t){var e=new fabric.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"}),n=new fabric.Point(e.left,e.top);return e.originX=fabric.Object.prototype.originX,e.originY=fabric.Object.prototype.originY,n=e.translateToGivenOrigin(n,"center","center",e.originX,e.originY),e.top=n.y,e.left=n.x,this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.add(e),e.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:e})}else this.canvas.renderAll()}}),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop,i=this.canvas.viewportTransform;n.save(),n.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n.fillStyle=e.fill,n.beginPath(),n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,i=this.points.length;n<i;n++){var r=this.points[n],o=new fabric.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&o.setShadow(this.shadow),e.push(o)}var l=new fabric.Group(e,{originX:"center",originY:"center"});l.canvas=this.canvas,this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},addPoint:function(t){var e=new fabric.Point(t.x,t.y),n=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=i,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render()},onMouseMove:function(t){this.addSprayChunk(t),this.render()},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,i=this.sprayChunks.length;n<i;n++)for(var r=this.sprayChunks[n],o=0,l=r.length;o<l;o++){var a=new fabric.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&a.setShadow(this.shadow),e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var s=new fabric.Group(e,{originX:"center",originY:"center"});s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},_getOptimizedRects:function(t){for(var e,n={},i=0,r=t.length;i<r;i++)n[e=t[i].left+""+t[i].top]||(n[e]=t[i]);var o=[];for(e in n)o.push(n[e]);return o},render:function(){var t=this.canvas.contextTop;t.fillStyle=this.color;var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var n=0,i=this.sprayChunkPoints.length;n<i;n++){var r=this.sprayChunkPoints[n];"undefined"!=typeof r.opacity&&(t.globalAlpha=r.opacity),t.fillRect(r.x,r.y,r.width,r.width)}t.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e,n,i,r=this.width/2,o=0;o<this.density;o++){e=fabric.util.getRandomInt(t.x-r,t.x+r),n=fabric.util.getRandomInt(t.y-r,t.y+r),i=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var l=new fabric.Point(e,n);l.width=i,this.randomOpacity&&(l.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(l)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var t=fabric.document.createElement("canvas"),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=fabric.util.getPointer,e=fabric.util.degreesToRadians,n=fabric.util.radiansToDegrees,i=Math.atan2,r=Math.abs,o=fabric.StaticCanvas.supports("setLineDash");for(var l in fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e=this.getActiveGroup(),n=this.getActiveObject(),i=[],r=[];if(!e&&!n||this.preserveObjectStacking)i=this._objects;else{for(var o=0,l=this._objects.length;o<l;o++)t=this._objects[o],e&&e.contains(t)||t===n?r.push(t):i.push(t);e&&(e._set("_objects",r),i.push(e)),n&&i.push(n)}return i},renderAll:function(){return!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection(t),this.fire("after:render"),this.contextTopDirty=!0,this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?"rotate"===t.action?this._setOriginToCenter(t.target):("center"!==t.originX&&(t.mouseXSign="right"===t.originX?-1:1),"center"!==t.originY&&(t.mouseYSign="bottom"===t.originY?-1:1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,n){var i,r=n||this.getPointer(t,!0);return i=e.group&&e.group===this.getActiveGroup()?this._normalizePointer(e.group,r):{x:r.x,y:r.y},e.containsPoint(i)||e._findTargetCorner(r)},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),i=fabric.util.invertTransform(n),r=this.restorePointerVpt(e);return fabric.util.transformPoint(r,i)},isTargetTransparent:function(t,e,n){var i=t.hasBorders,r=t.transparentCorners,o=this.contextCache,l=t.selectionBackgroundColor;t.hasBorders=t.transparentCorners=!1,t.selectionBackgroundColor="",o.save(),o.transform.apply(o,this.viewportTransform),t.render(o),o.restore(),t.active&&t._renderControls(o),t.hasBorders=i,t.transparentCorners=r,t.selectionBackgroundColor=l;var a=fabric.util.isTransparent(o,e,n,this.targetFindTolerance);return this.clearContext(o),a},_shouldClearSelection:function(t,e){var n=this.getActiveGroup(),i=this.getActiveObject();return!e||e&&n&&!n.contains(e)&&n!==e&&!t[this.selectionKey]||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(t){if(t){var e,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?e=this.centeredScaling||t.centeredScaling:"rotate"===n.action&&(e=this.centeredRotation||t.centeredRotation),e?!n.altKey:n.altKey}},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n){if(!e)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,n){if(n){var i=this.getPointer(t),r=n._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(n,r,t),l=this._getOriginFromCorner(n,r);this._currentTransform={target:n,action:o,corner:r,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:l.x,originY:l.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,left:n.left,top:n.top,theta:e(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey]},this._currentTransform.original={left:n.left,top:n.top,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,originX:l.x,originY:l.y},this._resetCurrentTransform()}},_translateObject:function(t,e){var n=this._currentTransform,i=n.target,r=t-n.offsetX,o=e-n.offsetY,l=!i.get("lockMovementX")&&i.left!==r,a=!i.get("lockMovementY")&&i.top!==o;return l&&i.set("left",r),a&&i.set("top",o),l||a},_changeSkewTransformOrigin:function(t,e,n){var i="originX",r={0:"center"},o=e.target.skewX,l="left",a="right",s="mt"===e.corner||"ml"===e.corner?1:-1,u=1;t=t>0?1:-1,"y"===n&&(o=e.target.skewY,l="top",a="bottom",i="originY"),r[-1]=l,r[1]=a,e.target.flipX&&(u*=-1),e.target.flipY&&(u*=-1),0===o?(e.skewSign=-s*t*u,e[i]=r[-t]):(e.skewSign=o=o>0?1:-1,e[i]=r[o*s*u])},_skewObject:function(t,e,n){var i,r=this._currentTransform,o=r.target,l=o.get("lockSkewingX"),a=o.get("lockSkewingY");if(l&&"x"===n||a&&"y"===n)return!1;var s,u,c=o.getCenterPoint(),h=o.toLocalPoint(new fabric.Point(t,e),"center","center")[n],d=o.toLocalPoint(new fabric.Point(r.lastX,r.lastY),"center","center")[n],p=o._getTransformedDimensions();return this._changeSkewTransformOrigin(h-d,r,n),s=o.toLocalPoint(new fabric.Point(t,e),r.originX,r.originY)[n],u=o.translateToOriginPoint(c,r.originX,r.originY),i=this._setObjectSkew(s,r,n,p),r.lastX=t,r.lastY=e,o.setPositionByOrigin(u,r.originX,r.originY),i},_setObjectSkew:function(t,e,n,i){var r,o,l,a,s,u,c,h,d,p,f=e.target,g=e.skewSign;return"x"===n?(s="y",u="Y",c="X",d=0,p=f.skewY):(s="x",u="X",c="Y",d=f.skewX,p=0),a=f._getTransformedDimensions(d,p),(h=2*Math.abs(t)-a[n])<=2?r=0:(r=g*Math.atan(h/f["scale"+c]/(a[s]/f["scale"+u])),r=fabric.util.radiansToDegrees(r)),o=f["skew"+c]!==r,f.set("skew"+c,r),0!==f["skew"+u]&&(l=f._getTransformedDimensions(),f.set("scale"+u,r=i[s]/l[s]*f["scale"+u])),o},_scaleObject:function(t,e,n){var i=this._currentTransform,r=i.target,o=r.get("lockScalingX"),l=r.get("lockScalingY"),a=r.get("lockScalingFlip");if(o&&l)return!1;var s,u=r.translateToOriginPoint(r.getCenterPoint(),i.originX,i.originY),c=r.toLocalPoint(new fabric.Point(t,e),i.originX,i.originY),h=r._getTransformedDimensions();return this._setLocalMouse(c,i),s=this._setObjectScale(c,i,o,l,n,a,h),r.setPositionByOrigin(u,i.originX,i.originY),s},_setObjectScale:function(t,e,n,i,r,o,l){var a,s,u,c,h=e.target,d=!1,p=!1,f=!1;return a=h.scaleX!==(u=t.x*h.scaleX/l.x),s=h.scaleY!==(c=t.y*h.scaleY/l.y),o&&u<=0&&u<h.scaleX&&(d=!0),o&&c<=0&&c<h.scaleY&&(p=!0),"equally"!==r||n||i?r?"x"!==r||h.get("lockUniScaling")?"y"!==r||h.get("lockUniScaling")||p||i||h.set("scaleY",c)&&(f=f||s):d||n||h.set("scaleX",u)&&(f=f||a):(d||n||h.set("scaleX",u)&&(f=f||a),p||i||h.set("scaleY",c)&&(f=f||s)):d||p||(f=this._scaleObjectEqually(t,h,e,l)),e.newScaleX=u,e.newScaleY=c,d||p||this._flipObject(e,r),f},_scaleObjectEqually:function(t,e,n,i){var r,o=t.y+t.x,l=i.y*n.original.scaleY/e.scaleY+i.x*n.original.scaleX/e.scaleX,a=t.x/Math.abs(t.x),s=t.y/Math.abs(t.y);return n.newScaleX=a*Math.abs(n.original.scaleX*o/l),n.newScaleY=s*Math.abs(n.original.scaleY*o/l),r=n.newScaleX!==e.scaleX||n.newScaleY!==e.scaleY,e.set("scaleX",n.newScaleX),e.set("scaleY",n.newScaleY),r},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var n=e.target,i=this.getZoom(),o=n.padding/i;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),r(t.x)>o?t.x<0?t.x+=o:t.x-=o:t.x=0,r(t.y)>o?t.y<0?t.y+=o:t.y-=o:t.y=0},_rotateObject:function(t,e){var r=this._currentTransform;if(r.target.get("lockRotation"))return!1;var o=i(r.ey-r.top,r.ex-r.left),l=i(e-r.top,t-r.left),a=n(l-o+r.theta),s=!0;if(r.target.snapAngle>0){var u=r.target.snapAngle,c=r.target.snapThreshold||u,h=Math.ceil(a/u)*u,d=Math.floor(a/u)*u;Math.abs(a-d)<c?a=d:Math.abs(a-h)<c&&(a=h)}return a<0&&(a=360+a),r.target.angle===(a%=360)?s=!1:r.target.angle=a,s},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.setAngle(0)},_drawSelection:function(t){var e=this._groupSelector,n=e.left,i=e.top,l=r(n),a=r(i);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(n>0?0:-n),e.ey-(i>0?0:-i),l,a)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!o){var s=e.ex+.5-(n>0?0:l),u=e.ey+.5-(i>0?0:a);t.beginPath(),fabric.util.drawDashedLine(t,s,u,s+l,u,this.selectionDashArray),fabric.util.drawDashedLine(t,s,u+a-1,s+l,u+a-1,this.selectionDashArray),fabric.util.drawDashedLine(t,s,u,s,u+a,this.selectionDashArray),fabric.util.drawDashedLine(t,s+l-1,u,s+l-1,u+a,this.selectionDashArray),t.closePath(),t.stroke()}else fabric.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(n>0?0:l),e.ey+.5-(i>0?0:a),l,a)},findTarget:function(t,e){if(!this.skipTargetFind){var n,i,r=this.getPointer(t,!0),o=this.getActiveGroup(),l=this.getActiveObject();if(this.targets=[],o&&!e&&o===this._searchPossibleTargets([o],r))return this._fireOverOutEvents(o,t),o;if(l&&l._findTargetCorner(r))return this._fireOverOutEvents(l,t),l;if(l&&l===this._searchPossibleTargets([l],r)){if(!this.preserveObjectStacking)return this._fireOverOutEvents(l,t),l;n=l,i=this.targets,this.targets=[]}var a=this._searchPossibleTargets(this._objects,r);return t[this.altSelectionKey]&&a&&n&&a!==n&&(a=n,this.targets=i),this._fireOverOutEvents(a,t),a}},_fireOverOutEvents:function(t,e){var n,i,r=this._hoveredTarget;r!==t&&(n={e:e,target:t,previousTarget:this._hoveredTarget},i={e:e,target:this._hoveredTarget,nextTarget:t},this._hoveredTarget=t),t?r!==t&&(r&&(this.fire("mouse:out",i),r.fire("mouseout",i)),this.fire("mouse:over",n),t.fire("mouseover",n)):r&&(this.fire("mouse:out",i),r.fire("mouseout",i))},_checkTarget:function(t,e){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}},_searchPossibleTargets:function(t,e){for(var n,i,r,o=t.length;o--;)if(this._checkTarget(e,t[o])){"group"===(n=t[o]).type&&n.subTargetCheck&&(i=this._normalizePointer(n,e),(r=this._searchPossibleTargets(n._objects,i))&&this.targets.push(r));break}return n},restorePointerVpt:function(t){return fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(e,n,i){i||(i=this.upperCanvasEl);var r,o=t(e),l=i.getBoundingClientRect(),a=l.width||0,s=l.height||0;return a&&s||("top"in l&&"bottom"in l&&(s=Math.abs(l.top-l.bottom)),"right"in l&&"left"in l&&(a=Math.abs(l.right-l.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,n||(o=this.restorePointerVpt(o)),{x:o.x*(r=0===a||0===s?{width:1,height:1}:{width:i.width/a,height:i.height/s}).width,y:o.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,n=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0,"touch-action":"none"}),t.width=e,t.height=n,fabric.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(t){var e=this._activeObject;e&&(e.set("active",!1),t!==e&&e.onDeselect&&"function"==typeof e.onDeselect&&e.onDeselect()),this._activeObject=t,t.set("active",!0)},setActiveObject:function(t,e){var n=this.getActiveObject();return n&&n!==t&&n.fire("deselected",{e:e}),this._setActiveObject(t),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this.renderAll(),this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(t){this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this._hoveredTarget===t&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",t)},_discardActiveObject:function(){var t=this._activeObject;t&&(t.set("active",!1),t.onDeselect&&"function"==typeof t.onDeselect&&t.onDeselect()),this._activeObject=null},discardActiveObject:function(t){var e=this._activeObject;return e&&(this.fire("before:selection:cleared",{target:e,e:t}),this._discardActiveObject(),this.fire("selection:cleared",{e:t}),e.fire("deselected",{e:t})),this},_setActiveGroup:function(t){this._activeGroup=t,t&&t.set("active",!0)},setActiveGroup:function(t,e){return this._setActiveGroup(t),t&&(this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var t=this.getActiveGroup();t&&t.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(t){var e=this.getActiveGroup();return e&&(this.fire("before:selection:cleared",{e:t,target:e}),this._discardActiveGroup(),this.fire("selection:cleared",{e:t})),this},deactivateAll:function(){for(var t,e=this.getObjects(),n=0,i=e.length;n<i;n++)(t=e[n])&&t.set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(t){for(var e,n=this.getObjects(),i=0,r=n.length;i<r;i++)(e=n[i])&&e.set("active",!1);return this.discardActiveGroup(t),this.discardActiveObject(t),this},dispose:function(){fabric.StaticCanvas.prototype.dispose.call(this);var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),delete this.upperCanvasEl,t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,this},clear:function(){return this.discardActiveGroup(),this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this.getActiveGroup();e?e._renderControls(t):this._drawObjectsControls(t)},_drawObjectsControls:function(t){for(var e=0,n=this._objects.length;e<n;++e)this._objects[e]&&this._objects[e].active&&this._objects[e]._renderControls(t)},_toObject:function(t,e,n){var i=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,i),r},_realizeGroupTransformOnObject:function(t){if(t.group&&t.group===this.getActiveGroup()){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(n){e[n]=t[n]}),this.getActiveGroup().realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var i;i=this._realizeGroupTransformOnObject(e),this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,i)}}),fabric.StaticCanvas)"prototype"!==l&&(fabric.Canvas[l]=fabric.StaticCanvas[l]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=fabric.util.addListener,n=fabric.util.removeListener;function i(t,e){return"which"in t?t.which===e:t.button===e-1}fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this.removeListeners(),this._bindEvents(),e(fabric.window,"resize",this._onResize),e(this.upperCanvasEl,"mousedown",this._onMouseDown),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"mouseout",this._onMouseOut),e(this.upperCanvasEl,"mouseenter",this._onMouseEnter),e(this.upperCanvasEl,"wheel",this._onMouseWheel),e(this.upperCanvasEl,"contextmenu",this._onContextMenu),e(this.upperCanvasEl,"touchstart",this._onMouseDown,{passive:!1}),e(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),"undefined"!=typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this.eventsBinded||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this.eventsBinded=!0)},removeListeners:function(){n(fabric.window,"resize",this._onResize),n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"mouseout",this._onMouseOut),n(this.upperCanvasEl,"mouseenter",this._onMouseEnter),n(this.upperCanvasEl,"wheel",this._onMouseWheel),n(this.upperCanvasEl,"contextmenu",this._onContextMenu),n(this.upperCanvasEl,"touchstart",this._onMouseDown),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t}),this._iTextInstances&&this._iTextInstances.forEach(function(t){t.isEditing&&t.hiddenTextarea.focus()})},_onMouseEnter:function(t){this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onMouseDown:function(t){this.__onMouseDown(t),e(fabric.document,"touchend",this._onMouseUp,{passive:!1}),e(fabric.document,"touchmove",this._onMouseMove,{passive:!1}),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?n(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(fabric.document,"mouseup",this._onMouseUp),e(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),n(fabric.document,"mouseup",this._onMouseUp),n(fabric.document,"touchend",this._onMouseUp),n(fabric.document,"mousemove",this._onMouseMove),n(fabric.document,"touchmove",this._onMouseMove),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),"touchend"===t.type){var i=this;setTimeout(function(){e(i.upperCanvasEl,"mousedown",i._onMouseDown)},400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var n=this.getActiveGroup()||this.getActiveObject();return!(n&&n.isEditing&&t===n||!(t&&(t.isMoving||t!==n)||!t&&n||!t&&!n&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y)))},__onMouseUp:function(t){var e;if(i(t,3))this.fireRightClick&&this._handleEvent(t,"up",e,3);else if(i(t,2))this.fireMiddleClick&&this._handleEvent(t,"up",e,2);else if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else{var n=!0,r=this._currentTransform,o=this._groupSelector,l=!o||0===o.left&&0===o.top;r&&(this._finalizeCurrentTransform(t),n=!r.actionPerformed),e=n?this.findTarget(t,!0):r.target;var a=this._shouldRender(e,this.getPointer(t));e||!l?this._maybeGroupObjects(t):(this._groupSelector=null,this._currentTransform=null),e&&(e.isMoving=!1),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",e||null,1,l),e&&(e.__corner=0),a&&this.renderAll()}},_handleEvent:function(t,e,n,i,r){var o="undefined"==typeof n?this.findTarget(t):n,l=this.targets||[],a={e:t,target:o,subTargets:l,button:i||1,isClick:r||!1};this.fire("mouse:"+e,a),o&&o.fire("mouse"+e,a);for(var s=0;s<l.length;s++)l[s].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e=this._currentTransform,n=e.target;n._scaling&&(n._scaling=!1),n.setCoords(),this._restoreOriginXY(n),(e.actionPerformed||this.stateful&&n.hasStateChanged())&&(this.fire("object:modified",{target:n,e:t}),n.fire("modified",{e:t}))},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject(t).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e)}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(t,"up")},__onMouseDown:function(t){var e=this.findTarget(t);if(i(t,3))this.fireRightClick&&this._handleEvent(t,"down",e||null,3);else if(i(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",e||null,2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(!this._currentTransform){var n=this.getPointer(t,!0);this._previousPointer=n;var r=this._shouldRender(e,n),o=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.deactivateAllWithDispatch(t):o&&(this._handleGrouping(t,e),e=this.getActiveGroup()),!this.selection||e&&(e.selectable||e.isEditing)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),e){!e.selectable||!e.__corner&&o||(this._beforeTransform(t,e),this._setupCurrentTransform(t,e));var l=this.getActiveObject();e!==this.getActiveGroup()&&e!==l&&(this.deactivateAll(),e.selectable&&(l&&l.fire("deselected",{e:t}),this.setActiveObject(e,t)))}this._handleEvent(t,"down",e||null),r&&this.renderAll()}},_beforeTransform:function(t,e){this.stateful&&e.saveState(),e._findTargetCorner(this.getPointer(t))&&this.onBeforeScaleRotate(e)},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,n;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(!("undefined"!=typeof t.touches&&t.touches.length>1)){var i=this._groupSelector;i?(n=this.getPointer(t,!0),i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t),this._setCursorFromEvent(t,e)),this._handleEvent(t,"move",e||null)}},__onMouseWheel:function(t){this._handleEvent(t,"wheel")},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._beforeScaleTransform(t,n),this._performTransformAction(t,n,e),n.actionPerformed&&this.renderAll()},_performTransformAction:function(t,e,n){var i=n.x,r=n.y,o=e.target,l=e.action,a=!1;"rotate"===l?(a=this._rotateObject(i,r))&&this._fire("rotating",o,t):"scale"===l?(a=this._onScale(t,e,i,r))&&this._fire("scaling",o,t):"scaleX"===l?(a=this._scaleObject(i,r,"x"))&&this._fire("scaling",o,t):"scaleY"===l?(a=this._scaleObject(i,r,"y"))&&this._fire("scaling",o,t):"skewX"===l?(a=this._skewObject(i,r,"x"))&&this._fire("skewing",o,t):"skewY"===l?(a=this._skewObject(i,r,"y"))&&this._fire("skewing",o,t):(a=this._translateObject(i,r))&&(this._fire("moving",o,t),this.setCursor(o.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a},_fire:function(t,e,n){this.fire("object:"+t,{target:e,e:n}),e.fire(t,{e:n})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var n=this._shouldCenterTransform(e.target);(n&&("center"!==e.originX||"center"!==e.originY)||!n&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,n,i){return!t[this.uniScaleKey]&&!this.uniScaleTransform||e.target.get("lockUniScaling")?(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(n,i,"equally")):(e.currentAction="scale",this._scaleObject(n,i))},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor,i=this.getActiveGroup(),r=e._findTargetCorner&&(!i||!i.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));return r?this._setCornerCursor(r,e,t):this.setCursor(n),!0},_setCornerCursor:function(e,n,i){if(e in t)this.setCursor(this._getRotatedCornerCursor(e,n,i));else{if("mtr"!==e||!n.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(e,n,i){var r=Math.round(n.getAngle()%360/45);return r<0&&(r+=8),r+=t[e],i[this.altActionKey]&&t[e]%2==0&&(r+=2),this.cursorMap[r%=8]}})}(),min=Math.min,max=Math.max,fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(t,e){var n=this.getActiveObject();return t[this.selectionKey]&&e&&e.selectable&&(this.getActiveGroup()||n&&n!==e)&&this.selection},_handleGrouping:function(t,e){var n=this.getActiveGroup();(e!==n||(e=this.findTarget(t,!0)))&&(n?this._updateActiveGroup(e,t):this._createActiveGroup(e,t),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(t,e){var n=this.getActiveGroup();if(n.contains(t)){if(n.removeWithUpdate(t),t.set("active",!1),1===n.size())return this.discardActiveGroup(e),void this.setActiveObject(n.item(0),e)}else n.addWithUpdate(t);this.fire("selection:created",{target:n,e:e}),n.set("active",!0)},_createActiveGroup:function(t,e){if(this._activeObject&&t!==this._activeObject){var n=this._createGroup(t);n.addWithUpdate(),this.setActiveGroup(n,e),this._activeObject=null,this.fire("selection:created",{target:n,e:e})}t.set("active",!0)},_createGroup:function(t){var e=this.getObjects(),n=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new fabric.Group(n,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects();1===e.length?this.setActiveObject(e[0],t):e.length>1&&((e=new fabric.Group(e.reverse(),{canvas:this})).addWithUpdate(),this.setActiveGroup(e,t),e.saveCoords(),this.fire("selection:created",{target:e,e:t}),this.renderAll())},_collectObjects:function(){for(var t,e=[],n=this._groupSelector.ex,i=this._groupSelector.ey,r=n+this._groupSelector.left,o=i+this._groupSelector.top,l=new fabric.Point(min(n,r),min(i,o)),a=new fabric.Point(max(n,r),max(i,o)),s=n===r&&i===o,u=this._objects.length;u--&&!((t=this._objects[u])&&t.selectable&&t.visible&&(t.intersectsWithRect(l,a)||t.isContainedWithinRect(l,a)||t.containsPoint(l)||t.containsPoint(a))&&(t.set("active",!0),e.push(t),s)););return e},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t);var e=this.getActiveGroup();e&&(e.setObjectsCoords().setCoords(),e.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}}),supportQuality=fabric.StaticCanvas.supports("toDataURLWithQuality"),fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(t){return t||(t={}),this.__toDataURLWithMultiplier(t.format||"png",t.quality||1,{left:t.left||0,top:t.top||0,width:t.width||0,height:t.height||0},t.multiplier||1)},__toDataURLWithMultiplier:function(t,e,n,i){var r=this.getWidth(),o=this.getHeight(),l=(n.width||this.getWidth())*i,a=(n.height||this.getHeight())*i,s=this.getZoom()*i,u=this.viewportTransform,c=this.interactive;this.viewportTransform=[s,0,0,s,(u[4]-n.left)*i,(u[5]-n.top)*i],this.interactive&&(this.interactive=!1),r!==l||o!==a?this.setDimensions({width:l,height:a},{backstoreOnly:!0}):this.renderAll();var h=this.__toDataURL(t,e,n);return c&&(this.interactive=c),this.viewportTransform=u,this.setDimensions({width:r,height:o},{backstoreOnly:!0}),h},__toDataURL:function(t,e){var n=this.contextContainer.canvas;return"jpg"===t&&(t="jpeg"),supportQuality?n.toDataURL("image/"+t,e):n.toDataURL("image/"+t)},toDataURLWithMultiplier:function(t,e,n){return this.toDataURL({format:t,multiplier:e,quality:n})}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,n){return this.loadFromJSON(t,e,n)},loadFromJSON:function(t,e,n){if(t){var i="string"==typeof t?JSON.parse(t):fabric.util.object.clone(t),r=this,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,this._enlivenObjects(i.objects,function(t){r.clear(),r._setBgOverlay(i,function(){t.forEach(function(t,e){r.insertAt(t,e)}),r.renderOnAddRemove=o,delete i.objects,delete i.backgroundImage,delete i.overlayImage,delete i.background,delete i.overlay,r._setOptions(i),r.renderAll(),e&&e()})},n),this}},_setBgOverlay:function(t,e){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var i=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,i),this.__setBgOverlay("overlayImage",t.overlayImage,n,i),this.__setBgOverlay("backgroundColor",t.background,n,i),this.__setBgOverlay("overlayColor",t.overlay,n,i)}else e&&e()},__setBgOverlay:function(t,e,n,i){var r=this;if(!e)return n[t]=!0,void(i&&i());"backgroundImage"===t||"overlayImage"===t?fabric.util.enlivenObjects([e],function(e){r[t]=e[0],n[t]=!0,i&&i()}):this["set"+fabric.util.string.capitalize(t,!0)](e,function(){n[t]=!0,i&&i()})},_enlivenObjects:function(t,e,n){t&&0!==t.length?fabric.util.enlivenObjects(t,function(t){e&&e(t)},null,n):e&&e([])},_toDataURL:function(t,e){this.clone(function(n){e(n.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,n){this.clone(function(i){n(i.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(n,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var n=new fabric.Canvas(e);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,function(){n.renderAll(),t&&t(n)}),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,o=e.util.string.capitalize,l=e.util.degreesToRadians,a=e.StaticCanvas.supports("setLineDash");e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!e.isLikelyNode,statefullCache:!1,noScaleCache:!0,dirty:!0,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor".split(" "),initialize:function(t){(t=t||{})&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.document.createElement("canvas"),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas()},_limitCacheSize:function(t){var n=e.perfLimitSizeTotal,i=t.width,r=t.height,o=e.maxCacheSideLimit,l=e.minCacheSideLimit;if(i<=o&&r<=o&&i*r<=n)return i<l&&(t.width=l),r<l&&(t.height=l),t;var a=e.util.limitDimsByArea(i/r,n),s=e.util.capValue,u=s(l,a.x,o),c=s(l,a.y,o);return i>u&&(t.zoomX/=i/u,t.width=u,t.capped=!0),r>c&&(t.zoomY/=r/c,t.height=c,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.canvas&&this.canvas.getZoom()||1,n=this.getObjectScaling(),i=this.canvas&&this.canvas._isRetinaScaling()?e.devicePixelRatio:1,r=this._getNonTransformedDimensions(),o=n.scaleX*t*i,l=n.scaleY*t*i;return{width:r.x*o+2,height:r.y*l+2,zoomX:o,zoomY:l,x:r.x,y:r.y}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform){var t=this.canvas._currentTransform.action;if(this===this.canvas._currentTransform.target&&t.slice&&"scale"===t.slice(0,5))return!1}var n,i,r=this._cacheCanvas,o=this._limitCacheSize(this._getCacheCanvasDimensions()),l=e.minCacheSideLimit,a=o.width,s=o.height,u=o.zoomX,c=o.zoomY,h=a!==this.cacheWidth||s!==this.cacheHeight,d=0,p=0,f=!1;if(h){var g=this._cacheCanvas.width,m=this._cacheCanvas.height,v=a>g||s>m;f=v||(a<.9*g||s<.9*m)&&g>l&&m>l,v&&!o.capped&&(a>l||s>l)&&(d=.1*a,p=.1*s)}return!(!h&&this.zoomX===u&&this.zoomY===c||(f?(r.width=Math.ceil(a+d),r.height=Math.ceil(s+p)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,r.width,r.height)),n=o.x*u/2,i=o.y*c/2,this.cacheTranslationX=Math.round(r.width/2-n)+n,this.cacheTranslationY=Math.round(r.height/2-i)+i,this.cacheWidth=a,this.cacheHeight=s,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,c),this.zoomX=u,this.zoomY=c,0))},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t,e){this.group&&!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(t);var n=e?this._getLeftTopCoords():this.getCenterPoint();t.translate(n.x,n.y),this.angle&&t.rotate(l(this.angle)),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1)),this.skewX&&t.transform(1,0,Math.tan(l(this.skewX)),1,0,0),this.skewY&&t.transform(1,Math.tan(l(this.skewY)),0,1,0,0)},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,i={type:this.type,originX:this.originX,originY:this.originY,left:r(this.left,n),top:r(this.top,n),width:r(this.width,n),height:r(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:r(this.strokeMiterLimit,n),scaleX:r(this.scaleX,n),scaleY:r(this.scaleY,n),angle:r(this.getAngle(),n),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:r(this.skewX,n),skewY:r(this.skewY,n)};return e.util.populateWithProperties(this,i,t),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype;return n.stateProperties.forEach(function(e){t[e]===n[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(n[e])&&0===t[e].length&&0===n[e].length&&delete t[e]}),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var n=this.group.getObjectScaling();t*=n.scaleX,e*=n.scaleY}return{scaleX:t,scaleY:e}},_set:function(t,n){var i=this[t]!==n;return("scaleX"===t||"scaleY"===t)&&(n=this._constrainScale(n)),"scaleX"===t&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==t||!n||n instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",n):n=new e.Shadow(n),this[t]=n,i&&this.cacheProperties.indexOf(t)>-1&&(this.group&&this.group.set("dirty",!0),this.dirty=!0),i&&this.group&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0),"width"!==t&&"height"!==t||(this.minScaleLimit=Math.min(.1,1/Math.max(this.width,this.height))),this},setOnGroup:function(){},setSourcePath:function(t){return this.sourcePath=t,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height||!this.visible},render:function(t,n){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),n||this.transform(t),this._setOpacity(t),this._setShadow(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.shouldCache(n)?(this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty(n)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,n),this.dirty=!1),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t,n),n&&this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},needsItsOwnCache:function(){return!1},shouldCache:function(t){return!t&&this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching())},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawObject:function(t,e){this._renderBackground(t),this._setStrokeStyles(t),this._setFillStyles(t),this._render(t,e)},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-n/2,e,n)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){t.globalAlpha*=this.opacity},_setStrokeStyles:function(t){this.stroke&&(t.lineWidth=this.strokeWidth,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,t.strokeStyle=this.stroke.toLive?this.stroke.toLive(t,this):this.stroke)},_setFillStyles:function(t){this.fill&&(t.fillStyle=this.fill.toLive?this.fill.toLive(t,this):this.fill)},_setLineDash:function(t,e,n){e&&(1&e.length&&e.push.apply(e,e),a?t.setLineDash(e):n&&n(t))},_renderControls:function(t){if(this.active&&(!this.group||this.group===this.canvas.getActiveGroup())){var n,i=this.getViewportTransform(),r=this.calcTransformMatrix();r=e.util.multiplyTransformMatrices(i,r),n=e.util.qrDecompose(r),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.group&&this.group===this.canvas.getActiveGroup()?(t.rotate(l(n.angle)),this.drawBordersInGroup(t,n)):(t.rotate(l(this.angle)),this.drawBorders(t)),this.drawControls(t),t.restore()}},_setShadow:function(t){if(this.shadow){var n=this.canvas&&this.canvas.viewportTransform[0]||1,i=this.canvas&&this.canvas.viewportTransform[3]||1,r=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(n*=e.devicePixelRatio,i*=e.devicePixelRatio),t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*(n+i)*(r.scaleX+r.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*n*r.scaleX,t.shadowOffsetY=this.shadow.offsetY*i*r.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(e.toLive){var n=e.gradientTransform||e.patternTransform;n&&t.transform.apply(t,n),t.translate(-this.width/2+e.offsetX||0,-this.height/2+e.offsetY||0)}},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},clone:function(t,n){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(n),t):new e.Object(this.toObject(n))},cloneAsImage:function(t,n){var i=this.toDataURL(n);return e.util.loadImage(i,function(n){t&&t(new e.Image(n))}),this},toDataURL:function(t){t||(t={});var n=e.util.createCanvasElement(),i=this.getBoundingRect();n.width=i.width,n.height=i.height,e.util.wrapElement(n,"div");var r=new e.StaticCanvas(n,{enableRetinaScaling:t.enableRetinaScaling});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(r.backgroundColor="#fff");var o={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point(r.getWidth()/2,r.getHeight()/2),"center","center");var l=this.canvas;r.add(this);var a=r.toDataURL(t);return this.set(o).setCoords(),this.canvas=l,r.dispose(),r=null,a},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,n){n||(n={});var i={colorStops:[]};return i.type=n.type||(n.r1||n.r2?"radial":"linear"),i.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},(n.r1||n.r2)&&(i.coords.r1=n.r1,i.coords.r2=n.r2),i.gradientTransform=n.gradientTransform,e.Gradient.prototype.addColorStop.call(i,n.colorStops),this.set(t,e.Gradient.forObject(this,i))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},setAngle:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},remove:function(){return this.canvas&&(this.group&&this.group===this.canvas._activeGroup&&this.group.remove(this),this.canvas.remove(this)),this},getLocalPointer:function(t,n){n=n||this.canvas.getPointer(t);var i=new e.Point(n.x,n.y),r=this._getLeftTopCoords();return this.angle&&(i=e.util.rotatePoint(i,r,l(-this.angle))),{x:i.x-r.x,y:i.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,n,r,o,l){var a=e[t];if(n=i(n,!0),!o){var s=l?new a(n[l],n):new a(n);return r&&r(s),s}e.util.enlivenPatterns([n.fill,n.stroke],function(t){"undefined"!=typeof t[0]&&(n.fill=t[0]),"undefined"!=typeof t[1]&&(n.stroke=t[1]);var e=l?new a(n[l],n):new a(n);r&&r(e)})},e.Object.__uid=0)}(),degreesToRadians=fabric.util.degreesToRadians,originXOffset={left:-.5,center:0,right:.5},originYOffset={top:-.5,center:0,bottom:.5},fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(t,e,n,i,r){var o,l,a,s=t.x,u=t.y;return"string"==typeof e?e=originXOffset[e]:e-=.5,"string"==typeof i?i=originXOffset[i]:i-=.5,o=i-e,"string"==typeof n?n=originYOffset[n]:n-=.5,"string"==typeof r?r=originYOffset[r]:r-=.5,l=r-n,(o||l)&&(a=this._getTransformedDimensions(),s=t.x+o*a.x,u=t.y+l*a.y),new fabric.Point(s,u)},translateToCenterPoint:function(t,e,n){var i=this.translateToGivenOrigin(t,e,n,"center","center");return this.angle?fabric.util.rotatePoint(i,t,degreesToRadians(this.angle)):i},translateToOriginPoint:function(t,e,n){var i=this.translateToGivenOrigin(t,"center","center",e,n);return this.angle?fabric.util.rotatePoint(i,t,degreesToRadians(this.angle)):i},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(t,e,n){var i,r,o=this.getCenterPoint();return i="undefined"!=typeof e&&"undefined"!=typeof n?this.translateToGivenOrigin(o,"center","center",e,n):new fabric.Point(this.left,this.top),r=new fabric.Point(t.x,t.y),this.angle&&(r=fabric.util.rotatePoint(r,o,-degreesToRadians(this.angle))),r.subtractEquals(i)},setPositionByOrigin:function(t,e,n){var i=this.translateToCenterPoint(t,e,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(t){var e,n,i=degreesToRadians(this.angle),r=this.getWidth(),o=Math.cos(i)*r,l=Math.sin(i)*r;e="string"==typeof this.originX?originXOffset[this.originX]:this.originX-.5,this.left+=o*((n="string"==typeof t?originXOffset[t]:t-.5)-e),this.top+=l*(n-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")},onDeselect:function(){}}),function(){var t=fabric.util.degreesToRadians,e=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,aCoords:null,getCoords:function(t,e){this.oCoords||this.setCoords();var n=t?this.aCoords:this.oCoords;return function(t){return[new fabric.Point(t.tl.x,t.tl.y),new fabric.Point(t.tr.x,t.tr.y),new fabric.Point(t.br.x,t.br.y),new fabric.Point(t.bl.x,t.bl.y)]}(e?this.calcCoords(t):n)},intersectsWithRect:function(t,e,n,i){var r=this.getCoords(n,i);return"Intersection"===fabric.Intersection.intersectPolygonRectangle(r,t,e).status},intersectsWithObject:function(t,e,n){return"Intersection"===fabric.Intersection.intersectPolygonPolygon(this.getCoords(e,n),t.getCoords(e,n)).status||t.isContainedWithinObject(this,e,n)||this.isContainedWithinObject(t,e,n)},isContainedWithinObject:function(t,e,n){for(var i=this.getCoords(e,n),r=0,o=t._getImageLines(n?t.calcCoords(e):e?t.aCoords:t.oCoords);r<4;r++)if(!t.containsPoint(i[r],o))return!1;return!0},isContainedWithinRect:function(t,e,n,i){var r=this.getBoundingRect(n,i);return r.left>=t.x&&r.left+r.width<=e.x&&r.top>=t.y&&r.top+r.height<=e.y},containsPoint:function(t,e,n,i){e=e||this._getImageLines(i?this.calcCoords(n):n?this.aCoords:this.oCoords);var r=this._findCrossPoints(t,e);return 0!==r&&r%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,n=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,r=this.getCoords(!0,t),o=0;o<4;o++)if((e=r[o]).x<=i.x&&e.x>=n.x&&e.y<=i.y&&e.y>=n.y)return!0;return!!this.intersectsWithRect(n,i,!0)||!!this.containsPoint({x:(n.x+i.x)/2,y:(n.y+i.y)/2},null,!0)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,i,r,o=0;for(var l in e)if(!((r=e[l]).o.y<t.y&&r.d.y<t.y||r.o.y>=t.y&&r.d.y>=t.y||((r.o.x===r.d.x&&r.o.x>=t.x?r.o.x:-(t.y-(n=0)*t.x-(r.o.y-(i=(r.d.y-r.o.y)/(r.d.x-r.o.x))*r.o.x))/(n-i))>=t.x&&(o+=1),2!==o)))break;return o},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(t,e){var n=this.getCoords(t,e);return fabric.util.makeBoundingBoxFromPoints(n)},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return(t=this._constrainScale(t))<0&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords()},scaleToWidth:function(t){var e=this.getBoundingRect().width/this.getWidth();return this.scale(t/this.width/e)},scaleToHeight:function(t){var e=this.getBoundingRect().height/this.getHeight();return this.scale(t/this.height/e)},calcCoords:function(e){var n=t(this.angle),i=this.getViewportTransform(),r=e?this._getTransformedDimensions():this._calculateCurrentDimensions(),o=r.x,l=r.y,a=Math.sin(n),s=Math.cos(n),u=o>0?Math.atan(l/o):0,c=o/Math.cos(u)/2,h=Math.cos(u+n)*c,d=Math.sin(u+n)*c,p=this.getCenterPoint(),f=e?p:fabric.util.transformPoint(p,i),g=new fabric.Point(f.x-h,f.y-d),m=new fabric.Point(g.x+o*s,g.y+o*a),v=new fabric.Point(g.x-l*a,g.y+l*s),y=new fabric.Point(f.x+h,f.y+d);if(!e)var b=new fabric.Point((g.x+v.x)/2,(g.y+v.y)/2),w=new fabric.Point((m.x+g.x)/2,(m.y+g.y)/2),_=new fabric.Point((y.x+m.x)/2,(y.y+m.y)/2),C=new fabric.Point((y.x+v.x)/2,(y.y+v.y)/2),x=new fabric.Point(w.x+a*this.rotatingPointOffset,w.y-s*this.rotatingPointOffset);return f={tl:g,tr:m,br:y,bl:v},e||(f.ml=b,f.mt=w,f.mr=_,f.mb=C,f.mtr=x),f},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var e=t(this.angle),n=Math.cos(e),i=Math.sin(e);return 6.123233995736766e-17!==n&&-1.8369701987210297e-16!==n||(n=0),[n,i,-i,n,0,0]}return fabric.iMatrix.concat()},calcTransformMatrix:function(t){var n,i,r=this.getCenterPoint(),o=[1,0,0,1,r.x,r.y],l=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0);return i=this.group&&!t?e(this.group.calcTransformMatrix(),o):o,this.angle&&(n=this._calcRotateMatrix(),i=e(i,n)),e(i,l)},_calcDimensionsTransformMatrix:function(n,i,r){var o,l=[this.scaleX*(r&&this.flipX?-1:1),0,0,this.scaleY*(r&&this.flipY?-1:1),0,0];return n&&(o=[1,0,Math.tan(t(n)),1],l=e(l,o,!0)),i&&(o=[1,Math.tan(t(i)),0,1],l=e(l,o,!0)),l},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){"undefined"==typeof t&&(t=this.skewX),"undefined"==typeof e&&(e=this.skewY);var n,i,r=this._getNonTransformedDimensions(),o=r.x/2,l=r.y/2,a=[{x:-o,y:-l},{x:o,y:-l},{x:-o,y:l},{x:o,y:l}],s=this._calcDimensionsTransformMatrix(t,e,!1);for(n=0;n<a.length;n++)a[n]=fabric.util.transformPoint(a[n],s);return{x:(i=fabric.util.makeBoundingBoxFromPoints(a)).width,y:i.height}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return fabric.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new fabric.Color(e),i=t+": "+n.toRgb()+"; ",r=n.getAlpha();return 1!==r&&(i+=t+"-opacity: "+r.toString()+"; "),i}return t+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule,i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",s="undefined"!=typeof this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",c=e?"":this.getSvgFilter(),h=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",a,"; ",h,"fill-rule: ",n,"; ","opacity: ",s,";",c,u].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?'id="'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var t=fabric.util.toFixed,e=this.getAngle(),n=this.getSkewX()%360,i=this.getSkewY()%360,r=this.getCenterPoint(),o=fabric.Object.NUM_FRACTION_DIGITS,l="path-group"===this.type?"":"translate("+t(r.x,o)+" "+t(r.y,o)+")",a=0!==e?" rotate("+t(e,o)+")":"",s=1===this.scaleX&&1===this.scaleY?"":" scale("+t(this.scaleX,o)+" "+t(this.scaleY,o)+")",u=0!==n?" skewX("+t(n,o)+")":"",c=0!==i?" skewY("+t(i,o)+")":"";return[l,a,s,this.flipX?" matrix(-1 0 0 1 "+("path-group"===this.type?this.width:0)+" 0) ":"",this.flipY?" matrix(1 0 0 -1 0 "+("path-group"===this.type?this.height:0)+")":"",u,c].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t}})}(),function(){var t=fabric.util.object.extend;function e(e,n,i){var r={};i.forEach(function(t){r[t]=e[t]}),t(e[n],r,!0)}fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return Object.keys(this[e]).length<this[t].length||!function t(e,n,i){if(e===n)return!0;if(Array.isArray(e)){if(e.length!==n.length)return!1;for(var r=0,o=e.length;r<o;r++)if(!t(e[r],n[r]))return!1;return!0}if(e&&"object"==typeof e){var l,a=Object.keys(e);if(!i&&a.length!==Object.keys(n).length)return!1;for(r=0,o=a.length;r<o;r++)if(!t(e[l=a[r]],n[l]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var n=t&&t.propertySet||"stateProperties",i="_"+n;return this[i]?(e(this,i,this[n]),t&&t.stateProperties&&e(this,i,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||!this.active)return!1;var e,n,i=t.x,r=t.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),0!==(e=this._findCrossPoints({x:i,y:r},n))&&e%2==1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,n,i=this.oCoords,r=t(45-this.angle),o=.707106*this.cornerSize,l=o*Math.cos(r),a=o*Math.sin(r);for(var s in i)i[s].corner={tl:{x:(e=i[s].x)-a,y:(n=i[s].y)-l},tr:{x:e+l,y:n-a},bl:{x:e-l,y:n+a},br:{x:e+a,y:n+l}}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.group||!this.active||this.canvas&&!this.canvas.interactive)return this;e.save();var n=this.getCenterPoint(),i=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-i.x/2,-i.y/2,i.x,i.y),e.restore(),this},drawBorders:function(t){if(!this.hasBorders)return this;var e=this._calculateCurrentDimensions(),n=1/this.borderScaleFactor,i=e.x+n,r=e.y+n;if(t.save(),t.strokeStyle=this.borderColor,this._setLineDash(t,this.borderDashArray,null),t.strokeRect(-i/2,-r/2,i,r),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var o=-r/2;t.beginPath(),t.moveTo(0,o),t.lineTo(0,o-this.rotatingPointOffset),t.closePath(),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e){if(!this.hasBorders)return this;var n=this._getNonTransformedDimensions(),i=fabric.util.customTransformMatrix(e.scaleX,e.scaleY,e.skewX),r=fabric.util.transformPoint(n,i),o=1/this.borderScaleFactor,l=r.x+o,a=r.y+o;return t.save(),this._setLineDash(t,this.borderDashArray,null),t.strokeStyle=this.borderColor,t.strokeRect(-l/2,-a/2,l,a),t.restore(),this},drawControls:function(t){if(!this.hasControls)return this;var e=this._calculateCurrentDimensions(),n=e.x,i=e.y,r=this.cornerSize,o=-(n+r)/2,l=-(i+r)/2,a=this.transparentCorners?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=this.cornerColor,this.transparentCorners||(t.strokeStyle=this.cornerStrokeColor),this._setLineDash(t,this.cornerDashArray,null),this._drawControl("tl",t,a,o,l),this._drawControl("tr",t,a,o+n,l),this._drawControl("bl",t,a,o,l+i),this._drawControl("br",t,a,o+n,l+i),this.get("lockUniScaling")||(this._drawControl("mt",t,a,o+n/2,l),this._drawControl("mb",t,a,o+n/2,l+i),this._drawControl("mr",t,a,o+n,l+i/2),this._drawControl("ml",t,a,o,l+i/2)),this.hasRotatingPoint&&this._drawControl("mtr",t,a,o+n/2,l-this.rotatingPointOffset),t.restore(),this},_drawControl:function(t,e,n,i,r){if(this.isControlVisible(t)){var o=this.cornerSize,l=!this.transparentCorners&&this.cornerStrokeColor;switch(this.cornerStyle){case"circle":e.beginPath(),e.arc(i+o/2,r+o/2,o/2,0,2*Math.PI,!1),e[n](),l&&e.stroke();break;default:"undefined"!=typeof G_vmlCanvasManager||this.transparentCorners||e.clearRect(i,r,o,o),e[n+"Rect"](i,r,o,o),l&&e.strokeRect(i,r,o,o)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var n=function(){},i=(e=e||{}).onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxCenterObjectV:function(t,e){var n=function(){},i=(e=e||{}).onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxRemove:function(t,e){var n=function(){},i=(e=e||{}).onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.set("active",!1)},onChange:function(e){t.set("opacity",e),o.renderAll(),r()},onComplete:function(){o.remove(t),i()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e=[];for(t in arguments[0])e.push(t);for(var n=0,i=e.length;n<i;n++)this._animate(t=e[n],arguments[0][t],arguments[1],n!==i-1)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,i){var r,o=this;e=e.toString(),n=n?fabric.util.object.clone(n):{},~t.indexOf(".")&&(r=t.split("."));var l=r?this.get(r[0])[r[1]]:this.get(t);"from"in n||(n.from=l),e=~e.indexOf("=")?l+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(e,l,a){r?o[r[0]][r[1]]=e:o.set(t,e),i||n.onChange&&n.onChange(e,l,a)},onComplete:function(t,e,r){i||(o.setCoords(),n.onComplete&&n.onComplete(t,e,r))}})}}),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r={x1:1,x2:1,y1:1,y2:1},o=e.StaticCanvas.supports("setLineDash");function l(t,e){var n=t.origin,i=t.axis1,r=t.axis2,o=t.dimension,l=e.nearest,a=e.center,s=e.farthest;return function(){switch(this.get(n)){case l:return Math.min(this.get(i),this.get(r));case a:return Math.min(this.get(i),this.get(r))+.5*this.get(o);case s:return Math.max(this.get(i),this.get(r))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!=typeof r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t,e){if(t.beginPath(),e){var n=this.getCenterPoint(),i=this.strokeWidth/2;t.translate(n.x-("butt"===this.strokeLineCap&&0===this.height?0:i),n.y-("butt"===this.strokeLineCap&&0===this.width?0:i))}if(!this.strokeDashArray||this.strokeDashArray&&o){var r=this.calcLinePoints();t.moveTo(r.x1,r.y1),t.lineTo(r.x2,r.y2)}t.lineWidth=this.strokeWidth;var l=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=l},_renderDashedStroke:function(t){var n=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),t.closePath()},toObject:function(t){return n(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1;return{x1:t*this.width*.5,x2:t*this.width*-.5,y1:e*this.height*.5,y2:e*this.height*-.5}},toSVG:function(t){var e=this._createBaseSVGMarkup(),n={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&"path-group"===this.group.type||(n=this.calcLinePoints()),e.push("<line ",this.getSvgId(),'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,i){i=i||{};var r=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),o=[r.x1||0,r.y1||0,r.x2||0,r.y2||0];return i.originX="left",i.originY="top",new e.Line(o,n(r,i))},e.Line.fromObject=function(t,n,r){var o=i(t,!0);o.points=[t.x1,t.y1,t.x2,t.y2];var l=e.Object._fromObject("Line",o,function(t){delete t.points,n&&n(t)},r,"points");return l&&delete l.points,l})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=Math.PI,i=e.util.object.extend;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:e.Object.prototype.cacheProperties.concat("radius"),initialize:function(t){this.callSuper("initialize",t),this.set("radius",t&&t.radius||0)},_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),i=0,r=0,o=(this.endAngle-this.startAngle)%(2*n);if(0===o)this.group&&"path-group"===this.group.type&&(i=this.left+this.radius,r=this.top+this.radius),e.push("<circle ",this.getSvgId(),'cx="'+i+'" cy="'+r+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');else{var l=Math.cos(this.startAngle)*this.radius,a=Math.sin(this.startAngle)*this.radius,s=Math.cos(this.endAngle)*this.radius,u=Math.sin(this.endAngle)*this.radius;e.push('<path d="M '+l+" "+a," A "+this.radius+" "+this.radius," 0 ",+(o>n?"1":"0")+" 1"," "+s+" "+u,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.arc(e?this.left+this.radius:0,e?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(t),this._renderStroke(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,n){n||(n={});var r,o=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=o)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");o.left=o.left||0,o.top=o.top||0;var l=new e.Circle(i(o,n));return l.left-=l.radius,l.top-=l.radius,l},e.Circle.fromObject=function(t,n,i){return e.Object._fromObject("Circle",t,n,i)})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){this.callSuper("initialize",t),this.set("width",t&&t.width||100).set("height",t&&t.height||100)},_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var n=this.width/2,i=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-n,i,0,-i,this.strokeDashArray),e.util.drawDashedLine(t,0,-i,n,i,this.strokeDashArray),e.util.drawDashedLine(t,n,i,-n,i,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.width/2,i=this.height/2,r=[-n+" "+i,"0 "+-i,n+" "+i].join(",");return e.push("<polygon ",this.getSvgId(),'points="',r,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),t?t(e.join("")):e.join("")}}),e.Triangle.fromObject=function(t,n,i){return e.Object._fromObject("Triangle",t,n,i)})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=2*Math.PI,i=e.util.object.extend;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,i=0;return this.group&&"path-group"===this.group.type&&(n=this.left+this.rx,i=this.top+this.ry),e.push("<ellipse ",this.getSvgId(),'cx="',n,'" cy="',i,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left+this.rx:0,e?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,n,!1),t.restore(),this._renderFill(t),this._renderStroke(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){n||(n={});var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var o=new e.Ellipse(i(r,n));return o.top-=o.ry,o.left-=o.rx,o},e.Ellipse.fromObject=function(t,n,i){return e.Object._fromObject("Ellipse",t,n,i)})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t,e){if(1!==this.width||1!==this.height){var n=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,o=this.height,l=e?this.left:-this.width/2,a=e?this.top:-this.height/2,s=0!==n||0!==i,u=.4477152502;t.beginPath(),t.moveTo(l+n,a),t.lineTo(l+r-n,a),s&&t.bezierCurveTo(l+r-u*n,a,l+r,a+u*i,l+r,a+i),t.lineTo(l+r,a+o-i),s&&t.bezierCurveTo(l+r,a+o-u*i,l+r-u*n,a+o,l+r-n,a+o),t.lineTo(l+n,a+o),s&&t.bezierCurveTo(l+u*n,a+o,l,a+o-u*i,l,a+o-i),t.lineTo(l,a+i),s&&t.bezierCurveTo(l,a+u*i,l+u*n,a,l+n,a),t.closePath(),this._renderFill(t),this._renderStroke(t)}else t.fillRect(-.5,-.5,1,1)},_renderDashedStroke:function(t){var n=-this.width/2,i=-this.height/2,r=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,n,i,n+r,i,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i,n+r,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i+o,n,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n,i+o,n,i,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.left,i=this.top;return this.group&&"path-group"===this.group.type||(n=-this.width/2,i=-this.height/2),e.push("<rect ",this.getSvgId(),'x="',n,'" y="',i,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,i){if(!t)return null;i=i||{};var r=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var o=new e.Rect(n(i?e.util.object.clone(i):{},r));return o.visible=o.visible&&o.width>0&&o.height>0,o},e.Rect.fromObject=function(t,n,i){return e.Object._fromObject("Rect",t,n,i)})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max,o=e.util.toFixed,l=e.Object.NUM_FRACTION_DIGITS;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._calcDimensions(),"top"in e||(this.top=this.minY),"left"in e||(this.left=this.minX),this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var t=this.points,e=i(t,"x"),n=i(t,"y"),o=r(t,"x"),l=r(t,"y");this.width=o-e||0,this.height=l-n||0,this.minX=e||0,this.minY=n||0},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){var e=[],n=0,i=0,r=this._createBaseSVGMarkup();this.group&&"path-group"===this.group.type||(n=this.pathOffset.x,i=this.pathOffset.y);for(var a=0,s=this.points.length;a<s;a++)e.push(o(this.points[a].x-n,l),",",o(this.points[a].y-i,l)," ");return r.push("<",this.type," ",this.getSvgId(),'points="',e.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),t?t(r.join("")):r.join("")},commonRender:function(t,e){var n,i=this.points.length,r=e?0:this.pathOffset.x,o=e?0:this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-o);for(var l=0;l<i;l++)t.lineTo((n=this.points[l]).x-r,n.y-o);return!0},_render:function(t,e){this.commonRender(t,e)&&(this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){var n,i;t.beginPath();for(var r=0,o=this.points.length;r<o;r++)e.util.drawDashedLine(t,(n=this.points[r]).x,n.y,(i=this.points[r+1]||n).x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,n){if(!t)return null;n||(n={});var i=e.parsePointsAttribute(t.getAttribute("points")),r=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);return new e.Polyline(i,e.util.object.extend(r,n))},e.Polyline.fromObject=function(t,n,i){return e.Object._fromObject("Polyline",t,n,i,"points")})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend;e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t,e){this.commonRender(t,e)&&(t.closePath(),this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,i){if(!t)return null;i||(i={});var r=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(r,n(o,i))},e.Polygon.fromObject=function(t,n,i){return e.Object._fromObject("Polygon",t,n,i,"points")})}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.array.min,i=e.util.array.max,r=e.util.object.extend,o=Object.prototype.toString,l=e.util.drawArc,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},s={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){this.callSuper("initialize",e=e||{}),t||(t=[]);var n="[object Array]"===o.call(t);this.path=n?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(n||(this.path=this._parsePath()),this._setPositionDimensions(e))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.minX=e.left,this.minY=e.top,this.width=e.width,this.height=e.height,"undefined"==typeof t.left&&(this.left=e.left+("center"===this.originX?this.width/2:"right"===this.originX?this.width:0)),"undefined"==typeof t.top&&(this.top=e.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0)),this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(t){var e,n,i,r=null,o=0,a=0,s=0,u=0,c=0,h=0,d=-this.pathOffset.x,p=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(d=0,p=0),t.beginPath();for(var f=0,g=this.path.length;f<g;++f){switch((e=this.path[f])[0]){case"l":t.lineTo((s+=e[1])+d,(u+=e[2])+p);break;case"L":t.lineTo((s=e[1])+d,(u=e[2])+p);break;case"h":t.lineTo((s+=e[1])+d,u+p);break;case"H":t.lineTo((s=e[1])+d,u+p);break;case"v":t.lineTo(s+d,(u+=e[1])+p);break;case"V":t.lineTo(s+d,(u=e[1])+p);break;case"m":o=s+=e[1],a=u+=e[2],t.moveTo(s+d,u+p);break;case"M":o=s=e[1],a=u=e[2],t.moveTo(s+d,u+p);break;case"c":t.bezierCurveTo(s+e[1]+d,u+e[2]+p,(c=s+e[3])+d,(h=u+e[4])+p,(n=s+e[5])+d,(i=u+e[6])+p),s=n,u=i;break;case"C":t.bezierCurveTo(e[1]+d,e[2]+p,(c=e[3])+d,(h=e[4])+p,(s=e[5])+d,(u=e[6])+p);break;case"s":n=s+e[3],i=u+e[4],null===r[0].match(/[CcSs]/)?(c=s,h=u):(c=2*s-c,h=2*u-h),t.bezierCurveTo(c+d,h+p,s+e[1]+d,u+e[2]+p,n+d,i+p),c=s+e[1],h=u+e[2],s=n,u=i;break;case"S":n=e[3],i=e[4],null===r[0].match(/[CcSs]/)?(c=s,h=u):(c=2*s-c,h=2*u-h),t.bezierCurveTo(c+d,h+p,e[1]+d,e[2]+p,n+d,i+p),s=n,u=i,c=e[1],h=e[2];break;case"q":t.quadraticCurveTo((c=s+e[1])+d,(h=u+e[2])+p,(n=s+e[3])+d,(i=u+e[4])+p),s=n,u=i;break;case"Q":t.quadraticCurveTo(e[1]+d,e[2]+p,(n=e[3])+d,(i=e[4])+p),s=n,u=i,c=e[1],h=e[2];break;case"t":n=s+e[1],i=u+e[2],null===r[0].match(/[QqTt]/)?(c=s,h=u):(c=2*s-c,h=2*u-h),t.quadraticCurveTo(c+d,h+p,n+d,i+p),s=n,u=i;break;case"T":n=e[1],i=e[2],null===r[0].match(/[QqTt]/)?(c=s,h=u):(c=2*s-c,h=2*u-h),t.quadraticCurveTo(c+d,h+p,n+d,i+p),s=n,u=i;break;case"a":l(t,s+d,u+p,[e[1],e[2],e[3],e[4],e[5],e[6]+s+d,e[7]+u+p]),s+=e[6],u+=e[7];break;case"A":l(t,s+d,u+p,[e[1],e[2],e[3],e[4],e[5],e[6]+d,e[7]+p]),s=e[6],u=e[7];break;case"z":case"Z":s=o,u=a,t.closePath()}r=e}},_render:function(t){this._renderPathCommands(t),this._renderFill(t),this._renderStroke(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",["sourcePath","pathOffset"].concat(t)),{path:this.path.map(function(t){return t.slice()}),top:this.top,left:this.left})},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(t){for(var e=[],n=this._createBaseSVGMarkup(),i="",r=0,o=this.path.length;r<o;r++)e.push(this.path[r].join(" "));var l=e.join(" ");return this.group&&"path-group"===this.group.type||(i=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),n.push("<path ",this.getSvgId(),'d="',l,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),i,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),t?t(n.join("")):n.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,n,i,r,o=[],l=[],u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,c=0,h=this.path.length;c<h;c++){for(i=(t=this.path[c]).slice(1).trim(),l.length=0;n=u.exec(i);)l.push(n[0]);r=[t.charAt(0)];for(var d=0,p=l.length;d<p;d++)e=parseFloat(l[d]),isNaN(e)||r.push(e);var f=r[0],g=a[f.toLowerCase()],m=s[f]||f;if(r.length-1>g)for(var v=1,y=r.length;v<y;v+=g)o.push([f].concat(r.slice(v,v+g))),f=m;else o.push(r)}return o},_parseDimensions:function(){for(var t,r,o,l,a=[],s=[],u=null,c=0,h=0,d=0,p=0,f=0,g=0,m=0,v=this.path.length;m<v;++m){switch((t=this.path[m])[0]){case"l":d+=t[1],p+=t[2],l=[];break;case"L":d=t[1],p=t[2],l=[];break;case"h":d+=t[1],l=[];break;case"H":d=t[1],l=[];break;case"v":p+=t[1],l=[];break;case"V":p=t[1],l=[];break;case"m":c=d+=t[1],h=p+=t[2],l=[];break;case"M":c=d=t[1],h=p=t[2],l=[];break;case"c":l=e.util.getBoundsOfCurve(d,p,d+t[1],p+t[2],f=d+t[3],g=p+t[4],r=d+t[5],o=p+t[6]),d=r,p=o;break;case"C":l=e.util.getBoundsOfCurve(d,p,t[1],t[2],f=t[3],g=t[4],t[5],t[6]),d=t[5],p=t[6];break;case"s":r=d+t[3],o=p+t[4],null===u[0].match(/[CcSs]/)?(f=d,g=p):(f=2*d-f,g=2*p-g),l=e.util.getBoundsOfCurve(d,p,f,g,d+t[1],p+t[2],r,o),f=d+t[1],g=p+t[2],d=r,p=o;break;case"S":r=t[3],o=t[4],null===u[0].match(/[CcSs]/)?(f=d,g=p):(f=2*d-f,g=2*p-g),l=e.util.getBoundsOfCurve(d,p,f,g,t[1],t[2],r,o),d=r,p=o,f=t[1],g=t[2];break;case"q":l=e.util.getBoundsOfCurve(d,p,f=d+t[1],g=p+t[2],f,g,r=d+t[3],o=p+t[4]),d=r,p=o;break;case"Q":l=e.util.getBoundsOfCurve(d,p,f=t[1],g=t[2],f,g,t[3],t[4]),d=t[3],p=t[4];break;case"t":r=d+t[1],o=p+t[2],null===u[0].match(/[QqTt]/)?(f=d,g=p):(f=2*d-f,g=2*p-g),l=e.util.getBoundsOfCurve(d,p,f,g,f,g,r,o),d=r,p=o;break;case"T":r=t[1],o=t[2],null===u[0].match(/[QqTt]/)?(f=d,g=p):(f=2*d-f,g=2*p-g),l=e.util.getBoundsOfCurve(d,p,f,g,f,g,r,o),d=r,p=o;break;case"a":l=e.util.getBoundsOfArc(d,p,t[1],t[2],t[3],t[4],t[5],t[6]+d,t[7]+p),d+=t[6],p+=t[7];break;case"A":l=e.util.getBoundsOfArc(d,p,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),d=t[6],p=t[7];break;case"z":case"Z":d=c,p=h}u=t,l.forEach(function(t){a.push(t.x),s.push(t.y)}),a.push(d),s.push(p)}var y=n(a)||0,b=n(s)||0;return{left:y,top:b,width:(i(a)||0)-y,height:(i(s)||0)-b}}}),e.Path.fromObject=function(t,n,i){var r;if("string"!=typeof t.path)return e.Object._fromObject("Path",t,n,i,"path");e.loadSVGFromURL(t.path,function(e){var i=t.path;r=e[0],delete t.path,r.setOptions(t),r.setSourcePath(i),n&&n(r)})},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,i){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);n&&n(new e.Path(o.d,r(o,i)))},e.Path.async=!0)}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend;e.PathGroup?e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Object,{type:"path-group",fill:"",cacheProperties:[],initialize:function(t,e){e=e||{},this.paths=t||[];for(var n=this.paths.length;n--;)this.paths[n].group=this;e.toBeParsed&&(this.parseDimensionsFromPaths(e),delete e.toBeParsed),this.setOptions(e),this.setCoords()},parseDimensionsFromPaths:function(t){for(var n,i,r,o,l,a,s=[],u=[],c=this.paths.length;c--;){n=[{x:(r=this.paths[c]).left,y:r.top},{x:r.left+(l=r.width+r.strokeWidth),y:r.top},{x:r.left,y:r.top+(o=r.height+r.strokeWidth)},{x:r.left+l,y:r.top+o}],a=this.paths[c].transformMatrix;for(var h=0;h<n.length;h++)i=n[h],a&&(i=e.util.transformPoint(i,a,!1)),s.push(i.x),u.push(i.y)}t.width=Math.max.apply(null,s),t.height=Math.max.apply(null,u)},drawObject:function(t){t.save(),t.translate(-this.width/2,-this.height/2);for(var e=0,n=this.paths.length;e<n;++e)this.paths[e].render(t,!0);t.restore()},shouldCache:function(){var t=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching());if(this.caching=t,t)for(var e=0,n=this.paths.length;e<n;e++)if(this.paths[e].willDrawShadow())return this.caching=!1,!1;return t},willDrawShadow:function(){if(this.shadow)return!0;for(var t=0,e=this.paths.length;t<e;t++)if(this.paths[t].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this.paths.length;t<e;t++)if(this.paths[t].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-i/2,n,i)}return!0}return!1},_set:function(t,e){if("fill"===t&&e&&this.isSameColor())for(var n=this.paths.length;n--;)this.paths[n]._set(t,e);return this.callSuper("_set",t,e)},toObject:function(t){var e=this.paths.map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var i=e.toObject(t);return e.includeDefaultValues=n,i});return n(this.callSuper("toObject",["sourcePath"].concat(t)),{paths:e})},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(t){var e=this.getObjects(),n=this.getPointByOrigin("left","top"),i="translate("+n.x+" "+n.y+")",r=this._createBaseSVGMarkup();r.push("<g ",this.getSvgId(),'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),i,this.getSvgTransform(),'" ',">\n");for(var o=0,l=e.length;o<l;o++)r.push("\t",e[o].toSVG(t));return r.push("</g>\n"),t?t(r.join("")):r.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=this.getObjects()[0].get("fill")||"";return"string"==typeof t&&(t=t.toLowerCase(),this.getObjects().every(function(e){var n=e.get("fill")||"";return"string"==typeof n&&n.toLowerCase()===t}))},complexity:function(){return this.paths.reduce(function(t,e){return t+(e&&e.complexity?e.complexity():0)},0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(t,n){var i=t.paths;delete t.paths,"string"==typeof i?e.loadSVGFromURL(i,function(r){var o=e.util.groupSVGElements(r,t,i);t.paths=i,n(o)}):e.util.enlivenObjects(i,function(r){var o=new e.PathGroup(r,t);t.paths=i,n(o)})},e.PathGroup.async=!0)}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max;if(!e.Group){var o={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),n?(this._updateObjectsCoords(!0),this._updateObjectsACoords()):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",e)),this.setCoords(),this.saveCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){for(var e=this.getCenterPoint(),n=this._objects.length;n--;)this._updateObjectCoords(this._objects[n],e,t)},_updateObjectCoords:function(t,e,n){if(t.__origHasControls=t.hasControls,t.hasControls=!1,!n){var i=t.getLeft(),r=t.getTop();t.set({left:i-e.x,top:r-e.y}),t.setCoords(!0,!0)}},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_setObjectActive:function(t){t.set("active",!0),t.group=this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.forEachObject(this._setObjectActive,this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group,t.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(t,e){var n=this._objects.length;if(this.delegatedProperties[t]||"canvas"===t)for(;n--;)this._objects[n].set(t,e);else for(;n--;)this._objects[n].setOnGroup(t,e);this.callSuper("_set",t,e)},toObject:function(t){var e=this.getObjects().map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var i=e.toObject(t);return e.includeDefaultValues=n,i});return n(this.callSuper("toObject",t),{objects:e})},toDatalessObject:function(t){var e=this.getObjects().map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var i=e.toDatalessObject(t);return e.includeDefaultValues=n,i});return n(this.callSuper("toDatalessObject",t),{objects:e})},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching());if(this.caching=t,t)for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return this.caching=!1,!1;return t},willDrawShadow:function(){if(this.callSuper("willDrawShadow"))return!0;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._renderObject(this._objects[e],t)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-i/2,n,i)}return!0}return!1},_renderControls:function(t,e){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e);for(var n=0,i=this._objects.length;n<i;n++)this._objects[n]._renderControls(t);t.restore()},_renderObject:function(t,e){if(t.visible){var n=t.hasRotatingPoint;t.hasRotatingPoint=!1,t.render(e),t.hasRotatingPoint=n}},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var n=t.calcTransformMatrix(),i=e.util.qrDecompose(n),r=new e.Point(i.translateX,i.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",i.scaleX),t.set("scaleY",i.scaleY),t.skewX=i.skewX,t.skewY=i.skewY,t.angle=i.angle,t.setPositionByOrigin(r,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),t.hasControls=t.__origHasControls,delete t.__origHasControls,t.set("active",!1),delete t.group,this},destroy:function(){return this._objects.forEach(function(t){t.set("dirty",!0)}),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords(!0,!0)}),this},_calcBounds:function(t){for(var e,n,i,r=[],o=[],l=["tr","br","bl","tl"],a=0,s=this._objects.length,u=l.length;a<s;++a)for((e=this._objects[a]).setCoords(!0),i=0;i<u;i++)r.push(e.oCoords[n=l[i]].x),o.push(e.oCoords[n].y);this.set(this._getBounds(r,o,t))},_getBounds:function(t,n,o){var l=new e.Point(i(t),i(n)),a=new e.Point(r(t),r(n)),s={width:a.x-l.x||0,height:a.y-l.y||0};return o||(s.left=l.x||0,s.top=l.y||0,"center"===this.originX&&(s.left+=s.width/2),"right"===this.originX&&(s.left+=s.width),"center"===this.originY&&(s.top+=s.height/2),"bottom"===this.originY&&(s.top+=s.height)),s},toSVG:function(t){var e=this._createBaseSVGMarkup();e.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),'">\n');for(var n=0,i=this._objects.length;n<i;n++)e.push("\t",this._objects[n].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")},get:function(t){if(t in o){if(this[t])return this[t];for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e][t])return!0;return!1}return t in this.delegatedProperties?this._objects[0]&&this._objects[0].get(t):this[t]}}),e.Group.fromObject=function(t,n){e.util.enlivenObjects(t.objects,function(i){var r=e.util.object.clone(t,!0);delete r.objects,n&&n(new e.Group(i,r,!0))})},e.Group.async=!0}}(),function(t){"use strict";var e=fabric.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,minimumScaleTrigger:.5,stateProperties:fabric.Object.prototype.stateProperties.concat("alignX","alignY","meetOrSlice"),objectCaching:!1,initialize:function(t,e,n){e||(e={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",e),this._initElement(t,e,n)},getElement:function(){return this._element},setElement:function(t,e,n){var i,r;return this._element=t,this._originalElement=t,this._initConfig(n),0===this.resizeFilters.length?i=e:(r=this,i=function(){r.applyFilters(e,r.resizeFilters,r._filteredEl||r._originalElement,!0)}),0!==this.filters.length?this.applyFilters(i):i&&i(this),this},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,n=-this.height/2,i=this.width,r=this.height;t.save(),this._setStrokeStyles(t),t.beginPath(),fabric.util.drawDashedLine(t,e,n,e+i,n,this.strokeDashArray),fabric.util.drawDashedLine(t,e+i,n,e+i,n+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e+i,n+r,e,n+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e,n+r,e,n,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var n=[],i=[],r=1,o=1;this.filters.forEach(function(t){t&&("Resize"===t.type&&(r*=t.scaleX,o*=t.scaleY),n.push(t.toObject()))}),this.resizeFilters.forEach(function(t){t&&i.push(t.toObject())});var l=e(this.callSuper("toObject",["crossOrigin","alignX","alignY","meetOrSlice"].concat(t)),{src:this.getSrc(),filters:n,resizeFilters:i});return l.width/=r,l.height/=o,l},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=-this.width/2,i=-this.height/2,r="none";if(this.group&&"path-group"===this.group.type&&(n=this.left,i=this.top),"none"!==this.alignX&&"none"!==this.alignY&&(r="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',"<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(!0),'" x="',n,'" y="',i,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',r,'"',"></image>\n"),this.stroke||this.strokeDashArray){var o=this.fill;this.fill=null,e.push("<rect ",'x="',n,'" y="',i,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=o}return e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(t){var e=t?this._element:this._originalElement;return e?fabric.isLikelyNode?e._src:e.src:this.src||""},setSrc:function(t,e,n){fabric.util.loadImage(t,function(t){return this.setElement(t,e,n)},this,n&&n.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyFilters:function(t,e,n,i){if(e=e||this.filters,n=n||this._originalElement){var r,o,l=fabric.util.createImage(),a=this.canvas?this.canvas.getRetinaScaling():fabric.devicePixelRatio,s=this.minimumScaleTrigger/a,u=this;if(0===e.length)return this._element=n,t&&t(this),n;var c=fabric.util.createCanvasElement();return c.width=n.width,c.height=n.height,c.getContext("2d").drawImage(n,0,0,n.width,n.height),e.forEach(function(t){t&&(i?(r=u.scaleX<s?u.scaleX:1,o=u.scaleY<s?u.scaleY:1,r*a<1&&(r*=a),o*a<1&&(o*=a)):(r=t.scaleX,o=t.scaleY),t.applyTo(c,r,o),i||"Resize"!==t.type||(u.width*=t.scaleX,u.height*=t.scaleY))}),l.width=c.width,l.height=c.height,fabric.isLikelyNode?(l.src=c.toBuffer(void 0,fabric.Image.pngCompression),u._element=l,!i&&(u._filteredEl=l),t&&t(u)):(l.onload=function(){u._element=l,!i&&(u._filteredEl=l),t&&t(u),l.onload=c=null},l.src=c.toDataURL("image/png")),c}},_render:function(t,e){var n,i,r,o=this._findMargins();n=e?this.left:-this.width/2,i=e?this.top:-this.height/2,"slice"===this.meetOrSlice&&(t.beginPath(),t.rect(n,i,this.width,this.height),t.clip()),!1===this.isMoving&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,r=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):r=this._element,r&&t.drawImage(r,n+o.marginX,i+o.marginY,o.width,o.height),this._stroke(t),this._renderStroke(t)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var t,e,n=this.width,i=this.height,r=0,o=0;return"none"===this.alignX&&"none"===this.alignY||(t=[this.width/this._element.width,this.height/this._element.height],e="meet"===this.meetOrSlice?Math.min.apply(null,t):Math.max.apply(null,t),n=this._element.width*e,i=this._element.height*e,"Mid"===this.alignX&&(r=(this.width-n)/2),"Max"===this.alignX&&(r=this.width-n),"Mid"===this.alignY&&(o=(this.height-i)/2),"Max"===this.alignY&&(o=this.height-i)),{width:n,height:i,marginX:r,marginY:o}},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t,e,n){this.setElement(fabric.util.getById(t),n,e),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?fabric.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()&&this.getElement().width||0,this.height="height"in t?t.height:this.getElement()&&this.getElement().height||0}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(n,i){i?e&&e(null,i):fabric.Image.prototype._initFilters.call(t,t.filters,function(i){t.filters=i||[],fabric.Image.prototype._initFilters.call(t,t.resizeFilters,function(i){return t.resizeFilters=i||[],new fabric.Image(n,t,e)})})},null,t.crossOrigin)},fabric.Image.fromURL=function(t,e,n){fabric.util.loadImage(t,function(t){e&&e(new fabric.Image(t,n))},null,n&&n.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),fabric.Image.fromElement=function(t,n,i){var r,o=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES);o.preserveAspectRatio&&(r=fabric.util.parsePreserveAspectRatioAttribute(o.preserveAspectRatio),e(o,r)),fabric.Image.fromURL(o["xlink:href"],n,e(i?fabric.util.object.clone(i):{},o))},fabric.Image.async=!0,fabric.Image.pngCompression=1)}(exports),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.getAngle()%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},n=(t=t||{}).onComplete||e,i=t.onChange||e,r=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.setAngle(t),i()},onComplete:function(){r.setCoords(),n()},onStart:function(){r.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),fabric.Image.filters.BaseFilter.fromObject=function(t,e){var n=new fabric.Image.filters[t.type](t);return e&&e(n),n},function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Brightness=(0,e.util.createClass)(i.BaseFilter,{type:"Brightness",initialize:function(t){this.brightness=(t=t||{}).brightness||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=n.data,r=this.brightness,o=0,l=i.length;o<l;o+=4)i[o]+=r,i[o+1]+=r,i[o+2]+=r;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Convolute=(0,e.util.createClass)(i.BaseFilter,{type:"Convolute",initialize:function(t){this.opaque=(t=t||{}).opaque,this.matrix=t.matrix||[0,0,0,0,1,0,0,0,0]},applyTo:function(t){for(var e,n,i,r,o,l,a,s,u,c=this.matrix,h=t.getContext("2d"),d=h.getImageData(0,0,t.width,t.height),p=Math.round(Math.sqrt(c.length)),f=Math.floor(p/2),g=d.data,m=d.width,v=d.height,y=h.createImageData(m,v),b=y.data,w=this.opaque?1:0,_=0;_<v;_++)for(var C=0;C<m;C++){o=4*(_*m+C),e=0,n=0,i=0,r=0;for(var x=0;x<p;x++)for(var S=0;S<p;S++)l=C+S-f,(a=_+x-f)<0||a>v||l<0||l>m||(e+=g[s=4*(a*m+l)]*(u=c[x*p+S]),n+=g[s+1]*u,i+=g[s+2]*u,r+=g[s+3]*u);b[o]=e,b[o+1]=n,b[o+2]=i,b[o+3]=r+w*(255-r)}h.putImageData(y,0,0)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.GradientTransparency=(0,e.util.createClass)(i.BaseFilter,{type:"GradientTransparency",initialize:function(t){this.threshold=(t=t||{}).threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=n.data,r=this.threshold,o=i.length,l=0,a=i.length;l<a;l+=4)i[l+3]=r+255*(o-l)/o;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.Image.filters;n.Grayscale=(0,e.util.createClass)(n.BaseFilter,{type:"Grayscale",applyTo:function(t){for(var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=i.width*i.height*4,l=0;l<o;)r[l]=e=(r[l]+r[l+1]+r[l+2])/3,r[l+1]=e,r[l+2]=e,l+=4;n.putImageData(i,0,0)}}),e.Image.filters.Grayscale.fromObject=function(t,n){return(t=t||{}).type="Grayscale",e.Image.filters.BaseFilter.fromObject(t,n)}}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.Image.filters;n.Invert=(0,e.util.createClass)(n.BaseFilter,{type:"Invert",applyTo:function(t){var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=r.length;for(e=0;e<o;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2];n.putImageData(i,0,0)}}),e.Image.filters.Invert.fromObject=function(t,n){return(t=t||{}).type="Invert",e.Image.filters.BaseFilter.fromObject(t,n)}}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Mask=(0,e.util.createClass)(i.BaseFilter,{type:"Mask",initialize:function(t){this.mask=(t=t||{}).mask,this.channel=[0,1,2,3].indexOf(t.channel)>-1?t.channel:0},applyTo:function(t){if(this.mask){var n,i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,l=this.mask.getElement(),a=e.util.createCanvasElement(),s=this.channel,u=r.width*r.height*4;a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(l,0,0,t.width,t.height);var c=a.getContext("2d").getImageData(0,0,t.width,t.height).data;for(n=0;n<u;n+=4)o[n+3]=c[n+s];i.putImageData(r,0,0)}},toObject:function(){return n(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(t,n){e.util.loadImage(t.mask.src,function(i){return t.mask=new e.Image(i,t.mask),e.Image.filters.BaseFilter.fromObject(t,n)})},e.Image.filters.Mask.async=!0}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Noise=(0,e.util.createClass)(i.BaseFilter,{type:"Noise",initialize:function(t){this.noise=(t=t||{}).noise||0},applyTo:function(t){for(var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=this.noise,l=0,a=r.length;l<a;l+=4)e=(.5-Math.random())*o,r[l]+=e,r[l+1]+=e,r[l+2]+=e;n.putImageData(i,0,0)},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Pixelate=(0,e.util.createClass)(i.BaseFilter,{type:"Pixelate",initialize:function(t){this.blocksize=(t=t||{}).blocksize||4},applyTo:function(t){var e,n,i,r,o,l,a,s=t.getContext("2d"),u=s.getImageData(0,0,t.width,t.height),c=u.data,h=u.height,d=u.width;for(n=0;n<h;n+=this.blocksize)for(i=0;i<d;i+=this.blocksize){r=c[e=4*n*d+4*i],o=c[e+1],l=c[e+2],a=c[e+3];for(var p=n,f=n+this.blocksize;p<f;p++)for(var g=i,m=i+this.blocksize;g<m;g++)c[e=4*p*d+4*g]=r,c[e+1]=o,c[e+2]=l,c[e+3]=a}s.putImageData(u,0,0)},toObject:function(){return n(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.RemoveWhite=(0,e.util.createClass)(i.BaseFilter,{type:"RemoveWhite",initialize:function(t){this.threshold=(t=t||{}).threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,n,i,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),l=o.data,a=this.distance,s=255-this.threshold,u=Math.abs,c=0,h=l.length;c<h;c+=4)n=l[c+1],i=l[c+2],(e=l[c])>s&&n>s&&i>s&&u(e-n)<a&&u(e-i)<a&&u(n-i)<a&&(l[c+3]=0);r.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.Image.filters;n.Sepia=(0,e.util.createClass)(n.BaseFilter,{type:"Sepia",applyTo:function(t){var e,n,i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,l=o.length;for(e=0;e<l;e+=4)o[e]=100+(n=.3*o[e]+.59*o[e+1]+.11*o[e+2]),o[e+1]=n+50,o[e+2]=n+255;i.putImageData(r,0,0)}}),e.Image.filters.Sepia.fromObject=function(t,n){return(t=t||{}).type="Sepia",new e.Image.filters.BaseFilter.fromObject(t,n)}}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.Image.filters;n.Sepia2=(0,e.util.createClass)(n.BaseFilter,{type:"Sepia2",applyTo:function(t){var e,n,i,r,o=t.getContext("2d"),l=o.getImageData(0,0,t.width,t.height),a=l.data,s=a.length;for(e=0;e<s;e+=4)a[e]=(.393*(n=a[e])+.769*(i=a[e+1])+.189*(r=a[e+2]))/1.351,a[e+1]=(.349*n+.686*i+.168*r)/1.203,a[e+2]=(.272*n+.534*i+.131*r)/2.14;o.putImageData(l,0,0)}}),e.Image.filters.Sepia2.fromObject=function(t,n){return(t=t||{}).type="Sepia2",new e.Image.filters.BaseFilter.fromObject(t,n)}}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Tint=(0,e.util.createClass)(i.BaseFilter,{type:"Tint",initialize:function(t){this.color=(t=t||{}).color||"#000000",this.opacity="undefined"!=typeof t.opacity?t.opacity:new e.Color(this.color).getAlpha()},applyTo:function(t){var n,i,r,o,l,a,s,u,c=t.getContext("2d"),h=c.getImageData(0,0,t.width,t.height),d=h.data,p=d.length;for(i=(u=new e.Color(this.color).getSource())[0]*this.opacity,r=u[1]*this.opacity,o=u[2]*this.opacity,s=1-this.opacity,n=0;n<p;n+=4)l=d[n+1],a=d[n+2],d[n]=i+d[n]*s,d[n+1]=r+l*s,d[n+2]=o+a*s;c.putImageData(h,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Multiply=(0,e.util.createClass)(i.BaseFilter,{type:"Multiply",initialize:function(t){this.color=(t=t||{}).color||"#000000"},applyTo:function(t){var n,i,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),l=o.data,a=l.length;for(i=new e.Color(this.color).getSource(),n=0;n<a;n+=4)l[n]*=i[0]/255,l[n+1]*=i[1]/255,l[n+2]*=i[2]/255;r.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric,n=e.Image.filters;n.Blend=(0,e.util.createClass)(n.BaseFilter,{type:"Blend",initialize:function(t){this.color=(t=t||{}).color||"#000",this.image=t.image||!1,this.mode=t.mode||"multiply",this.alpha=t.alpha||1},applyTo:function(t){var n,i,r,o,l,a,s,u,c,h,d=t.getContext("2d"),p=d.getImageData(0,0,t.width,t.height),f=p.data,g=!1;if(this.image){g=!0;var m=e.util.createCanvasElement();m.width=this.image.width,m.height=this.image.height;var v=new e.StaticCanvas(m);v.add(this.image),h=v.getContext("2d").getImageData(0,0,v.width,v.height).data}else n=(h=new e.Color(this.color).getSource())[0]*this.alpha,i=h[1]*this.alpha,r=h[2]*this.alpha;for(var y=0,b=f.length;y<b;y+=4)switch(o=f[y],l=f[y+1],a=f[y+2],g&&(n=h[y]*this.alpha,i=h[y+1]*this.alpha,r=h[y+2]*this.alpha),this.mode){case"multiply":f[y]=o*n/255,f[y+1]=l*i/255,f[y+2]=a*r/255;break;case"screen":f[y]=1-(1-o)*(1-n),f[y+1]=1-(1-l)*(1-i),f[y+2]=1-(1-a)*(1-r);break;case"add":f[y]=Math.min(255,o+n),f[y+1]=Math.min(255,l+i),f[y+2]=Math.min(255,a+r);break;case"diff":case"difference":f[y]=Math.abs(o-n),f[y+1]=Math.abs(l-i),f[y+2]=Math.abs(a-r);break;case"subtract":u=l-i,c=a-r,f[y]=(s=o-n)<0?0:s,f[y+1]=u<0?0:u,f[y+2]=c<0?0:c;break;case"darken":f[y]=Math.min(o,n),f[y+1]=Math.min(l,i),f[y+2]=Math.min(a,r);break;case"lighten":f[y]=Math.max(o,n),f[y+1]=Math.max(l,i),f[y+2]=Math.max(a,r)}d.putImageData(p,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,o=Math.abs,l=Math.max,a=Math.round,s=Math.sin,u=Math.ceil,c=e.Image.filters;c.Resize=(0,e.util.createClass)(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(t,e,n){if(1!==e||1!==n){this.rcpScaleX=1/e,this.rcpScaleY=1/n;var i,r=t.width,o=t.height,l=a(r*e),s=a(o*n);"sliceHack"===this.resizeType&&(i=this.sliceByTwo(t,r,o,l,s)),"hermite"===this.resizeType&&(i=this.hermiteFastResize(t,r,o,l,s)),"bilinear"===this.resizeType&&(i=this.bilinearFiltering(t,r,o,l,s)),"lanczos"===this.resizeType&&(i=this.lanczosResize(t,r,o,l,s)),t.width=l,t.height=s,t.getContext("2d").putImageData(i,0,0)}},sliceByTwo:function(t,n,r,o,a){var s,u=t.getContext("2d"),c=.5,h=.5,d=1,p=1,f=!1,g=!1,m=n,v=r,y=e.util.createCanvasElement(),b=y.getContext("2d");for(o=i(o),a=i(a),y.width=l(o,n),y.height=l(a,r),o>n&&(c=2,d=-1),a>r&&(h=2,p=-1),s=u.getImageData(0,0,n,r),t.width=l(o,n),t.height=l(a,r),u.putImageData(s,0,0);!f||!g;)n=m,r=v,o*d<i(m*c*d)?m=i(m*c):(m=o,f=!0),a*p<i(v*h*p)?v=i(v*h):(v=a,g=!0),s=u.getImageData(0,0,n,r),b.putImageData(s,0,0),u.clearRect(0,0,m,v),u.drawImage(y,0,0,n,r,0,0,m,v);return u.getImageData(0,0,o,a)},lanczosResize:function(t,e,l,a,c){var h,d=t.getContext("2d"),p=d.getImageData(0,0,e,l),f=d.getImageData(0,0,a,c),g=p.data,m=f.data,v=(h=this.lanczosLobes,function(t){if(t>h)return 0;if(t*=Math.PI,o(t)<1e-16)return 1;var e=t/h;return s(t)*s(e)/t/e}),y=this.rcpScaleX,b=this.rcpScaleY,w=2/this.rcpScaleX,_=2/this.rcpScaleY,C=u(y*this.lanczosLobes/2),x=u(b*this.lanczosLobes/2),S={},E={},T={};return function t(s){var u,h,d,p,k,A,D,O,I,R,P;for(E.x=(s+.5)*y,T.x=i(E.x),u=0;u<c;u++){for(E.y=(u+.5)*b,T.y=i(E.y),k=0,A=0,D=0,O=0,I=0,h=T.x-C;h<=T.x+C;h++)if(!(h<0||h>=e)){R=i(1e3*o(h-E.x)),S[R]||(S[R]={});for(var M=T.y-x;M<=T.y+x;M++)M<0||M>=l||(P=i(1e3*o(M-E.y)),S[R][P]||(S[R][P]=v(r(n(R*w,2)+n(P*_,2))/1e3)),(d=S[R][P])>0&&(k+=d,A+=d*g[p=4*(M*e+h)],D+=d*g[p+1],O+=d*g[p+2],I+=d*g[p+3]))}m[p=4*(u*a+s)]=A/k,m[p+1]=D/k,m[p+2]=O/k,m[p+3]=I/k}return++s<a?t(s):f}(0)},bilinearFiltering:function(t,e,n,r,o){var l,a,s,u,c,h,d,p,f=0,g=this.rcpScaleX,m=this.rcpScaleY,v=t.getContext("2d"),y=4*(e-1),b=v.getImageData(0,0,e,n).data,w=v.getImageData(0,0,r,o),_=w.data;for(s=0;s<o;s++)for(u=0;u<r;u++)for(c=g*u-(l=i(g*u)),h=m*s-(a=i(m*s)),p=4*(a*e+l),d=0;d<4;d++)_[f++]=b[p+d]*(1-c)*(1-h)+b[p+4+d]*c*(1-h)+b[p+y+d]*h*(1-c)+b[p+y+4+d]*c*h;return w},hermiteFastResize:function(t,e,n,l,a){for(var s=this.rcpScaleX,c=this.rcpScaleY,h=u(s/2),d=u(c/2),p=t.getContext("2d"),f=p.getImageData(0,0,e,n).data,g=p.getImageData(0,0,l,a),m=g.data,v=0;v<a;v++)for(var y=0;y<l;y++){for(var b=4*(y+v*l),w=0,_=0,C=0,x=0,S=0,E=0,T=0,k=(v+.5)*c,A=i(v*c);A<(v+1)*c;A++)for(var D=o(k-(A+.5))/d,O=(y+.5)*s,I=D*D,R=i(y*s);R<(y+1)*s;R++){var P=o(O-(R+.5))/h,M=r(I+P*P);M>1&&M<-1||(w=2*M*M*M-3*M*M+1)>0&&(T+=w*f[3+(P=4*(R+A*e))],C+=w,f[P+3]<255&&(w=w*f[P+3]/250),x+=w*f[P],S+=w*f[P+1],E+=w*f[P+2],_+=w)}m[b]=x/_,m[b+1]=S/_,m[b+2]=E/_,m[b+3]=T/C}return g},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.ColorMatrix=(0,e.util.createClass)(i.BaseFilter,{type:"ColorMatrix",initialize:function(t){t||(t={}),this.matrix=t.matrix||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},applyTo:function(t){var e,n,i,r,o,l=t.getContext("2d"),a=l.getImageData(0,0,t.width,t.height),s=a.data,u=s.length,c=this.matrix;for(e=0;e<u;e+=4)s[e]=(n=s[e])*c[0]+(i=s[e+1])*c[1]+(r=s[e+2])*c[2]+(o=s[e+3])*c[3]+c[4],s[e+1]=n*c[5]+i*c[6]+r*c[7]+o*c[8]+c[9],s[e+2]=n*c[10]+i*c[11]+r*c[12]+o*c[13]+c[14],s[e+3]=n*c[15]+i*c[16]+r*c[17]+o*c[18]+c[19];l.putImageData(a,0,0)},toObject:function(){return n(this.callSuper("toObject"),{type:this.type,matrix:this.matrix})}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Contrast=(0,e.util.createClass)(i.BaseFilter,{type:"Contrast",initialize:function(t){this.contrast=(t=t||{}).contrast||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=n.data,r=259*(this.contrast+255)/(255*(259-this.contrast)),o=0,l=i.length;o<l;o+=4)i[o]=r*(i[o]-128)+128,i[o+1]=r*(i[o+1]-128)+128,i[o+2]=r*(i[o+2]-128)+128;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{contrast:this.contrast})}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.object.extend,i=e.Image.filters;i.Saturate=(0,e.util.createClass)(i.BaseFilter,{type:"Saturate",initialize:function(t){this.saturate=(t=t||{}).saturate||0},applyTo:function(t){for(var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=.01*-this.saturate,l=0,a=r.length;l<a;l+=4)e=Math.max(r[l],r[l+1],r[l+2]),r[l]+=e!==r[l]?(e-r[l])*o:0,r[l+1]+=e!==r[l+1]?(e-r[l+1])*o:0,r[l+2]+=e!==r[l+2]?(e-r[l+2])*o:0;n.putImageData(i,0,0)},toObject:function(){return n(this.callSuper("toObject"),{saturate:this.saturate})}}),e.Image.filters.Saturate.fromObject=e.Image.filters.BaseFilter.fromObject}(),function(t){"use strict";var e=exports.fabric||(exports.fabric={}),n=e.util.toFixed,i=e.Object.NUM_FRACTION_DIGITS;e.Text?e.warn("fabric.Text is already defined"):(e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,charSpacing:0,initialize:function(t,e){e=e||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this._initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},_initDimensions:function(t){this.__skipDimension||(t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t)),this._textLines=this._splitTextIntoLines(),this._clearCache(),this.width=this._getTextWidth(t)||this.cursorWidth||2,this.height=this._getTextHeight(t),this.setCoords())},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this.group&&"path-group"===this.group.type&&t.translate(this.left,this.top),this._renderTextLinesBackground(t),this._renderText(t),this._renderTextDecoration(t)},_renderText:function(t){this._renderTextFill(t),this._renderTextStroke(t)},_setTextStyles:function(t){t.textBaseline="alphabetic",t.font=this._getFontDeclaration()},_getTextHeight:function(){return this._getHeightOfSingleLine()+(this._textLines.length-1)*this._getHeightOfLine()},_getTextWidth:function(t){for(var e=this._getLineWidth(t,0),n=1,i=this._textLines.length;n<i;n++){var r=this._getLineWidth(t,n);r>e&&(e=r)}return e},_renderChars:function(t,e,n,i,r){var o,l,a=t.slice(0,-4);if(this[a].toLive){var s=-this.width/2+this[a].offsetX||0,u=-this.height/2+this[a].offsetY||0;e.save(),e.translate(s,u),i-=s,r-=u}if(0!==this.charSpacing)for(var c=this._getWidthOfCharSpacing(),h=0,d=(n=n.split("")).length;h<d;h++)l=e.measureText(o=n[h]).width+c,e[t](o,i,r),i+=l>0?l:0;else e[t](n,i,r);this[a].toLive&&e.restore()},_renderTextLine:function(t,e,n,i,r,o){r-=this.fontSize*this._fontSizeFraction;var l=this._getLineWidth(e,o);if("justify"!==this.textAlign||this.width<l)this._renderChars(t,e,n,i,r,o);else for(var a,s=n.split(/\s+/),u=0,c=this._getWidthOfWords(e,s.join(" "),o,0),h=s.length-1,d=h>0?(this.width-c)/h:0,p=0,f=0,g=s.length;f<g;f++){for(;" "===n[u]&&u<n.length;)u++;this._renderChars(t,e,a=s[f],i+p,r,o,u),p+=this._getWidthOfWords(e,a,o,u)+d,u+=a.length}},_getWidthOfWords:function(t,e){var n=t.measureText(e).width;return 0!==this.charSpacing&&(n+=e.split("").length*this._getWidthOfCharSpacing()),n>0?n:0},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},isEmptyStyles:function(){return!0},_renderTextCommon:function(t,e){for(var n=0,i=this._getLeftOffset(),r=this._getTopOffset(),o=0,l=this._textLines.length;o<l;o++){var a=this._getHeightOfLine(t,o),s=a/this.lineHeight,u=this._getLineWidth(t,o),c=this._getLineLeftOffset(u);this._renderTextLine(e,t,this._textLines[o],i+c,r+n+s,o),n+=a}},_renderTextFill:function(t){!this.fill&&this.isEmptyStyles()||this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_getHeightOfLine:function(){return this._getHeightOfSingleLine()*this.lineHeight},_getHeightOfSingleLine:function(){return this.fontSize*this._fontSizeMult},_renderTextLinesBackground:function(t){if(this.textBackgroundColor){var e,n,i,r=0,o=t.fillStyle;t.fillStyle=this.textBackgroundColor;for(var l=0,a=this._textLines.length;l<a;l++)e=this._getHeightOfLine(t,l),(n=this._getLineWidth(t,l))>0&&(i=this._getLineLeftOffset(n),t.fillRect(this._getLeftOffset()+i,this._getTopOffset()+r,n,e/this.lineHeight)),r+=e;t.fillStyle=o,this._removeShadow(t)}},_getLineLeftOffset:function(t){return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.saveState({propertySet:"_dimensionAffectingProps"}),this.dirty=!0),t},_getLineWidth:function(t,e){if(this.__lineWidths[e])return-1===this.__lineWidths[e]?this.width:this.__lineWidths[e];var n,i=this._textLines[e];return n=""===i?0:this._measureLine(t,e),this.__lineWidths[e]=n,n&&"justify"===this.textAlign&&i.split(/\s+/).length>1&&(this.__lineWidths[e]=-1),n},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},_measureLine:function(t,e){var n,i=this._textLines[e],r=t.measureText(i).width,o=0;return 0!==this.charSpacing&&(o=(i.split("").length-1)*this._getWidthOfCharSpacing()),(n=r+o)>0?n:0},_renderTextDecoration:function(t){if(this.textDecoration){var e=this.height/2,n=this,i=[];this.textDecoration.indexOf("underline")>-1&&i.push(.85),this.textDecoration.indexOf("line-through")>-1&&i.push(.43),this.textDecoration.indexOf("overline")>-1&&i.push(-.12),i.length>0&&function(i){var r,o,l,a,s,u,c,h=0;for(r=0,o=n._textLines.length;r<o;r++){for(s=n._getLineWidth(t,r),u=n._getLineLeftOffset(s),c=n._getHeightOfLine(t,r),l=0,a=i.length;l<a;l++)t.fillRect(n._getLeftOffset()+u,h+(n._fontSizeMult-1+i[l])*n.fontSize-e,s,n.fontSize/15);h+=c}}(i)}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(t,e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&(this._setTextStyles(t),this._initDimensions(t)),this.callSuper("render",t,e)))},_splitTextIntoLines:function(){return this.text.split(this._reNewline)},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","textDecoration","textAlign","textBackgroundColor","charSpacing"].concat(t);return this.callSuper("toObject",e)},toSVG:function(t){this.ctx||(this.ctx=e.util.createCanvasElement().getContext("2d"));var n=this._createBaseSVGMarkup(),i=this._getSVGLeftTopOffsets(this.ctx),r=this._getSVGTextAndBg(i.textTop,i.textLeft);return this._wrapSVGTextAndBg(n,r),t?t(n.join("")):n.join("")},_getSVGLeftTopOffsets:function(t){var e=this._getHeightOfLine(t,0);return{textLeft:-this.width/2+(this.group&&"path-group"===this.group.type?this.left:0),textTop:0+(this.group&&"path-group"===this.group.type?-this.top:0),lineTop:e}},_wrapSVGTextAndBg:function(t,e){var n=this.getSvgFilter(),i=""===n?"":' style="'+n+'"';t.push("\t<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',i,">\n",e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(!0),'" >\n',e.textSpans.join(""),"\t\t</text>\n","\t</g>\n")},getSvgStyles:function(t){return e.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"},_getSVGTextAndBg:function(t,e){var n=[],i=[],r=0;this._setSVGBg(i);for(var o=0,l=this._textLines.length;o<l;o++)this.textBackgroundColor&&this._setSVGTextLineBg(i,o,e,t,r),this._setSVGTextLineText(o,n,r,e,t,i),r+=this._getHeightOfLine(this.ctx,o);return{textSpans:n,textBgRects:i}},_setSVGTextLineText:function(t,r,o,l,a){var s=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-a+o-this.height/2;"justify"!==this.textAlign?r.push('\t\t\t<tspan x="',n(l+this._getLineLeftOffset(this._getLineWidth(this.ctx,t)),i),'" ','y="',n(s,i),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(this._textLines[t]),"</tspan>\n"):this._setSVGTextLineJustifed(t,r,s,l)},_setSVGTextLineJustifed:function(t,r,o,l){var a=e.util.createCanvasElement().getContext("2d");this._setTextStyles(a);var s,u,c=this._textLines[t].split(/\s+/),h=this._getWidthOfWords(a,c.join("")),d=c.length-1,p=d>0?(this.width-h)/d:0,f=this._getFillAttributes(this.fill);for(l+=this._getLineLeftOffset(this._getLineWidth(a,t)),t=0,u=c.length;t<u;t++)s=c[t],r.push('\t\t\t<tspan x="',n(l,i),'" ','y="',n(o,i),'" ',f,">",e.util.string.escapeXml(s),"</tspan>\n"),l+=this._getWidthOfWords(a,s)+p},_setSVGTextLineBg:function(t,e,r,o,l){t.push("\t\t<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',n(r+this._getLineLeftOffset(this._getLineWidth(this.ctx,e)),i),'" y="',n(l-this.height/2,i),'" width="',n(this._getLineWidth(this.ctx,e),i),'" height="',n(this._getHeightOfLine(this.ctx,e)/this.lineHeight,i),'"></rect>\n')},_setSVGBg:function(t){this.backgroundColor&&t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',n(-this.width/2,i),'" y="',n(-this.height/2,i),'" width="',n(this.width,i),'" height="',n(this.height,i),'"></rect>\n')},_getFillAttributes:function(t){var n=t&&"string"==typeof t?new e.Color(t):"";return n&&n.getSource()&&1!==n.getAlpha()?'opacity="'+n.getAlpha()+'" fill="'+n.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_set:function(t,e){this.callSuper("_set",t,e),this._dimensionAffectingProps.indexOf(t)>-1&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n){if(!t)return null;var i=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES);(n=e.util.object.extend(n?e.util.object.clone(n):{},i)).top=n.top||0,n.left=n.left||0,"dx"in i&&(n.left+=i.dx),"dy"in i&&(n.top+=i.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE),n.originX||(n.originX="left");var r="";"textContent"in t?r=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(r=t.firstChild.data),r=r.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var o=new e.Text(r,n),l=o.getHeight()/o.height,a=((o.height+o.strokeWidth)*o.lineHeight-o.height)*l,s=o.getHeight()+a,u=0;return"left"===o.originX&&(u=o.getWidth()/2),"right"===o.originX&&(u=-o.getWidth()/2),o.set({left:o.getLeft()+u,top:o.getTop()-s/2+o.fontSize*(.18+o._fontSizeFraction)/o.lineHeight}),o},e.Text.fromObject=function(t,n,i){return e.Object._fromObject("Text",t,n,i,"text")},e.util.createAccessors(e.Text))}(),clone=fabric.util.object.clone,fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,styles:null,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],initialize:function(t,e){this.styles=e&&e.styles||{},this.callSuper("initialize",t,e),this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache"),this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var t=this.styles;for(var e in t)for(var n in t[e])for(var i in t[e][n])return!1;return!0},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectionStyles:function(t,e){if(2===arguments.length){for(var n=[],i=t;i<e;i++)n.push(this.getSelectionStyles(i));return n}var r=this.get2DCursorLocation(t);return this._getStyleDeclaration(r.lineIndex,r.charIndex)||{}},setSelectionStyles:function(t){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,t);else for(var e=this.selectionStart;e<this.selectionEnd;e++)this._extendStyles(e,t);return this._forceClearCache=!0,this},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex,{}),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),fabric.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},_initDimensions:function(t){t||this.clearContextTop(),this.callSuper("_initDimensions",t)},render:function(t,e){this.clearContextTop(),this.callSuper("render",t,e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t),this.ctx=t},clearContextTop:function(){if(this.active&&this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop;t.save(),t.transform.apply(t,this.canvas.viewportTransform),this.transform(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._clearTextArea(t),t.restore()}},renderCursorOrSelection:function(){if(this.active&&this.isEditing){var t,e,n=this.text.split("");this.canvas&&this.canvas.contextTop?((e=this.canvas.contextTop).save(),e.transform.apply(e,this.canvas.viewportTransform),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e)):(e=this.ctx).save(),this.selectionStart===this.selectionEnd?(t=this._getCursorBoundaries(n,"cursor"),this.renderCursor(t,e)):(t=this._getCursorBoundaries(n,"selection"),this.renderSelection(n,t,e)),e.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},get2DCursorLocation:function(t){"undefined"==typeof t&&(t=this.selectionStart);for(var e=this._textLines.length,n=0;n<e;n++){if(t<=this._textLines[n].length)return{lineIndex:n,charIndex:t};t-=this._textLines[n].length+1}return{lineIndex:n-1,charIndex:this._textLines[n-1].length<t?this._textLines[n-1].length:t}},getCurrentCharStyle:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return{fontSize:n&&n.fontSize||this.fontSize,fill:n&&n.fill||this.fill,textBackgroundColor:n&&n.textBackgroundColor||this.textBackgroundColor,textDecoration:n&&n.textDecoration||this.textDecoration,fontFamily:n&&n.fontFamily||this.fontFamily,fontWeight:n&&n.fontWeight||this.fontWeight,fontStyle:n&&n.fontStyle||this.fontStyle,stroke:n&&n.stroke||this.stroke,strokeWidth:n&&n.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return n&&n.fontSize?n.fontSize:this.fontSize},getCurrentCharColor:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return n&&n.fill?n.fill:this.cursorColor},_getCursorBoundaries:function(t,e){var n=Math.round(this._getLeftOffset()),i=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:n,top:i,leftOffset:r.left+r.lineLeft,topOffset:r.top}},_getCursorBoundariesOffsets:function(t,e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var n=0,i=0,r=0,o=0,l=0,a=0;a<this.selectionStart;a++)"\n"===t[a]?(l=0,o+=this._getHeightOfLine(this.ctx,i),i++,r=0):(l+=this._getWidthOfChar(this.ctx,t[a],i,r),r++),n=this._getLineLeftOffset(this._getLineWidth(this.ctx,i));return"cursor"===e&&(o+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,i)/this.lineHeight-this.getCurrentCharFontSize(i,r)*(1-this._fontSizeFraction)),0!==this.charSpacing&&r===this._textLines[i].length&&(l-=this._getWidthOfCharSpacing()),this.cursorOffsetCache={top:o,left:l>0?l:0,lineLeft:n},this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex,o=this.getCurrentCharFontSize(i,r),l=t.leftOffset,a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a;e.fillStyle=this.getCurrentCharColor(i,r),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+l-s/2,t.top+t.topOffset,s,o)},renderSelection:function(t,e,n){n.fillStyle=this.selectionColor;for(var i=this.get2DCursorLocation(this.selectionStart),r=this.get2DCursorLocation(this.selectionEnd),o=i.lineIndex,l=r.lineIndex,a=o;a<=l;a++){var s,u=this._getLineLeftOffset(this._getLineWidth(n,a))||0,c=this._getHeightOfLine(this.ctx,a),h=0,d=this._textLines[a];if(a===o){for(var p=0,f=d.length;p<f;p++)p>=i.charIndex&&(a!==l||p<r.charIndex)&&(h+=this._getWidthOfChar(n,d[p],a,p)),p<i.charIndex&&(u+=this._getWidthOfChar(n,d[p],a,p));p===d.length&&(h-=this._getWidthOfCharSpacing())}else if(a>o&&a<l)h+=this._getLineWidth(n,a)||5;else if(a===l){for(var g=0,m=r.charIndex;g<m;g++)h+=this._getWidthOfChar(n,d[g],a,g);r.charIndex===d.length&&(h-=this._getWidthOfCharSpacing())}s=c,(this.lineHeight<1||a===l&&this.lineHeight>1)&&(c/=this.lineHeight),n.fillRect(e.left+u,e.top+e.topOffset,h>0?h:0,c),e.topOffset+=s}},_renderChars:function(t,e,n,i,r,o,l){if(this.isEmptyStyles())return this._renderCharsFast(t,e,n,i,r);l=l||0;var a,s,u=this._getHeightOfLine(e,o),c="";e.save(),r-=u/this.lineHeight*this._fontSizeFraction;for(var h=l,d=n.length+l;h<=d;h++)a=a||this.getCurrentCharStyle(o,h),s=this.getCurrentCharStyle(o,h+1),(this._hasStyleChanged(a,s)||h===d)&&(this._renderChar(t,e,o,h-1,c,i,r,u),c="",a=s),c+=n[h-l];e.restore()},_renderCharsFast:function(t,e,n,i,r){"fillText"===t&&this.fill&&this.callSuper("_renderChars",t,e,n,i,r),"strokeText"===t&&(this.stroke&&this.strokeWidth>0||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",t,e,n,i,r)},_renderChar:function(t,e,n,i,r,o,l,a){var s,u,c,h,d,p,f,g,m=this._getStyleDeclaration(n,i);if(m?(u=this._getHeightOfChar(e,r,n,i),h=m.stroke,c=m.fill,d=m.textDecoration):u=this.fontSize,h=(h||this.stroke)&&"strokeText"===t,c=(c||this.fill)&&"fillText"===t,m&&e.save(),s=this._applyCharStylesGetWidth(e,r,n,i,m||null),d=d||this.textDecoration,m&&m.textBackgroundColor&&this._removeShadow(e),0!==this.charSpacing){f=this._getWidthOfCharSpacing(),s=0;for(var v,y=0,b=(p=r.split("")).length;y<b;y++)v=p[y],c&&e.fillText(v,o+s,l),h&&e.strokeText(v,o+s,l),s+=(g=e.measureText(v).width+f)>0?g:0}else c&&e.fillText(r,o,l),h&&e.strokeText(r,o,l);(d||""!==d)&&this._renderCharDecoration(e,d,o,l,this._fontSizeFraction*a/this.lineHeight,s,u),m&&e.restore(),e.translate(s,0)},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.fontSize!==e.fontSize||t.textBackgroundColor!==e.textBackgroundColor||t.textDecoration!==e.textDecoration||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth},_renderCharDecoration:function(t,e,n,i,r,o,l){if(e){var a,s,u=l/15,c={underline:i+l/10,"line-through":i-l*(this._fontSizeFraction+this._fontSizeMult-1)+u,overline:i-(this._fontSizeMult-this._fontSizeFraction)*l},h=["underline","line-through","overline"];for(a=0;a<h.length;a++)e.indexOf(s=h[a])>-1&&t.fillRect(n,c[s],o,u)}},_renderTextLine:function(t,e,n,i,r,o){this.isEmptyStyles()||(r+=this.fontSize*(this._fontSizeFraction+.03)),this.callSuper("_renderTextLine",t,e,n,i,r,o)},_renderTextDecoration:function(t){if(this.isEmptyStyles())return this.callSuper("_renderTextDecoration",t)},_renderTextLinesBackground:function(t){this.callSuper("_renderTextLinesBackground",t);var e,n,i,r,o,l,a,s,u,c,h=0,d=this._getLeftOffset(),p=this._getTopOffset(),f="";t.save();for(var g=0,m=this._textLines.length;g<m;g++)if(e=this._getHeightOfLine(t,g),""!==(r=this._textLines[g])&&this.styles&&this._getLineStyle(g)){n=this._getLineWidth(t,g),i=this._getLineLeftOffset(n),a=s=u=c=0;for(var v=0,y=r.length;v<y;v++)f!==(l=this._getStyleDeclaration(g,v)||{}).textBackgroundColor&&(c&&u&&(t.fillStyle=f,t.fillRect(a,s,u,c)),a=s=u=c=0,f=l.textBackgroundColor||""),l.textBackgroundColor?(o=r[v],f===l.textBackgroundColor&&(f=l.textBackgroundColor,a||(a=d+i+this._getWidthOfCharsAt(t,g,v)),s=p+h,u+=this._getWidthOfChar(t,o,g,v),c=e/this.lineHeight)):f="";c&&u&&(t.fillStyle=f,t.fillRect(a,s,u,c),a=s=u=c=0),h+=e}else h+=e;t.restore()},_getCacheProp:function(t,e){return t+e.fontSize+e.fontWeight+e.fontStyle},_getFontCache:function(t){return fabric.charWidthsCache[t]||(fabric.charWidthsCache[t]={}),fabric.charWidthsCache[t]},_applyCharStylesGetWidth:function(t,e,n,i,r){var o,l,a,s=r||this._getStyleDeclaration(n,i),u=clone(s);if(this._applyFontStyles(u),a=this._getFontCache(u.fontFamily),l=this._getCacheProp(e,u),!s&&a[l]&&this.caching)return a[l];"string"==typeof u.shadow&&(u.shadow=new fabric.Shadow(u.shadow));var c=u.fill||this.fill;return t.fillStyle=c.toLive?c.toLive(t,this):c,u.stroke&&(t.strokeStyle=u.stroke&&u.stroke.toLive?u.stroke.toLive(t,this):u.stroke),t.lineWidth=u.strokeWidth||this.strokeWidth,t.font=this._getFontDeclaration.call(u),u.shadow&&(u.scaleX=this.scaleX,u.scaleY=this.scaleY,u.canvas=this.canvas,u.getObjectScaling=this.getObjectScaling,this._setShadow.call(u,t)),this.caching&&a[l]?a[l]:(o=t.measureText(e).width,this.caching&&(a[l]=o),o)},_applyFontStyles:function(t){t.fontFamily||(t.fontFamily=this.fontFamily),t.fontSize||(t.fontSize=this.fontSize),t.fontWeight||(t.fontWeight=this.fontWeight),t.fontStyle||(t.fontStyle=this.fontStyle)},_getStyleDeclaration:function(t,e,n){return n?this.styles[t]&&this.styles[t][e]?clone(this.styles[t][e]):{}:this.styles[t]&&this.styles[t][e]?this.styles[t][e]:null},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return this.styles[t]},_setLineStyle:function(t,e){this.styles[t]=e},_deleteLineStyle:function(t){delete this.styles[t]},_getWidthOfChar:function(t,e,n,i){if(!this._isMeasuring&&"justify"===this.textAlign&&this._reSpacesAndTabs.test(e))return this._getWidthOfSpace(t,n);t.save();var r=this._applyCharStylesGetWidth(t,e,n,i);return 0!==this.charSpacing&&(r+=this._getWidthOfCharSpacing()),t.restore(),r>0?r:0},_getHeightOfChar:function(t,e,n){var i=this._getStyleDeclaration(e,n);return i&&i.fontSize?i.fontSize:this.fontSize},_getWidthOfCharsAt:function(t,e,n){var i,r=0;for(i=0;i<n;i++)r+=this._getWidthOfChar(t,this._textLines[e][i],e,i);return r},_measureLine:function(t,e){this._isMeasuring=!0;var n=this._getWidthOfCharsAt(t,e,this._textLines[e].length);return 0!==this.charSpacing&&(n-=this._getWidthOfCharSpacing()),this._isMeasuring=!1,n>0?n:0},_getWidthOfSpace:function(t,e){if(this.__widthOfSpace[e])return this.__widthOfSpace[e];var n=this._textLines[e],i=this._getWidthOfWords(t,n,e,0),r=this.width-i,o=n.length-n.replace(this._reSpacesAndTabs,"").length,l=Math.max(r/o,t.measureText(" ").width);return this.__widthOfSpace[e]=l,l},_getWidthOfWords:function(t,e,n,i){for(var r=0,o=0;o<e.length;o++){var l=e[o];l.match(/\s/)||(r+=this._getWidthOfChar(t,l,n,o+i))}return r},_getHeightOfLine:function(t,e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var n=this._textLines[e],i=this._getHeightOfChar(t,e,0),r=1,o=n.length;r<o;r++){var l=this._getHeightOfChar(t,e,r);l>i&&(i=l)}return this.__lineHeights[e]=i*this.lineHeight*this._fontSizeMult,this.__lineHeights[e]},_getTextHeight:function(t){for(var e,n=0,i=0,r=this._textLines.length;i<r;i++)e=this._getHeightOfLine(t,i),n+=i===r-1?e/this.lineHeight:e;return n},toObject:function(t){return fabric.util.object.extend(this.callSuper("toObject",t),{styles:clone(this.styles,!0)})}}),fabric.IText.fromObject=function(t,e,n){return fabric.Object._fromObject("IText",t,e,n,"text")},function(){var t=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1,this.callSuper("onDeselect")},initAddedHandler:function(){var t=this;this.on("added",function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))})},initRemovedHandler:function(){var t=this;this.on("removed",function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],fabric.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))})},_initCanvasHandlers:function(t){t._mouseUpITextHandler=(function(){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.__isMousedown=!1})}).bind(this),t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,i){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){r.isAborted||t[i]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){e._tick()},n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){this.selectionStart=0,this.selectionEnd=this.text.length,this._fireSelectionChanged(),this._updateTextarea()},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n--;for(;/\S/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n++;for(;/\S/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},getNumNewLinesInSelectedText:function(){for(var t=this.getSelectedText(),e=0,n=0,i=t.length;n<i;n++)"\n"===t[n]&&e++;return e},searchWordBoundary:function(t,e){for(var n=this._reSpace.test(this.text.charAt(t))?t-1:t,i=this.text.charAt(n),r=/[ \n\.,;!\?\-]/;!r.test(i)&&n>0&&n<this.text.length;)i=this.text.charAt(n+=e);return r.test(i)&&"\n"!==i&&(n+=1===e?0:1),n},selectWord:function(t){var e=this.searchWordBoundary(t=t||this.selectionStart,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){var e=this.findLineBoundaryLeft(t=t||this.selectionStart),n=this.findLineBoundaryRight(t);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea()},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&this.exitEditingOnOthers(this.canvas),this.isEditing=!0,this.selected=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.renderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,i=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&n!==i||n!==e&&i!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){if(this.hiddenTextarea&&!this.inCompositionMode&&(this.cursorOffsetCache={},this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd,this.selectionStart===this.selectionEnd)){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top,this.hiddenTextarea.style.fontSize=t.fontSize}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.text.split(""),e=this._getCursorBoundaries(t,"cursor"),n=this.get2DCursorLocation(),i=this.getCurrentCharFontSize(n.lineIndex,n.charIndex),r=e.leftOffset,o=this.calcTransformMatrix(),l={x:e.left+r,y:e.top+e.topOffset+i},a=this.canvas.upperCanvasEl,s=a.width-i,u=a.height-i;return l=fabric.util.transformPoint(l,o),(l=fabric.util.transformPoint(l,this.canvas.viewportTransform)).x<0&&(l.x=0),l.x>s&&(l.x=s),l.y<0&&(l.y=0),l.y>u&&(l.y=u),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:i}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},_removeCharsFromTo:function(t,e){for(;e!==t;)this._removeSingleCharAndStyle(t+1),e--;this.selectionStart=t,this.selectionEnd=t},_removeSingleCharAndStyle:function(t){var e="\n"===this.text[t-1];this.removeStyleObject(e,e?t:t-1),this.text=this.text.slice(0,t-1)+this.text.slice(t),this._textLines=this._splitTextIntoLines()},insertChars:function(t,e){var n;if(this.selectionEnd-this.selectionStart>1&&this._removeCharsFromTo(this.selectionStart,this.selectionEnd),e||!this.isEmptyStyles())for(var i=0,r=t.length;i<r;i++)e&&(n=fabric.util.object.clone(fabric.copiedTextStyle[i],!0)),this.insertChar(t[i],i<r-1,n);else this.insertChar(t,!1)},insertChar:function(t,e,n){var i="\n"===this.text[this.selectionStart];this.text=this.text.slice(0,this.selectionStart)+t+this.text.slice(this.selectionEnd),this._textLines=this._splitTextIntoLines(),this.insertStyleObjects(t,i,n),this.selectionStart+=t.length,this.selectionEnd=this.selectionStart,e||(this._updateTextarea(),this.setCoords(),this._fireSelectionChanged(),this.fire("changed"),this.restartCursorIfNeeded(),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.renderAll()))},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,n,i){this.shiftLineStyles(e,1);var r={},o={};if(this.styles[e]&&this.styles[e][n-1]&&(r=this.styles[e][n-1]),i&&r)o[0]=t(r),this.styles[e+1]=o;else{var l=!1;for(var a in this.styles[e]){var s=parseInt(a,10);s>=n&&(l=!0,o[s-n]=this.styles[e][a],delete this.styles[e][a])}l&&(this.styles[e+1]=o)}this._forceClearCache=!0},insertCharStyleObject:function(e,n,i){var r=this.styles[e],o=t(r);for(var l in 0!==n||i||(n=1),o){var a=parseInt(l,10);a>=n&&(r[a+1]=o[a],o[a-1]||delete r[a])}var s=i||t(r[n-1]);s&&(this.styles[e][n]=s),this._forceClearCache=!0},insertStyleObjects:function(t,e,n){var i=this.get2DCursorLocation(),r=i.lineIndex,o=i.charIndex;this._getLineStyle(r)||this._setLineStyle(r,{}),"\n"===t?this.insertNewlineStyleObject(r,o,e):this.insertCharStyleObject(r,o,n)},shiftLineStyles:function(e,n){var i=t(this.styles);for(var r in i)(o=parseInt(r,10))<=e&&delete i[o];for(var r in this.styles){var o;(o=parseInt(r,10))>e&&(this.styles[o+n]=i[o],i[o-n]||delete this.styles[o])}},removeStyleObject:function(t,e){var n=this.get2DCursorLocation(e);this._removeStyleObject(t,n,n.lineIndex,n.charIndex)},_getTextOnPreviousLine:function(t){return this._textLines[t-1]},_removeStyleObject:function(e,n,i,r){if(e){var o=this._getTextOnPreviousLine(n.lineIndex),l=o?o.length:0;for(r in this.styles[i-1]||(this.styles[i-1]={}),this.styles[i])this.styles[i-1][parseInt(r,10)+l]=this.styles[i][r];this.shiftLineStyles(n.lineIndex,-1)}else{var a=this.styles[i];a&&delete a[r];var s=t(a);for(var u in s){var c=parseInt(u,10);c>=r&&0!==c&&(a[c-1]=s[c],delete a[c])}}},insertNewline:function(){this.insertChars("\n")},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e,t.e)?(this.fire("tripleclick",t),this._stopEvent(t.e)):this.isDoubleClick(e)&&(this.fire("dblclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y&&this.__lastIsEditing},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},initMousedownHandler:function(){this.on("mousedown",function(t){if(this.editable&&(!t.e.button||1===t.e.button)){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}})},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",function(t){this.__isMousedown=!1,!this.editable||this._isObjectMoved(t.e)||t.e.button&&1!==t.e.button||(this.__lastSelected&&!this.__corner&&(this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)})},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t);t.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,n=this.getLocalPointer(t),i=0,r=0,o=0,l=0,a=0,s=this._textLines.length;a<s;a++){e=this._textLines[a],o+=this._getHeightOfLine(this.ctx,a)*this.scaleY;var u=this._getLineWidth(this.ctx,a);r=this._getLineLeftOffset(u)*this.scaleX;for(var c=0,h=e.length;c<h;c++){if(i=r,r+=this._getWidthOfChar(this.ctx,e[c],a,this.flipX?h-c:c)*this.scaleX,!(o<=n.y||r<=n.x))return this._getNewSelectionStartFromOffset(n,i,r,l+a,h);l++}if(n.y<o)return this._getNewSelectionStartFromOffset(n,i,r,l+a-1,h)}return this.text.length},_getNewSelectionStartFromOffset:function(t,e,n,i,r){var o=i+(n-t.x>t.x-e?0:1);return this.flipX&&(o=r-o),o>this.text.length&&(o=this.text.length),o}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; padding\uff70top: "+t.fontSize+";",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),fabric.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"cut",this.cut.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown&&(t.ctrlKey||t.metaKey)))return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.renderAll()}},onKeyUp:function(t){this.isEditing&&!this._copyDone?t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.renderAll()):this._copyDone=!1},onInput:function(t){if(this.isEditing&&!this.inCompositionMode){var e,n,i=this.selectionStart||0,r=this.selectionEnd||0,o=this.text.length,l=this.hiddenTextarea.value.length;e=l>o?this.hiddenTextarea.value.slice(n="left"===this._selectionDirection?r:i,n+(l-o)):this.hiddenTextarea.value.slice(i,i+(l-o+r-i)),this.insertChars(e),t.stopPropagation()}},onCompositionStart:function(){this.inCompositionMode=!0,this.prevCompositionLength=0,this.compositionStart=this.selectionStart},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){var e=t.data;this.selectionStart=this.compositionStart,this.selectionEnd=this.selectionEnd===this.selectionStart?this.compositionStart+this.prevCompositionLength:this.selectionEnd,this.insertChars(e,!1),this.prevCompositionLength=e.length},forwardDelete:function(t){if(this.selectionStart===this.selectionEnd){if(this.selectionStart===this.text.length)return;this.moveCursorRight(t)}this.removeChars(t)},copy:function(t){if(this.selectionStart!==this.selectionEnd){var e=this.getSelectedText(),n=this._getClipboardData(t);n&&n.setData("text",e),fabric.copiedText=e,fabric.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd),t.stopImmediatePropagation(),t.preventDefault(),this._copyDone=!0}},paste:function(t){var e=null,n=this._getClipboardData(t),i=!0;n?(e=n.getData("text").replace(/\r/g,""),fabric.copiedTextStyle&&fabric.copiedText===e||(i=!1)):e=fabric.copiedText,e&&this.insertChars(e,i),t.stopImmediatePropagation(),t.preventDefault()},cut:function(t){this.selectionStart!==this.selectionEnd&&(this.copy(t),this.removeChars(t))},_getClipboardData:function(t){return t&&t.clipboardData||fabric.window.clipboardData},_getWidthBeforeCursor:function(t,e){for(var n=this._textLines[t].slice(0,e),i=this._getLineWidth(this.ctx,t),r=this._getLineLeftOffset(i),o=0,l=n.length;o<l;o++)r+=this._getWidthOfChar(this.ctx,n[o],t,o);return r},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),r=i.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this.text.length-n;var o=i.charIndex,l=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r+1,l);return this._textLines[r].slice(o).length+a+2},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),r=i.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-n;var o=i.charIndex,l=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r-1,l),s=this._textLines[r].slice(0,o);return-this._textLines[r-1].length+a-s.length},_getIndexOnLine:function(t,e){for(var n,i=this._getLineWidth(this.ctx,t),r=this._textLines[t],o=this._getLineLeftOffset(i),l=0,a=0,s=r.length;a<s;a++){var u=this._getWidthOfChar(this.ctx,r[a],t,a);if((o+=u)>e){n=!0;var c=o,h=Math.abs(o-u-e);l=Math.abs(c-e)<h?a:a-1;break}}return n||(l=r.length-1),l},moveCursorDown:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var i;if(t.altKey)i=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;i=this["findLineBoundary"+n](this[e])}if(void 0!==typeof i&&this[e]!==i)return this[e]=i,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,this[n+=e.shiftKey?"Shift":"outShift"](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this.text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(t):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.set("dirty",!0),this.setSelectionEnd(this.selectionStart),this._removeExtraneousStyles(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(t){if(0!==this.selectionStart)if(t.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)}else if(t.altKey){var n=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(n,this.selectionStart),this.setSelectionStart(n)}else this._removeSingleCharAndStyle(this.selectionStart),this.setSelectionStart(this.selectionStart-1)}}),toFixed=fabric.util.toFixed,NUM_FRACTION_DIGITS=fabric.Object.NUM_FRACTION_DIGITS,fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(t,e,n,i,r,o){this._getLineStyle(t)?this._setSVGTextLineChars(t,e,n,i,o):fabric.Text.prototype._setSVGTextLineText.call(this,t,e,n,i,r)},_setSVGTextLineChars:function(t,e,n,i,r){for(var o=this._textLines[t],l=0,a=this._getLineLeftOffset(this._getLineWidth(this.ctx,t))-this.width/2,s=this._getSVGLineTopOffset(t),u=this._getHeightOfLine(this.ctx,t),c=0,h=o.length;c<h;c++){var d=this._getStyleDeclaration(t,c)||{};e.push(this._createTextCharSpan(o[c],d,a,s.lineTop+s.offset,l));var p=this._getWidthOfChar(this.ctx,o[c],t,c);d.textBackgroundColor&&r.push(this._createTextCharBg(d,a,s.lineTop,u,p,l)),l+=p}},_getSVGLineTopOffset:function(t){for(var e,n=0,i=0;i<t;i++)n+=this._getHeightOfLine(this.ctx,i);return e=this._getHeightOfLine(this.ctx,i),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(t,e,n,i,r,o){return['\t\t<rect fill="',t.textBackgroundColor,'" x="',toFixed(e+o,NUM_FRACTION_DIGITS),'" y="',toFixed(n-this.height/2,NUM_FRACTION_DIGITS),'" width="',toFixed(r,NUM_FRACTION_DIGITS),'" height="',toFixed(i/this.lineHeight,NUM_FRACTION_DIGITS),'"></rect>\n'].join("")},_createTextCharSpan:function(t,e,n,i,r){var o=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text",getSvgFilter:fabric.Object.prototype.getSvgFilter},e));return['\t\t\t<tspan x="',toFixed(n+r,NUM_FRACTION_DIGITS),'" y="',toFixed(i-this.height/2,NUM_FRACTION_DIGITS),'" ',e.fontFamily?'font-family="'+e.fontFamily.replace(/"/g,"'")+'" ':"",e.fontSize?'font-size="'+e.fontSize+'" ':"",e.fontStyle?'font-style="'+e.fontStyle+'" ':"",e.fontWeight?'font-weight="'+e.fontWeight+'" ':"",e.textDecoration?'text-decoration="'+e.textDecoration+'" ':"",'style="',o,'">',fabric.util.string.escapeXml(t),"</tspan>\n"].join("")}}),function(t){"use strict";var e=exports.fabric||(exports.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingY:!0,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),initialize:function(t,n){this.callSuper("initialize",t,n),this.setControlsVisibility(e.Textbox.getTextboxControlVisibility()),this.ctx=this.objectCaching?this._cacheContext:e.util.createCanvasElement().getContext("2d")},_initDimensions:function(t){this.__skipDimension||(t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t),this.clearContextTop()),this.dynamicMinWidth=0,this._textLines=this._splitTextIntoLines(t),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this._clearCache(),this.height=this._getTextHeight(t),this.setCoords())},_generateStyleMap:function(){for(var t=0,e=0,n=0,i={},r=0;r<this._textLines.length;r++)"\n"===this.text[n]&&r>0?(e=0,n++,t++):" "===this.text[n]&&r>0&&(e++,n++),i[r]={line:t,offset:e},n+=this._textLines[r].length,e+=this._textLines[r].length;return i},_getStyleDeclaration:function(t,e,n){if(this._styleMap){var i=this._styleMap[t];if(!i)return n?{}:null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e,n)},_setStyleDeclaration:function(t,e,n){var i=this._styleMap[t];this.styles[t=i.line][e=i.offset+e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];delete this.styles[t=n.line][e=n.offset+e]},_getLineStyle:function(t){return this.styles[this._styleMap[t].line]},_setLineStyle:function(t,e){this.styles[this._styleMap[t].line]=e},_deleteLineStyle:function(t){delete this.styles[this._styleMap[t].line]},_wrapText:function(t,e){var n,i=e.split(this._reNewline),r=[];for(n=0;n<i.length;n++)r=r.concat(this._wrapLine(t,i[n],n));return r},_measureText:function(t,e,n,i){var r=0;i=i||0;for(var o=0,l=e.length;o<l;o++)r+=this._getWidthOfChar(t,e[o],n,o+i);return r},_wrapLine:function(t,e,n){for(var i=0,r=[],o="",l=e.split(" "),a="",s=0,u=0,c=0,h=0,d=!0,p=this._getWidthOfCharSpacing(),f=0;f<l.length;f++)u=this._measureText(t,a=l[f],n,s),s+=a.length,(i+=c+u-p)>=this.width&&!d?(r.push(o),o="",i=u,d=!0):i+=p,d||(o+=" "),o+=a,c=this._measureText(t," ",n,s),s++,d=!1,u>h&&(h=u);return f&&r.push(o),h>this.dynamicMinWidth&&(this.dynamicMinWidth=h-p),r},_splitTextIntoLines:function(t){t=t||this.ctx;var e=this.textAlign;this._styleMap=null,t.save(),this._setTextStyles(t),this.textAlign="left";var n=this._wrapText(t,this.text);return this.textAlign=e,t.restore(),this._textLines=n,this._styleMap=this._generateStyleMap(),n},setOnGroup:function(t,e){"scaleX"===t&&(this.set("scaleX",Math.abs(1/e)),this.set("width",this.get("width")*e/("undefined"==typeof this.__oldScaleX?1:this.__oldScaleX)),this.__oldScaleX=e)},get2DCursorLocation:function(t){"undefined"==typeof t&&(t=this.selectionStart);for(var e=this._textLines.length,n=0,i=0;i<e;i++){var r=this._textLines[i].length;if(t<=n+r)return{lineIndex:i,charIndex:t-n};"\n"!==this.text[n+=r]&&" "!==this.text[n]||n++}return{lineIndex:e-1,charIndex:this._textLines[e-1].length}},_getCursorBoundariesOffsets:function(t,e){for(var n=0,i=0,r=this.get2DCursorLocation(),o=this._textLines[r.lineIndex].split(""),l=this._getLineLeftOffset(this._getLineWidth(this.ctx,r.lineIndex)),a=0;a<r.charIndex;a++)i+=this._getWidthOfChar(this.ctx,o[a],r.lineIndex,a);for(a=0;a<r.lineIndex;a++)n+=this._getHeightOfLine(this.ctx,a);return"cursor"===e&&(n+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,r.lineIndex)/this.lineHeight-this.getCurrentCharFontSize(r.lineIndex,r.charIndex)*(1-this._fontSizeFraction)),{top:n,left:i,lineLeft:l}},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(t){return this.callSuper("toObject",["minWidth"].concat(t))}}),e.Textbox.fromObject=function(t,n,i){return e.Object._fromObject("Textbox",t,n,i,"text")},e.Textbox.getTextboxControlVisibility=function(){return{tl:!1,tr:!1,br:!1,bl:!1,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0}}}(),setObjectScaleOverridden=fabric.Canvas.prototype._setObjectScale,fabric.Canvas.prototype._setObjectScale=function(t,e,n,i,r,o,l){var a=e.target;if(!(a instanceof fabric.Textbox))return setObjectScaleOverridden.call(fabric.Canvas.prototype,t,e,n,i,r,o,l);var s=a.width*(t.x/e.scaleX/(a.width+a.strokeWidth));return s>=a.getMinWidth()?(a.set("width",s),!0):void 0},fabric.Group.prototype._refreshControlsVisibility=function(){if("undefined"!=typeof fabric.Textbox)for(var t=this._objects.length;t--;)if(this._objects[t]instanceof fabric.Textbox)return void this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility())},fabric.util.object.extend(fabric.Textbox.prototype,{_removeExtraneousStyles:function(){for(var t in this._styleMap)this._textLines[t]||delete this.styles[this._styleMap[t].line]},insertCharStyleObject:function(t,e,n){var i=this._styleMap[t];fabric.IText.prototype.insertCharStyleObject.apply(this,[t=i.line,e=i.offset+e,n])},insertNewlineStyleObject:function(t,e,n){var i=this._styleMap[t];fabric.IText.prototype.insertNewlineStyleObject.apply(this,[t=i.line,e=i.offset+e,n])},shiftLineStyles:function(t,e){fabric.IText.prototype.shiftLineStyles.call(this,t=this._styleMap[t].line,e)},_getTextOnPreviousLine:function(t){for(var e=this._textLines[t-1];this._styleMap[t-2]&&this._styleMap[t-2].line===this._styleMap[t-1].line;)e=this._textLines[t-2]+e,t--;return e},removeStyleObject:function(t,e){var n=this.get2DCursorLocation(e),i=this._styleMap[n.lineIndex];this._removeStyleObject(t,n,i.line,i.offset+n.charIndex)}}),override=fabric.IText.prototype._getNewSelectionStartFromOffset,fabric.IText.prototype._getNewSelectionStartFromOffset=function(t,e,n,i,r){i=override.call(this,t,e,n,i,r);for(var o=0,l=0,a=0;a<this._textLines.length&&!((o+=this._textLines[a].length)+l>=i);a++)"\n"!==this.text[o+l]&&" "!==this.text[o+l]||l++;return i-a+l},function(){if("undefined"==typeof document||"undefined"==typeof window){var DOMParser=__webpack_require__(3).DOMParser,URL=__webpack_require__("UZ5h"),HTTP=__webpack_require__("nFqq"),HTTPS=__webpack_require__("fBpl"),Canvas=__webpack_require__(0),Image=__webpack_require__(0).Image;fabric.util.loadImage=function(t,e,n){function i(i){i?(r.src=new Buffer(i,"binary"),r._src=t,e&&e.call(n,r)):(r=null,e&&e.call(n,null,!0))}var r=new Image;t&&(t instanceof Buffer||0===t.indexOf("data"))?(r.src=r._src=t,e&&e.call(n,r)):t&&0!==t.indexOf("http")?requestFs(t,i):t?request(t,"binary",i):e&&e.call(n,t)},fabric.loadSVGFromURL=function(t,e,n){0!==(t=t.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim()).indexOf("http")?requestFs(t,function(t){fabric.loadSVGFromString(t.toString(),e,n)}):request(t,"",function(t){fabric.loadSVGFromString(t,e,n)})},fabric.loadSVGFromString=function(t,e,n){var i=(new DOMParser).parseFromString(t);fabric.parseSVGDocument(i.documentElement,function(t,n){e&&e(t,n)},n)},fabric.util.getScript=function(url,callback){request(url,"",function(body){eval(body),callback&&callback()})},fabric.createCanvasForNode=function(t,e,n,i){i=i||n;var r=fabric.document.createElement("canvas"),o=new Canvas(t||600,e||600,i),l=new Canvas(t||600,e||600,i);r.style={},r.width=o.width,r.height=o.height,(n=n||{}).nodeCanvas=o,n.nodeCacheCanvas=l;var a=new(fabric.Canvas||fabric.StaticCanvas)(r,n);return a.nodeCanvas=o,a.nodeCacheCanvas=l,a.contextContainer=o.getContext("2d"),a.contextCache=l.getContext("2d"),a.Font=Canvas.Font,a};var originaInitStatic=fabric.StaticCanvas.prototype._initStatic;fabric.StaticCanvas.prototype._initStatic=function(t,e){t=t||fabric.document.createElement("canvas"),this.nodeCanvas=new Canvas(t.width,t.height),this.nodeCacheCanvas=new Canvas(t.width,t.height),originaInitStatic.call(this,t,e),this.contextContainer=this.nodeCanvas.getContext("2d"),this.contextCache=this.nodeCacheCanvas.getContext("2d"),this.Font=Canvas.Font},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.StaticCanvas.prototype.createJPEGStream=function(t){return this.nodeCanvas.createJPEGStream(t)},fabric.StaticCanvas.prototype._initRetinaScaling=function(){if(this._isRetinaScaling())return this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.nodeCanvas.width=this.width*fabric.devicePixelRatio,this.nodeCanvas.height=this.height*fabric.devicePixelRatio,this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio),this},fabric.Canvas&&(fabric.Canvas.prototype._initRetinaScaling=fabric.StaticCanvas.prototype._initRetinaScaling);var origSetBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension;fabric.StaticCanvas.prototype._setBackstoreDimension=function(t,e){return origSetBackstoreDimension.call(this,t,e),this.nodeCanvas[t]=e,this},fabric.Canvas&&(fabric.Canvas.prototype._setBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension)}function request(t,e,n){var i=URL.parse(t);i.port||(i.port=0===i.protocol.indexOf("https:")?443:80);var r=(0===i.protocol.indexOf("https:")?HTTPS:HTTP).request({hostname:i.hostname,port:i.port,path:i.path,method:"GET"},function(t){var i="";e&&t.setEncoding(e),t.on("end",function(){n(i)}),t.on("data",function(e){200===t.statusCode&&(i+=e)})});r.on("error",function(t){fabric.log(t.errno===process.ECONNREFUSED?"ECONNREFUSED: connection refused to "+i.hostname+":"+i.port:t.message),n(null)}),r.end()}function requestFs(t,e){__webpack_require__(6).readFile(t,function(t,n){if(t)throw fabric.log(t),t;e(n)})}}()}).call(exports,__webpack_require__("63KW").Buffer,__webpack_require__("W2nU"))},uCFV:function(t,e,n){"use strict";e.a=function(t,e){return Object(i.h)(t,e)(this)};var i=n("Nyrq")},uOsm:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},ujcs:function(t,e){e.read=function(t,e,n,i,r){var o,l,a=8*r-i-1,s=(1<<a)-1,u=s>>1,c=-7,h=n?r-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=d,c-=8);for(l=o&(1<<-c)-1,o>>=-c,c+=i;c>0;l=256*l+t[e+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===s)return l?NaN:1/0*(p?-1:1);l+=Math.pow(2,i),o-=u}return(p?-1:1)*l*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var l,a,s,u=8*o-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,l=c):(l=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-l))<1&&(l--,s*=2),(e+=l+h>=1?d/s:d*Math.pow(2,1-h))*s>=2&&(l++,s/=2),l+h>=c?(a=0,l=c):l+h>=1?(a=(e*s-1)*Math.pow(2,r),l+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),l=0));r>=8;t[n+p]=255&a,p+=f,a/=256,r-=8);for(l=l<<r|a,u+=r;u>0;t[n+p]=255&l,p+=f,l/=256,u-=8);t[n+p-f]|=128*g}},utZs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("Nyrq");i.b.prototype.sampleTime=function(t,e){return void 0===e&&(e=i.f),Object(r.o)(t,e)(this)}},uxTV:function(t,e,n){"use strict";function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},v38c:function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(r.a)(t[0]))return t[0];t=t[0]}return Object(o.a)(t,void 0).lift(new s)};var i=n("TToO"),r=n("YgML"),o=n("b2EL"),l=n("1E73"),a=n("3SjU"),s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.__extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var i=t[n],r=Object(a.a)(this,i,i,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var l=this.subscriptions[o];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)},e}(l.a)},vzCy:function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var l=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var r,o,l;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),l=o[e]),void 0===l)l=o[e]=n,++t._eventsCount;else if("function"==typeof l?l=o[e]=i?[n,l]:[l,n]:i?l.unshift(n):l.push(n),(r=u(t))>0&&l.length>r&&!l.warned){l.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=l.length,console&&console.warn&&console.warn(a)}return t}function h(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=(function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}).bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):f(r,r.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var l;if(e.length>0&&(l=e[0]),l instanceof Error)throw l;var a=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw a.context=l,a}var s=r[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,e);else{var u=s.length,c=f(s,u);for(n=0;n<u;++n)o(c[n],this,e)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.prependListener=function(t,e){return c(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,h(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,h(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var n,i,r,o,l;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){l=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,l||e)}return this},a.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},w5lW:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),e.b=function(t){return t?function(t){return new i.a(function(e){return t.schedule(function(){return e.complete()})})}(t):r};var i=n("lWPP"),r=new i.a(function(t){return t.complete()})},wdeq:function(t,e,n){"use strict";var i=n("TToO"),r=n("bdRZ"),o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return i.__extends(e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=r.a.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(r.a.clearImmediate(n),e.scheduled=void 0)},e}(n("2mZA").a),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(n("g8cW").a);n.d(e,"a",function(){return a});var a=new l(o)},x0Ha:function(t,e,n){"use strict";var i=n("ypnx");function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("WT6e"),r=n("kxiW");r.initializeApp({apiKey:"AIzaSyC_cYQskL_dKhkt-aQ1ayHt8ia2NQYEHTs",authDomain:"comparez.firebaseapp.com",databaseURL:"https://comparez.firebaseio.com",projectId:"comparez",storageBucket:"gs://comparez.appspot.com/",messagingSenderId:"975260713071"});var o=function(){},l=n("TToO"),a=function(){},s=new i.InjectionToken("Location Initialized"),u=function(){},c=new i.InjectionToken("appBaseHref"),h=function(){function t(e){var n=this;this._subject=new i.EventEmitter,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(d(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,d(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function d(t){return t.replace(/\/index.html$/,"")}var p=function(t){function e(e,n){var i=t.call(this)||this;return i._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return Object(l.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=h.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+h.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+h.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(u),f=function(t){function e(e,n){var i=t.call(this)||this;if(i._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,i}return Object(l.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return h.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+h.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+h.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+h.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(u),g=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],m={},v=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),y=new i.InjectionToken("UseV4Plurals"),b=function(){},w=function(t){function e(e,n){var i=t.call(this)||this;return i.locale=e,i.deprecatedPluralFn=n,i}return Object(l.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=m[e];if(n)return n;var i=e.split("-")[0];if(n=m[i])return n;if("en"===i)return g;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[17]}(e||this.locale)(t)){case v.Zero:return"zero";case v.One:return"one";case v.Two:return"two";case v.Few:return"few";case v.Many:return"many";default:return"other"}},e}(b);function _(t,e){e=encodeURIComponent(e);for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],o=r.indexOf("="),l=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],a=l[1];if(l[0].trim()===e)return decodeURIComponent(a)}return null}var C=function(){function t(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(i){null!=t[i]&&n._toggleClass(i,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),x=function(){function t(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),S=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(i.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((n=e).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new x(null,e.ngForOf,-1,-1),r),l=new E(t,o);n.push(l)}else null==r?e._viewContainer.remove(i):(o=e._viewContainer.get(i),e._viewContainer.move(o,r),l=new E(t,o),n.push(l))});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);i=0;for(var r=this._viewContainer.length;i<r;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=r}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),E=function(t,e){this.record=t,this.view=e},T=function(){function t(t,e){this._viewContainer=t,this._context=new k,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),k=function(){this.$implicit=null,this.ngIf=null},A=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),i=n[0],r=n[1];null!=(e=null!=e&&r?""+e+r:e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)},t}(),D=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(var i=0,r=n;i<r.length;i++)if(-1===e.indexOf(r[i]))return!0;return!1}return!0},t.prototype._updateExistingContext=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}},t}();function O(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(i["\u0275stringify"])(t)+"'")}var I=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),R=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),P=new I,M=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(i["\u0275isPromise"])(e))return R;if(Object(i["\u0275isObservable"])(e))return P;throw O(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),N=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw O(t,e);return e.toLowerCase()},t}(),j=function(){},L=new i.InjectionToken("DocumentToken"),F="browser",V="server";function B(t){return t===F}function U(t){return t===V}var q=null;function W(){return q}var H,z={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},G={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};i["\u0275global"].Node&&(H=i["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var X,K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,q||(q=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return z},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return H.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n.item(i);e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Y.hasOwnProperty(e)&&(e=Y[e]))}return G[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Q||(Q=document.querySelector("base"))?Q.getAttribute("href"):null;return null==n?null:(e=n,X||(X=document.createElement("a")),X.setAttribute("href",e),"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname)},e.prototype.resetBaseElement=function(){Q=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return _(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],r=0;r<i.length;r++)if(null!=e.getStyle(n,i[r]+"AnimationName")){e._animationPrefix="-"+i[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(l.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),Q=null,Z=L;function J(){return!!window.history.pushState}var $=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(l.__extends)(e,t),e.prototype._init=function(){this.location=W().getLocation(),this._history=W().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return W().getBaseHref(this._doc)},e.prototype.onPopState=function(t){W().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){W().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){J()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){J()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Z]}]}]},e}(a),tt=function(){function t(t){this._doc=t,this._dom=W()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,i){return i&&t.push(n._getOrCreateElement(i,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),i=this.getTag(n);if(i&&this._containsAttributes(t,i))return i}var r=this._dom.createElement("meta");this._setMetaElementAttributes(t,r);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,r),r},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(i){return n._dom.setAttribute(e,i,t[i])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(i){return n._dom.getAttribute(e,i)===t[i]})},t}(),et=new i.InjectionToken("TRANSITION_ID");function nt(t,e,n){return function(){n.get(i.ApplicationInitStatus).donePromise.then(function(){var n=W();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}var it=[{provide:i.APP_INITIALIZER,useFactory:nt,deps:[et,Z,i.Injector],multi:!0}],rt=function(){function t(){}return t.init=function(){Object(i.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){i["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},i["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push(function(t){var e=i["\u0275global"].getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?W().isShadowRoot(e)?this.findTestabilityInTree(t,W().getHost(e),!0):this.findTestabilityInTree(t,W().parentElement(e),!0):null},t}(),ot=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return W().getTitle(this._doc)},t.prototype.setTitle=function(t){W().setTitle(this._doc,t)},t}();function lt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i["\u0275global"].ng=i["\u0275global"].ng||{})[t]=e)}var at={ApplicationRef:i.ApplicationRef,NgZone:i.NgZone};function st(t){return Object(i.getDebugNode)(t)}var ut=new i.InjectionToken("EventManagerPlugins"),ct=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)},t}(),ht=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=W().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),dt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),pt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(l.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return W().remove(t)})},e}(dt),ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gt=/%COMP%/g,mt="_nghost-%COMP%",vt="_ngcontent-%COMP%";function yt(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?yt(t,r,n):(r=r.replace(gt,t),n.push(r))}return n}function bt(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var wt=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new _t(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Et(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case i.ViewEncapsulation.Native:return new Tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=yt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),_t=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ft[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){if(i){e=i+":"+e;var r=ft[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var i=ft[n];i?t.removeAttributeNS(i,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&i.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&i.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&i.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){xt(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return xt(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bt(n)):this.eventManager.addEventListener(t,e,bt(n))},t}(),Ct="@".charCodeAt(0);function xt(t,e){if(t.charCodeAt(0)===Ct)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var St,Et=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.component=i;var o=yt(i.id,i.styles,[]);return n.addStyles(o),r.contentAttr=vt.replace(gt,i.id),r.hostAttr=mt.replace(gt,i.id),r}return Object(l.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var i=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,i,this.contentAttr,""),i},e}(_t),Tt=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var l=yt(r.id,r.styles,[]),a=0;a<l.length;a++){var s=document.createElement("style");s.textContent=l[a],o.shadowRoot.appendChild(s)}return o}return Object(l.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,i){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,i)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(_t),kt="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},At=kt("addEventListener"),Dt=kt("removeEventListener"),Ot={},It="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[kt("BLACK_LISTED_EVENTS")]&&(St={});var Rt=function(t){return!!St&&St.hasOwnProperty(t)},Pt=function(t){var e=Ot[t.type];if(e){var n=this[e];if(n){var i=[t];if(1===n.length)return(l=n[0]).zone!==Zone.current?l.zone.run(l.handler,this,i):l.handler.apply(this,i);for(var r=n.slice(),o=0;o<r.length&&!0!==t[It];o++){var l;(l=r[o]).zone!==Zone.current?l.zone.run(l.handler,this,i):l.handler.apply(this,i)}}}},Mt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.ngZone=n,i.patchEvent(),i}return Object(l.__extends)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[It]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=n;if(!t[At]||i.NgZone.isInAngularZone()&&!Rt(e))t.addEventListener(e,o,!1);else{var l=Ot[e];l||(l=Ot[e]=kt("ANGULAR"+e+"FALSE"));var a=t[l],s=a&&a.length>0;a||(a=t[l]=[]);var u=Rt(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:o});else{for(var c=!1,h=0;h<a.length;h++)if(a[h].handler===o){c=!0;break}c||a.push({zone:u,handler:o})}s||t[At](e,Pt,!1)}return function(){return r.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var i=t[Dt];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);var r=Ot[e],o=r&&t[r];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var l=!1,a=0;a<o.length;a++)if(o[a].handler===n){l=!0,o.splice(a,1);break}l?0===o.length&&i.apply(t,[e,Pt,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(ht),Nt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},jt=new i.InjectionToken("HammerGestureConfig"),Lt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Ft=function(t){function e(e,n){var i=t.call(this,e)||this;return i._config=n,i}return Object(l.__extends)(e,t),e.prototype.supports=function(t){if(!Nt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var i=this,r=this.manager.getZone();return e=e.toLowerCase(),r.runOutsideAngular(function(){var o=i._config.buildHammer(t),l=function(t){r.runGuarded(function(){n(t)})};return o.on(e,l),function(){return o.off(e,l)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ht),Vt=["alt","control","meta","shift"],Bt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ut=function(t){function e(e){return t.call(this,e)||this}return Object(l.__extends)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return W().onAndCancel(t,r.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=e._normalizeKey(n.pop()),o="";if(Vt.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;var l={};return l.domEventName=i,l.fullKey=o,l},e.getEventFullKey=function(t){var e="",n=W().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Vt.forEach(function(i){i!=n&&(0,Bt[i])(t)&&(e+=i+".")}),e+=n},e.eventCallback=function(t,n,i){return function(r){e.getEventFullKey(r)===t&&i.runGuarded(function(){return n(r)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(ht),qt=function(){function t(t,e){this.defaultDoc=t,this.DOM=e;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var i=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(i,this.inertBodyElement),this.DOM.appendChild(n,i)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.DOM.createElement("template");return"content"in e?(this.DOM.setInnerHTML(e,t),e):(this.DOM.setInnerHTML(this.inertBodyElement,t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){var e=this;this.DOM.attributeMap(t).forEach(function(n,i){"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.DOM.removeAttribute(t,i)});for(var n=0,i=this.DOM.childNodesAsList(t);n<i.length;n++){var r=i[n];this.DOM.isElementNode(r)&&this.stripCustomNsAttrs(r)}},t}(),Wt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ht=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zt(t){return(t=String(t)).match(Wt)||t.match(Ht)?t:(Object(i.isDevMode)()&&W().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Gt(t){for(var e={},n=0,i=t.split(",");n<i.length;n++)e[i[n]]=!0;return e}function Yt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];for(var l in o)o.hasOwnProperty(l)&&(n[l]=!0)}return n}var Xt,Kt=Gt("area,br,col,hr,img,wbr"),Qt=Gt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zt=Gt("rp,rt"),Jt=Yt(Zt,Qt),$t=Yt(Kt,Yt(Qt,Gt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yt(Zt,Gt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jt),te=Gt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ee=Gt("srcset"),ne=Yt(te,ee,Gt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ie=function(){function t(){this.sanitizedSomething=!1,this.buf=[],this.DOM=W()}return t.prototype.sanitizeChildren=function(t){for(var e=this.DOM.firstChild(t);e;)if(this.DOM.isElementNode(e)?this.startElement(e):this.DOM.isTextNode(e)?this.chars(this.DOM.nodeValue(e)):this.sanitizedSomething=!0,this.DOM.firstChild(e))e=this.DOM.firstChild(e);else for(;e;){this.DOM.isElementNode(e)&&this.endElement(e);var n=this.checkClobberedElement(e,this.DOM.nextSibling(e));if(n){e=n;break}e=this.checkClobberedElement(e,this.DOM.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=this.DOM.nodeName(t).toLowerCase();$t.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(t).forEach(function(t,n){var i,r=n.toLowerCase();ne.hasOwnProperty(r)?(te[r]&&(t=zt(t)),ee[r]&&(i=t,t=(i=String(i)).split(",").map(function(t){return zt(t.trim())}).join(", ")),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(le(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=this.DOM.nodeName(t).toLowerCase();$t.hasOwnProperty(e)&&!Kt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(le(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&this.DOM.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(t));return e},t}(),re=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oe=/([^\#-~ |!])/g;function le(t){return t.replace(/&/g,"&amp;").replace(re,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(oe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ae=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),se=/^url\(([^)]+)\)$/,ue=function(){},ce=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(l.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case i.SecurityContext.NONE:return e;case i.SecurityContext.HTML:return e instanceof de?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=W(),r=null;try{Xt=Xt||new qt(t,n);var o=e?String(e):"";r=Xt.getInertBodyElement(o);var l=5,a=o;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,o=a,a=n.getInnerHTML(r),r=Xt.getInertBodyElement(o)}while(o!==a);var s=new ie,u=s.sanitizeChildren(n.getTemplateContent(r)||r);return Object(i.isDevMode)()&&s.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),u}finally{if(r)for(var c=n.getTemplateContent(r)||r,h=0,d=n.childNodesAsList(c);h<d.length;h++)n.removeChild(c,d[h])}}(this._doc,String(e)));case i.SecurityContext.STYLE:return e instanceof pe?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(se);return e&&zt(e[1])===e[1]||t.match(ae)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Object(i.isDevMode)()&&W().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case i.SecurityContext.SCRIPT:if(e instanceof fe)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.SecurityContext.URL:return e instanceof me||e instanceof ge?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),zt(String(e)));case i.SecurityContext.RESOURCE_URL:if(e instanceof me)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof he)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new de(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new pe(t)},e.prototype.bypassSecurityTrustScript=function(t){return new fe(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ge(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new me(t)},e}(ue),he=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(he),pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(he),fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(he),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(he),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(he),ve=[{provide:i.PLATFORM_ID,useValue:F},{provide:i.PLATFORM_INITIALIZER,useValue:function(){K.makeCurrent(),rt.init()},multi:!0},{provide:a,useClass:$,deps:[Z]},{provide:Z,useFactory:function(){return document},deps:[]}],ye=Object(i.createPlatformFactory)(i.platformCore,"browser",ve);function be(){return new i.ErrorHandler}var we=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:i.APP_ID,useValue:e.appId},{provide:et,useExisting:i.APP_ID},it]}},t}();"undefined"!=typeof window&&window;var _e=function(){function t(){this.store={},this.onSerializeCallbacks={}}return t.init=function(e){var n=new t;return n.store=e,n},t.prototype.get=function(t,e){return void 0!==this.store[t]?this.store[t]:e},t.prototype.set=function(t,e){this.store[t]=e},t.prototype.remove=function(t){delete this.store[t]},t.prototype.hasKey=function(t){return this.store.hasOwnProperty(t)},t.prototype.onSerialize=function(t,e){this.onSerializeCallbacks[t]=e},t.prototype.toJson=function(){for(var t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)},t}();function Ce(t,e){var n,i=t.getElementById(e+"-state"),r={};if(i&&i.textContent)try{r=JSON.parse((n={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},i.textContent.replace(/&[^;]+;/g,function(t){return n[t]})))}catch(t){console.warn("Exception while restoring TransferState for app "+e,t)}return _e.init(r)}var xe=function(){},Se=n("0nHL"),Ee=n("R8uW"),Te=n("Nyrq");function ke(t){return Object(Te.c)(t)(this)}var Ae=n("Ppzd"),De=n("2n4R"),Oe=n("H0JA"),Ie=n("VHx0");function Re(){return Object(Te.b)()(this)}function Pe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Te.i.apply(void 0,t)(this)}n("lKpf"),n("pHYG"),n("1E73"),n("Wubi"),n("tUzZ"),n("7HNm");var Me=n("p1Bo"),Ne=n("lWPP");n("bqNY"),n("oqWd"),n("alQS"),n("5wWS");var je=n("Dovw"),Le=n("rylm");function Fe(t,e){return void 0===e&&(e=null),new ze({method:"GET",url:t,headers:e})}function Ve(t,e,n){return new ze({method:"POST",url:t,body:e,headers:n})}function Be(t,e){return new ze({method:"DELETE",url:t,headers:e})}function Ue(t,e,n){return new ze({method:"PUT",url:t,body:e,headers:n})}function qe(t,e,n){return new ze({method:"PATCH",url:t,body:e,headers:n})}var We=Object(Le.a)(function(t,e){return t.response});function He(t,e){return We(new ze({method:"GET",url:t,responseType:"json",headers:e}))}var ze=function(t){function e(e){var n=t.call(this)||this,i={async:!0,createXHR:function(){return this.crossDomain?function(){if(je.a.XMLHttpRequest)return new je.a.XMLHttpRequest;if(je.a.XDomainRequest)return new je.a.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(je.a.XMLHttpRequest)return new je.a.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(new je.a.ActiveXObject(t=e[n]))break}catch(t){}return new je.a.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)i.url=e;else for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return n.request=i,n}var n;return l.__extends(e,t),e.prototype._subscribe=function(t){return new Ge(t,this.request)},e.create=((n=function(t){return new e(t)}).get=Fe,n.post=Ve,n.delete=Be,n.put=Ue,n.patch=qe,n.getJSON=He,n),e}(Ne.a),Ge=function(t){function e(e,n){var i=t.call(this,e)||this;i.request=n,i.done=!1;var r=n.headers=n.headers||{};return n.crossDomain||i.getHeader(r,"X-Requested-With")||(r["X-Requested-With"]="XMLHttpRequest"),i.getHeader(r,"Content-Type")||je.a.FormData&&n.body instanceof je.a.FormData||"undefined"==typeof n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=i.serializeBody(n.body,i.getHeader(n.headers,"Content-Type")),i.send(),i}return l.__extends(e,t),e.prototype.next=function(t){this.done=!0;var e,n=this.xhr,i=this.request,r=this.destination;try{e=new Ye(t,n,i)}catch(t){return r.error(t)}r.next(e)},e.prototype.send=function(){var t=this.request,e=this.request,n=e.user,i=e.method,r=e.url,o=e.async,l=e.password,a=e.headers,s=e.body;try{var u=this.xhr=t.createXHR();this.setupEvents(u,t),n?u.open(i,r,o,n,l):u.open(i,r,o),o&&(u.timeout=t.timeout,u.responseType=t.responseType),"withCredentials"in u&&(u.withCredentials=!!t.withCredentials),this.setHeaders(u,a),s?u.send(s):u.send()}catch(t){this.error(t)}},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(je.a.FormData&&t instanceof je.a.FormData)return t;if(e){var n=e.indexOf(";");-1!==n&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.getHeader=function(t,e){for(var n in t)if(n.toLowerCase()===e.toLowerCase())return t[n]},e.prototype.setupEvents=function(t,e){var n,i,r=e.progressSubscriber;function o(t){var e,n=o.subscriber,i=o.progressSubscriber,r=o.request;i&&i.error(t);try{e=new Ze(this,r)}catch(t){e=t}n.error(e)}function l(t){}function a(t){var e=a.subscriber,n=a.progressSubscriber,i=a.request;if(4===this.readyState){var r=1223===this.status?204:this.status;if(0===r&&(r=("text"===this.responseType?this.response||this.responseText:this.response)?200:0),r<400)n&&n.complete(),e.next(t),e.complete();else{n&&n.error(t);var o=void 0;try{o=new Ke("ajax error "+r,this,i)}catch(t){o=t}e.error(o)}}}t.ontimeout=o,o.request=e,o.subscriber=this,o.progressSubscriber=r,t.upload&&"withCredentials"in t&&(r&&(n=function(t){n.progressSubscriber.next(t)},je.a.XDomainRequest?t.onprogress=n:t.upload.onprogress=n,n.progressSubscriber=r),t.onerror=i=function(t){var e,n=i.progressSubscriber,r=i.subscriber,o=i.request;n&&n.error(t);try{e=new Ke("ajax error",this,o)}catch(t){e=t}r.error(e)},i.request=e,i.subscriber=this,i.progressSubscriber=r),t.onreadystatechange=l,l.subscriber=this,l.progressSubscriber=r,l.request=e,t.onload=a,a.subscriber=this,a.progressSubscriber=r,a.request=e},e.prototype.unsubscribe=function(){var e=this.xhr;!this.done&&e&&4!==e.readyState&&"function"==typeof e.abort&&e.abort(),t.prototype.unsubscribe.call(this)},e}(Me.a),Ye=function(){return function(t,e,n){this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.response=Qe(this.responseType,e)}}();function Xe(t,e,n){return Error.call(this),this.message=t,this.name="AjaxError",this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.response=Qe(this.responseType,e),this}Xe.prototype=Object.create(Error.prototype);var Ke=Xe;function Qe(t,e){switch(t){case"json":return function(t){return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null")}(e);case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var Ze=function(t,e){return Ke.call(this,"ajax timeout",t,e),this.name="AjaxTimeoutError",this};n("HC03"),n("NG/L"),n("jAXq"),n("j+ls"),n("Y9kR"),n("Fv6v"),n("VHBj"),n("SYCm"),n("QFiC"),n("Egod"),n("uOsm"),n("V9Cg"),n("uxTV");var Je=n("/Nc3");function $e(t,e){return Object(Te.g)(t,e)(this)}function tn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Te.j.apply(void 0,t)(this)}function en(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(Te.l)(t)(this)}n("bdRZ"),n("LHMe"),n("7mk3"),n("kk5+"),n("BdDE"),n("92UZ"),n("YgML"),n("6iAM"),n("1SoI"),n("bOhj"),n("I6Lf"),n("03ca"),n("ai7y"),n("CmsN"),n("XTlk"),n("5eyr"),n("VWaN"),n("8LP5"),n("eYUY"),n("dfzL"),n("9hho"),n("JzXe"),n("3SjU"),n("SAuu");var nn=n("uCFV"),rn=function(t,e){this.id=t,this.url=e},on=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(rn),ln=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.urlAfterRedirects=i,r}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(rn),an=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.reason=i,r}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(rn),sn=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.error=i,r}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(rn),un=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(rn),cn=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(rn),hn=function(t){function e(e,n,i,r,o){var l=t.call(this,e,n)||this;return l.urlAfterRedirects=i,l.state=r,l.shouldActivate=o,l}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(rn),dn=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(rn),pn=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(rn),fn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),gn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),mn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),vn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),yn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),bn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),wn="primary",_n=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Cn(t){return new _n(t)}function xn(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var l=i[o],a=t[o];if(l.startsWith(":"))r[l.substring(1)]=a;else if(l!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}var Sn=function(t,e){this.routes=t,this.module=e};function En(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var i=t[n];Tn(i,kn(e,i))}}function Tn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==wn)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&En(t.children,e)}function kn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function An(t){var e=t.children&&t.children.map(An);return e?Object(l.__assign)({},t,{children:e}):Object(l.__assign)({},t)}function Dn(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(t[n=i[o]]!==e[n])return!1;return!0}function On(t){return Array.prototype.concat.apply([],t)}function In(t){return t.length>0?t[t.length-1]:null}function Rn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Pn(t){var e=en.call(t);return $e.call(e,function(t){return!0===t})}function Mn(t){return Object(i["\u0275isObservable"])(t)?t:Object(i["\u0275isPromise"])(t)?Object(Se.i)(Promise.resolve(t)):Object(Se.l)(t)}function Nn(t,e,n){return n?function(t,e){return Dn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Vn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Vn(l=n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Vn(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!t(n.children[o],i.children[o]))return!1}return!0}var l=r.slice(0,n.segments.length),a=r.slice(n.segments.length);return!!Vn(n.segments,l)&&!!n.children[wn]&&e(n.children[wn],i,a)}(e,n,n.segments)}(t.root,e.root)}var jn=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Wn.serialize(this)},t}(),Ln=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Rn(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Hn(this)},t}(),Fn=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Yn(this)},t}();function Vn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Bn(t,e){var n=[];return Rn(t.children,function(t,i){i===wn&&(n=n.concat(e(t,i)))}),Rn(t.children,function(t,i){i!==wn&&(n=n.concat(e(t,i)))}),n}var Un=function(){},qn=function(){function t(){}return t.prototype.parse=function(t){var e=new Jn(t);return new jn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Hn(e);if(n){var i=e.children[wn]?t(e.children[wn],!1):"",r=[];return Rn(e.children,function(e,n){n!==wn&&r.push(n+":"+t(e,!1))}),r.length>0?i+"("+r.join("//")+")":i}var o=Bn(e,function(n,i){return i===wn?[t(e.children[wn],!1)]:[i+":"+t(n,!1)]});return Hn(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return zn(t)+"="+zn(e)}).join("&"):zn(t)+"="+zn(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Wn=new qn;function Hn(t){return t.segments.map(function(t){return Yn(t)}).join("/")}function zn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function Gn(t){return decodeURIComponent(t)}function Yn(t){return""+zn(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+zn(t)+"="+zn(e[t])}).join(""));var e}var Xn=/^[^\/()?;=&#]+/;function Kn(t){var e=t.match(Xn);return e?e[0]:""}var Qn=/^[^=?&#]+/,Zn=/^[^?&#]+/,Jn=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[wn]=new Ln(t,e)),n},t.prototype.parseSegment=function(){var t=Kn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Fn(Gn(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Kn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Kn(this.remaining);i&&this.capture(n=i)}t[Gn(e)]=Gn(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Qn))?e[0]:"";if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Zn);return e?e[0]:""}(this.remaining);r&&this.capture(i=r)}var o=Gn(n),l=Gn(i);if(t.hasOwnProperty(o)){var a=t[o];Array.isArray(a)||(t[o]=a=[a]),a.push(l)}else t[o]=l}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Kn(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=wn);var o=this.parseChildren();e[r]=1===Object.keys(o).length?o[wn]:new Ln([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),$n=function(t){this.segmentGroup=t||null},ti=function(t){this.urlTree=t};function ei(t){return new Oe.Observable(function(e){return e.error(new $n(t))})}function ni(t){return new Oe.Observable(function(e){return e.error(new ti(t))})}function ii(t){return new Oe.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var ri=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.NgModuleRef)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,wn),n=Ae.a.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Ie.a.call(n,function(e){if(e instanceof ti)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof $n)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,wn),i=Ae.a.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Ie.a.call(i,function(t){if(t instanceof $n)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var i,r=t.segments.length>0?new Ln([],((i={})[wn]=t,i)):t;return new jn(r,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?Ae.a.call(this.expandChildren(t,e,n),function(t){return new Ln([],t)}):this.expandSegment(t,n,e,n.segments,i,!0)},t.prototype.expandChildren=function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Object(Se.l)({});var o=[],l=[],a={};Rn(n,function(n,r){var s=Ae.a.call(i.expandSegmentGroup(t,e,n,r),function(t){return a[r]=t});r===wn?o.push(s):l.push(s)});var s=Re.call(Se.l.apply(void 0,o.concat(l))),u=tn.call(s);return Ae.a.call(u,function(){return a})}(n.children)},t.prototype.expandSegment=function(t,e,n,i,r,o){var l=this,a=Se.l.apply(void 0,n),s=Ae.a.call(a,function(a){var s=l.expandSegmentAgainstRoute(t,e,n,a,i,r,o);return Ie.a.call(s,function(t){if(t instanceof $n)return Object(Se.l)(null);throw t})}),u=Re.call(s),c=Pe.call(u,function(t){return!!t});return Ie.a.call(c,function(t,n){if(t instanceof Je.a||"EmptyError"===t.name){if(l.noLeftoversInUrl(e,i,r))return Object(Se.l)(new Ln([],{}));throw new $n(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,r,o,l){return si(i)!==o?ei(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):ei(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ni(o):De.a.call(this.lineralizeSegments(n,o),function(n){var o=new Ln(n,{});return r.expandSegment(t,o,e,n,i,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){var l=this,a=oi(e,i,r),s=a.consumedSegments,u=a.lastChild,c=a.positionalParamSegments;if(!a.matched)return ei(e);var h=this.applyRedirectCommands(s,i.redirectTo,c);return i.redirectTo.startsWith("/")?ni(h):De.a.call(this.lineralizeSegments(i,h),function(i){return l.expandSegment(t,e,n,i.concat(r.slice(u)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?Ae.a.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Ln(i,{})}):Object(Se.l)(new Ln(i,{}));var o=oi(e,n,i),a=o.consumedSegments,s=o.lastChild;if(!o.matched)return ei(e);var u=i.slice(s),c=this.getChildConfig(t,n);return De.a.call(c,function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(function(n){return ai(t,e,n)&&si(n)!==wn})}(t,n)?{segmentGroup:li(new Ln(e,function(t,e){var n={};n[wn]=e;for(var i=0,r=t;i<r.length;i++){var o=r[i];""===o.path&&si(o)!==wn&&(n[si(o)]=new Ln([],{}))}return n}(i,new Ln(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(function(n){return ai(t,e,n)})}(t,n)?{segmentGroup:li(new Ln(t.segments,function(t,e,n,r){for(var o={},a=0,s=i;a<s.length;a++){var u=s[a];ai(t,e,u)&&!r[si(u)]&&(o[si(u)]=new Ln([],{}))}return Object(l.__assign)({},r,o)}(t,n,0,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,i),s=o.segmentGroup,c=o.slicedSegments;if(0===c.length&&s.hasChildren()){var h=r.expandChildren(n,i,s);return Ae.a.call(h,function(t){return new Ln(a,t)})}if(0===i.length&&0===c.length)return Object(Se.l)(new Ln(a,{}));var d=r.expandSegment(n,s,i,c,wn,!0);return Ae.a.call(d,function(t){return new Ln(a.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Object(Se.l)(new Sn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Se.l)(e._loadedConfig):De.a.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?Pn(Ae.a.call(Object(Se.i)(n),function(n){var i=t.get(n);return Mn(i.canLoad?i.canLoad(e):i(e))})):Object(Se.l)(!0)}(t.injector,e),function(i){return i?Ae.a.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):function(t){return new Oe.Observable(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)}):Object(Se.l)(new Sn([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(Se.l)(n);if(i.numberOfChildren>1||!i.children[wn])return ii(t.redirectTo);i=i.children[wn]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new jn(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Rn(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),l={};return Rn(e.children,function(e,o){l[o]=r.createSegmentGroup(t,e,n,i)}),new Ln(o,l)},t.prototype.createSegments=function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return i},t.prototype.findOrReturn=function(t,e){for(var n=0,i=0,r=e;i<r.length;i++){var o=r[i];if(o.path===t.path)return e.splice(n),o;n++}return t},t}();function oi(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||xn)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function li(t){if(1===t.numberOfChildren&&t.children[wn]){var e=t.children[wn];return new Ln(t.segments.concat(e.segments),e.children)}return t}function ai(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function si(t){return t.outlet||wn}var ui=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=ci(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=ci(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=hi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return hi(t,this._root).map(function(t){return t.value})},t}();function ci(t,e){if(t===e.value)return e;for(var n=0,i=e.children;n<i.length;n++){var r=ci(t,i[n]);if(r)return r}return null}function hi(t,e){if(t===e.value)return[e];for(var n=0,i=e.children;n<i.length;n++){var r=hi(t,i[n]);if(r.length)return r.unshift(e),r}return[]}var di=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function pi(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var fi=function(t){function e(e,n){var i=t.call(this,e)||this;return i.snapshot=n,wi(i,e),i}return Object(l.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(ui);function gi(t,e){var n=function(t,e){var n=new yi([],{},{},"",{},wn,e,null,t.root,-1,{});return new bi("",new di(n,[]))}(t,e),i=new Se.a([new Fn("",{})]),r=new Se.a({}),o=new Se.a({}),l=new Se.a({}),a=new Se.a(""),s=new mi(i,r,l,a,o,wn,e,n.root);return s.snapshot=n.root,new fi(new di(s,[]),n)}var mi=function(){function t(t,e,n,i,r,o,l,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=l,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Ae.a.call(this.params,function(t){return Cn(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Ae.a.call(this.queryParams,function(t){return Cn(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function vi(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object(l.__assign)({},t.params,e.params),data:Object(l.__assign)({},t.data,e.data),resolve:Object(l.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var yi=function(){function t(t,e,n,i,r,o,l,a,s,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=l,this.routeConfig=a,this._urlSegment=s,this._lastPathIndex=u,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),bi=function(t){function e(e,n){var i=t.call(this,n)||this;return i.url=e,wi(i,n),i}return Object(l.__extends)(e,t),e.prototype.toString=function(){return _i(this._root)},e}(ui);function wi(t,e){e.value._routerState=t,e.children.forEach(function(e){return wi(t,e)})}function _i(t){var e=t.children.length>0?" { "+t.children.map(_i).join(", ")+" } ":"";return""+t.value+e}function Ci(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Dn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Dn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Dn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xi(t,e){var n,i;return Dn(t.params,e.params)&&Vn(n=t.url,i=e.url)&&n.every(function(t,e){return Dn(t.parameters,i[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||xi(t.parent,e.parent))}function Si(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ei(t,e,n,i,r){var o={};return i&&Rn(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new jn(n.root===t?e:function t(e,n,i){var r={};return Rn(e.children,function(e,o){r[o]=e===n?i:t(e,n,i)}),new Ln(e.segments,r)}(n.root,t,e),o,r)}var Ti=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Si(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(i&&i!==In(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ki=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function Ai(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[wn]:""+t}function Di(t,e,n){if(t||(t=new Ln([],{})),0===t.segments.length&&t.hasChildren())return Oi(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var l=t.segments[r],a=Ai(n[i]),s=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!Mi(a,s,l))return o;i+=2}else{if(!Mi(a,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Ln(t.segments.slice(0,i.pathIndex),{});return o.children[wn]=new Ln(t.segments.slice(i.pathIndex),t.children),Oi(o,0,r)}return i.match&&0===r.length?new Ln(t.segments,{}):i.match&&!t.hasChildren()?Ii(t,e,n):i.match?Oi(t,0,r):Ii(t,e,n)}function Oi(t,e,n){if(0===n.length)return new Ln(t.segments,{});var i=function(t){return"object"!=typeof t[0]?((e={})[wn]=t,e):void 0===t[0].outlets?((n={})[wn]=t,n):t[0].outlets;var e,n}(n),r={};return Rn(i,function(n,i){null!==n&&(r[i]=Di(t.children[i],e,n))}),Rn(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Ln(t.segments,r)}function Ii(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=Ri(n[r].outlets);return new Ln(i,o)}if(0===r&&Si(n[0]))i.push(new Fn(t.segments[e].path,n[0])),r++;else{var l=Ai(n[r]),a=r<n.length-1?n[r+1]:null;l&&a&&Si(a)?(i.push(new Fn(l,Pi(a))),r+=2):(i.push(new Fn(l,{})),r++)}}return new Ln(i,{})}function Ri(t){var e={};return Rn(t,function(t,n){null!==t&&(e[n]=Ii(new Ln([],{}),0,t))}),e}function Pi(t){var e={};return Rn(t,function(t,n){return e[n]=""+t}),e}function Mi(t,e,n){return t==n.path&&Dn(e,n.parameters)}var Ni=function(t){this.path=t,this.route=this.path[this.path.length-1]},ji=function(t,e){this.component=t,this.route=e},Li=function(){function t(t,e,n,i){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=i,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Object(Se.l)(!0);var e=this.runCanDeactivateChecks();return De.a.call(e,function(e){return e?t.runCanActivateChecks():Object(Se.l)(!1)})},t.prototype.resolveData=function(t){var e=this;if(!this.isActivating())return Object(Se.l)(null);var n=Object(Se.i)(this.canActivateChecks),i=ke.call(n,function(n){return e.runResolve(n.route,t)});return(function(t,e){return arguments.length>=2?Object(Te.n)(t,e)(this):Object(Te.n)(t)(this)}).call(i,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,i){var r=this,o=pi(e);t.children.forEach(function(t){r.setupRouteGuards(t,o[t.value.outlet],n,i.concat([t.value])),delete o[t.value.outlet]}),Rn(o,function(t,e){return r.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,i){var r=t.value,o=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){var a=this.shouldRunGuardsAndResolvers(o,r,r.routeConfig.runGuardsAndResolvers);a?this.canActivateChecks.push(new Ni(i)):(r.data=o.data,r._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,r.component?l?l.children:null:n,i),a&&this.canDeactivateChecks.push(new ji(l.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,l),this.canActivateChecks.push(new Ni(i)),this.setupChildRouteGuards(t,null,r.component?l?l.children:null:n,i)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!xi(t,e)||!Dn(t.queryParams,e.queryParams);case"paramsChange":default:return!xi(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,i=pi(t),r=t.value;Rn(i,function(t,i){n.deactivateRouteAndItsChildren(t,r.component?e?e.children.getContext(i):null:e)}),this.canDeactivateChecks.push(new ji(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=Object(Se.i)(this.canDeactivateChecks),n=De.a.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return $e.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=Object(Se.i)(this.canActivateChecks),n=ke.call(e,function(e){return Pn(Object(Se.i)([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return $e.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new yn(t)),Object(Se.l)(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new mn(t)),Object(Se.l)(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?Pn(Ae.a.call(Object(Se.i)(n),function(n){var i,r=e.getToken(n,t);return i=Mn(r.canActivate?r.canActivate(t,e.future):r(t,e.future)),Pe.call(i)})):Object(Se.l)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return Pn(Ae.a.call(Object(Se.i)(i),function(t){return Pn(Ae.a.call(Object(Se.i)(t.guards),function(i){var r,o=e.getToken(i,t.node);return r=Mn(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),Pe.call(r)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||0===i.length)return Object(Se.l)(!0);var r=De.a.call(Object(Se.i)(i),function(i){var r,o=n.getToken(i,e);return r=Mn(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)),Pe.call(r)});return $e.call(r,function(t){return!0===t})},t.prototype.runResolve=function(t,e){return Ae.a.call(this.resolveNode(t._resolve,t),function(n){return t._resolvedData=n,t.data=Object(l.__assign)({},t.data,vi(t,e).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,i=Object.keys(t);if(0===i.length)return Object(Se.l)({});if(1===i.length){var r=i[0];return Ae.a.call(this.getResolver(t[r],e),function(t){return(e={})[r]=t,e;var e})}var o={},l=De.a.call(Object(Se.i)(i),function(i){return Ae.a.call(n.getResolver(t[i],e),function(t){return o[i]=t,t})});return Ae.a.call(tn.call(l),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return Mn(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Fi=function(){},Vi=function(){function t(t,e,n,i,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r}return t.prototype.recognize=function(){try{var t=qi(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,wn),n=new yi([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},wn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new di(n,e),r=new bi(this.url,i);return this.inheritParamsAndData(r._root),Object(Se.l)(r)}catch(t){return new Oe.Observable(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,i=vi(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,i=this,r=Bn(e,function(e,n){return i.processSegmentGroup(t,e,n)});return n={},r.forEach(function(t){var e=n[t.value.outlet];if(e){var i=e.url.map(function(t){return t.toString()}).join("/"),r=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+i+"' and '"+r+"'.")}n[t.value.outlet]=t.value}),r.sort(function(t,e){return t.value.outlet===wn?-1:e.value.outlet===wn?1:t.value.outlet.localeCompare(e.value.outlet)}),r},t.prototype.processSegment=function(t,e,n,i){for(var r=0,o=t;r<o.length;r++){var l=o[r];try{return this.processSegmentAgainstRoute(l,e,n,i)}catch(t){if(!(t instanceof Fi))throw t}}if(this.noLeftoversInUrl(e,n,i))return[];throw new Fi},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new Fi;if((t.outlet||wn)!==i)throw new Fi;var r,o=[],a=[];if("**"===t.path){var s=n.length>0?In(n).parameters:{};r=new yi(n,s,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,zi(t),i,t.component,t,Bi(e),Ui(e)+n.length,Gi(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Fi;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||xn)(n,t,e);if(!i)throw new Fi;var r={};Rn(i.posParams,function(t,e){r[e]=t.path});var o=i.consumed.length>0?Object(l.__assign)({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),r=new yi(o,u.parameters,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,zi(t),i,t.component,t,Bi(e),Ui(e)+o.length,Gi(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=qi(e,o,a,c),d=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&d.hasChildren()){var f=this.processChildren(c,d);return[new di(r,f)]}if(0===c.length&&0===p.length)return[new di(r,[])];var g=this.processSegment(c,d,p,wn);return[new di(r,g)]},t}();function Bi(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ui(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qi(t,e,n,i){if(n.length>0&&function(t,e,n){return i.some(function(n){return Wi(t,e,n)&&Hi(n)!==wn})}(t,n)){var r=new Ln(e,function(t,e,n,i){var r={};r[wn]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(var o=0,l=n;o<l.length;o++){var a=l[o];if(""===a.path&&Hi(a)!==wn){var s=new Ln([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,r[Hi(a)]=s}}return r}(t,e,i,new Ln(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(function(n){return Wi(t,e,n)})}(t,n)){var o=new Ln(t.segments,function(t,e,n,r){for(var o={},a=0,s=i;a<s.length;a++){var u=s[a];if(Wi(t,e,u)&&!r[Hi(u)]){var c=new Ln([],{});c._sourceSegment=t,c._segmentIndexShift=t.segments.length,o[Hi(u)]=c}}return Object(l.__assign)({},r,o)}(t,n,0,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var a=new Ln(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Wi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Hi(t){return t.outlet||wn}function zi(t){return t.data||{}}function Gi(t){return t.resolve||{}}var Yi=function(){},Xi=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Ki=new i.InjectionToken("ROUTES"),Qi=function(){function t(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var i=this.loadModuleFactory(e.loadChildren);return Ae.a.call(i,function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new Sn(On(r.injector.get(Ki)).map(An),r)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Se.i)(this.loader.load(t)):De.a.call(Mn(t()),function(t){return t instanceof i.NgModuleFactory?Object(Se.l)(t):Object(Se.i)(e.compiler.compileModuleAsync(t))})},t}(),Zi=function(){},Ji=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function $i(t){throw t}function tr(t){return Object(Se.l)(null)}var er=function(){function t(t,e,n,r,o,l,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new Se.a(null),this.navigationId=0,this.events=new Ee.a,this.errorHandler=$i,this.navigated=!1,this.hooks={beforePreactivation:tr,afterPreactivation:tr},this.urlHandlingStrategy=new Ji,this.routeReuseStrategy=new Xi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=o.get(i.NgModuleRef),this.resetConfig(s),this.currentUrlTree=new jn(new Ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Qi(l,a,function(t){return u.triggerEvent(new fn(t))},function(t){return u.triggerEvent(new gn(t))}),this.routerState=gi(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.urlSerializer.parse(e.url),i="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){En(t),this.config=t.map(An),this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(i.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=u?this.currentUrlTree.fragment:o,d=null;if(s)switch(s){case"merge":d=Object(l.__assign)({},this.currentUrlTree.queryParams,r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}else d=a?this.currentUrlTree.queryParams:r||null;return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,i,r){if(0===n.length)return Ei(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ti(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return Rn(i.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(i.segmentPath)return t.concat([i.segmentPath])}return"string"!=typeof i?t.concat([i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):t.concat([i])},[]);return new Ti(n,e,i)}(n);if(o.toRoot())return Ei(e.root,new Ln([],{}),e,i,r);var l=function(t,n,i){if(t.isAbsolute)return new ki(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new ki(i.snapshot._urlSegment,!0,0);var r=Si(t.commands[0])?0:1;return function(e,n,o){for(var l=i.snapshot._urlSegment,a=i.snapshot._lastPathIndex+r,s=t.numberOfDoubleDots;s>a;){if(s-=a,!(l=l.parent))throw new Error("Invalid number of '../'");a=l.segments.length}return new ki(l,!1,a-s)}()}(o,0,t),a=l.processChildren?Oi(l.segmentGroup,l.index,o.commands):Di(l.segmentGroup,l.index,o.commands);return Ei(l.segmentGroup,a,e,i,r)}(c,this.currentUrlTree,t,d,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof jn?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof jn)return Nn(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return Nn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!==i&&void 0!==i&&(e[n]=i),e},{})},t.prototype.processNavigations=function(){var t=this;ke.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(Se.l)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var r=null,o=null,l=new Promise(function(t,e){r=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:r,reject:o,promise:l}),l.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,i=t.rawUrl,r=t.extras,o=t.resolve,l=t.reject,a=this.urlHandlingStrategy.extract(i),s=!this.navigated||a.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||s)&&this.urlHandlingStrategy.shouldProcessUrl(i)?(this.events.next(new on(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!!r.skipLocationChange,!!r.replaceUrl,n,null)}).then(o,l)):s&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new on(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!1,!1,n,gi(a,e.rootComponentType).snapshot)}).then(o,l)):(this.rawUrlTree=i,o(null))},t.prototype.runNavigate=function(t,e,n,i,r,o){var l=this;return r!==this.navigationId?(this.events.next(new an(r,this.serializeUrl(t),"Navigation ID "+r+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,s){var u;if(o)u=Object(Se.l)({appliedUrl:t,snapshot:o});else{var c=new ri(l.ngModule.injector,l.configLoader,l.urlSerializer,t,l.config).apply();u=De.a.call(c,function(e){return Ae.a.call(function(t,e,n,i,r){return void 0===r&&(r="emptyOnly"),new Vi(t,e,n,i,r).recognize()}(l.rootComponentType,l.config,e,l.serializeUrl(e),l.paramsInheritanceStrategy),function(n){return l.events.next(new un(r,l.serializeUrl(t),l.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,d=De.a.call(u,function(t){return Ae.a.call(l.hooks.beforePreactivation(t.snapshot),function(){return t})}),p=Ae.a.call(d,function(t){var e=t.appliedUrl,n=t.snapshot;return(h=new Li(n,l.routerState.snapshot,l.ngModule.injector,function(t){return l.triggerEvent(t)})).initialize(l.rootContexts),{appliedUrl:e,snapshot:n}}),f=De.a.call(p,function(e){var n=e.appliedUrl,i=e.snapshot;return l.navigationId!==r?Object(Se.l)(!1):(l.triggerEvent(new cn(r,l.serializeUrl(t),n,i)),Ae.a.call(h.checkGuards(),function(e){return l.triggerEvent(new hn(r,l.serializeUrl(t),n,i,e)),{appliedUrl:n,snapshot:i,shouldActivate:e}}))}),g=De.a.call(f,function(e){return l.navigationId!==r?Object(Se.l)(!1):e.shouldActivate&&h.isActivating()?(l.triggerEvent(new dn(r,l.serializeUrl(t),e.appliedUrl,e.snapshot)),Ae.a.call(h.resolveData(l.paramsInheritanceStrategy),function(){return l.triggerEvent(new pn(r,l.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Object(Se.l)(e)}),m=De.a.call(g,function(t){return Ae.a.call(l.hooks.afterPreactivation(t.snapshot),function(){return t})}),v=Ae.a.call(m,function(t){var e,n,i,r=t.appliedUrl,o=t.shouldActivate;return o?{appliedUrl:r,state:(i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(a=i.value)._futureSnapshot=n.value;var r=function(e,n,i){return n.children.map(function(n){for(var r=0,o=i.children;r<o.length;r++){var l=o[r];if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}return t(e,n)})}(e,n,i);return new di(a,r)}if(e.retrieve(n.value)){var o=e.retrieve(n.value).route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,o),o}var l,a=new mi(new Se.a((l=n.value).url),new Se.a(l.params),new Se.a(l.queryParams),new Se.a(l.fragment),new Se.a(l.data),l.outlet,l.component,l);return r=n.children.map(function(n){return t(e,n)}),new di(a,r)}(l.routeReuseStrategy,(e=t.snapshot)._root,(n=l.routerState)?n._root:void 0),new fi(i,e)),shouldActivate:o}:{appliedUrl:r,state:null,shouldActivate:o}});l.activateRoutes(v,l.routerState,l.currentUrlTree,r,t,e,n,i,a,s)})},t.prototype.activateRoutes=function(t,e,n,i,r,o,l,a,s,u){var c,h=this;t.forEach(function(t){var n=t.state;if(t.shouldActivate&&i===h.navigationId){if(h.currentUrlTree=t.appliedUrl,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,o),h.routerState=n,!l){var r=h.urlSerializer.serialize(h.rawUrlTree);h.location.isCurrentPathEqualTo(r)||a?h.location.replaceState(r):h.location.go(r)}new nr(h.routeReuseStrategy,n,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),c=!0}else c=!1}).then(function(){c?(h.navigated=!0,h.events.next(new ln(i,h.serializeUrl(r),h.serializeUrl(h.currentUrlTree))),s(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new an(i,h.serializeUrl(r),"")),s(!1))},function(t){if((l=t)&&l.ngNavigationCancelingError)h.navigated=!0,h.resetStateAndUrl(e,n,o),h.events.next(new an(i,h.serializeUrl(r),t.message)),s(!1);else{h.resetStateAndUrl(e,n,o),h.events.next(new sn(i,h.serializeUrl(r),t));try{s(h.errorHandler(t))}catch(t){u(t)}}var l})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))},t}(),nr=function(){function t(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ci(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var i=this,r=pi(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),Rn(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=pi(t),o=t.value.component?i.children:e;Rn(r,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var i=this,r=pi(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new bn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new vn(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(Ci(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component)if(o=n.getOrCreateContext(i.outlet),this.routeReuseStrategy.shouldAttach(i.snapshot)){var l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),ir(l.route)}else{var a=function(t){for(var e=i.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),s=a?a.module.componentFactoryResolver:null;o.route=i,o.resolver=s,o.outlet&&o.outlet.activateWith(i,s),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function ir(t){Ci(t.value),t.children.forEach(ir)}var rr=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new or,this.attachRef=null}}(),or=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new rr,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),lr=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||wn,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new ar(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),ar=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===mi?this.route:t===or?this.childContexts:this.parent.get(t,e)},t}(),sr=function(){},ur=function(){function t(){}return t.prototype.preload=function(t,e){return Ie.a.call(e(),function(){return Object(Se.l)(null)})},t}(),cr=function(){function t(){}return t.prototype.preload=function(t,e){return Object(Se.l)(null)},t}(),hr=function(){function t(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Qi(e,n,function(e){return t.triggerEvent(new fn(e))},function(e){return t.triggerEvent(new gn(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=nn.a.call(this.router.events,function(t){return t instanceof ln});this.subscription=ke.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(i.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var l=o._loadedConfig;n.push(this.processRoutes(l.module,l.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return en.call(Object(Se.i)(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var i=n.loader.load(t.injector,e);return De.a.call(i,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),dr=new i.InjectionToken("ROUTER_CONFIGURATION"),pr=new i.InjectionToken("ROUTER_FORROOT_GUARD"),fr=[h,{provide:Un,useClass:qn},{provide:er,useFactory:wr,deps:[i.ApplicationRef,Un,or,h,i.Injector,i.NgModuleFactoryLoader,i.Compiler,Ki,dr,[Zi,new i.Optional],[Yi,new i.Optional]]},or,{provide:mi,useFactory:_r,deps:[er]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},hr,cr,ur,{provide:dr,useValue:{enableTracing:!1}}];function gr(){return new i.NgProbeToken("Router",er)}var mr=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[fr,br(e),{provide:pr,useFactory:yr,deps:[[er,new i.Optional,new i.SkipSelf]]},{provide:dr,useValue:n||{}},{provide:u,useFactory:vr,deps:[a,[new i.Inject(c),new i.Optional],dr]},{provide:sr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:cr},{provide:i.NgProbeToken,multi:!0,useFactory:gr},[Cr,{provide:i.APP_INITIALIZER,multi:!0,useFactory:xr,deps:[Cr]},{provide:Er,useFactory:Sr,deps:[Cr]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Er}]]}},t.forChild=function(e){return{ngModule:t,providers:[br(e)]}},t}();function vr(t,e,n){return void 0===n&&(n={}),n.useHash?new p(t,e):new f(t,e)}function yr(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function br(t){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Ki,multi:!0,useValue:t}]}function wr(t,e,n,i,r,o,l,a,s,u,c){void 0===s&&(s={});var h=new er(null,e,n,i,r,o,l,On(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),s.errorHandler&&(h.errorHandler=s.errorHandler),s.enableTracing){var d=W();h.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return s.onSameUrlNavigation&&(h.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=s.paramsInheritanceStrategy),h}function _r(t){return t.routerState.root}var Cr=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ee.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(s,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(er),r=t.injector.get(dr);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");i.hooks.afterPreactivation=function(){return t.initNavigation?Object(Se.l)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(dr),n=this.injector.get(hr),r=this.injector.get(er),o=this.injector.get(i.ApplicationRef);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function xr(t){return t.appInitializer.bind(t)}function Sr(t){return t.bootstrapListener.bind(t)}var Er=new i.InjectionToken("Router Initializer"),Tr=new i.InjectionToken("angularfire2.realtimeDatabaseURL"),kr=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return Se.m.schedule.apply(Se.m,t)})},t.prototype.keepUnstableUntilFirst=function(t){return U(this.platformId)?new Se.b(function(e){var n=function(){},i=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===i.state&&i.invoke(),e.next(t)},function(t){"scheduled"===i.state&&i.invoke(),e.error(t)},function(){"scheduled"===i.state&&i.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new Se.b(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),Ar=function(t){return function(e){return new Se.b(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},Dr=n("yviF"),Or=n.n(Dr),Ir=new i.InjectionToken("angularfire2.app.options"),Rr=new i.InjectionToken("angularfire2.app.nameOrConfig"),Pr=function(){};function Mr(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Or.a.apps.filter(function(t){return t&&t.name===n.name})[0]||Or.a.initializeApp(t,n)}new i.Optional;var Nr=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:Ir,useValue:t},{provide:Rr,useValue:n}]}},t}(),jr=function(){return Object(l.__decorate)([Object(l.__param)(0,Object(i.Inject)(Ir)),Object(l.__param)(1,Object(i.Optional)()),Object(l.__param)(1,Object(i.Inject)(Rr)),Object(l.__param)(2,Object(i.Inject)(i.PLATFORM_ID))],function(t,e,n,i){var r=this;this.zone=i;var o=new kr(i,n);this.auth=i.runOutsideAngular(function(){return Mr(t,e).auth()}),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new Se.b(function(t){return{unsubscribe:r.auth.onAuthStateChanged(t)}}))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new Se.b(function(t){return{unsubscribe:r.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(Object(Te.t)(function(t){return t?Object(Se.i)(t.getIdToken()):Object(Se.l)(null)})),this.idTokenResult=this.user.pipe(Object(Te.t)(function(t){return t?Object(Se.i)(t.getIdTokenResult()):Object(Se.l)(null)}))})}(),Lr=(n("fqSz"),function(){});function Fr(t){return function(t){return new Se.b(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(Te.q)())}function Vr(t){return Fr(t).pipe(Object(Te.k)(function(t){return{payload:t,type:"query"}}))}function Br(t){return Vr(t).pipe(Object(Te.k)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}function Ur(t,e){return Vr(t).pipe(Object(Te.k)(function(t){return t.payload.docChanges()}),Object(Te.p)(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(Te.k)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}var qr=this&&this.__assign||function(){return(qr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Wr(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var Hr=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Br(this.query))).pipe(Object(Te.k)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(Te.h)(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Br(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Object(Te.p)(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=Wr(t),n=Ur(this.query,e),i=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(i)},t.prototype.valueChanges=function(t){void 0===t&&(t={});var e=Vr(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(Object(Te.k)(function(e){return e.payload.docs.map(function(e){var n;return t.idField?qr({},e.data(),((n={})[t.idField]=e.id,n)):e.data()})}))},t.prototype.get=function(t){return Object(Se.i)(this.query.get(t)).pipe(Ar(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new zr(this.ref.doc(t),this.afs)},t}(),zr=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=$r(this.ref.collection(t),e);return new Hr(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=Fr(this.ref).pipe(Object(Te.k)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(Te.k)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(Se.i)(this.ref.get(t)).pipe(Ar(this.afs.scheduler.zone))},t}(),Gr=function(){function t(t,e){this.query=t,this.afs=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Br(this.query))).pipe(Object(Te.k)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(Te.h)(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Br(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Object(Te.p)(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=Wr(t),n=Ur(this.query,e),i=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(i)},t.prototype.valueChanges=function(){var t=Vr(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(Te.k)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(Se.i)(this.query.get(t)).pipe(Ar(this.afs.scheduler.zone))},t}(),Yr=new i.InjectionToken("angularfire2.enableFirestorePersistence"),Xr=new i.InjectionToken("angularfire2.firestore.persistenceSettings"),Kr=new i.InjectionToken("angularfire2.firestore.settings"),Qr=parseInt(Or.a.SDK_VERSION.split(".")[0]),Zr=parseInt(Or.a.SDK_VERSION.split(".")[1]),Jr=Qr<5||5==Qr&&Zr<8?{timestampsInSnapshots:!0}:{};function $r(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var to=function(){function t(t,e,n,i,r,o,l){var a=this;this.scheduler=new kr(o,r),this.firestore=o.runOutsideAngular(function(){var n=Mr(t,e).firestore();return n.settings(i||Jr),n}),this.persistenceEnabled$=n&&!U(r)?o.runOutsideAngular(function(){try{return Object(Se.i)(a.firestore.enablePersistence(l||void 0).then(function(){return!0},function(){return!1}))}catch(t){return Object(Se.l)(!1)}}):Object(Se.l)(!1)}return t.prototype.collection=function(t,e){var n=$r("string"==typeof t?this.firestore.collection(t):t,e);return new Hr(n.ref,n.query,this)},t.prototype.collectionGroup=function(t,e){if(Qr<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},i=this.firestore.collectionGroup(t);return new Gr(n(i),this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new zr(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},Object(l.__decorate)([Object(l.__param)(0,Object(i.Inject)(Ir)),Object(l.__param)(1,Object(i.Optional)()),Object(l.__param)(1,Object(i.Inject)(Rr)),Object(l.__param)(2,Object(i.Optional)()),Object(l.__param)(2,Object(i.Inject)(Yr)),Object(l.__param)(3,Object(i.Optional)()),Object(l.__param)(3,Object(i.Inject)(Kr)),Object(l.__param)(4,Object(i.Inject)(i.PLATFORM_ID)),Object(l.__param)(6,Object(i.Optional)()),Object(l.__param)(6,Object(i.Inject)(Xr))],t)}(),eo=(n("Wk+B"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:Yr,useValue:!0},{provide:Xr,useValue:t}]}},t}()),no=function(){function t(){this._msgSource=new Se.d,this.msg=this._msgSource.asObservable()}return t.prototype.update=function(t,e){this._msgSource.next({content:t,style:e})},t.prototype.clear=function(){this._msgSource.next(null)},t}(),io=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ro=function(){function t(t,e,n,i){var r=this;this.afAuth=t,this.afs=e,this.router=n,this.notify=i,this.user=this.afAuth.authState.pipe(Object(Te.t)(function(t){return t?r.afs.doc("users/"+t.uid).valueChanges():Object(Se.l)(null)})),this.notificationAccount=this.afAuth.authState.pipe(Object(Te.t)(function(t){return t?r.afs.doc("notifications_account_value/"+t.uid).valueChanges():Object(Se.l)(null)}))}return t.prototype.googleLogin=function(){var t=new r.auth.GoogleAuthProvider;return this.oAuthLogin(t)},t.prototype.githubLogin=function(){var t=new r.auth.GithubAuthProvider;return this.oAuthLogin(t)},t.prototype.facebookLogin=function(){var t=new r.auth.FacebookAuthProvider;return this.oAuthLogin(t)},t.prototype.twitterLogin=function(){var t=new r.auth.TwitterAuthProvider;return this.oAuthLogin(t)},t.prototype.oAuthLogin=function(t){var e=this;return this.afAuth.auth.signInWithPopup(t).then(function(t){return e.notify.update("Welcome to Firestarter!!!","success"),e.updateUserData(t.user)}).catch(function(t){return e.handleError(t)})},t.prototype.anonymousLogin=function(){var t=this;return this.afAuth.auth.signInAnonymously().then(function(e){return t.notify.update("Welcome to Firestarter!!!","success"),t.updateUserData(e.user)}).catch(function(e){t.handleError(e)})},t.prototype.emailSignUp=function(t,e){var n=this;return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then(function(t){return n.notify.update("Welcome new user!","success"),n.updateUserData(t.user)}).catch(function(t){return n.handleError(t)})},t.prototype.emailLogin=function(t,e){var n=this,i=[];return this.afAuth.auth.signInWithEmailAndPassword(t,e).then(function(t){n.notify.update("Welcome back!","success"),n.updateUserData(t.user),i.push(t.user)}).catch(function(t){n.handleError(t)}),Promise.resolve(i)},t.prototype.resetPassword=function(t){var e=this;return Object(r.auth)().sendPasswordResetEmail(t).then(function(){return e.notify.update("Password update email sent","info")}).catch(function(t){return e.handleError(t)})},t.prototype.signOut=function(){var t=this;this.afAuth.auth.signOut().then(function(){t.router.navigate(["/home"])})},t.prototype.handleError=function(t){console.error(t),this.notify.update(t.message,"error")},t.prototype.updateUserData=function(t){var e=this.afs.doc("users/"+t.uid);return this.afs.doc("notifications_account_value/"+t.uid).set({uid:t.uid,notification:"Veuillez d\xe9finir vos param\xe8tres de facturation en cliquant ici"}),e.set({uid:t.uid,email:t.email||null,displayName:t.displayName||"nameless user",photoURL:t.photoURL||"https://goo.gl/Fz9nrQ",account_value:0})},t.prototype.getInfos=function(t){return this.afs.collection("notifications_account_value",function(e){return e.where("uid","==",""+t)}).snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return io({id:t.payload.doc.id},e)})}))},t.prototype.getUser=function(t){return this.afs.doc("users/"+t)},t.prototype.updateUser=function(t,e){return this.getUser(t).update(e)},t.prototype.getNotification=function(t){return this.afs.doc("notifications_account_value/"+t)},t.prototype.updateNotification=function(t,e){return this.getNotification(t).update(e)},t.prototype.updateValueAccount=function(t,e,n){var i=this;return new Promise(function(r){var o=i.afs.doc("users/"+t),l={uid:t,account_value:n,email:e},a=i.afs.doc("notifications_account_value/"+t),s={uid:t,notification:""};o.set(l).then(function(){a.set(s).then(function(){r("ok")})})})},t}(),oo=n("7t+N"),lo=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},ao=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},so=function(){function t(t,e){this.auth=e}return t.prototype.ngOnInit=function(){return lo(this,void 0,void 0,function(){return ao(this,function(t){return[2]})})},t.prototype.loadScript=function(t){return lo(this,void 0,void 0,function(){var e;return ao(this,function(n){return(e=document.createElement("script")).type="text/javascript",document.getElementsByTagName("body")[0].appendChild(e),e.src=t,oo("body").css("background-image","url('')"),[2]})})},t}(),uo=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(uo);function ho(t){return null==t||0===t.length}var po=new i.InjectionToken("NgValidators"),fo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,go=function(){function t(){}return t.min=function(t){return function(e){if(ho(e.value)||ho(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(ho(e.value)||ho(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return ho(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return fo.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(ho(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(ho(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(mo);return 0==e.length?null:function(t){return yo(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(mo);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(vo);return Ae.a.call(Object(Se.h)(n),yo)}},t}();function mo(t){return null!=t}function vo(t){var e=Object(i["\u0275isPromise"])(t)?Object(Se.i)(t):t;if(!Object(i["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function yo(t){var e=t.reduce(function(t,e){return null!=e?Object(l.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var bo=new i.InjectionToken("NgValueAccessor"),wo=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),_o=new i.InjectionToken("CompositionEventMode"),Co=function(){function t(t,e,n){var i;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=W()?W().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function xo(t){return t.validate?function(e){return t.validate(e)}:t}function So(t){return t.validate?function(e){return t.validate(e)}:t}var Eo=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function To(){throw new Error("unimplemented")}var ko=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return To()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return To()},enumerable:!0,configurable:!0}),e}(uo),Ao=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),Do=function(){function t(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(ko),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),Oo=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function Io(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var Ro=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Io(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),Po=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Io(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Mo(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var No=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var l=r.item(o),a=e._getOptionValue(l.value);i.push(a)}else for(r=n.options,o=0;o<r.length;o++)(l=r.item(o)).selected&&(a=e._getOptionValue(l.value),i.push(a));e.value=i,t(i)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),jo=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Mo(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(Mo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Lo(t,e){return e.path.concat([t])}function Fo(t,e){t||qo(e,"Cannot find control with"),e.valueAccessor||qo(e,"No value accessor for form control with"),t.validator=go.compose([t.validator,e.validator]),t.asyncValidator=go.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Vo(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Vo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Vo(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),t._pendingChange=!1}function Bo(t,e){null==t&&qo(e,"Cannot find control with"),t.validator=go.compose([t.validator,e.validator]),t.asyncValidator=go.composeAsync([t.asyncValidator,e.asyncValidator])}function Uo(t){return qo(t,"There is no FormControl instance attached to form control element with")}function qo(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function Wo(t){return null!=t?go.compose(t.map(xo)):null}function Ho(t){return null!=t?go.composeAsync(t.map(So)):null}function zo(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i["\u0275looseIdentical"])(e,n.currentValue)}var Go=[wo,Oo,Eo,Ro,No,Do];function Yo(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Xo(t,e){if(!e)return null;Array.isArray(e)||qo(t,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return e.forEach(function(e){var o;e.constructor===Co?n=e:(o=e,Go.some(function(t){return o.constructor===t})?(i&&qo(t,"More than one built-in value accessor matches form control with"),i=e):(r&&qo(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(qo(t,"No valid value accessor for form control with"),null)}function Ko(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Lo(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Wo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ho(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(co),Zo=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),Jo=function(t){function e(e){return t.call(this,e)||this}return Object(l.__extends)(e,t),e}(Zo),$o=function(t){function e(e){return t.call(this,e)||this}return Object(l.__extends)(e,t),e}(Zo);function tl(t){var e=nl(t)?t.validators:t;return Array.isArray(e)?Wo(e):e||null}function el(t,e){var n=nl(e)?e.asyncValidators:t;return Array.isArray(n)?Ho(n):n||null}function nl(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var il=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=tl(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=el(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(l.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(l.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=vo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof ol?t.controls[e]||null:t instanceof ll&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){nl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),rl=function(t){function e(e,n,i){void 0===e&&(e=null);var r=t.call(this,tl(n),el(i,n))||this;return r._onChange=[],r._applyFormState(e),r._setUpdateStrategy(n),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return Object(l.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(il),ol=function(t){function e(e,n,i){var r=t.call(this,tl(n),el(i,n))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(l.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){n._throwIfControlMissing(i),n.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(i){n.controls[i]&&n.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof rl?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(i,r){n=n||e.contains(r)&&t(i)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(il),ll=function(t){function e(e,n,i){var r=t.call(this,tl(n),el(i,n))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(l.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,i){n._throwIfControlMissing(i),n.at(i).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,i){n.at(i)&&n.at(i).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof rl?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++)if(e[t].enabled)return!1;return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(il),al=Promise.resolve(null),sl=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new i.EventEmitter,r.form=new ol({},Wo(e),Ho(n)),r}return Object(l.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;al.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Fo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;al.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Ko(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;al.then(function(){var n=e._findContainer(t.path),i=new ol({});Bo(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;al.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;al.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,Yo(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(co),ul='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',cl='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',hl='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',dl=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+ul+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+cl+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+hl)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+cl+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+hl)},t}(),pl=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return Object(l.__extends)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof sl||dl.modelGroupParentException()},e}(Qo),fl=Promise.resolve(null),gl=function(t){function e(e,n,r,o){var l=t.call(this)||this;return l.control=new rl,l._registered=!1,l.update=new i.EventEmitter,l._parent=e,l._rawValidators=n||[],l._rawAsyncValidators=r||[],l.valueAccessor=Xo(l,o),l}return Object(l.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),zo(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?Lo(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Wo(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ho(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){Fo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof pl)&&this._parent instanceof Qo?dl.formGroupNameException():this._parent instanceof pl||this._parent instanceof sl||dl.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||dl.missingNameException()},e.prototype._updateValue=function(t){var e=this;fl.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;fl.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})},e}(ko),ml=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ul)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+cl+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+hl)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+ul)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+cl)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),vl=function(t){function e(e,n,r){var o=t.call(this)||this;return o.update=new i.EventEmitter,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=Xo(o,r),o}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){ml.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(Fo(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),zo(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Wo(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ho(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}(ko),yl=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new i.EventEmitter,r}return Object(l.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return Fo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){Ko(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);Bo(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);Bo(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,Yo(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return Uo(e)}),e.valueAccessor.registerOnTouched(function(){return Uo(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&Fo(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=Wo(this._validators);this.form.validator=go.compose([this.form.validator,t]);var e=Ho(this._asyncValidators);this.form.asyncValidator=go.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||ml.missingFormException()},e}(co),bl=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return Object(l.__extends)(e,t),e.prototype._checkParentType=function(){_l(this._parent)&&ml.groupParentException()},e}(Qo),wl=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return Object(l.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Lo(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Wo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ho(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){_l(this._parent)&&ml.arrayParentException()},e}(co);function _l(t){return!(t instanceof bl||t instanceof yl||t instanceof wl)}var Cl=function(t){function e(e,n,r,o){var l=t.call(this)||this;return l._added=!1,l.update=new i.EventEmitter,l._parent=e,l._rawValidators=n||[],l._rawAsyncValidators=r||[],l.valueAccessor=Xo(l,o),l}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){ml.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),zo(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return Lo(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Wo(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ho(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof bl)&&this._parent instanceof Qo?ml.ngModelGroupException():this._parent instanceof bl||this._parent instanceof yl||this._parent instanceof wl||ml.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}(ko),xl=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?go.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Sl=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=go.pattern(this.pattern)},t}(),El=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new ol(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new rl(t,e,n)},t.prototype.array=function(t,e,n){var i=this,r=t.map(function(t){return i._createControl(t)});return new ll(r,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]=e._createControl(t[i])}),n},t.prototype._createControl=function(t){return t instanceof rl||t instanceof ol||t instanceof ll?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),Tl=function(){},kl=function(){},Al=function(){},Dl=function(){},Ol=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},Il=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Rl=function(){function t(t,e,n){this.fb=t,this.auth=e,this.router=n,this.isCreating=!1,this.Invalid=!1,this.newUser=!0,this.passReset=!1,this.formErrors={email:"",password:""},this.validationMessages={email:{required:"Adresse email requise.",email:"Saisissez une adresse email valide"},password:{required:"Mot de passe requis.",pattern:"Le mot de passe doit comporter au moin au moins 1 caract\xe8re majuscule, une lettre minuscule, un chiffre et un caract\xe8re sp\xe9cial comme @,#...",minlength:"Le mot de passe doit comporter au moins 4 caract\xe8res.",maxlength:"La longueur du mot de passe ne peut pas d\xe9passer 40 caract\xe8res"}}}return t.prototype.ngOnInit=function(){this.buildForm()},t.prototype.toggleForm=function(){this.newUser=!this.newUser},t.prototype.signInWithGoogle=function(){return Ol(this,void 0,void 0,function(){return Il(this,function(t){switch(t.label){case 0:return[4,this.auth.googleLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.signInWithFacebook=function(){return Ol(this,void 0,void 0,function(){return Il(this,function(t){switch(t.label){case 0:return[4,this.auth.facebookLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return t.sent(),[2]}})})},t.prototype.signup=function(){this.isCreating=!0,this.auth.emailSignUp(this.userForm.value.email,this.userForm.value.password),this.afterSignIn(),this.isCreating=!1},t.prototype.login=function(){var t=this;this.isCreating=!0,this.auth.emailLogin(this.userForm.value.email,this.userForm.value.password).then(function(e){console.log(e),console.log(typeof e),0==e.length?(t.isCreating=!1,t.Invalid=!0,t.errors_credentials="Indentifiants incorrects"):(t.afterSignIn(),t.isCreating=!1)})},t.prototype.listenError=function(){(this.Invalid=!0)&&(this.Invalid=!1)},t.prototype.resetPassword=function(){var t=this;this.auth.resetPassword(this.userForm.value.email).then(function(){return t.passReset=!0})},t.prototype.afterSignIn=function(){return this.router.navigate(["/"])},t.prototype.buildForm=function(){var t=this;this.userForm=this.fb.group({email:["",[go.required,go.email]],password:["",[go.pattern("(?=^.{6,255}$)((?=.*d)(?=.*[A-Z])(?=.*[a-z])|(?=.*d)(?=.*[^A-Za-z0-9])(?=.*[a-z])|(?=.*[^A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z])|(?=.*d)(?=.*[A-Z])(?=.*[^A-Za-z0-9]))^.*"),go.minLength(6),go.maxLength(25)]]}),this.userForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.userForm){var e=this.userForm;for(var n in this.formErrors)if(Object.prototype.hasOwnProperty.call(this.formErrors,n)&&("email"===n||"password"===n)){this.formErrors[n]="";var i=e.get(n);if(i&&i.dirty&&!i.valid){var r=this.validationMessages[n];if(i.errors)for(var o in i.errors)Object.prototype.hasOwnProperty.call(i.errors,o)&&(this.formErrors[n]+=r[o]+" ")}}}},t}(),Pl=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ml(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","help is-info"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.resetPassword()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Have you forgot your username or password ?"]))],null,null)}function Nl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"p",[["class","help is-info"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Reset requested. Check your email instructions."]))],null,null)}function jl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,48,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,o=t.component;return"submit"===e&&(r=!1!==i["\u0275nov"](t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,2).onReset()&&r),"ngSubmit"===e&&(r=!1!==o.login()&&r),r},null,null)),i["\u0275did"](1,16384,null,0,Tl,[],null,null),i["\u0275did"](2,540672,null,0,yl,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),i["\u0275prd"](2048,null,co,null,[yl]),i["\u0275did"](4,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](6,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](8,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Connexion"])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](12,0,null,null,5,"div",[["class","form-group has-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](14,0,null,null,0,"i",[["class","icon-envelope-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](16,0,null,null,0,"input",[["class","form-control form-control-lg"],["placeholder","Email Address"],["type","text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](19,0,null,null,4,"div",[["class","form-group has-icon"]],null,null,null,null,null)),(t()(),i["\u0275eld"](20,0,null,null,0,"i",[["class","icon-user-secret"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](22,0,null,null,0,"input",[["class","form-control form-control-lg"],["placeholder","Password"],["type","text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](25,0,null,null,1,"a",[["class","forget-pass"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleForm()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Nouvel Utilisateur?"])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](28,0,null,null,0,"input",[["class","btn btn-primary btn-lg btn-block"],["type","submit"],["value","Log In"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](30,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["OR"])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ml)),i["\u0275did"](34,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Nl)),i["\u0275did"](37,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](39,0,null,null,3,"a",[["class","btn btn-lg btn-block btn-social google"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.signInWithGoogle()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](41,0,null,null,0,"i",[["class","icon-google"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        Login with Google\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](44,0,null,null,3,"a",[["class","btn btn-lg btn-block btn-social facebook"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.signInWithFacebook()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](46,0,null,null,0,"i",[["class","icon-facebook"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        Login with Facebook\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n"]))],function(t,e){var n=e.component;t(e,2,0,n.userForm),t(e,34,0,!n.passReset&&n.userForm.controls.email.valid),t(e,37,0,n.passReset)},function(t,e){t(e,0,0,i["\u0275nov"](e,4).ngClassUntouched,i["\u0275nov"](e,4).ngClassTouched,i["\u0275nov"](e,4).ngClassPristine,i["\u0275nov"](e,4).ngClassDirty,i["\u0275nov"](e,4).ngClassValid,i["\u0275nov"](e,4).ngClassInvalid,i["\u0275nov"](e,4).ngClassPending)})}function Ll(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,44,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,o=t.component;return"submit"===e&&(r=!1!==i["\u0275nov"](t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,2).onReset()&&r),"ngSubmit"===e&&(r=!1!==o.signup()&&r),r},null,null)),i["\u0275did"](1,16384,null,0,Tl,[],null,null),i["\u0275did"](2,540672,null,0,yl,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),i["\u0275prd"](2048,null,co,null,[yl]),i["\u0275did"](4,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](6,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](8,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Inscription"])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](12,0,null,null,12,"div",[["class","form-group has-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](14,0,null,null,0,"i",[["class","icon-envelope-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](16,0,null,null,7,"input",[["autocomplete","new-password"],["class","form-control form-control-lg"],["formControlName","email"],["name","email"],["placeholder","Email Address"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==i["\u0275nov"](t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,17)._compositionEnd(n.target.value)&&r),r},null,null)),i["\u0275did"](17,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275did"](18,16384,null,0,xl,[],{required:[0,"required"]},null),i["\u0275prd"](1024,null,po,function(t){return[t]},[xl]),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](21,671744,null,0,Cl,[[3,co],[2,po],[8,null],[2,bo]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,ko,null,[Cl]),i["\u0275did"](23,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](26,0,null,null,12,"div",[["class","form-group has-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](28,0,null,null,0,"i",[["class","icon-user-secret"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](30,0,null,null,7,"input",[["class","form-control form-control-lg"],["formControlName","password"],["name","password"],["placeholder","Password"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==i["\u0275nov"](t,31)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,31).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,31)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,31)._compositionEnd(n.target.value)&&r),r},null,null)),i["\u0275did"](31,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275did"](32,16384,null,0,xl,[],{required:[0,"required"]},null),i["\u0275prd"](1024,null,po,function(t){return[t]},[xl]),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](35,671744,null,0,Cl,[[3,co],[2,po],[8,null],[2,bo]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,ko,null,[Cl]),i["\u0275did"](37,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](40,0,null,null,0,"input",[["class","btn btn-primary btn-lg btn-block"],["type","submit"],["value","Inscription"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](42,0,null,null,1,"a",[["class","forget-pass"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleForm()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Vous ete d\xe9j\xe0 enregistr\xe9?"])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,2,0,e.component.userForm),t(e,18,0,""),t(e,21,0,"email"),t(e,32,0,""),t(e,35,0,"password")},function(t,e){t(e,0,0,i["\u0275nov"](e,4).ngClassUntouched,i["\u0275nov"](e,4).ngClassTouched,i["\u0275nov"](e,4).ngClassPristine,i["\u0275nov"](e,4).ngClassDirty,i["\u0275nov"](e,4).ngClassValid,i["\u0275nov"](e,4).ngClassInvalid,i["\u0275nov"](e,4).ngClassPending),t(e,16,0,i["\u0275nov"](e,18).required?"":null,i["\u0275nov"](e,23).ngClassUntouched,i["\u0275nov"](e,23).ngClassTouched,i["\u0275nov"](e,23).ngClassPristine,i["\u0275nov"](e,23).ngClassDirty,i["\u0275nov"](e,23).ngClassValid,i["\u0275nov"](e,23).ngClassInvalid,i["\u0275nov"](e,23).ngClassPending),t(e,30,0,i["\u0275nov"](e,32).required?"":null,i["\u0275nov"](e,37).ngClassUntouched,i["\u0275nov"](e,37).ngClassTouched,i["\u0275nov"](e,37).ngClassPristine,i["\u0275nov"](e,37).ngClassDirty,i["\u0275nov"](e,37).ngClassValid,i["\u0275nov"](e,37).ngClassInvalid,i["\u0275nov"](e,37).ngClassPending)})}function Fl(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,jl)),i["\u0275did"](1,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ll)),i["\u0275did"](4,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,1,0,!n.newUser),t(e,4,0,n.newUser)},null)}var Vl=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},Bl=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ul=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.ngOnInit=function(){var t=this;this.auth.user.forEach(function(e){e&&(t.email=e.email)})},t.prototype.signInWithGithub=function(){return Vl(this,void 0,void 0,function(){return Bl(this,function(t){switch(t.label){case 0:return[4,this.auth.githubLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.signInWithGoogle=function(){return Vl(this,void 0,void 0,function(){return Bl(this,function(t){switch(t.label){case 0:return[4,this.auth.googleLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.signInWithFacebook=function(){return Vl(this,void 0,void 0,function(){return Bl(this,function(t){switch(t.label){case 0:return[4,this.auth.facebookLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return t.sent(),[2]}})})},t.prototype.signInWithTwitter=function(){return Vl(this,void 0,void 0,function(){return Bl(this,function(t){switch(t.label){case 0:return[4,this.auth.twitterLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.signInAnonymously=function(){return Vl(this,void 0,void 0,function(){return Bl(this,function(t){switch(t.label){case 0:return[4,this.auth.anonymousLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.afterSignIn=function(){return this.router.navigate(["/"])},t.prototype.logout=function(){this.auth.signOut()},t}(),ql=i["\u0275crt"]({encapsulation:0,styles:[[".limiter[_ngcontent-%COMP%]{width:100%;margin:0 auto}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px;background:#9053c7;background:linear-gradient(-135deg,#c850c0,#4158d0)}.wrap-login100[_ngcontent-%COMP%]{width:960px;height:600px;background:#fff;border-radius:10px;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:177px 130px 33px 95px}"]],data:{}});function Wl(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](1,0,null,null,3,"p",[["class","text-success"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      You are logged in "])),(t()(),i["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-thumbs-up"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n"]))],null,null)}function Hl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"main",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](2,0,null,null,18,"div",[["class","limiter"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](4,0,null,null,15,"div",[["class","container-login100"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](6,0,null,null,12,"div",[["class","wrap-login100"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](8,0,null,null,3,"div",[["class","login100-pic js-tilt"],["data-tilt",""]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](10,0,null,null,0,"img",[["alt",""],["src","assets/img/dummy/img-01.png"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275eld"](13,0,null,null,4,"div",[["class","login100-form"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](15,0,null,null,1,"user-form",[],null,null,null,Fl,Pl)),i["\u0275did"](16,114688,null,0,Rl,[El,ro,er],null,null),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,16,0)},null)}function zl(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](0,[["alreadyLoggedIn",2]],null,0,null,Wl)),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275and"](16777216,null,null,2,null,Hl)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),i["\u0275pid"](131072,M,[i.ChangeDetectorRef]),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[["class","control-sidebar-bg shadow white fixed"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,3,0,!i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform(n.auth.user)),i["\u0275nov"](e,0))},null)}var Gl=i["\u0275ccf"]("user-login",Ul,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"user-login",[],null,null,null,zl,ql)),i["\u0275did"](1,114688,null,0,Ul,[ro,er],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Yl=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Xl=i["\u0275crt"]({encapsulation:0,styles:[['.spinner-wrapper[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:0;left:0;background-color:rgba(255,255,255,.5);z-index:998;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;justify-items:center}.spinner-wrapper[_ngcontent-%COMP%]   app-spinner[_ngcontent-%COMP%]{width:6rem;height:6rem}#loader[_ngcontent-%COMP%]{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]::before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;-webkit-transform:scale(0);transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){-webkit-transform:rotate(45deg);transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1)::before{-webkit-animation:.8s linear .1s infinite load;animation:.8s linear .1s infinite load;background:#00ff80}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){-webkit-transform:rotate(90deg);transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2)::before{-webkit-animation:.8s linear .2s infinite load;animation:.8s linear .2s infinite load;background:#00ffea}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){-webkit-transform:rotate(135deg);transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3)::before{-webkit-animation:.8s linear .3s infinite load;animation:.8s linear .3s infinite load;background:#0af}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){-webkit-transform:rotate(180deg);transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4)::before{-webkit-animation:.8s linear .4s infinite load;animation:.8s linear .4s infinite load;background:#0040ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){-webkit-transform:rotate(225deg);transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5)::before{-webkit-animation:.8s linear .5s infinite load;animation:.8s linear .5s infinite load;background:#2a00ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){-webkit-transform:rotate(270deg);transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6)::before{-webkit-animation:.8s linear .6s infinite load;animation:.8s linear .6s infinite load;background:#9500ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){-webkit-transform:rotate(315deg);transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7)::before{-webkit-animation:.8s linear .7s infinite load;animation:.8s linear .7s infinite load;background:#ff00ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){-webkit-transform:rotate(360deg);transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8)::before{-webkit-animation:.8s linear .8s infinite load;animation:.8s linear .8s infinite load;background:#ff0095}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@-webkit-keyframes load{100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes load{100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.spinner-message[_ngcontent-%COMP%]{text-align:center}.wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.overlay[_ngcontent-%COMP%]{position:absolute;z-index:1002;background-color:rgba(255,255,255,.5);width:100%;height:100%}']],data:{}});function Kl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"p",[["class","spinner-message"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n      ","\n    "]))],null,function(t,e){t(e,1,0,e.component.message)})}function Ql(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,31,"div",[["class","spinner-wrapper"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](2,0,null,null,28,"div",[["class","container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](4,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](6,0,null,null,19,"div",[["id","loader"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](10,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](12,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](14,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](16,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](18,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](20,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](22,0,null,null,0,"div",[["class","dot"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](24,0,null,null,0,"div",[["class","loading"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Kl)),i["\u0275did"](28,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,28,0,n.message&&""!==n.message)},null)}var Zl=function(){},Jl=function(){},$l=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var i=t.slice(0,n),r=i.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(i,r),e.headers.has(r)?e.headers.get(r).push(o):e.headers.set(r,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var i=t[n],r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(r,i),e.maybeSetNormalizedName(n,r))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,n),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===r.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),ta=function(){function t(){}return t.prototype.encodeKey=function(t){return ea(t)},t.prototype.encodeValue=function(t){return ea(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function ea(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var na=function(){function t(t){void 0===t&&(t={});var e,n,i,r=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ta,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,i=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),r=-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],o=r[0],l=r[1],a=i.get(o)||[];a.push(l),i.set(o,a)}),i)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];r.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function ia(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ra(t){return"undefined"!=typeof Blob&&t instanceof Blob}function oa(t){return"undefined"!=typeof FormData&&t instanceof FormData}var la=function(){function t(t,e,n,i){var r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new $l),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+o}}else this.params=new na,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:ia(this.body)||ra(this.body)||oa(this.body)||"string"==typeof this.body?this.body:this.body instanceof na?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:oa(this.body)?null:ra(this.body)?this.body.type||null:ia(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof na?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,s=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(s=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},s)),e.setParams&&(u=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},u)),new t(n,i,o,{params:u,headers:s,reportProgress:a,responseType:r,withCredentials:l})},t}(),aa=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),sa=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new $l,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),ua=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=aa.ResponseHeader,n}return Object(l.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(sa),ca=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=aa.Response,n.body=void 0!==e.body?e.body:null,n}return Object(l.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(sa),ha=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(l.__extends)(e,t),e}(sa);function da(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var pa=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var i,r=this;if(void 0===n&&(n={}),t instanceof la)i=t;else{var o;o=n.headers instanceof $l?n.headers:new $l(n.headers);var l=void 0;n.params&&(l=n.params instanceof na?n.params:new na({fromObject:n.params})),i=new la(t,e,void 0!==n.body?n.body:null,{headers:o,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var a=ke.call(Object(Se.l)(i),function(t){return r.handler.handle(t)});if(t instanceof la||"events"===n.observe)return a;var s=nn.a.call(a,function(t){return t instanceof ca});switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return Ae.a.call(s,function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body});case"blob":return Ae.a.call(s,function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body});case"text":return Ae.a.call(s,function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body});case"json":default:return Ae.a.call(s,function(t){return t.body})}case"response":return s;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new na).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,da(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,da(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,da(n,e))},t}(),fa=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),ga=new i.InjectionToken("HTTP_INTERCEPTORS"),ma=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),va=/^\)\]\}',?\n/,ya=function(){},ba=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),wa=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Oe.Observable(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var l=t.serializeBody(),a=null,s=function(){if(null!==a)return a;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new $l(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return a=new ua({headers:r,status:e,statusText:n,url:o})},u=function(){var e=s(),r=e.headers,o=e.status,l=e.statusText,a=e.url,u=null;204!==o&&(u="undefined"==typeof i.response?i.responseText:i.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){var h=u;u=u.replace(va,"");try{u=""!==u?JSON.parse(u):null}catch(t){u=h,c&&(c=!1,u={error:t,text:u})}}c?(n.next(new ca({body:u,headers:r,status:o,statusText:l,url:a||void 0})),n.complete()):n.error(new ha({error:u,headers:r,status:o,statusText:l,url:a||void 0}))},c=function(t){var e=new ha({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error"});n.error(e)},h=!1,d=function(e){h||(n.next(s()),h=!0);var r={type:aa.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},p=function(t){var e={type:aa.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",u),i.addEventListener("error",c),t.reportProgress&&(i.addEventListener("progress",d),null!==l&&i.upload&&i.upload.addEventListener("progress",p)),i.send(l),n.next({type:aa.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==l&&i.upload&&i.upload.removeEventListener("progress",p)),i.abort()}})},t}(),_a=new i.InjectionToken("XSRF_COOKIE_NAME"),Ca=new i.InjectionToken("XSRF_HEADER_NAME"),xa=function(){},Sa=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),Ea=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)},t}(),Ta=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(ga,[]);this.chain=e.reduceRight(function(t,e){return new fa(t,e)},this.backend)}return this.chain.handle(t)},t}(),ka=function(){function t(){}return t.disable=function(){return{ngModule:t,providers:[{provide:Ea,useClass:ma}]}},t.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:_a,useValue:e.cookieName}:[],e.headerName?{provide:Ca,useValue:e.headerName}:[]]}},t}(),Aa=function(){},Da=n("e7x4"),Oa=n.n(Da),Ia=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Ra=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},Pa=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ma=(n("M4fF"),function(){function t(t,e,n){var i=this;this.afs=t,this.auth=e,this.http=n,this.today=new Date,this.adGroupCollection=this.afs.collection("adgroup",function(t){return t.where("campaign_id","==",parseInt(""+i.campaign_id))}),this.auth.user.forEach(function(t){i.uid=t.uid})}return t.prototype.getListAdGroup=function(t){return console.log(parseInt(t)),this.afs.collection("adgroup",function(e){return e.where("campaign_id","==",parseInt(""+t))}).snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Ia({id:t.payload.doc.id},e)})}))},t.prototype.addGroupVerification=function(t,e,n){var i=this;return console.log("owner: "+t+", name: "+e+", campaign_id: "+n),new Promise(function(r){setTimeout(function(){i.afs.collection("adgroup",function(i){return i.where("campaign_id","==",parseInt(""+n)).where("name","==",""+e).where("owner","==",""+t)}).snapshotChanges().subscribe(function(t){console.log("data "+t),i.item=t,r(t.length)})},2e3)})},t.prototype.getAdGroupGenre=function(t,e){var n=this;return console.log("campaign_id: "+t+" ad_group_id: "+e),new Promise(function(i){setTimeout(function(){n.afs.collection("adgroup",function(n){return n.where("campaign_id","==",parseInt(""+t)).where("ad_group_id","==",parseInt(""+e))}).valueChanges().subscribe(function(t){console.log(t),i(t[0].sexes)})},2e3)})},t.prototype.getAdGroupPlacement=function(t,e){var n=this;return console.log("campaign_id: "+t+" ad_group_id: "+e),new Promise(function(i){setTimeout(function(){n.afs.collection("adgroup",function(n){return n.where("campaign_id","==",parseInt(""+t)).where("ad_group_id","==",parseInt(""+e))}).valueChanges().subscribe(function(t){console.log(t),i(t[0].criterion_placement)})},2e3)})},t.prototype.getAdGroupAge=function(t,e){var n=this;return console.log("campaign_id: "+t+" ad_group_id: "+e),new Promise(function(i){setTimeout(function(){n.afs.collection("adgroup",function(n){return n.where("campaign_id","==",parseInt(""+t)).where("ad_group_id","==",parseInt(""+e))}).valueChanges().subscribe(function(t){console.log(t),i(t[0].ages)})},2e3)})},t.prototype.getAdGroupDevices=function(t,e){var n=this;return console.log("campaign_id: "+t+" ad_group_id: "+e),new Promise(function(i){setTimeout(function(){n.afs.collection("adgroup",function(n){return n.where("campaign_id","==",parseInt(""+t)).where("ad_group_id","==",parseInt(""+e))}).valueChanges().subscribe(function(t){console.log(t),i(t[0].devices)})},2e3)})},t.prototype.targetGenre=function(t,e,n,i){return Ra(this,void 0,void 0,function(){var r=this;return Pa(this,function(o){switch(o.label){case 0:return[4,this.getAdGroupGenre(e,n).then(function(e){console.log("value:"),console.log(e),console.log("gender:"),console.log(i),console.log("concat"),r.http.post("http://127.0.0.1:5000/targetGender",{ad_group_id:n,sexes:i,last_genre:e}).subscribe(function(e){console.log("res from location backend: "+e),r.updateAdgroup(t,{sexes:i})},function(t){Oa.a.fire({title:"Ciblage",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})];case 1:return[2,o.sent()]}})})},t.prototype.removePlacement=function(t,e,n,i){var r=this;return new Promise(function(o){r.http.post("http://127.0.0.1:5000/removeSinglePlacement",{ad_group_id:n,criterion:i}).subscribe(function(l){"ok"==l[0].status&&r.getAdGroupPlacement(e,n).then(function(e){for(var n=e,l=0;l<n.length;l++)n[l].criterion_id==i&&n.splice(l,1),r.updateAdgroup(t,{placement:n,criterion_placement:n}).then(function(t){o("ok")})})},function(t){Oa.a.fire({title:"Placement de groupe d'annonce",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){t.value&&o("error")})})})},t.prototype.targetPlacement=function(t,e,n,i){return Ra(this,void 0,void 0,function(){var r=this;return Pa(this,function(o){switch(o.label){case 0:return[4,this.getAdGroupPlacement(e,n).then(function(e){r.http.post("http://127.0.0.1:5000/setPlacement",{ad_group_id:n,placement:i,last_placement:e}).subscribe(function(e){console.log("res from location backend: "+e),console.log(e),r.updateAdgroup(t,{placement:e,criterion_placement:e})},function(t){Oa.a.fire({title:"Placement de groupe d'annonce",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})];case 1:return[2,o.sent()]}})})},t.prototype.targetDevices=function(t,e,n,i){return Ra(this,void 0,void 0,function(){var r=this;return Pa(this,function(o){switch(o.label){case 0:return[4,this.getAdGroupGenre(e,n).then(function(e){console.log("value:"),console.log(e),console.log("devices:"),console.log(i),console.log("concat"),r.http.post("http://127.0.0.1:5000/targetDevices",{ad_group_id:n,devices:i,last_devices:e}).subscribe(function(e){console.log("res from location backend: "+e),r.updateAdgroup(t,{devices:i})},function(t){Oa.a.fire({title:"Ciblage",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})];case 1:return[2,o.sent()]}})})},t.prototype.targetAge=function(t,e,n,i){return Ra(this,void 0,void 0,function(){var r=this;return Pa(this,function(o){switch(o.label){case 0:return[4,this.getAdGroupAge(e,n).then(function(e){console.log("value:"),console.log(e),console.log("age:"),console.log(i),r.http.post("http://127.0.0.1:5000/targetAge",{ad_group_id:n,ages:i,last_ages:e}).subscribe(function(e){console.log("res from location backend: "+e),r.updateAdgroup(t,{ages:i})},function(t){Oa.a.fire({title:"Ciblage",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})];case 1:return[2,o.sent()]}})})},t.prototype.addAdGroup=function(t,e,n){return Ra(this,void 0,void 0,function(){var i=this;return Pa(this,function(r){switch(r.label){case 0:return console.log("User id: "+e),[4,new Promise(function(r){i.addGroupVerification(e,n,t).then(function(e){console.log("promise result: "+e),""+e=="0"?i.http.post("http://127.0.0.1:5000/addAdGroup",{ad_group_name:n,campaign_id:t}).subscribe(function(e){console.log("add group "+e),"ok"==e.status?i.createAdGroup(t,e.name,e.status_adgroup,e.id).then(function(t){Oa.a.fire({title:"Ajouter un nouveau groupe",text:"Groupe ajout\xe9 avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("ok")})}):Oa.a.fire({title:"Ajouter un nouveau groupe",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("error")})},function(t){Oa.a.fire({title:"Ajouter un nouveau groupe",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("error")})}):Oa.a.fire({title:"Ajouter une nouvelle campagne",text:"Cette camapagne exite d\xe9j\xe0",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("error")})})})];case 1:return[2,r.sent()]}})})},t.prototype.prepareSaveAdGroup=function(t,e,n,i){var r=this.afs.doc("users/"+this.uid),o={campaign_id:t,ad_group_id:i,name:e,status:n,ages:[],sexes:[],devices:[],placement:[],criterion_placement:[],createdAt:Dr.firestore.FieldValue.serverTimestamp(),createdBy:r.ref,owner:this.uid};return Ia({},o)},t.prototype.getData=function(){return this.adGroupCollection.snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Ia({id:t.payload.doc.id},e)})}))},t.prototype.getAdGroup=function(t){return this.afs.doc("adgroup/"+t)},t.prototype.createTarget=function(t,e){return Ra(this,void 0,void 0,function(){return Pa(this,function(n){return[2,this.getAdGroup(t).update(e)]})})},t.prototype.createAdGroup=function(t,e,n,i){return Ra(this,void 0,void 0,function(){return Pa(this,function(r){switch(r.label){case 0:return this.adgroup=this.prepareSaveAdGroup(t,e,n,i),[4,this.afs.collection("adgroup").add(this.adgroup)];case 1:return r.sent(),[2]}})})},t.prototype.updateAdgroup=function(t,e){return this.getAdGroup(t).update(e)},t.prototype.deleteAdGroup=function(t){return this.getAdGroup(t).delete()},t}());function Na(t){return void 0===t||null===t}function ja(t){return"function"==typeof t.set}function La(t,e){return ja(e)?e:t.ref(e)}function Fa(t,e){if("string"==typeof t)return e.stringCase();if(ja(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Va(t,e,n){return void 0===n&&(n="on"),new Se.b(function(i){var r=t[n](e,function(t,e){i.next({snapshot:t,prevKey:e}),"once"==n&&i.complete()},i.error.bind(i));return"on"==n?{unsubscribe:function(){t.off(e,r)}}:{unsubscribe:function(){}}}).pipe(Object(Te.k)(function(t){var n=t.snapshot,i=t.prevKey,r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),Object(Te.e)(0),Object(Te.q)())}function Ba(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function Ua(t,e){var n=e.payload,i=e.prevKey,r=e.key,o=Ba(t,r),l=function(t,e){if(Na(e))return 0;var n=Ba(t,e);return-1===n?t.length:n+1}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var a=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:a,key:e.key};return a=e.key,t=t.concat([n]),!1})}return t;case"child_added":if(o>-1){var s=t[o-1];(s&&s.key||null)!=i&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(l,0,e)}else{if(null==i)return[e].concat(t);(t=t.slice()).splice(l,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===r?e:t});case"child_moved":if(o>-1){var u=t.splice(o,1)[0];return(t=t.slice()).splice(l,0,u),t}return t;default:return t}}function qa(t){return(Na(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Wa(t,e){return function(t,e){return Va(t,"value","once").pipe(Object(Te.t)(function(n){var i=[Object(Se.l)(n)];return e.forEach(function(e){return i.push(Va(t,e))}),Se.k.apply(void 0,i).pipe(Object(Te.p)(Ua,[]))}),Object(Te.f)())}(t,e=qa(e))}function Ha(t,e){var n=(e=qa(e)).map(function(e){return Va(t,e)});return Se.k.apply(void 0,n)}function za(t,e){return function(n,i){return Fa(n,{stringCase:function(){return t.child(n)[e](i)},firebaseCase:function(){return n[e](i)},snapshotCase:function(){return n.ref[e](i)}})}}function Ga(t){return function(){return Va(t,"value")}}var Ya=function(){function t(t,e,n,i,r){this.scheduler=new kr(r,i),this.database=r.runOutsideAngular(function(){return Mr(t,e).database(n||void 0)})}return t.prototype.list=function(t,e){var n=La(this.database,t),i=n;return e&&(i=e(n)),function(t,e){return{query:t,update:za(t.ref,"update"),set:za(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(n=t.ref,function(t){return t?Fa(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){var i=Wa(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},stateChanges:function(n){var i=Ha(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},auditTrail:function(n){var i=function(t,e){return function(t,e){return function(t){return Va(t,"value").pipe(Object(Te.k)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t).pipe(Object(Te.w)(e),Object(Te.k)(function(t){var e=t[1];return{actions:e,lastKeyToLoad:t[0].lastKeyToLoad,loadedKeys:e.map(function(t){return t.key})}}),Object(Te.r)(function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)}),Object(Te.k)(function(t){return t.actions}))}(t,Ha(t,e).pipe(Object(Te.p)(function(t,e){return t.concat([e])},[])))}(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},valueChanges:function(n){var i=Wa(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i)).pipe(Object(Te.k)(function(t){return t.map(function(t){return t.payload.val()})}))}};var n}(i,this)},t.prototype.object=function(t){var e,n,i=La(this.database,t);return n=this,{query:e=i,snapshotChanges:function(){var t=Ga(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t))},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){var t=Ga(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t)).pipe(Object(Te.k)(function(t){return t.payload.exists()?t.payload.val():null}))}}},t.prototype.createPushId=function(){return this.database.ref().push().key},Object(l.__decorate)([Object(l.__param)(0,Object(i.Inject)(Ir)),Object(l.__param)(1,Object(i.Optional)()),Object(l.__param)(1,Object(i.Inject)(Rr)),Object(l.__param)(2,Object(i.Optional)()),Object(l.__param)(2,Object(i.Inject)(Tr)),Object(l.__param)(3,Object(i.Inject)(i.PLATFORM_ID))],t)}(),Xa=(n("jE0U"),function(){}),Ka=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Qa=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},Za=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ja=(n("M4fF"),function(){function t(t,e,n,i){var r=this;this.afs=t,this.auth=e,this.http=n,this.db=i,this.today=new Date,this.basePath="/uploads",this.auth.user.subscribe(function(t){r.uid=t.uid})}return t.prototype.saveFileData=function(t){this.db.list(this.basePath+"/").push(t)},t.prototype.getListAnnonces=function(t){return console.log(parseInt(t)),this.afs.collection("adgroup",function(e){return e.where("campaign_id","==",parseInt(""+t))}).snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Ka({id:t.payload.doc.id},e)})}))},t.prototype.annonceVerification=function(t,e){var n=this;return new Promise(function(i){setTimeout(function(){n.afs.collection("ads",function(n){return n.where("ad_group_id","==",parseInt(""+e)).where("ad_name","==",""+t)}).snapshotChanges().subscribe(function(t){console.log("data "+t),n.item=t,i(t.length)})},2e3)})},t.prototype.getListAd=function(t){console.log(parseInt(t));var e=parseInt(t);return this.afs.collection("ads",function(t){return t.where("ad_group_id","==",""+e)}).snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Ka({id:t.payload.doc.id},e)})}))},t.prototype.addAd=function(t,e,n,i,r,o,l,a){return Qa(this,void 0,void 0,function(){var s=this;return Za(this,function(u){switch(u.label){case 0:return[4,new Promise(function(u){alert(a[0].width.toString()),s.annonceVerification(n,e).then(function(c){console.log("promise result: "+c),""+c=="0"?s.http.post("http://127.0.0.1:5000/addAd",{ad_group_id:e,url_image:i,ad_name:n,finalUrls:r,finalAppUrls:o,finalMobileUrls:l,width:a[0].width.toString(),height:a[0].height.toString(),size:a}).subscribe(function(n){var i=n.ad[0];console.log(i),console.log(i.displayUrl),console.log(i.ad_id),console.log(e),console.log(i.name),console.log(i.status),console.log(i.url_image),console.log(i.displayUrl),console.log(i.finalUrls),console.log(i.finalMobileUrls),console.log(i.finalAppUrls),console.log(i.referenceId),console.log(i.automated),s.updateAd(t,{ad_id:i.ad_id,ad_group_id:e,ad_name:i.name,status:i.status,url_image:i.url_image,displayUrl:i.displayUrl,finalUrls:i.finalUrls,finalMobileUrls:i.finalMobileUrls,finalAppUrls:i.finalAppUrls,automated:i.automated,referenceId:i.referenceId}).then(function(t){Oa.a.fire({title:"Ajouter une annonce",text:"Annonce ajout\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){u("ok")})})},function(t){Oa.a.fire({title:"Ajouter une annonce",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){u("error")})}):Oa.a.fire({title:"Ajouter une nouvelle annonce",text:"Il \xe9xiste d\xe9j\xe0 une annonce portant une des donn\xe9es renseign\xe9es !",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){u("error")})})})];case 1:return[2,u.sent()]}})})},t.prototype.saveAdOnFirebase=function(t,e,n,i,r,o,l,a){return Qa(this,void 0,void 0,function(){var s,u,c,h,d=this;return Za(this,function(p){switch(p.label){case 0:for(s=[],u=[],c=[],console.log(o),h=0;h<o.length;h++)"finalUrls"==o[h].lib&&s.push(o[h].content);return[4,this.annonceVerification(e,t).then(function(o){console.log("promise result: "+o),""+o=="0"?d.createAd("",t,e,"",i,r,s[0],s[0],u,c,"","",n,l,a).then(function(t){Oa.a.fire({title:"Ajouter une annonce",text:"Annonce ajout\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){window.location.reload()})}):Oa.a.fire({title:"Ajouter une nouvelle annonce",text:"Il \xe9xiste d\xe9j\xe0 une annonce portant une des donn\xe9es renseign\xe9es !",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})];case 1:return[2,p.sent()]}})})},t.prototype.UpdateAdModified=function(t,e,n,i){var r=this;return new Promise(function(o){r.http.post("http://127.0.0.1:5000/UpdateAd",{ad_group_id:n,ad_id:e,data:i}).subscribe(function(e){if(console.log(e),"ok"==e[0].status){for(var n=0;n<i.toString().length;n++)console.log(i[n]),r.updateAd(t,{field:i[n].content});o("ok")}},function(t){Oa.a.fire({title:"Service Annonce!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})},t.prototype.prepareSaveAd=function(t,e,n,i,r,o,l,a,s,u,c,h,d,p,f){var g=this.afs.doc("users/"+d),m={ad_id:t,ad_name:n,ad_group_id:e,status:i,url_image:r,image_content:o,displayUrl:l,finalUrls:a,finalMobileUrls:s,finalAppUrls:u,referenceId:c,automated:h,size:p,ad_type:f,createdAt:Dr.firestore.FieldValue.serverTimestamp(),createdBy:g.ref,owner:d};return Ka({},m)},t.prototype.getData=function(){return this.annonceCollection.snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Ka({id:t.payload.doc.id},e)})}))},t.prototype.getAd=function(t){return this.afs.doc("ads/"+t)},t.prototype.createAd=function(t,e,n,i,r,o,l,a,s,u,c,h,d,p,f){return Qa(this,void 0,void 0,function(){return Za(this,function(g){switch(g.label){case 0:return this.annonce_model=this.prepareSaveAd(t,e,n,i,r,o,l,a,s,u,c,h,d,p,f),[4,this.afs.collection("ads").add(this.annonce_model)];case 1:return g.sent(),[2]}})})},t.prototype.updateAd=function(t,e){return this.getAd(t).update(e)},t.prototype.deleteAd=function(t){return this.getAd(t).delete()},t.prototype.deleteAdPromise=function(t){var e=this;return new Promise(function(n){e.getAd(t).delete().then(function(){n("ok")})})},t}()),$a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ts=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},es=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ns=function(){function t(t,e,n,i,r){var o=this;this.auth=t,this.afs=e,this.http=n,this.adGroupService=i,this.adsService=r,this.today=new Date,this.text_error_date="Cette campagne a d\xe9j\xe0 commenc\xe9",this.error_end_date="Date invalide ou campagne d\xe9j\xe0 termin\xe9e",this.auth.user.forEach(function(t){o.uid=t.uid,o.notesCollection=o.afs.collection("notes",function(e){return e.where("owner","==",t.uid)})})}return t.prototype.ngOnInit=function(){},t.prototype.campaignVerification=function(t,e){var n=this;return new Promise(function(i){setTimeout(function(){n.afs.collection("notes",function(n){return n.where("owner","==",""+t).where("name","==",""+e)}).snapshotChanges().subscribe(function(t){n.item=t,i(t.length)})},2e3)})},t.prototype.addCampaign=function(t,e,n){return ts(this,void 0,void 0,function(){var i=this;return es(this,function(r){switch(r.label){case 0:return[4,new Promise(function(r){i.campaignVerification(e,n).then(function(e){console.log("promise result: "+e),""+e=="0"?i.http.post("http://127.0.0.1:5000/addCampaign",{email:t,campaign_name:n}).subscribe(function(t){"ok"==t.status?i.createCampaign(t.id,n,t.status_campaign,t.startDate,t.endDate,t.startDateFrench,t.endDateFrench,t.servingStatus,t.budgetId).then(function(t){Oa.a.fire({title:"Ajouter une nouvelle campagne",text:"Campagne ajout\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("ok")})}):Oa.a.fire({title:"Ajouter une nouvelle campagne",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("error")})},function(t){Oa.a.fire({title:"Ajouter une nouvelle campagne",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("error")})}):Oa.a.fire({title:"Ajouter une nouvelle campagne",text:"Cette camapagne exite d\xe9j\xe0",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){r("error")})})})];case 1:return[2,r.sent()]}})})},t.prototype.targetLocation=function(t,e,n,i){var r=this;return this.getCampaignZones(e,n).then(function(n){console.log("promise result: "+n),r.http.post("http://127.0.0.1:5000/targetLocation",{campaign_id:e,location_id:i[0].item_id}).subscribe(function(e){console.log("res from location backend: "+e),r.updateNote(t,{zones:i})},function(t){Oa.a.fire({title:"Ciblage",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})},t.prototype.getListCampaign=function(t){return console.log(t),this.afs.collection("notes",function(e){return e.where("owner","==",""+t)}).snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return $a({id:t.payload.doc.id},e)})}))},t.prototype.updateTargetLocation=function(t,e,n,i){var r=this;return this.getCampaignZones(e,n).then(function(n){console.log("promise result: "+n.item_id),console.log("location id from me "+i[0].item_id),console.log("location id from firestore "+n[0].item_id),r.http.post("http://127.0.0.1:5000/updateLocation",{campaign_id:e,previous_location:n[0].item_id,location_id:i[0].item_id}).subscribe(function(e){console.log("res from location backend: "+e),r.updateNote(t,{zones:i})},function(t){Oa.a.fire({title:"Ciblage",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})},t.prototype.targetAge=function(t,e,n,i){return ts(this,void 0,void 0,function(){var r=this;return es(this,function(o){switch(o.label){case 0:return[4,this.getSingleCampaignWithId(i,e).then(function(i){console.log("value:"),console.log(i),console.log("age:"),console.log(n),r.http.post("http://127.0.0.1:5000/targetAgeLevelCampaign",{campaign_id:e,previous_ages:i.criterion_ages,ages:n}).subscribe(function(e){console.log("res from location backend: "+e),r.updateNote(t,{ages:n,criterion_ages:e})},function(t){Oa.a.fire({title:"Ciblage",text:"Erreur Service",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})];case 1:return[2,o.sent()]}})})},t.prototype.getSingleCampaign=function(t,e){var n=this;return this.afs.collection("notes",function(i){return i.where("name","==",""+e).where("owner","==",n.uid).where("id_campagne","==",parseInt(""+t))}).snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return $a({id:t.payload.doc.id},e)})}))},t.prototype.getSingleCampaignWithId=function(t,e){var n=this;return new Promise(function(i){n.afs.collection("notes",function(n){return n.where("owner","==",t).where("id_campagne","==",parseInt(""+e))}).valueChanges().subscribe(function(t){i(t[0])})})},t.prototype.getCampaignZones=function(t,e){var n=this;return new Promise(function(i){setTimeout(function(){n.afs.collection("notes",function(i){return i.where("name","==",""+e).where("owner","==",n.uid).where("id_campagne","==",parseInt(""+t))}).valueChanges().subscribe(function(t){console.log(t[0].zones),i(t[0].zones)})},2e3)})},t.prototype.getCampaignDates=function(t,e){var n=this;return new Promise(function(i){setTimeout(function(){n.afs.collection("notes",function(i){return i.where("name","==",""+e).where("owner","==",n.uid).where("id_campagne","==",parseInt(""+t))}).valueChanges().subscribe(function(t){console.log(t),i(t[0])})},2e3)})},t.prototype.updateStartDate=function(t,e,n,i){var r=this;return new Promise(function(o){r.http.post("http://127.0.0.1:5000/upDateCampaignStartDate",{campaign_id:e,startDate:n}).subscribe(function(e){console.log(e),r.updateNote(t,{startDate:e[0].startDate,startDateFrench:i,servingStatus:e[0].servingStatus}).then(function(t){o("ok")})},function(t){Oa.a.fire({title:"Modification date de d\xe9but",text:r.text_error_date,type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}),o("error")})})},t.prototype.updateEndDate=function(t,e,n,i){var r=this;return new Promise(function(o){r.http.post("http://127.0.0.1:5000/upDateCampaignEndDate",{campaign_id:e,endDate:n}).subscribe(function(e){console.log(e),r.updateNote(t,{endDate:e[0].endDate,endDateFrench:i,servingStatus:e[0].servingStatus}).then(function(t){o("ok")})},function(t){Oa.a.fire({title:"Modification date de fin",text:r.error_end_date,type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}),o("error")})})},t.prototype.updateDates=function(t,e,n,i,r,o){var l=this;return new Promise(function(a){l.http.post("http://127.0.0.1:5000/upDateCampaignDates",{campaign_id:e,startDate:n,endDate:r}).subscribe(function(e){console.log(e),l.updateNote(t,{endDate:e[0].endDate,endDateFrench:o,startDate:e[0].startDate,startDateFrench:i,servingStatus:e[0].servingStatus}).then(function(t){a("ok")})},function(t){a("error")})})},t.prototype.getCampaignRealTimeData=function(t,e){var n=this;return this.http.post("http://127.0.0.1:5000/getCampaignData",{campaign_id:e}).subscribe(function(i){console.log(i[0].servingStatus),n.getSingleCampaign(e,i[0].name).subscribe(function(e){e[0].servingStatus!=i[0].servingStatus&&n.updateNote(t,null==i[0].servingStatus?{servingStatus:"None"}:{servingStatus:i[0].servingStatus})})},function(t){})},t.prototype.parseDate=function(t){var e=t.split("/");return new Date(e[2],e[1],e[0])},t.prototype.datediff=function(t,e){return Math.round((e-t)/864e5)},t.prototype.prepareSaveCampaign=function(t,e,n,i,r,o,l,a,s){var u=this.afs.doc("users/"+this.uid),c={id_campagne:t,name:e,status:n,startDate:i,endDate:r,startDateFrench:o,endDateFrench:l,originalStartDate:(new Date).valueOf(),originalEndDate:(new Date).valueOf(),servingStatus:a,budget:0,dailyBudget:0,numberOfDays:this.datediff(this.parseDate(o),this.parseDate(l)),budgetId:s,zones:[],ages:[],sexes:[],devices:[],placement:[],criterion_ages:[],criterion_sexes:[],criterion_devices:[],criterion_placement:[],createdAt:Dr.firestore.FieldValue.serverTimestamp(),createdBy:u.ref,owner:this.uid};return $a({},c)},t.prototype.getData=function(){return this.notesCollection.snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return $a({id:t.payload.doc.id},e)})}))},t.prototype.getNote=function(t){return this.afs.doc("notes/"+t)},t.prototype.createTarget=function(t,e){return ts(this,void 0,void 0,function(){return es(this,function(n){return[2,this.getNote(t).update(e)]})})},t.prototype.createCampaign=function(t,e,n,i,r,o,l,a,s){return ts(this,void 0,void 0,function(){var u=this;return es(this,function(c){switch(c.label){case 0:return[4,new Promise(function(c){u.note=u.prepareSaveCampaign(t,e,n,i,r,o,l,a,s),u.notesCollection.add(u.note),c("ok")})];case 1:return[2,c.sent()]}})})},t.prototype.updateNote=function(t,e){return this.getNote(t).update(e)},t.prototype.deleteNote=function(t,e,n){var i=this;if(console.log(e.length),console.log(n.length),console.log(e),console.log(n),0==e.length)return console.log("pas de groupe , pas d'annonce"),this.getNote(t).delete();1==e.length?(console.log("un groupe d'annonce"),0==n.length?(console.log("groupe d'annonce n'a aucune annonce"),this.deleteAdGroupList(e).then(function(e){if("ok"==e)return i.getNote(t).delete()})):(console.log("ads list len "+n.length),console.log("groupe d'annonce a plusieurs annonces"),this.deleteAdList(n).then(function(n){i.deleteAdGroupList(e).then(function(e){return i.getNote(t).delete()})}))):e.length>1&&(console.log("plusieurs groupes"),0==n.length?this.deleteAdGroupList(e).then(function(e){return i.getNote(t).delete()}):this.deleteAdList(n).then(function(n){i.deleteAdGroupList(e).then(function(e){return i.getNote(t).delete()})}))},t.prototype.deleteAdList=function(t){var e=this;return new Promise(function(n){if(1==t.length)e.adsService.deleteAd(t[0]).then(function(t){n("ok")});else{console.log("groupe"),console.log(t);for(var i=0;i<t.length;i++)console.log("removing"),e.adsService.deleteAd(t[i]).then(function(t){n("ok")})}})},t.prototype.deleteAdGroupList=function(t){var e=this;return new Promise(function(n){if(1==t.length)e.adGroupService.deleteAdGroup(t[0]).then(function(t){n("ok")});else{console.log("groupe"),console.log(t);for(var i=0;i<t.length;i++)console.log("removing"),e.adGroupService.deleteAdGroup(t[i]).then(function(t){n("ok")})}})},t}(),is=function(){function t(t,e,n){var i=this;this.router=t,this.notesService=e,this.auth=n,this.isCreating=!1,this.isExist=!1,this.title="Cr\ufffder une campagne",this.auth.user.forEach(function(t){i.uid=t.uid,i.email=t.email})}return t.prototype.ngOnInit=function(){var t=this;this.notes=this.notesService.getData(),this.auth.user.forEach(function(e){t.uid=e.uid,t.email=e.email})},t.prototype.addCampaign=function(){var t=this;this.isCreating=!0;var e=oo("#campagne").val();this.notesService.addCampaign(this.email,this.uid,e).then(function(e){"error"!=e?(t.isCreating=!1,window.location.reload()):t.isCreating=!1})},t}(),rs=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function os(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](2,0,null,null,1,"app-spinner-overlay",[],null,null,null,Ql,Xl)),i["\u0275did"](3,114688,null,0,Yl,[],{message:[0,"message"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n   "]))],function(t,e){t(e,3,0,e.component.message)},null)}function ls(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["    "])),(t()(),i["\u0275eld"](1,0,null,null,29,"div",[["class","container-fluid pt-5 bg-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n   "])),(t()(),i["\u0275eld"](3,0,null,null,23,"div",[["class","text-center p-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       \n       "])),(t()(),i["\u0275eld"](5,0,null,null,0,"i",[["class","icon-note-important s-64 text-primary"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](7,0,null,null,1,"h4",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Cr\xe9er une nouvelle campagne publicitaire"])),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](10,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](12,0,null,null,5,"input",[["class","form-control"],["id","campagne"],["name","note"],["placeholder","Nom de la campagne"],["style","max-width: 200 px !important"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,13)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,13).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,13)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,13)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.name=n)&&r),r},null,null)),i["\u0275did"](13,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](15,671744,null,0,gl,[[8,null],[8,null],[8,null],[2,bo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,ko,null,[gl]),i["\u0275did"](17,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](19,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](21,0,null,null,2,"button",[["class","btn teal darken-3 shadow btn-lg text-white"],["href","#"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addCampaign()&&i),i},null,null)),(t()(),i["\u0275eld"](22,0,null,null,0,"i",[["class","icon-plus-circle mr-2 "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nouvelle Campagne"])),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](25,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       \n   "])),(t()(),i["\u0275ted"](-1,null,["\n   "])),(t()(),i["\u0275and"](16777216,null,null,1,null,os)),i["\u0275did"](29,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  \n"]))],function(t,e){var n=e.component;t(e,15,0,"note",n.name),t(e,29,0,n.isCreating)},function(t,e){var n=e.component;t(e,12,0,i["\u0275nov"](e,17).ngClassUntouched,i["\u0275nov"](e,17).ngClassTouched,i["\u0275nov"](e,17).ngClassPristine,i["\u0275nov"](e,17).ngClassDirty,i["\u0275nov"](e,17).ngClassValid,i["\u0275nov"](e,17).ngClassInvalid,i["\u0275nov"](e,17).ngClassPending),t(e,21,0,(null==n.name?null:n.name.length)<2||(null==n.name?null:n.name.length)>15)})}var as=0;function ss(t,e){var n=e;return n.unshift(void 0),new(Function.prototype.bind.apply(t,n))}function us(t,e){for(var n=e,i=t.replace(/\[/g,".").replace(/\]/g,"").split("."),r=0;r<i.length&&!gs(n);r++)n=n[i[r]];return n}function cs(t,e,n){var i,r,o=t.replace(/\[/g,".").replace(/\]/g,"").split("."),l=n||{},a=l,s=o.length;for(i=0;i<s;i++)r=o[i],i+1===s?a[r]=void 0===e?{}:e:fs(a[r])&&(a[r]={}),a=a[r];return l}function hs(t){return!fs(t)&&t.constructor==={}.constructor}function ds(t,e){if(!fs(e))for(var n=t,i=e,r=0,o=Object.keys(e);r<o.length;r++){var l=o[r];fs(n.deepMerge)||-1===n.deepMerge.indexOf(l)||!hs(i[l])&&!Array.isArray(i[l])?n[l]=i[l]:ps(n[l],n[l],i[l],!0)}}function ps(t,e,n,i){var r=t||{},o=arguments.length;i&&(o-=1);for(var l=function(t){if(!a[t])return"continue";var e=a[t];Object.keys(e).forEach(function(t){var n=r[t],o=e[t];r[t]=i&&(hs(o)||Array.isArray(o))?hs(o)?ps({},n||{},o,i):ps([],n||[],o,i):o})},a=arguments,s=1;s<o;s++)l(s);return r}function fs(t){return void 0===t||null===t}function gs(t){return"undefined"==typeof t}function ms(t){return t+"_"+as++}function vs(t){try{throw new Error(t)}catch(t){throw t.message+"\n"+t.stack}}function ys(t){var e=t+"";return"auto"===e||-1!==e.indexOf("%")||-1!==e.indexOf("px")?e:e+"px"}var bs=/^(.*?):[ \t]*([^\r\n]*)$/gm,ws="GET",_s=function(){function t(t,e,n,i){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof t?(this.url=t,this.type=e?e.toUpperCase():ws,this.mode=!!fs(n)||n):"object"==typeof t&&(this.options=t,ds(this,this.options)),this.type=this.type?this.type.toUpperCase():ws,this.contentType=void 0!==this.contentType?this.contentType:i}return t.prototype.send=function(t){var e=this;this.data=fs(t)?this.data:t;var n={cancel:!1,httpRequest:null};return new Promise(function(t,i){e.httpRequest=new XMLHttpRequest,e.httpRequest.onreadystatechange=function(){e.stateChange(t,i)},fs(e.onLoad)||(e.httpRequest.onload=e.onLoad),fs(e.onProgress)||(e.httpRequest.onprogress=e.onProgress),fs(e.onAbort)||(e.httpRequest.onabort=e.onAbort),fs(e.onError)||(e.httpRequest.onerror=e.onError),fs(e.onUploadProgress)||(e.httpRequest.upload.onprogress=e.onUploadProgress),e.httpRequest.open(e.type,e.url,e.mode),fs(e.data)||null===e.contentType||e.httpRequest.setRequestHeader("Content-Type",e.contentType||"application/json; charset=utf-8"),e.beforeSend&&(n.httpRequest=e.httpRequest,e.beforeSend(n)),n.cancel||e.httpRequest.send(fs(e.data)?null:e.data)})},t.prototype.successHandler=function(t){return this.onSuccess&&this.onSuccess(t,this),t},t.prototype.failureHandler=function(t){return this.onFailure&&this.onFailure(this.httpRequest),t},t.prototype.stateChange=function(t,e){var n=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===n)n=void 0;else try{n=JSON.parse(n)}catch(t){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?t(this.successHandler(n)):this.emitError?e(new Error(this.failureHandler(this.httpRequest.statusText))):t())},t.prototype.getResponseHeader=function(t){var e,n;e={};for(var i=bs.exec(this.httpRequest.getAllResponseHeaders());i;)e[i[1].toLowerCase()]=i[2],i=bs.exec(this.httpRequest.getAllResponseHeaders());return fs(n=e[t.toLowerCase()])?null:n},t}(),Cs=function(){function t(){}return t.addOrGetEventData=function(t){return"__eventList"in t?t.__eventList.events:(t.__eventList={},t.__eventList.events=[])},t.add=function(e,n,i,r,o){var l,a,s,u,c=t.addOrGetEventData(e);o?(a=i,s=o,l=function(){var t=this,e=arguments;clearTimeout(u),u=setTimeout(function(){return u=null,a.apply(t,e)},s)}):l=i,r&&(l=l.bind(r));for(var h=n.split(" "),d=0;d<h.length;d++)c.push({name:h[d],listener:i,debounce:l}),e.addEventListener(h[d],l);return l},t.remove=function(e,n,i){for(var r=t.addOrGetEventData(e),o=n.split(" "),l=function(t){var n,l=-1;r&&0!==r.length&&r.some(function(e,r){return e.name===o[t]&&e.listener===i&&(l=r,n=e.debounce,!0)}),-1!==l&&r.splice(l,1),n&&e.removeEventListener(o[t],n)},a=0;a<o.length;a++)l(a)},t.clearEvents=function(e){var n,i;i=ps([],i,n=t.addOrGetEventData(e));for(var r=0;r<i.length;r++)e.removeEventListener(i[r].name,i[r].debounce),n.shift()},t.trigger=function(e,n,i){for(var r=0,o=t.addOrGetEventData(e);r<o.length;r++){var l=o[r];l.name===n&&l.debounce.call(this,i)}},t}(),xs=/^svg|^path|^g/;function Ss(t,e){var n=xs.test(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return"undefined"==typeof e?n:(n.innerHTML=e.innerHTML?e.innerHTML:"",void 0!==e.className&&(n.className=e.className),void 0!==e.id&&(n.id=e.id),void 0!==e.styles&&n.setAttribute("style",e.styles),void 0!==e.attrs&&Ms(n,e.attrs),n)}function Es(t,e){for(var n=ks(e),i=0,r=t;i<r.length;i++)for(var o=r[i],l=0,a=n;l<a.length;l++){var s=a[l];o.classList.contains(s)||o.classList.add(s)}return t}function Ts(t,e){for(var n=ks(e),i=0,r=t;i<r.length;i++){var o=r[i];if(""!==o.className)for(var l=0,a=n;l<a.length;l++)o.classList.remove(a[l])}return t}function ks(t){var e=[];return"string"==typeof t?e.push(t):e=t,e}function As(t){return""===t.style.visibility&&t.offsetWidth>0}function Ds(t,e,n){for(var i=document.createDocumentFragment(),r=0,o=t;r<o.length;r++)i.appendChild(o[r]);return e.insertBefore(i,e.firstElementChild),n&&Is(e),t}function Os(t,e,n){for(var i=document.createDocumentFragment(),r=0,o=t;r<o.length;r++)i.appendChild(o[r]);return e.appendChild(i),n&&Is(e),t}function Is(t){t.querySelectorAll("script").forEach(function(t){var e=document.createElement("script");e.text=t.innerHTML,document.head.appendChild(e),Rs(e)})}function Rs(t){return t.parentNode.removeChild(t)}function Ps(t){var e=t.parentNode;Cs.clearEvents(t),e.removeChild(t)}function Ms(t,e){for(var n=t,i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];n.setAttribute(o,e[o])}return n}function Ns(t,e){return void 0===e&&(e=document),e.querySelector(t)}function js(t,e){return void 0===e&&(e=document),e.querySelectorAll(t)}function Ls(t,e){var n=t;if("function"==typeof n.closest)return n.closest(e);for(;n&&1===n.nodeType;){if(Vs(n,e))return n;n=n.parentNode}return null}function Fs(t,e){void 0!==e&&Object.keys(e).forEach(function(n){t.style[n]=e[n]})}function Vs(t,e){var n=t.matches||t.msMatchesSelector||t.webkitMatchesSelector;return n?n.call(t,e):-1!==[].indexOf.call(document.querySelectorAll(e),t)}var Bs=function(){function t(t){this.ranArray=[],this.boundedEvents={},fs(t)||(this.context=t)}return t.prototype.on=function(t,e,n,i){if(!fs(e)){var r=n||this.context;this.notExist(t)?this.boundedEvents[t]=[{handler:e,context:r}]:fs(i)?this.isHandlerPresent(this.boundedEvents[t],e)||this.boundedEvents[t].push({handler:e,context:r}):-1===this.ranArray.indexOf(i)&&(this.ranArray.push(i),this.boundedEvents[t].push({handler:e,context:r,id:i}))}},t.prototype.off=function(t,e,n){if(!this.notExist(t)){var i=us(t,this.boundedEvents);if(e){for(var r=0;r<i.length;r++)if(n){if(i[r].id===n){i.splice(r,1);var o=this.ranArray.indexOf(n);-1!==o&&this.ranArray.splice(o,1);break}}else if(e===i[r].handler){i.splice(r,1);break}}else delete this.boundedEvents[t]}},t.prototype.notify=function(t,e){if(!this.notExist(t)){e&&(e.name=t);for(var n=0,i=us(t,this.boundedEvents).slice(0);n<i.length;n++){var r=i[n];r.handler.call(r.context,e)}}},t.prototype.destroy=function(){this.boundedEvents=this.context=void 0},t.prototype.notExist=function(t){return!1===this.boundedEvents.hasOwnProperty(t)},t.prototype.isHandlerPresent=function(t,e){for(var n=0,i=t;n<i.length;n++)if(i[n].handler===e)return!0;return!1},t}(),Us=new RegExp("]"),qs=function(){function t(t,e){this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.refreshing=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new Bs(this),gs(e)||(this.element="string"==typeof e?document.querySelector(e):e,fs(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),gs(t)||this.setProperties(t,!0),this.isDestroyed=!1}return t.prototype.setProperties=function(t,e){var n=this.isProtectedOnChange;this.isProtectedOnChange=!!e,ds(this,t),!0!==e&&(ds(this.changedProperties,t),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=n},t.callChildDataBind=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];if(e[r]instanceof Array)for(var o=0,l=e[r];o<l.length;o++){var a=l[o];void 0!==a.dataBind&&a.dataBind()}else e[r].dataBind()}},t.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},t.prototype.dataBind=function(){if(t.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var e=this.isProtectedOnChange,n=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(n,i),this.isProtectedOnChange=e}},t.prototype.saveChanges=function(t,e,n){this.isProtectedOnChange||(this.oldProperties[t]=n,this.changedProperties[t]=e,this.finalUpdate(),this.finalUpdate=function(t){var e,n=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(n);var i="ej2"+function(t){for(var e="",n=0;n<5;n++)e+=(n?",":"")+t[n];return e}(n),r=function(n){n.source===window&&"string"==typeof n.data&&n.data.length<=32&&n.data===i&&(t(),e())};return window.addEventListener("message",r,!1),window.postMessage(i,"*"),e=function(){window.removeEventListener("message",r),t=r=i=void 0}}(this.dataBind.bind(this)))},t.prototype.addEventListener=function(t,e){this.modelObserver.on(t,e)},t.prototype.removeEventListener=function(t,e){this.modelObserver.off(t,e)},t.prototype.trigger=function(t,e){if(!0!==this.isDestroyed){var n=this.isProtectedOnChange;if(this.isProtectedOnChange=!1,this.modelObserver.notify(t,e),Us.test(t)){var i=us(t,this);i&&i.call(this,e)}this.isProtectedOnChange=n}},t.prototype.addInstance=function(){var t="e-"+this.getModuleName().toLowerCase();Es([this.element],["e-lib",t]),fs(this.element.ej2_instances)?cs("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},t.prototype.destroy=function(){var t=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(e){return e!==t}),Ts([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&Ts([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},t}(),Ws=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Hs=/msie|trident/i,zs=/Trident\/7\./,Gs=/(ipad|iphone|ipod touch)/i,Ys=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,Xs=/android/i,Ks=/trident|windows phone|edge/i,Qs=/(version)[ \/]([\w.]+)/i,Zs={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});var Js=function(){function t(){}return t.extractBrowserDetail=function(){for(var e={culture:{}},n=[],i=0,r=Object.keys(Zs);i<r.length;i++)if(n=t.userAgent.match(Zs[r[i]])){if(e.name="opr"===n[1].toLowerCase()?"opera":n[1].toLowerCase(),e.name="crios"===n[1].toLowerCase()?"chrome":e.name,e.version=n[2],e.culture.name=e.culture.language=navigator.language,t.userAgent.match(zs)){e.name="msie";break}var o=t.userAgent.match(Qs);"safari"===e.name&&o&&(e.version=o[2]);break}return e},t.getEvent=function(e){var n={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return t.isPointer?n[e].isPointer:t.isTouch?n[e].isTouch+(t.isDevice?"":" "+n[e].isDevice):n[e].isDevice},t.getTouchStartEvent=function(){return t.getEvent("start")},t.getTouchEndEvent=function(){return t.getEvent("end")},t.getTouchMoveEvent=function(){return t.getEvent("move")},t.getTouchCancelEvent=function(){return t.getEvent("cancel")},t.getValue=function(e,n){var i=window.browserDetails;return"undefined"==typeof i[e]?i[e]=n.test(t.userAgent):i[e]},Object.defineProperty(t,"userAgent",{get:function(){return t.uA},set:function(e){t.uA=e,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"info",{get:function(){return gs(window.browserDetails.info)?window.browserDetails.info=t.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIE",{get:function(){return t.getValue("isIE",Hs)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isTouch",{get:function(){return gs(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isPointer",{get:function(){return gs(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isMSPointer",{get:function(){return gs(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isDevice",{get:function(){return t.getValue("isDevice",Ws)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIos",{get:function(){return t.getValue("isIos",Gs)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIos7",{get:function(){return t.getValue("isIos7",Ys)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isAndroid",{get:function(){return t.getValue("isAndroid",Xs)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWebView",{get:function(){return gs(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(gs(window.cordova)&&gs(window.PhoneGap)&&gs(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWindows",{get:function(){return t.getValue("isWindows",Ks)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchStartEvent",{get:function(){return gs(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=t.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchMoveEvent",{get:function(){return gs(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=t.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchEndEvent",{get:function(){return gs(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=t.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t,"touchCancelEvent",{get:function(){return gs(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=t.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),t.uA="undefined"!=typeof navigator?navigator.userAgent:"",t}();function $s(t,e,n,i){return t.properties.hasOwnProperty(e)&&t.properties[e]instanceof i||(t.properties[e]=ss(i,[t,e,n])),t.properties[e]}function tu(t,e,n,i,r,o){for(var l=[],a=n.length,s=0;s<a;s++){var u=i;if(o&&(u=i(n[s],t)),r){var c=ss(u,[t,e,{},!0]);c.setProperties(n[s],!0),l.push(c)}else l.push(ss(u,[t,e,n[s],!0]))}return l}function eu(t,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[e]=t),this.properties[e]}}function nu(t){return function(e,n){var i={set:function(t,e){return function(n){if(this.properties[e]!==n){var i=this.properties.hasOwnProperty(e)?this.properties[e]:t;this.saveChanges(e,n,i),this.properties[e]=n}}}(t,n),get:eu(t,n),enumerable:!0,configurable:!0};Object.defineProperty(e,n,i),au(e,n,"prop",t)}}function iu(t,e){return function(n,i){var r={set:function(t,e,n){return function(i){$s(this,e,t,n).setProperties(i)}}(t,i,e),get:function(t,e,n){return function(){return $s(this,e,t,n)}}(t,i,e),enumerable:!0,configurable:!0};Object.defineProperty(n,i,r),au(n,i,"complexProp",t,e)}}function ru(t,e){return function(n,i){var r={set:function(t,e,n){return function(i){var r=tu(this,e,t,n,!1),o=tu(this,e,i,n,!0);this.saveChanges(e,o,r),this.properties[e]=o}}(t,i,e),get:function(t,e,n){return function(){if(!this.properties.hasOwnProperty(e)){var i=tu(this,e,t,n,!1);this.properties[e]=i}return this.properties[e]}}(t,i,e),enumerable:!0,configurable:!0};Object.defineProperty(n,i,r),au(n,i,"colProp",t,e)}}function ou(){return function(t,e){var n={set:function(t){var n=this.properties[e];if(n!==t){var i=function t(e,n){if(!1===e.hasOwnProperty("parentObj"))return{context:e,prefix:n};var i=us("propName",e);return i&&(n=i+"-"+n),t(us("parentObj",e),n)}(this,e);!1===gs(n)&&i.context.removeEventListener(i.prefix,n),i.context.addEventListener(i.prefix,t),this.properties[e]=t}},get:eu(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(t,e,n),au(t,e,"event")}}function lu(t){}function au(t,e,n,i,r){gs(t.propList)&&(t.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),t.propList[n+"s"].push({propertyName:e,defaultValue:i,type:r}),t.propList[n+"Names"].push(e)}var su=function(t){function e(e){var n=t.call(this,e,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}var n;return Object(l.__extends)(e,t),n=e,e.prototype.animate=function(t,e){var i=this.getModel(e=e||{});if("string"==typeof t)for(var r=0,o=Array.prototype.slice.call(js(t,document));r<o.length;r++)i.element=o[r],n.delayAnimation(i);else i.element=t,n.delayAnimation(i)},e.stop=function(t,e){t.style.animation="",t.removeAttribute("e-animate");var n=t.getAttribute("e-animation-id");if(n){var i=parseInt(n,10);cancelAnimationFrame(i),t.removeAttribute("e-animation-id")}e&&e.end&&e.end.call(this,e)},e.delayAnimation=function(t){t.delay?setTimeout(function(){n.applyAnimation(t)},t.delay):n.applyAnimation(t)},e.applyAnimation=function(t){var e=this;t.timeStamp=0;var n=0,i=0,r=0,o=t.duration;t.element.setAttribute("e-animate","true");var l=function(a){try{a?(t.timeStamp=a+t.timeStamp-(r=0===r?a:r),r=a,!n&&t.begin&&t.begin.call(e,t),n+=1,t.timeStamp<o&&t.timeStamp+t.timeStamp/n<o&&t.element.getAttribute("e-animate")?(t.element.style.animation=t.name+" "+t.duration+"ms "+t.timingFunction,t.progress&&t.progress.call(e,t),requestAnimationFrame(l)):(cancelAnimationFrame(i),t.element.removeAttribute("e-animation-id"),t.element.removeAttribute("e-animate"),t.element.style.animation="",t.end&&t.end.call(e,t))):(performance.now(),i=requestAnimationFrame(l),t.element.setAttribute("e-animation-id",i.toString()))}catch(n){cancelAnimationFrame(i),t.element.removeAttribute("e-animation-id"),t.fail&&t.fail.call(e,n)}};l()},e.prototype.getModel=function(t){return{name:t.name||this.name,delay:t.delay||this.delay,duration:void 0!==t.duration?t.duration:this.duration,begin:t.begin||this.begin,end:t.end||this.end,fail:t.fail||this.fail,progress:t.progress||this.progress,timingFunction:this.easing[t.timingFunction]?this.easing[t.timingFunction]:t.timingFunction||this.easing[this.timingFunction]}},e.prototype.onPropertyChanged=function(t,e){},e.prototype.getModuleName=function(){return"animation"},e.prototype.destroy=function(){},Object(l.__decorate)([nu("FadeIn")],e.prototype,"name",void 0),Object(l.__decorate)([nu(400)],e.prototype,"duration",void 0),Object(l.__decorate)([nu("ease")],e.prototype,"timingFunction",void 0),Object(l.__decorate)([nu(0)],e.prototype,"delay",void 0),Object(l.__decorate)([ou()],e.prototype,"progress",void 0),Object(l.__decorate)([ou()],e.prototype,"begin",void 0),Object(l.__decorate)([ou()],e.prototype,"end",void 0),Object(l.__decorate)([ou()],e.prototype,"fail",void 0),n=Object(l.__decorate)([lu],e)}(qs);function uu(t,e,n){var i=function(t){return{selector:t&&t.selector?t.selector:null,ignore:t&&t.ignore?t.ignore:null,rippleFlag:t&&t.rippleFlag,isCenterRipple:t&&t.isCenterRipple,duration:t&&t.duration?t.duration:350}}(e);return!1===i.rippleFlag||void 0===i.rippleFlag&&!mu?Function:(t.setAttribute("data-ripple","true"),Cs.add(t,"mousedown",cu,{parent:t,rippleOptions:i}),Cs.add(t,"mouseup",hu,{parent:t,rippleOptions:i,done:n}),Cs.add(t,"mouseleave",du,{parent:t,rippleOptions:i}),Js.isPointer&&Cs.add(t,"transitionend",du,{parent:t,rippleOptions:i}),function(){t.removeAttribute("data-ripple"),Cs.remove(t,"mousedown",cu),Cs.remove(t,"mouseup",hu),Cs.remove(t,"mouseleave",du),Cs.remove(t,"transitionend",du)})}function cu(t){var e=t.target,n=this.rippleOptions.selector,i=n?Ls(e,n):e;if(!(!i||this.rippleOptions&&Ls(e,this.rippleOptions.ignore))){var r=i.getBoundingClientRect(),o=t.pageX-document.body.scrollLeft,l=t.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(o-r.left),Math.abs(o-r.right)),s=Math.max(Math.abs(l-r.top),Math.abs(l-r.bottom)),u=Math.sqrt(a*a+s*s),c=2*u+"px",h=o-r.left-u,d=l-r.top-u;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(h=0,d=0,c="100%"),i.classList.add("e-ripple");var p=Ss("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+h+"px;top: "+d+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(p),window.getComputedStyle(p).getPropertyValue("opacity"),p.style.transform="scale(1)",i!==this.parent&&Cs.add(i,"mouseleave",du,{parent:this.parent,rippleOptions:this.rippleOptions})}}function hu(t){pu(t,this)}function du(t){pu(t,this)}function pu(t,e){var n=e.rippleOptions.duration,i=t.target,r=e.rippleOptions.selector,o=r?Ls(i,r):i;if(o&&(!o||-1!==o.className.indexOf("e-ripple"))){var l=js(".e-ripple-element",o),a=l[l.length-1];a&&(a.style.opacity="0.5"),e.parent!==o&&Cs.remove(o,"mouseleave",du),setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a),o.getElementsByClassName("e-ripple-element").length||o.classList.remove("e-ripple"),e.done&&e.done(t)},n)}}var fu,gu,mu=!1,vu=function(){function t(t){this.loadedModules=[],this.parent=t}return t.prototype.inject=function(t,e){var n=t.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(t);for(var i=0;i<n;i++)for(var r=t[i],o=0,l=e;o<l.length;o++){var a=l[o],s=r.member;if(a.prototype.getModuleName()===r.member&&!this.isModuleLoaded(s)){var u=ss(a,r.args),c=this.getMemberName(s);cs(c,r.isProperty?a:u,this.parent);var h=r;h.member=c,this.loadedModules.push(h)}}}else this.clean()},t.prototype.clean=function(){for(var t=0,e=this.loadedModules;t<e.length;t++){var n=e[t];n.isProperty||us(n.member,this.parent).destroy()}this.loadedModules=[]},t.prototype.clearUnusedModule=function(t){for(var e=this,n=t.map(function(t){return e.getMemberName(t.member)}),i=0,r=this.loadedModules.filter(function(t){return-1===n.indexOf(t.member)});i<r.length;i++){var o=r[i];o.isProperty||us(o.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(o),1),delete this.parent[o.member]}},t.prototype.getMemberName=function(t){return t[0].toLowerCase()+t.substring(1)+"Module"},t.prototype.isModuleLoaded=function(t){for(var e=0,n=this.loadedModules;e<n.length;e++)if(n[e].member===this.getMemberName(t))return!0;return!1},t}(),yu=function(){function t(t,e,n,i){this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=us("callChildDataBind",qs),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=e,this.setProperties(n,!0),this.isParentArray=i}return t.prototype.updateChange=function(t,e){!0===t?this.parentObj.childChangedProperties[e]=t:delete this.parentObj.childChangedProperties[e],this.parentObj.updateChange&&this.parentObj.updateChange(t,this.parentObj.propName)},t.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var t=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(t)}}},t.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},t.prototype.setProperties=function(t,e){!0===e?(ds(this,t),this.updateChange(!1,this.propName),this.clearChanges()):ds(this,t)},t.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var t=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(cs(this.propName+"."+t,this.changedProperties,this.parentObj.changedProperties),cs(this.propName+"."+t,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},t.prototype.saveChanges=function(t,e,n){this.controlParent.isProtectedOnChange||(this.oldProperties[t]=n,this.changedProperties[t]=e,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},t}(),bu={latn:{_digits:"0123456789",_type:"numeric"}},wu={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},_u=[0,1,2,3,4,5,6,7,8,9],Cu=function(){function t(){}return t.getMainObject=function(t,e){return us("main."+e,t)},t.getNumberingSystem=function(t){return us("supplemental.numberingSystems",t)||this.numberingSystems},t.reverseObject=function(t,e){for(var n={},i=0,r=e||Object.keys(t);i<r.length;i++){var o=r[i];n.hasOwnProperty(t[o])||(n[t[o]]=o)}return n},t.getSymbolRegex=function(t){var e=t.map(function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join("|");return new RegExp(e,"g")},t.getSymbolMatch=function(t){for(var e={},n=0,i=Object.keys(wu);n<i.length;n++){var r=i[n];e[t[r]]=wu[r]}return e},t.constructRegex=function(t){for(var e=t.length,n="",i=0;i<e;i++)n+=i!==e-1?t[i]+"|":t[i];return n},t.convertValueParts=function(t,e,n){return t.replace(e,function(t){return n[t]})},t.getDefaultNumberingSystem=function(t){var e={};return e.obj=us("numbers",t),e.nSystem=us("defaultNumberingSystem",e.obj),e},t.getCurrentNumericOptions=function(t,e,n){var i={},r=this.getDefaultNumberingSystem(t);if(!gs(r.nSystem)){var o=us(r.nSystem+"._digits",e);gs(o)||(i.numericPair=this.reverseObject(o,_u),i.numberParseRegex=new RegExp(this.constructRegex(o),"g"),i.numericRegex="["+o[0]+"-"+o[9]+"]",n&&(i.numericRegex=o[0]+"-"+o[9],i.symbolNumberSystem=us("symbols-numberSystem-"+r.nSystem,r.obj),i.symbolMatch=this.getSymbolMatch(i.symbolNumberSystem),i.numberSystem=r.nSystem))}return i},t.getNumberMapper=function(t,e,n){var i={mapper:{}},r=this.getDefaultNumberingSystem(t);if(!gs(r.nSystem)){i.numberSystem=r.nSystem,i.numberSymbols=us("symbols-numberSystem-"+r.nSystem,r.obj),i.timeSeparator=us("timeSeparator",i.numberSymbols);var o=us(r.nSystem+"._digits",e);if(!gs(o))for(var l=0,a=_u;l<a.length;l++){var s=a[l];i.mapper[s]=o[s]}}return i},t.nPair="numericPair",t.nRegex="numericRegex",t.numberingSystems=bu,t}(),xu={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},Su=["infinity","nan","group","decimal","exponential"],Eu=function(){function t(){}return t.numberFormatter=function(t,e,n){var i,r=this,o=ps({},e),l={},a={},s=fu.getDependables(n,t,"",!0);a.numberMapper=Cu.getNumberMapper(s.parserObject,Cu.getNumberingSystem(n),!0),a.currencySymbol=fu.getCurrencySymbol(s.numericObject,o.currency||qu),a.percentSymbol=a.numberMapper.numberSymbols.percentSign,a.minusSymbol=a.numberMapper.numberSymbols.minusSign;var u=a.numberMapper.numberSymbols;if(e.format&&!fu.formatRegex.test(e.format))l=fu.customFormat(e.format,a,s.numericObject);else{ps(o,fu.getProperNumericSkeleton(e.format||"N")),o.isCurrency="currency"===o.type,o.isPercent="percent"===o.type,i=fu.getSymbolPattern(o.type,a.numberMapper.numberSystem,s.numericObject,o.isAccount),o.groupOne=this.checkValueRange(o.maximumSignificantDigits,o.minimumSignificantDigits,!0),this.checkValueRange(o.maximumFractionDigits,o.minimumFractionDigits,!1,!0),gs(o.fractionDigits)||(o.minimumFractionDigits=o.maximumFractionDigits=o.fractionDigits),gs(o.useGrouping)&&(o.useGrouping=!0),o.isCurrency&&(i=i.replace(/\u00A4/g,fu.defaultCurrency));var c=i.split(";");if(l.nData=fu.getFormatData(c[1]||"-"+c[0],!0,a.currencySymbol),l.pData=fu.getFormatData(c[0],!1,a.currencySymbol),o.useGrouping&&(o.groupSeparator=u[Su[2]],o.groupData=this.getGroupingDetails(c[0])),gs(o.minimumFractionDigits)&&(o.minimumFractionDigits=l.nData.minimumFraction),gs(o.maximumFractionDigits)){var h=l.nData.maximumFraction;o.maximumFractionDigits=gs(h)&&o.isPercent?0:h}var d=o.minimumFractionDigits,p=o.maximumFractionDigits;gs(d)||gs(p)||d>p&&(o.maximumFractionDigits=d)}return ps(l.nData,o),ps(l.pData,o),function(t){return isNaN(t)?u[Su[1]]:isFinite(t)?r.intNumberFormatter(t,l,a):u[Su[0]]}},t.getGroupingDetails=function(t){var e={},n=t.match(fu.negativeDataRegex);if(n&&n[4]){var i=n[4],r=i.lastIndexOf(",");if(-1!==r){var o=i.split(".")[0];e.primary=o.length-r-1;var l=i.lastIndexOf(",",r-1);-1!==l&&(e.secondary=r-1-l)}}return e},t.checkValueRange=function(t,e,n,i){var r=i?"f":"s",o=0,l=xu["l"+r],a=xu["m"+r];if(gs(t)||(this.checkRange(t,l,i),o++),gs(e)||(this.checkRange(e,a,i),o++),2===o){if(!(t<e))return!0;vs(a+"specified must be less than the"+l)}else n&&1===o&&vs("Both"+a+"and"+a+"must be present");return!1},t.checkRange=function(t,e,n){var i=n?[0,20]:[1,21];(t<i[0]||t>i[1])&&vs(e+"value must be within the range"+i[0]+"to"+i[1])},t.intNumberFormatter=function(t,e,n){var i;if(!gs(e.nData.type)){t<0?(t*=-1,i=e.nData):i=0===t&&e.zeroData||e.pData;var r="";return i.isPercent&&(t*=100),i.groupOne?r=this.processSignificantDigits(t,i.minimumSignificantDigits,i.maximumSignificantDigits):(r=this.processFraction(t,i.minimumFractionDigits,i.maximumFractionDigits),i.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,i.minimumIntegerDigits))),"scientific"===i.type&&(r=(r=t.toExponential(i.maximumFractionDigits)).replace("e",n.numberMapper.numberSymbols[Su[4]])),r=r.replace(".",n.numberMapper.numberSymbols[Su[3]]),i.useGrouping&&(r=this.groupNumbers(r,i.groupData.primary,i.groupSeparator||",",n.numberMapper.numberSymbols[Su[3]]||".",i.groupData.secondary)),r=Cu.convertValueParts(r,fu.latnParseRegex,n.numberMapper.mapper),"N/A"===i.nlead?i.nlead:i.nlead+r+i.nend}},t.processSignificantDigits=function(t,e,n){var i=t+"";return i.length<e?t.toPrecision(e):+(i=t.toPrecision(n))+""},t.groupNumbers=function(t,e,n,i,r){for(var o=!fs(r)&&0!==r,l=t.split(i),a=l[0],s=a.length,u="";s>e;)u=a.slice(s-e,s)+(u.length?n+u:""),s-=e,o&&(e=r,o=!1);return l[0]=a.slice(0,s)+(u.length?n:"")+u,l.join(i)},t.processFraction=function(t,e,n){var i=(t+"").split(".")[1],r=i?i.length:0;if(e&&r<e){var o="";if(0!==r){o+=t;for(var l=0;l<e-r;l++)o+="0";return o}return o=t.toFixed(e),t.toFixed(e)}return!fs(n)&&(r>n||0===n)?t.toFixed(n):t+""},t.processMinimumIntegers=function(t,e){var n=t.split("."),i=n[0],r=i.length;if(r<e){for(var o=0;o<e-r;o++)i="0"+i;n[0]=i}return n.join(".")},t}();!function(t){t.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,t.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,t.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var e=/[0-9]/g;t.defaultCurrency="$";var n=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,r={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};t.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};t.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,t.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,t.curWithoutNumberRegex=/(c|a)$/gi;var l={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function a(e,n,i,r){var o,l=i||"date";if(-1!==t.basicPatterns.indexOf(e)){if(o=us(l+"Formats."+e,n),"dateTime"===l){var a=us("dateFormats."+e,n),s=us("timeFormats."+e,n);o=o.replace("{1}",a).replace("{0}",s)}}else o=us("dateTimeFormats.availableFormats."+e,n);return gs(o)&&"yMd"===e&&(o="M/d/y"),o}function s(e,n,i,r){var o={},l=i||"gregorian";return o.parserObject=Cu.getMainObject(e,n)||t.defaultObject,r?o.numericObject=us("numbers",o.parserObject):o.dateObject=us("dates.calendars."+l,o.parserObject),o}function u(t,e,n,i){return us(t+"Formats-numberSystem-"+e+(i?".accounting":".standard"),n)||(i?us(t+"Formats-numberSystem-"+e+".standard",n):"")}function c(e){var n=e.match(t.formatRegex),i={},r=n[1].toUpperCase();return i.isAccount="A"===r,i.type=t.patternMatcher[r],e.length>1&&(i.fractionDigits=parseInt(n[2],10)),i}function h(n,i,r,o){var l=o?{}:{nlead:"",nend:""},a=n.match(t.customRegex);if(a){o||(l.nlead=d(a[1],r),l.nend=d(a[10],r),l.groupPattern=a[4]);var s=a[7];if(s&&i){var u=s.match(e);l.minimumFraction=fs(u)?0:u.length,l.maximumFraction=s.length-1}}return l}function d(e,n){return e?e.replace(t.defaultCurrency,n):""}function p(t,e){return us("currencies."+e+".symbol",t)||"$"}function f(e,i,r){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},l=e.match(t.customRegex);(fs(l)||""===l[5]&&"N/A"!==e)&&(o.type=void 0),o.nlead=l[1],o.nend=l[10];var a=l[6];o.useGrouping=-1!==a.indexOf(","),a=a.replace(/,/g,"");var s=l[7];if(-1!==a.indexOf("0")&&(o.minimumIntegerDigits=a.length-a.indexOf("0")),fs(s)||(o.minimumFractionDigits=s.lastIndexOf("0"),o.maximumFractionDigits=s.lastIndexOf("#"),-1===o.minimumFractionDigits&&(o.minimumFractionDigits=0),(-1===o.maximumFractionDigits||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),fs(i)?ps(o,g([o.nlead,o.nend],"%","%")):(ps(o,g([o.nlead,o.nend],"$",i.currencySymbol)),o.isCurrency||ps(o,g([o.nlead,o.nend],"%",i.percentSymbol))),!fs(r)){var c=u(o.type,i.numberMapper.numberSystem,r,!1);o.useGrouping&&(o.groupSeparator=i.numberMapper.numberSymbols[n[2]],o.groupData=Eu.getGroupingDetails(c.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")}return o}function g(t,e,n){for(var i={nlead:t[0],nend:t[1]},r=0;r<2;r++){var o=t[r],a=o.indexOf(e);if(-1!==a&&(a<o.indexOf("'")||a>o.lastIndexOf("'"))){i[l[r]]=o.substr(0,a)+n+o.substr(a+1),i[l[e]]=!0,i.type=i.isCurrency?"currency":"percent";break}}return i}t.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,t.basicPatterns=["short","medium","long","full"],t.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},t.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},t.month="months",t.days="days",t.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},t.getResultantPattern=a,t.getDependables=s,t.getSymbolPattern=u,t.getProperNumericSkeleton=c,t.getFormatData=h,t.getCurrencySymbol=p,t.customFormat=function(t,e,n){for(var i={},r=t.split(";"),o=["pData","nData","zeroData"],l=0;l<r.length;l++)i[o[l]]=f(r[l],e,n);return fs(i.nData)&&(i.nData=ps({},i.pData),i.nData.nlead=fs(e)?"-"+i.nData.nlead:e.minusSymbol+i.nData.nlead),i},t.isCurrencyPercent=g,t.getDateSeparator=function(t){var e=(us("dateFormats.short",t)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return e?e[1]:"/"},t.getActualDateTimeFormat=function(t,e,n,o){var l=s(n,t,e.calendar),u=e.format||a(e.skeleton,l.dateObject,e.type);if(o){if(-1!==(u=u.replace(i,function(t){return r[t]})).indexOf("z")){var c=u.match(/z/g).length,h=void 0,d={timeZone:{}};d.numMapper=Cu.getNumberMapper(l.parserObject,Cu.getNumberingSystem(n)),d.timeZone=us("dates.timeZoneNames",l.parserObject);var p=(new Date).getTimezoneOffset(),f=c<4?"+H;-H":d.timeZone.hourFormat;f=f.replace(/:/g,d.numMapper.timeSeparator),0===p?h=d.timeZone.gmtZeroFormat:(h=Ou.getTimeZoneValue(p,f),h=d.timeZone.gmtFormat.replace(/\{0\}/,h)),u=u.replace(/[z]+/,'"'+h+'"')}u=u.replace(/ $/,"")}return u},t.getActualNumberFormat=function(e,n,i){var r,o,l=s(i,e,"",!0),a={custom:!0},d={},f=(n.format||"").match(t.currencyFormatRegex);if(f){var g={};g.numberMapper=Cu.getNumberMapper(l.parserObject,Cu.getNumberingSystem(i),!0);var m=p(l.numericObject,n.currency||qu),v=u("currency",g.numberMapper.numberSystem,l.numericObject,/a/i.test(n.format)),y=(v=v.replace(/\u00A4/g,m)).split(";");d.hasNegativePattern=y.length>1,d.nData=h(y[1]||"-"+y[0],!0,m),d.pData=h(y[0],!1,m),f[2]||n.minimumFractionDigits||n.maximumFractionDigits||(r=h(v.split(";")[0],!0,"",!0).minimumFraction)}if(t.formatRegex.test(n.format)||!n.format){if(ps(a,c(n.format||"N")),a.custom=!1,o="###0",(a.fractionDigits||n.minimumFractionDigits||n.maximumFractionDigits||r)&&(a.fractionDigits&&(n.minimumFractionDigits=n.maximumFractionDigits=a.fractionDigits),o=function(t,e,n){t+=".";for(var i=0;i<e;i++)t+="0";if(e<n)for(var r=n-e,o=0;o<r;o++)t+="#";return t}(o,r||a.fractionDigits||n.minimumFractionDigits||0,n.maximumFractionDigits||0)),n.minimumIntegerDigits&&(o=function(t,e){for(var n=o.split("."),i="",r=0;r<e;r++)i+="0";return n[1]?i+"."+n[1]:i}(0,n.minimumIntegerDigits)),n.useGrouping&&(o=function(t){var e=t.split("."),n=e[0],i=3-n.length%3;t="";for(var r=(n=(i&&1===i?"#":2===i?"##":"")+n).length-1;r>0;r-=3)t=","+n[r-2]+n[r-1]+n[r]+t;return t=t.slice(1),e[1]?t+"."+e[1]:t}(o)),"currency"===a.type){var b=o;o=d.pData.nlead+b+d.pData.nend,d.hasNegativePattern&&(o+=";"+d.nData.nlead+b+d.nData.nend)}"percent"===a.type&&(o+=" %")}else o=n.format.replace(/\'/g,'"');return o},t.getWeekData=function(t,e){var n="sun",i=us("supplemental.weekData.firstDay",e),r=t;return/en-/.test(r)&&(r=r.slice(3)),r=r.slice(0,2).toUpperCase()+r.substr(2),i&&(n=i[r]||"sun"),o[n]}}(fu||(fu={})),function(t){var e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];t.getHijriDate=function(t){var n=t.getDate(),i=t.getMonth(),r=t.getFullYear(),o=i+1,l=r;o<3&&(l-=1,o+=12);var a=Math.floor(l/100),s=a-Math.floor(a/4)-2,u=Math.floor(365.25*(l+4716))+Math.floor(30.6001*(o+1))+n-s-1524,c=u+(s=(a=Math.floor((u-1867216.25)/36524.25))-Math.floor(a/4)+1)+1524,h=Math.floor((c-122.1)/365.25),d=Math.floor(365.25*h),p=Math.floor((c-d)/30.6001);n=c-d-Math.floor(30.6001*p),(i=Math.floor((c-d)/20.6001))>13&&(h+=1,i-=12),i-=1,r=h-4716;var f=u-24e5,g=u-1948084,m=Math.floor(g/10631);g-=10631*m;var v=Math.floor((g-.1335)/(10631/30)),y=30*m+v;g-=Math.floor(v*(10631/30)+.1335);var b=Math.floor((g+28.5001)/29.5);13===b&&(b=12);for(var w=g-Math.floor(29.5001*b-29),_=0;_<e.length&&!(e[_]>f);_++);var C=_+16260,x=Math.floor((C-1)/12),S=x+1,E=C-12*x,T=f-e[_-1]+1;return(T+"").length>2&&(T=w,E=b,S=y),{year:S,month:E,date:T}},t.toGregorian=function(t,n,i){var r=Math.floor(i+e[12*(t-1)+1+(n-1)-16260-1]-1+24e5+.5),o=Math.floor((r-1867216.25)/36524.25),l=1524+(o=r+1+o-Math.floor(o/4)),a=Math.floor((l-122.1)/365.25),s=Math.floor(365.25*a),u=Math.floor((l-s)/30.6001),c=l-s-Math.floor(30.6001*u),h=u-(u>13.5?13:1),d=a-(h>2.5?4716:4715);return d<=0&&h--,new Date(d+"/"+h+"/"+c)}}(gu||(gu={}));var Tu=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|cccc|ccc|G+|z+/gi,ku=["sun","mon","tue","wed","thu","fri","sat"],Au={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate"},Du={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},Ou=function(){function t(){}return t.dateFormat=function(t,e,n){var i=this,r=fu.getDependables(n,t,e.calendar),o={isIslamic:fu.islamicRegex.test(e.calendar)},l=e.format||fu.getResultantPattern(e.skeleton,r.dateObject,e.type);if(o.dateSeperator=fu.getDateSeparator(r.dateObject),gs(l))vs("Format options or type given must be invalid");else{o.pattern=l,o.numMapper=Cu.getNumberMapper(r.parserObject,Cu.getNumberingSystem(n));for(var a=0,s=l.match(Tu)||[];a<s.length;a++){var u=s[a],c=u.length,h=u[0];switch("K"===h&&(h="h"),h){case"E":case"c":o.weekday=r.dateObject[fu.days]["stand-alone"][fu.monthIndex[c]];break;case"M":case"L":o.month=r.dateObject[fu.month]["stand-alone"][fu.monthIndex[c]];break;case"a":o.designator=us("dayPeriods.format.wide",r.dateObject);break;case"G":o.era=us("eras."+(c<=3?"eraAbbr":4===c?"eraNames":"eraNarrow"),r.dateObject);break;case"z":o.timeZone=us("dates.timeZoneNames",r.parserObject)}}}return function(t){return isNaN(t.getDate())?null:i.intDateFormatter(t,o)}},t.intDateFormatter=function(t,e){for(var n="",i=e.pattern.match(fu.dateParseRegex),r=this.getCurrentDateValue(t,e.isIslamic),o=0,l=i;o<l.length;o++){var a=l[o],s=a.length,u=a[0];"K"===u&&(u="h");var c=void 0,h=void 0,d=void 0,p="";switch(u){case"M":case"L":c=r.month,s>2?n+=e.month[c]:h=!0;break;case"E":case"c":n+=e.weekday[ku[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":h=!0,c="d"===u?r.date:t[Au[u]](),"h"===u&&(c=c%12||12);break;case"y":d=!0,p+=r.year,2===s&&(p=p.substr(p.length-2));break;case"a":var f=t.getHours()<12?"am":"pm";n+=e.designator[f];break;case"G":var g=t.getFullYear()<0?0:1,m=e.era[g];fs(m)&&(m=e.era[g?0:1]),n+=m||"";break;case"'":n+="''"===a?"'":a.replace(/\'/g,"");break;case"z":var v=t.getTimezoneOffset(),y=s<4?"+H;-H":e.timeZone.hourFormat;y=y.replace(/:/g,e.numMapper.timeSeparator),0===v?n+=e.timeZone.gmtZeroFormat:(d=!0,p=this.getTimeZoneValue(v,y)),p=e.timeZone.gmtFormat.replace(/\{0\}/,p);break;case":":n+=e.numMapper.numberSymbols.timeSeparator;break;case"/":n+=e.dateSeperator;break;default:n+=a}h&&(d=!0,p=this.checkTwodigitNumber(c,s)),d&&(n+=Cu.convertValueParts(p,fu.latnParseRegex,e.numMapper.mapper))}return n},t.getCurrentDateValue=function(t,e){return e?gu.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},t.checkTwodigitNumber=function(t,e){var n=t+"";return 2===e&&2!==n.length?"0"+n:n},t.getTimeZoneValue=function(t,e){var n=this,i=e.split(";")[t>0?1:0],r=Math.abs(t);return i.replace(/HH?|mm/g,function(t){var e=t.length,i=-1!==t.indexOf("H");return n.checkTwodigitNumber(Math.floor(i?r/60:r%60),e)})},t}(),Iu=/^[0-9]*$/,Ru={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth"},Pu=function(){function t(){}return t.dateParser=function(t,e,n){var i,r=this,o=fu.getDependables(n,t,e.calendar),l=Cu.getCurrentNumericOptions(o.parserObject,Cu.getNumberingSystem(n)),a={},s=e.format||fu.getResultantPattern(e.skeleton,o.dateObject,e.type),u="";if(gs(s))vs("Format options or type given must be invalid");else{a={isIslamic:fu.islamicRegex.test(e.calendar),pattern:s,evalposition:{}};for(var c=s.match(fu.dateParseRegex)||[],h=c.length,d=0,p=0,f=!1,g=l.numericRegex,m=Cu.getNumberMapper(o.parserObject,Cu.getNumberingSystem(n)),v=0;v<h;v++){var y=c[v],b=y.length,w="K"===y[0]?"h":y[0],_=void 0,C=void 0,x=Du[w],S=2===b?"":"?";switch(f&&(d=p,f=!1),w){case"E":case"c":var E=Cu.reverseObject(o.dateObject[fu.days]["stand-alone"][fu.monthIndex[b]]);u+="("+Object.keys(E).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":C=!0,("M"===w||"L"===w)&&b>2?(a[x]=Cu.reverseObject(o.dateObject.months["stand-alone"][fu.monthIndex[b]]),u+="("+Object.keys(a[x]).join("|")+")"):(_=!0,u+="("+g+g+S+")"),"h"===w&&(a.hour12=!0);break;case"y":C=_=!0,u+=2===b?"("+g+g+")":"("+g+"{"+b+",})";break;case"a":C=!0,a[x]=Cu.reverseObject(us("dayPeriods.format.wide",o.dateObject)),u+="("+Object.keys(a[x]).join("|")+")";break;case"G":C=!0,a[x]=Cu.reverseObject(us("eras."+(b<=3?"eraAbbr":4===b?"eraNames":"eraNarrow"),o.dateObject)),u+="("+Object.keys(a[x]).join("|")+"?)";break;case"z":C=0!==(new Date).getTimezoneOffset(),a[x]=us("dates.timeZoneNames",o.parserObject);var T=a[x],k=(i=b<4)?"+H;-H":T.hourFormat;k=k.replace(/:/g,m.timeSeparator),u+="("+this.parseTimeZoneRegx(k,T,g)+")?",f=!0,p=i?6:12;break;case"'":u+="("+y.replace(/\'/g,"")+")?";break;default:u+="([\\D])"}C&&(a.evalposition[x]={isNumber:_,pos:v+1+d,hourOnly:i}),v!==h-1||fs(u)||(a.parserRegex=new RegExp("^"+u+"$"))}}return function(t){var e=r.internalDateParse(t,a,l);if(fs(e)||!Object.keys(e).length)return null;if(a.isIslamic){var n={},i=e.year,o=e.day,s=e.month,u=i?i+"":"",c=2===u.length;i&&s&&o&&!c||(n=gu.getHijriDate(new Date)),c&&(i=parseInt((n.year+"").slice(0,2)+u,10));var h=gu.toGregorian(i||n.year,s||n.month,o||n.date);e.year=h.getFullYear(),e.month=h.getMonth()+1,e.day=h.getDate()}return r.getDateObject(e)}},t.getDateObject=function(t,e){var n=e||new Date;n.setMilliseconds(0);var i=t.year,r=t.designator,o=t.timeZone;gs(i)||((i+"").length<=2&&(i+=100*Math.floor(n.getFullYear()/100)),n.setFullYear(i));for(var l=0,a=["hour","minute","second","month","day"];l<a.length;l++){var s=a[l],u=t[s];if(gs(u)&&"day"===s&&n.setDate(1),!gs(u))if("month"===s){if((u-=1)<0||u>11)return new Date("invalid");var c=n.getDate();n.setDate(1),n[Ru[s]](u);var h=new Date(n.getFullYear(),u+1,0).getDate();n.setDate(c<h?c:h)}else{if("day"===s){var d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();if(u<1||u>d)return null}n[Ru[s]](u)}}if(!gs(r)){var p=n.getHours();"pm"===r?n.setHours(p+(12===p?0:12)):12===p&&n.setHours(0)}if(!gs(o)){var f=o-n.getTimezoneOffset();0!==f&&n.setMinutes(n.getMinutes()+f)}return n},t.internalDateParse=function(t,e,n){var i=t.match(e.parserRegex),r={hour:0,minute:0,second:0};if(fs(i))return null;for(var o=0,l=Object.keys(e.evalposition);o<l.length;o++){var a=l[o],s=e.evalposition[a],u=i[s.pos];if(s.isNumber)r[a]=this.internalNumberParser(u,n);else if("timeZone"!==a||gs(u))r[a]=e[a][u];else{var c=s.pos,h=void 0,d=i[c+1],p=!gs(d);s.hourOnly?h=60*this.getZoneValue(p,d,i[c+4],n):(h=60*this.getZoneValue(p,d,i[c+7],n),h+=this.getZoneValue(p,i[c+4],i[c+10],n)),fs(h)||(r[a]=h)}}return e.hour12&&(r.hour12=!0),r},t.internalNumberParser=function(t,e){return t=Cu.convertValueParts(t,e.numberParseRegex,e.numericPair),Iu.test(t)?+t:null},t.parseTimeZoneRegx=function(t,e,n){var i,r=e.gmtFormat,o="("+n+")("+n+")";return i=t.replace("+","\\+"),(i=-1!==t.indexOf("HH")?i.replace(/HH|mm/g,"("+o+")"):i.replace(/H|m/g,"("+o+"?)")).split(";").map(function(t){return r.replace("{0}",t)}).join("|")+"|"+e.gmtZeroFormat},t.getZoneValue=function(t,e,n,i){var r=t?e:n;if(!r)return 0;var o=this.internalNumberParser(r,i);return t?-o:o},t}(),Mu=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,Nu=/,/g,ju=["minusSign","infinity"],Lu=function(){function t(){}return t.numberParser=function(t,e,n){var i,r=this,o=fu.getDependables(n,t,"",!0),l={custom:!0};fu.formatRegex.test(e.format)||!e.format?(ps(l,fu.getProperNumericSkeleton(e.format||"N")),l.custom=!1):ps(l,fu.customFormat(e.format,null,null)),i=Cu.getCurrentNumericOptions(o.parserObject,Cu.getNumberingSystem(n),!0),l.symbolRegex=Cu.getSymbolRegex(Object.keys(i.symbolMatch)),l.infinity=i.symbolNumberSystem[ju[1]];var a=fu.getSymbolPattern(l.type,i.numberSystem,o.numericObject,l.isAccount);if(a){var s=(a=a.replace(/\u00A4/g,fu.defaultCurrency)).split(";");l.nData=fu.getFormatData(s[1]||"-"+s[0],!0,""),l.pData=fu.getFormatData(s[0],!0,"")}return function(t){return r.getParsedNumber(t,l,i)}},t.getParsedNumber=function(t,e,n){var i,r,o,l,a,s;if(-1!==t.indexOf(e.infinity))return 1/0;t=Cu.convertValueParts(t,e.symbolRegex,n.symbolMatch),0===(t=Cu.convertValueParts(t,n.numberParseRegex,n.numericPair)).indexOf(".")&&(t="0"+t);var u=t.match(Mu);if(fs(u))return NaN;l=u[1],o=u[2];var c=u[5];return a=u[6],r=(i=e.custom?l===e.nData.nlead&&a===e.nData.nend:-1!==l.indexOf(e.nData.nlead)&&-1!==a.indexOf(e.nData.nend))?e.nData.isPercent:e.pData.isPercent,o=o.replace(Nu,""),c&&(o+=c),s=+o,("percent"===e.type||r)&&(s/=100),(e.custom||e.fractionDigits)&&(s=parseFloat(s.toFixed(e.custom?i?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.fractionDigits))),i&&(s*=-1),s},t}(),Fu=new Bs,Vu=!1,Bu={},Uu="en-US",qu="USD",Wu=["numericObject","dateObject"],Hu=function(){function t(t){t&&(this.culture=t)}return t.prototype.getDateFormat=function(t){return Ou.dateFormat(this.getCulture(),t||{type:"date",skeleton:"short"},Bu)},t.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=qu),Eu.numberFormatter(this.getCulture(),t||{},Bu)},t.prototype.getDateParser=function(t){return Pu.dateParser(this.getCulture(),t||{skeleton:"short",type:"date"},Bu)},t.prototype.getNumberParser=function(t){return Lu.numberParser(this.getCulture(),t||{format:"N"},Bu)},t.prototype.formatNumber=function(t,e){return this.getNumberFormat(e)(t)},t.prototype.formatDate=function(t,e){return this.getDateFormat(e)(t)},t.prototype.parseDate=function(t,e){return this.getDateParser(e)(t)},t.prototype.parseNumber=function(t,e){return this.getNumberParser(e)(t)},t.prototype.getDatePattern=function(t,e){return fu.getActualDateTimeFormat(this.getCulture(),t,Bu,e)},t.prototype.getNumberPattern=function(t){return fu.getActualNumberFormat(this.getCulture(),t,Bu)},t.prototype.getFirstDayOfWeek=function(){return fu.getWeekData(this.getCulture(),Bu)},t.prototype.getCulture=function(){return this.culture||Uu},t}();function zu(t){return fu.getDependables(Bu,"",t,!1)[Wu[1]]}var Gu,Yu=0,Xu=0,Ku=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.randomId=function(){if("undefined"!=typeof window){var t=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(t)}}(),i.needsID=!1,i.createElement=Ss,fs(i.enableRtl)&&i.setProperties({enableRtl:Vu},!0),fs(i.locale)&&i.setProperties({locale:Uu},!0),i.moduleLoader=new vu(i),i.localObserver=new Bs(i),Fu.on("notifyExternalChange",i.detectFunction,i,i.randomId),gs(n)||i.appendTo(),i}return Object(l.__extends)(e,t),e.prototype.requiredModules=function(){return[]},e.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(Ts([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),t.prototype.destroy.call(this),this.moduleLoader.clean(),Fu.off("notifyExternalChange",this.detectFunction,this.randomId)))},e.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Bs(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},e.prototype.appendTo=function(e){if(fs(e)||"string"!=typeof e?fs(e)||(this.element=e):this.element=document.querySelector(e),!fs(this.element)){var n="e-"+this.getModuleName().toLowerCase();Es([this.element],["e-control",n]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var i=us("ej2_instances",this.element);i&&-1!==i.indexOf(this)||t.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.trigger("created")}},e.prototype.dataBind=function(){this.injectModules(),t.prototype.dataBind.call(this)},e.prototype.on=function(t,e,n){if("string"==typeof t)this.localObserver.on(t,e,n);else for(var i=0,r=t;i<r.length;i++){var o=r[i];this.localObserver.on(o.event,o.handler,o.context)}},e.prototype.off=function(t,e){if("string"==typeof t)this.localObserver.off(t,e);else for(var n=0,i=t;n<i.length;n++){var r=i[n];this.localObserver.off(r.event,r.handler)}},e.prototype.notify=function(t,e){!0!==this.isDestroyed&&this.localObserver.notify(t,e)},e.prototype.getInjectedModules=function(){return this.injectedModules},e.Inject=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<t.length;n++)-1===this.prototype.injectedModules.indexOf(t[n])&&this.prototype.injectedModules.push(t[n])},e.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},e.prototype.detectFunction=function(t){var e=Object.keys(t);e.length&&(this[e[0]]=t[e[0]])},e.prototype.mergePersistData=function(){var t=window.localStorage.getItem(this.getModuleName()+this.element.id);fs(t)||""===t||this.setProperties(JSON.parse(t),!0)},e.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},e.prototype.clearTemplate=function(t,e){},e.prototype.getUniqueID=function(t){return this.isHistoryChanged()&&(Yu=0),Gu=this.pageID(location.href),Xu=history.length,t+"_"+Gu+"_"+Yu++},e.prototype.pageID=function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return Math.abs(e)},e.prototype.isHistoryChanged=function(){return Gu!==this.pageID(location.href)||Xu!==history.length},e.prototype.addOnPersist=function(t){for(var e=this,n={},i=0,r=t;i<r.length;i++){var o,l=r[i];gs(o=us(l,this))||cs(l,this.getActualProperties(o),n)}return JSON.stringify(n,function(t,n){return e.getActualProperties(n)})},e.prototype.getActualProperties=function(t){return t instanceof yu?us("properties",t):t},e.prototype.ignoreOnPersist=function(t){return JSON.stringify(this.iterateJsonProperties(this.properties,t))},e.prototype.iterateJsonProperties=function(t,e){for(var n={},i=function(i){if(-1===e.indexOf(i)){var o=t[i];if("object"!=typeof o||o instanceof Array)n[i]=o;else{var l=e.filter(function(t){return new RegExp(i+".").test(t)}).map(function(t){return t.replace(i+".","")});n[i]=r.iterateJsonProperties(r.getActualProperties(o),l)}}},r=this,o=0,l=Object.keys(t);o<l.length;o++)i(l[o]);return n},Object(l.__decorate)([nu(!1)],e.prototype,"enablePersistence",void 0),Object(l.__decorate)([nu()],e.prototype,"enableRtl",void 0),Object(l.__decorate)([nu()],e.prototype,"locale",void 0),Object(l.__decorate)([lu],e)}(qs);"undefined"!=typeof window&&window.addEventListener("popstate",function(){Yu=0});var Qu={left:0,top:0,bottom:0,right:0},Zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),Object(l.__decorate)([nu(0)],e.prototype,"left",void 0),Object(l.__decorate)([nu(0)],e.prototype,"top",void 0),e}(yu),Ju=function(t){function e(e,i){var r=t.call(this,i,e)||this;return r.dragLimit=n.getDefaultPosition(),r.borderWidth=n.getDefaultPosition(),r.padding=n.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.droppables={},r.bind(),r}var n;return Object(l.__extends)(e,t),n=e,e.prototype.bind=function(){this.toggleEvents(),Js.isIE&&Es([this.element],"e-block-touch"),this.droppables[this.scope]={}},e.getDefaultPosition=function(){return ps({},Qu)},e.prototype.toggleEvents=function(t){var e;gs(this.handle)||(e=Ns(this.handle,this.element));var n=this.enableTapHold&&Js.isDevice&&Js.isTouch?this.mobileInitialize:this.initialize;t?Cs.remove(e||this.element,Js.touchStartEvent,n):Cs.add(e||this.element,Js.touchStartEvent,n,this)},e.prototype.mobileInitialize=function(t){var e=this,n=t.currentTarget;this.tapHoldTimer=setTimeout(function(){e.externalInitialize=!0,e.removeTapholdTimer(),e.initialize(t,n)},this.tapHoldThreshold),Cs.add(document,Js.touchMoveEvent,this.removeTapholdTimer,this)},e.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),Cs.remove(document,Js.touchMoveEvent,this.removeTapholdTimer)},e.prototype.getScrollableParent=function(t,e){return fs(t)?null:t[{vertical:"scrollHeight",horizontal:"scrollWidth"}[e]]>t[{vertical:"clientHeight",horizontal:"clientWidth"}[e]]?t:this.getScrollableParent(t.parentNode,e)},e.prototype.initialize=function(t,e){if(this.target=t.currentTarget||e,this.dragProcessStarted=!1,!this.abort||fs(Ls(t.target,this.abort))){this.preventDefault&&!gs(t.changedTouches)&&t.preventDefault(),this.element.setAttribute("aria-grabbed","true");var n=this.getCoordinates(t);if(this.initialPosition={x:n.pageX,y:n.pageY},!this.clone){var i=this.element.getBoundingClientRect(),r=this.getScrollableParent(this.element.parentNode,"vertical"),o=this.getScrollableParent(this.element.parentNode,"horizontal"),l=r?r.scrollTop:0;this.relativeXPosition=n.pageX-(i.left+(o?o.scrollLeft:0)),this.relativeYPosition=n.pageY-(i.top+l)}this.externalInitialize?this.intDragStart(t):(Cs.add(document,Js.touchMoveEvent,this.intDragStart,this),Cs.add(document,Js.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,Cs.trigger(document.documentElement,Js.touchStartEvent,t)}},e.prototype.intDragStart=function(t){this.removeTapholdTimer();var e=!gs(t.changedTouches);if(!e||1===t.changedTouches.length){e&&t.preventDefault();var n,i=this.getCoordinates(t),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};var o=this.element;if(this.clone&&this.dragTarget){var l=Ls(t.target,this.dragTarget);fs(l)||(o=l)}this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(t);var a=this.initialPosition.x-i.pageX,s=this.initialPosition.y-i.pageY;if(Math.sqrt(a*a+s*s)>=this.distance||this.externalInitialize){var u=this.getHelperElement(t);if(!u||fs(u))return;var c=this.helperElement=u;if(this.parentClientRect=this.calculateParentPosition(c.offsetParent),this.dragStart){var h=this.getProperTargetElement(t);this.trigger("dragStart",{event:t,element:o,target:h})}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top);var d=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});Fs(c,this.getDragPosition({position:"absolute",left:d.left,top:d.top})),Cs.remove(document,Js.touchMoveEvent,this.intDragStart),Cs.remove(document,Js.touchEndEvent,this.intDestroy),As(c)?(Cs.add(document,Js.touchMoveEvent,this.intDrag,this),Cs.add(document,Js.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,c)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}}},e.prototype.elementInViewport=function(t){for(this.top=t.offsetTop,this.left=t.offsetLeft,this.width=t.offsetWidth,this.height=t.offsetHeight;t.offsetParent;)this.top+=(t=t.offsetParent).offsetTop,this.left+=t.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},e.prototype.getProcessedPositionValue=function(t){return this.queryPositionInfo?this.queryPositionInfo(t):t},e.prototype.calculateParentPosition=function(t){if(fs(t))return{left:0,top:0};var e=t.getBoundingClientRect(),n=getComputedStyle(t);return{left:e.left+window.pageXOffset-parseInt(n.marginLeft,10),top:e.top+window.pageYOffset-parseInt(n.marginTop,10)}},e.prototype.intDrag=function(t){if(gs(t.changedTouches)||1===t.changedTouches.length){var e,n;this.position=this.getMousePosition(t);var i=this.getDocumentWidthHeight("Height");i<this.position.top&&(this.position.top=i);var r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){var o=this.getProperTargetElement(t);this.trigger("drag",{event:t,element:this.element,target:o})}var l=this.checkTargetElement(t);l.target&&l.instance?(l.instance.dragData[this.scope]=this.droppables[this.scope],l.instance.intOver(t,l.target),this.hoverObject=l):this.hoverObject&&(this.hoverObject.instance.intOut(t,l.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null);var a=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var s=this.parentClientRect.left,u=this.parentClientRect.top,c=this.getCoordinates(t),h=c.pageX,d=c.pageY,p=this.position.left-this.diffX,f=this.position.top-this.diffY;if(this.dragArea){var g=getComputedStyle(a);if(this.pageX!==h||this.skipDistanceCheck){var m=a.offsetWidth+(parseFloat(g.marginLeft)+parseFloat(g.marginRight));e=this.dragLimit.left+window.pageXOffset>p?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<p+m?this.dragLimit.right-m:p}if(this.pageY!==d||this.skipDistanceCheck){var v=a.offsetHeight+(parseFloat(g.marginTop)+parseFloat(g.marginBottom));n=this.dragLimit.top+window.pageYOffset>f?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<f+v?this.dragLimit.bottom-v:f}}else e=p,n=f;var y=u+this.borderWidth.top,b=s+this.borderWidth.left;this.dragProcessStarted&&(fs(n)&&(n=this.prevTop),fs(e)&&(e=this.prevLeft));var w=this.getProcessedPositionValue({top:n-y+"px",left:e-b+"px"});Fs(a,this.getDragPosition(w)),!this.elementInViewport(a)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=e,this.prevTop=n,this.position.left=e,this.position.top=n,this.pageX=h,this.pageY=d}},e.prototype.getDragPosition=function(t){var e=ps({},t);return this.axis&&("x"===this.axis?delete e.top:"y"===this.axis&&delete e.left),e},e.prototype.getDocumentWidthHeight=function(t){var e=document.body,n=document.documentElement;return Math.max(e["scroll"+t],n["scroll"+t],e["offset"+t],n["offset"+t],n["client"+t])},e.prototype.intDragStop=function(t){if(this.dragProcessStarted=!1,gs(t.changedTouches)||1===t.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(t.type)){if(this.dragStop){var e=this.getProperTargetElement(t);this.trigger("dragStop",{event:t,element:this.element,target:e,helper:this.helperElement})}this.intDestroy(t)}else this.element.setAttribute("aria-grabbed","false");var n=this.checkTargetElement(t);n.target&&n.instance&&(n.instance.dragStopCalled=!0,n.instance.dragData[this.scope]=this.droppables[this.scope],n.instance.intDrop(t,n.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},e.prototype.intDestroy=function(t){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),Cs.remove(document,Js.touchMoveEvent,this.intDragStart),Cs.remove(document,Js.touchEndEvent,this.intDragStop),Cs.remove(document,Js.touchEndEvent,this.intDestroy),Cs.remove(document,Js.touchMoveEvent,this.intDrag)},e.prototype.onPropertyChanged=function(t,e){},e.prototype.getModuleName=function(){return"draggable"},e.prototype.setDragArea=function(){var t,e,n,i=0,r=0;if(n="string"==typeof this.dragArea?Ns(this.dragArea):this.dragArea){var o=n.getBoundingClientRect();t=o.width?o.width:o.right-o.left,e=o.height?o.height:o.bottom-o.top;for(var l=["Top","Left","Bottom","Right"],a=getComputedStyle(n),s=0;s<l.length;s++){var u=l[s],c=a["border"+u+"Width"],h=a["padding"+u],d=u.toLowerCase();this.borderWidth[d]=isNaN(parseFloat(c))?0:parseFloat(c),this.padding[d]=isNaN(parseFloat(h))?0:parseFloat(h)}i=o.top,this.dragLimit.left=(r=o.left)+this.borderWidth.left+this.padding.left,this.dragLimit.top=i+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+t-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+e-(this.borderWidth.bottom+this.padding.bottom)}},e.prototype.getProperTargetElement=function(t){var e,n=this.getCoordinates(t),i=this.helperElement.style.display||"";return function t(e,n){return e===n||!(e===document||!e)&&t(e.parentNode,n)}(t.target,this.helperElement)||-1!==t.type.indexOf("touch")?(this.helperElement.style.display="none",e=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.display=i):e=t.target,e},e.prototype.getMousePosition=function(t){var e=this.getCoordinates(t),n=this.clone?e.pageX:e.pageX+window.pageXOffset-this.relativeXPosition,i=this.clone?e.pageY:e.pageY+window.pageYOffset-this.relativeYPosition;return{left:n-(this.margin.left+this.cursorAt.left),top:i-(this.margin.top+this.cursorAt.top)}},e.prototype.getCoordinates=function(t){return t.type.indexOf("touch")>-1?t.changedTouches[0]:t},e.prototype.getHelperElement=function(t){var e;return this.clone?this.helper?e=this.helper({sender:t,element:this.target}):(e=Ss("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(e)):e=this.element,e},e.prototype.setGlobalDroppables=function(t,e,n){this.droppables[this.scope]=t?null:{draggable:e,helper:n,draggedElement:this.element}},e.prototype.checkTargetElement=function(t){var e=this.getProperTargetElement(t),n=this.getDropInstance(e);if(!n&&e&&!fs(e.parentNode)){var i=Ls(e.parentNode,".e-droppable")||e.parentElement;i&&(n=this.getDropInstance(i))}return{target:e,instance:n}},e.prototype.getDropInstance=function(t){var e,n=t&&t.ej2_instances;if(n)for(var i=0,r=n;i<r.length;i++){var o=r[i];if("droppable"===o.getModuleName()){e=o;break}}return e},e.prototype.destroy=function(){this.toggleEvents(!0),t.prototype.destroy.call(this)},Object(l.__decorate)([iu({},Zu)],e.prototype,"cursorAt",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"clone",void 0),Object(l.__decorate)([nu()],e.prototype,"dragArea",void 0),Object(l.__decorate)([ou()],e.prototype,"drag",void 0),Object(l.__decorate)([ou()],e.prototype,"dragStart",void 0),Object(l.__decorate)([ou()],e.prototype,"dragStop",void 0),Object(l.__decorate)([nu(1)],e.prototype,"distance",void 0),Object(l.__decorate)([nu()],e.prototype,"handle",void 0),Object(l.__decorate)([nu()],e.prototype,"abort",void 0),Object(l.__decorate)([nu()],e.prototype,"helper",void 0),Object(l.__decorate)([nu("default")],e.prototype,"scope",void 0),Object(l.__decorate)([nu("")],e.prototype,"dragTarget",void 0),Object(l.__decorate)([nu()],e.prototype,"axis",void 0),Object(l.__decorate)([nu()],e.prototype,"queryPositionInfo",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enableTailMode",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"skipDistanceCheck",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"preventDefault",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enableAutoScroll",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enableTapHold",void 0),Object(l.__decorate)([nu(750)],e.prototype,"tapHoldThreshold",void 0),n=Object(l.__decorate)([lu],e)}(qs),$u={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},tc=function(t){function e(e,i){var r=t.call(this,i,e)||this;return r.keyPressHandler=function(t){for(var e=t.altKey,i=t.ctrlKey,o=t.shiftKey,l=t.which,a=0,s=Object.keys(r.keyConfigs);a<s.length;a++)for(var u=s[a],c=0,h=r.keyConfigs[u].split(",");c<h.length;c++){var d=n.getKeyConfigData(h[c].trim());e===d.altKey&&i===d.ctrlKey&&o===d.shiftKey&&l===d.keyCode&&(t.action=u,r.keyAction&&r.keyAction(t))}},r.bind(),r}var n;return Object(l.__extends)(e,t),n=e,e.prototype.destroy=function(){this.unwireEvents(),t.prototype.destroy.call(this)},e.prototype.onPropertyChanged=function(t,e){},e.prototype.bind=function(){this.wireEvents()},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},e.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},e.getKeyConfigData=function(t){if(t in this.configCache)return this.configCache[t];var e=t.toLowerCase().split("+"),i={altKey:-1!==e.indexOf("alt"),ctrlKey:-1!==e.indexOf("ctrl"),shiftKey:-1!==e.indexOf("shift"),keyCode:null};return i.keyCode=e[e.length-1].length>1&&Number(e[e.length-1])?Number(e[e.length-1]):n.getKeyCode(e[e.length-1]),n.configCache[t]=i,i},e.getKeyCode=function(t){return $u[t]||t.toUpperCase().charCodeAt(0)},e.configCache={},Object(l.__decorate)([nu({})],e.prototype,"keyConfigs",void 0),Object(l.__decorate)([nu("keyup")],e.prototype,"eventName",void 0),Object(l.__decorate)([ou()],e.prototype,"keyAction",void 0),n=Object(l.__decorate)([lu],e)}(qs),ec=function(){function t(t,e,n){this.controlName=t,this.localeStrings=e,this.setLocale(n||Uu)}return t.prototype.setLocale=function(e){var n=this.intGetControlConstant(t.locale,e);this.currentLocale=n||this.localeStrings},t.load=function(t){this.locale=ps(this.locale,t,{},!0)},t.prototype.getConstant=function(t){return fs(this.currentLocale[t])?this.localeStrings[t]||"":this.currentLocale[t]},t.prototype.intGetControlConstant=function(t,e){return t[e]?t[e][this.controlName]:null},t.locale={},t}(),nc=new RegExp("\\n|\\r|\\s\\s+","g"),ic=new RegExp(/'|"/g),rc=new RegExp("if ?\\("),oc=new RegExp("else if ?\\("),lc=new RegExp("else"),ac=new RegExp("for ?\\("),sc=new RegExp("(/if|/for)"),uc=new RegExp("\\((.*)\\)",""),cc=new RegExp("^[0-9]+$","g"),hc=new RegExp("[\\w\"'.\\s+]+","g"),dc=new RegExp('"(.*?)"',"g"),pc=new RegExp("\\${([^}]*)}","g");function fc(t,e,n,i){return e&&!cc.test(t)&&-1===i.indexOf(t.split(".")[0])?n+"."+t:t}var gc=/^[\n\r.]+\<tr|^\<tr/,mc=/^[\n\r.]+\<svg|^\<path|^\<g/;function vc(t,e){var n=yc.compile(t,e);return function(t,e,i){var r=n(t,e,i);return"string"==typeof r?mc.test(r)?Ss("svg",{innerHTML:r}).childNodes:Ss(gc.test(r)?"table":"div",{innerHTML:r}).childNodes:r}}var yc={compile:(new(function(){function t(){}return t.prototype.compile=function(t,e){return void 0===e&&(e={}),function(e,n){var i=function(t,e,n){var i=0,r=[],o=t.match(/class="([^\"]+|)\s{2}/g),l="";return o&&o.forEach(function(e){l=e.replace(/\s\s+/g," "),t=t.replace(e,l)}),t.replace(nc,"").replace(dc,"'$1'").replace(pc,function(t,e,o,l){var a=e.match(uc);if(a){var s=a[1];if(oc.test(e))e='";} '+e.replace(a[1],s.replace(hc,function(t){return fc(t=t.trim(),!ic.test(t)&&-1===r.indexOf(t),"data",r)}))+'{ \n str = str + "';else if(rc.test(e))e='"; '+e.replace(a[1],s.replace(hc,function(t){return fc(t=t.trim(),!ic.test(t)&&-1===r.indexOf(t),"data",r)}))+'{ \n str = str + "';else if(ac.test(e)){var u=a[1].split(" of ");e='"; '+e.replace(a[1],function(t){return r.push(u[0]),r.push(u[0]+"Index"),"var i"+(i+=1)+"=0; i"+i+" < "+fc(u[1],!0,"data",r)+".length; i"+i+"++"})+"{ \n "+u[0]+"= "+fc(u[1],!0,"data",r)+"[i"+i+"]; \n var "+u[0]+"Index=i"+i+'; \n str = str + "'}else{var c=e.split("("),h=n&&n.hasOwnProperty(c[0])?"this.":"global";h=/\./.test(c[0])?"":h;var d=a[1].split(",");0===a[1].length||/data/.test(d[0])||/window./.test(d[0])||(a[1]="global"===h?"data."+a[1]:a[1]),e='" + '+("global"===h?"":h)+e.replace(s,fc(a[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==h,"data",r))+'+"'}}else e=lc.test(e)?'"; '+e.replace(lc,'} else { \n str = str + "'):e.match(sc)?e.replace(sc,'"; \n } \n str = str + "'):'"+'+fc(e.replace(/\,/gi,"+data."),-1===r.indexOf(e),"data",r)+'+"';return e})}(t,0,n);return new Function("data",'var str="'+i+'"; return str;').bind(n)}(0,e)},t}())).compile};function bc(t){return function(e){!function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(n){t.prototype[n]=e.prototype[n]})})}(e,t)}}function wc(t,e,n){for(var i=t.replace(/\[/g,".").replace(/\]/g,"").split("."),r=n||{},o=0;o<i.length;o++){var l=i[o];o+1===i.length?r[l]=void 0===e?{}:e:void 0===r[l]&&(r[l]={}),r=r[l]}return r}var _c=function(){function t(){this.isProtectedOnChange=!0}return t.prototype.saveChanges=function(t,e,n){if(!this.isProtectedOnChange){this.oldProperties[t]=n,this.changedProperties[t]=e,this.finalUpdate();var i=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(i)}}},t.prototype.ngOnInit=function(){var t=this;this.registeredTemplate={},this.ngBoundedEvents={},this.isAngular=!0,this.tags=this.tags||[],this.complexTemplate=this.complexTemplate||[],this.tagObjects=[],this.ngAttr=this.getAngularAttr(this.element),this.createElement=function(e,n){var i=t.srenderer?t.srenderer.createElement(e):Ss(e);return"undefined"==typeof n?i:(i.innerHTML=n.innerHTML?n.innerHTML:"",void 0!==n.className&&(i.className=n.className),void 0!==n.id&&(i.id=n.id),void 0!==n.styles&&i.setAttribute("style",n.styles),void 0!==t.ngAttr&&i.setAttribute(t.ngAttr,""),void 0!==n.attrs&&Ms(i,n.attrs),i)};for(var e=0,n=this.tags;e<n.length;e++){var i=n[e],r={instance:us("child"+i.substring(0,1).toUpperCase()+i.substring(1),this),name:i};this.tagObjects.push(r)}for(var o=Object.keys(this),l=0,a=o=o.filter(function(t){return/Ref$/i.test(t)&&/\_/i.test(t)});l<a.length;l++){var s=a[l].replace("Ref",""),u={};cs(s.replace("_","."),us(s,this),u),this.setProperties(u,!0)}},t.prototype.getAngularAttr=function(t){for(var e,n=t.attributes,i=n.length,r=0;r<i;r++)/_ngcontent/g.test(n[r].name)&&(e=n[r].name);return e},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){"undefined"!=typeof window&&t.appendTo(t.element)})},t.prototype.ngOnDestroy=function(){"undefined"!=typeof window&&this.element.classList.contains("e-control")&&(this.destroy(),this.clearTemplate(null))},t.prototype.clearTemplate=function(t,e){!function(t,e,n){var i=Object.keys(t.registeredTemplate);if(i.length)for(var r=e&&e.filter(function(t){return!/\./g.test(t)}),o=0,l=r&&r||i;o<l.length;o++){var a=l[o];if(n&&n.length)for(var s=0;s<n.length;s++)for(var u=0;u<t.registeredTemplate.template.length;u++)t.registeredTemplate.template[u].rootNodes[0]===n[s]&&(d=t.registeredTemplate[a])[u].destroy();else for(var c=0,h=t.registeredTemplate[a];c<h.length;c++){var d;if(!(d=h[c]).destroyed){var p=d._view.renderer.parentNode(d.rootNodes[0]);for(u=0;u<d.rootNodes.length;u++)p.appendChild(d.rootNodes[u]);d.destroy()}}delete t.registeredTemplate[a]}for(var f=function(t){t.instance&&t.instance.clearTemplate(e&&e.filter(function(e){return!!new RegExp(t.name).test(e)}))},g=0,m=t.tagObjects;g<m.length;g++)f(m[g])}(this,t,e)},t.prototype.ngAfterContentChecked=function(){for(var t=0,e=this.tagObjects;t<e.length;t++){var n=e[t];if(!gs(n.instance)&&(n.instance.isInitChanges||n.instance.hasChanges||n.instance.hasNewChildren))if(n.instance.isInitChanges){var i={};i[n.name]=n.instance.getProperties(),this.setProperties(i,n.instance.isInitChanges)}else for(var r=0,o=n.instance.list;r<o.length;r++){var l=o[r];if(l.hasChanges){var a=n.instance.list.indexOf(l),s=us(n.name,this)[a];void 0!==s&&void 0!==s.setProperties&&s.setProperties(l.getProperties()),l.isUpdated=!0}}}},t.prototype.registerEvents=function(t){!function(t,e,n){var r={};if(t&&t.length){for(var o=0,l=t;o<l.length;o++){var a=l[o];r[a]=new i.EventEmitter(!1)}e.setProperties(r,!0)}}(t,this)},t.prototype.twoWaySetter=function(t,e){var n=us(e,this.properties);n!==t&&(this.saveChanges(e,t,n),cs(e,fs(t)?null:t,this.properties),us(e+"Change",this).emit(t))},t.prototype.addTwoWay=function(t){for(var e=this,n=function(t){us(t,r),Object.defineProperty(r,t,{get:function(){return us(t,e.properties)},set:function(n){return e.twoWaySetter(n,t)}}),cs(t+"Change",new i.EventEmitter,r)},r=this,o=0,l=t;o<l.length;o++)n(l[o])},t.prototype.addEventListener=function(t,e){var n=us(t,this);gs(n)||(this.ngBoundedEvents[t]||(this.ngBoundedEvents[t]=new Map),this.ngBoundedEvents[t].set(e,n.subscribe(e)))},t.prototype.removeEventListener=function(t,e){gs(us(t,this))||this.ngBoundedEvents[t].get(e).unsubscribe()},t.prototype.trigger=function(t,e){var n=us(t,this),i=this.isProtectedOnChange;this.isProtectedOnChange=!1,e&&(e.name=t),gs(n)||n.next(e);var r=us("local"+t.charAt(0).toUpperCase()+t.slice(1),this);gs(r)||r.call(this,e),this.isProtectedOnChange=i},t}(),Cc=function(){function t(){}return t.prototype.propagateChange=function(t){},t.prototype.propagateTouch=function(){},t.prototype.localChange=function(t){var e=void 0===t.checked?t.value:t.checked;this.objCheck=hs(e),!0===this.objCheck?(this.duplicateValue=JSON.stringify(e),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)):e!==this.angularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){this.propagateTouch=t},t.prototype.twoWaySetter=function(t,e){var n=us(e,this.properties),i=this.inputElement||this.element;(n!==t||void 0!==i.value&&""!==i.value)&&(this.saveChanges(e,t,n),cs(e,fs(t)?null:t,this.properties),us(e+"Change",this).emit(t))},t.prototype.ngAfterViewInit=function(){if("undefined"!=typeof window){this.appendTo(this.element);var t=this.inputElement||this.element;t.addEventListener("focus",this.ngOnFocus.bind(this)),t.addEventListener("blur",this.ngOnBlur.bind(this))}},t.prototype.setDisabledState=function(t){this.enabled=!t,this.disabled=t},t.prototype.writeValue=function(t){void 0===this.checked?this.value=t:this.checked="boolean"==typeof t?t:t===this.value,null!==t&&(this.angularValue=t,this.preventChange=!0)},t.prototype.ngOnFocus=function(t){!0!==this.skipFromEvent&&this.focus.emit(t)},t.prototype.ngOnBlur=function(t){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(t)},t}(),xc=yc.compile;function Sc(t){return function(e,n){var i={set:function(t){return function(e){void 0!==e&&(cs(t+"Ref",e,this),"string"!=typeof e?(e.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,e.elementRef.nativeElement.propName=t):this.saveChanges&&(this.saveChanges(t,e,void 0),this.dataBind()))}}(n),get:function(t,e){return function(){return us(t+"Ref",this)||e}}(n,t),enumerable:!0,configurable:!0};Object.defineProperty(e,n,i)}}yc.compile=function(t,e){if("string"==typeof t)return xc(t,e);var n=t.elementRef.nativeElement._viewContainerRef,i=t.elementRef.nativeElement.propName;return function(e,r,o){var l=n||r.viewContainerRef,a=l.createEmbeddedView(t,{$implicit:e});a.markForCheck();var s=r?r.registeredTemplate:us("currentInstance.registeredTemplate",l);return"undefined"==typeof s[o=o||i]&&(s[o]=[]),s[o].push(a),a.rootNodes}};var Ec,Tc,kc,Ac,Dc,Oc,Ic="e-other-month",Rc="e-calendar",Pc="e-overlay",Mc="e-selected",Nc="e-focused-date",jc=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.effect="",i.isPopupClicked=!1,i.keyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},i}return Object(l.__extends)(e,t),e.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new Hu(this.locale),(fs(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(Rc),this.enableRtl&&this.element.classList.add("e-rtl"),Js.isDevice&&this.element.classList.add("e-device"),Ms(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(Rc),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),Js.isDevice&&this.calendarElement.classList.add("e-device"),Ms(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()},e.prototype.rangeValidation=function(t,e){fs(t)&&this.setProperties({min:new Date(1900,0,1)},!0),fs(e)&&this.setProperties({max:new Date(2099,11,31)},!0)},e.prototype.validateDate=function(t){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!fs(t)&&this.min<=this.max&&t>=this.min&&t<=this.max&&(this.currentDate=new Date(this.checkValue(t)))},e.prototype.setOverlayIndex=function(t,e,n,i){if(i&&!fs(e)&&!fs(n)&&!fs(t)){var r=parseInt(e.style.zIndex,10)?parseInt(e.style.zIndex,10):1e3;n.style.zIndex=(r-1).toString(),t.style.zIndex=r.toString()}},e.prototype.minMaxUpdate=function(t){+this.min<=+this.max?Ts([this.element],Pc):(this.setProperties({min:this.min},!0),Es([this.element],Pc)),this.min=fs(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=fs(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&t&&+t<=+this.max&&+t>=+this.min?this.currentDate=new Date(this.checkValue(t)):+this.min<=+this.max&&!t&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},e.prototype.createHeader=function(){this.headerElement=this.createElement("div",{className:"e-header"});var t=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),uu(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),Ms(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),uu(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),Ms(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),Ms(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  e-icons"})),t.appendChild(this.previousIcon),t.appendChild(this.nextIcon),this.headerElement.appendChild(t),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement)},e.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},e.prototype.getCultureValues=function(){var t,e=[];t="en"===this.locale||"en-US"===this.locale?us("days.stand-alone.short",zu()):this.getCultureObjects(Bu,""+this.locale);for(var n=0,i=Object.keys(t);n<i.length;n++)e.push(us(i[n],t));return e},e.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?fs(this.element.querySelectorAll(".e-content .e-week-header")[0])||Rs(this.element.querySelectorAll(".e-content .e-week-header")[0]):fs(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||Rs(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var t,e="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(e+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?Es([this.element],"e-week-number"):Es([this.calendarElement],"e-week-number")),t=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(var n=0;n<=6;n++)e+='<th  class="">'+t[n]+"</th>";this.tableHeadElement.innerHTML=e="<tr>"+e+"</tr>",this.table.appendChild(this.tableHeadElement)},e.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?fs(this.element.querySelectorAll(".e-content tbody")[0])||Rs(this.element.querySelectorAll(".e-content tbody")[0]):fs(this.calendarElement.querySelectorAll(".e-content tbody")[0])||Rs(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},e.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today")},e.prototype.createContentFooter=function(){if(this.showTodayButton){var t=new Date(+this.min),e=new Date(+this.max);this.globalize=new Hu(this.locale),this.l10=new ec(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button"),uu(this.todayElement),this.updateFooter(),Es([this.todayElement],["e-btn","e-today","e-flat","e-primary","e-css"]),+new Date(t.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(e.setHours(0,0,0,0))&&!this.todayDisabled||Es([this.todayElement],"e-disabled"),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains("e-disabled")||Cs.add(this.todayElement,"click",this.todayButtonClick,this)}},e.prototype.wireEvents=function(){Cs.add(this.headerTitleElement,"click",this.navigateTitle,this),this.keyboardModule="calendar"===this.getModuleName()?new tc(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs}):new tc(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs})},e.prototype.todayButtonClick=function(t){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(t))):this.navigateTo("Month",new Date(this.checkValue(t))))},e.prototype.keyActionHandle=function(t,e,n){var i,r=this.getViewNumber(this.currentView()),o=this.tableBodyElement.querySelector("tr td.e-focused-date");i=n?fs(o)||+e!==parseInt(o.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):o:this.tableBodyElement.querySelector("tr td.e-selected");var l=this.getViewNumber(this.depth),a=r===l&&this.getViewNumber(this.start)>=l;switch(this.effect="",t.action){case"moveLeft":this.KeyboardNavigate(-1,r,t,this.max,this.min),t.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,r,t,this.max,this.min),t.preventDefault();break;case"moveUp":this.KeyboardNavigate(0===r?-7:-4,r,t,this.max,this.min),t.preventDefault();break;case"moveDown":this.KeyboardNavigate(0===r?7:4,r,t,this.max,this.min),t.preventDefault();break;case"select":if(t.target===this.todayElement)this.todayButtonClick(e);else{var s=fs(o)?i:o;if(!fs(s)&&!s.classList.contains("e-disabled"))if(a){var u=new Date(parseInt(""+s.id,0));this.selectDate(t,u,s)}else this.contentClick(null,--r,s,e)}break;case"controlUp":this.title(),t.preventDefault();break;case"controlDown":fs(o)&&(fs(i)||a)||this.contentClick(null,--r,o||i,e),t.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),Rs(this.tableBodyElement),0===r?this.renderMonths(t):1===r?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,r),Rs(this.tableBodyElement),0===r?this.renderMonths(t):1===r?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),t.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),t.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.KeyboardNavigate=function(t,e,n,i,r){var o=new Date(this.checkValue(this.currentDate));switch(e){case 2:this.addYears(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(Rs(this.tableBodyElement),this.renderDecades(n)):this.currentDate=o;break;case 1:this.addMonths(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(Rs(this.tableBodyElement),this.renderYears(n)):this.currentDate=o;break;case 0:this.addDay(this.currentDate,t,n,i,r),this.isMinMaxRange(this.currentDate)?(Rs(this.tableBodyElement),this.renderMonths(n)):this.currentDate=o}},e.prototype.preRender=function(t){var e=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.navigateHandler=function(t){e.triggerNavigate(t)}},e.prototype.minMaxDate=function(t){var e=new Date(new Date(+t).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),i=new Date(new Date(+this.max).setHours(0,0,0,0));return+e!=+n&&+e!=+i||(+t<+this.min&&(t=new Date(+this.min)),+t>+this.max&&(t=new Date(+this.max))),t},e.prototype.renderMonths=function(t,e){var n,i=this.weekNumber?8:7;n="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,t,e):this.islamicModule.islamicRenderDays(this.currentDate,e),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(n,i,"e-month",t,e):this.islamicModule.islamicRenderTemplate(n,i,"e-month",t,e)},e.prototype.renderDays=function(t,e,n,i,r){var o,l=[],a=new Date(this.checkValue(t)),s=a.getMonth();this.titleUpdate(t,"days");var u=a;for(a=new Date(u.getFullYear(),u.getMonth(),0,u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds());a.getDay()!==this.firstDayOfWeek;)this.setStartDate(a,-864e5);for(var c=0;c<42;++c){var h=this.createElement("td",{className:"e-cell"}),d=this.createElement("span");c%7==0&&this.weekNumber&&(d.textContent=""+this.getWeek(a),h.appendChild(d),Es([h],"e-week-number"),l.push(h)),o=new Date(+a),a=this.minMaxDate(a);var p={type:"dateTime",skeleton:"full"},f=this.globalize.parseDate(this.globalize.formatDate(a,p),p),g=this.dayCell(a),m=this.globalize.formatDate(a,{type:"date",skeleton:"full"}),v=this.createElement("span");v.textContent=this.globalize.formatDate(a,{format:"d",type:"date",skeleton:"yMd"});var y=this.min>a||this.max<a;y?(Es([g],"e-disabled"),Es([g],Pc)):v.setAttribute("title",""+m),s!==a.getMonth()&&Es([g],Ic),0!==a.getDay()&&6!==a.getDay()||Es([g],"e-weekend"),g.appendChild(v),this.renderDayCellArgs={date:a,isDisabled:!1,element:g,isOutOfRange:y};var b=this.renderDayCellArgs;if(this.renderDayCellEvent(b),b.isDisabled)if(i){if(!fs(r)&&r.length>0)for(var w=0;w<r.length;w++)+new Date(this.globalize.formatDate(b.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(r[w],{type:"date",skeleton:"yMd"}))&&(r.splice(w,1),w=-1)}else n&&+n==+b.date&&this.setProperties({value:null},!0);this.renderDayCellArgs.isDisabled&&!g.classList.contains(Mc)&&(Es([g],"e-disabled"),Es([g],Pc),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var _=g.classList.contains(Ic),C=g.classList.contains("e-disabled");if(C||Cs.add(g,"click",this.clickHandler,this),!i||fs(r)||_||C)_||C||!this.getDateVal(a,n)?this.updateFocus(_,C,a,g,t):Es([g],Mc);else{for(var x=0;x<r.length;x++){var S={type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(a,S)===this.globalize.formatDate(r[x],S)&&this.getDateVal(a,r[x])||this.getDateVal(a,n)?Es([g],Mc):this.updateFocus(_,C,a,g,t)}r.length<=0&&this.updateFocus(_,C,a,g,t)}f.getMonth()===(new Date).getMonth()&&f.getDate()===(new Date).getDate()&&f.getFullYear()===(new Date).getFullYear()&&Es([g],"e-today"),l.push(this.renderDayCellArgs.element),a=new Date(+o),this.addDay(a,1,null,this.max,this.min)}return l},e.prototype.updateFocus=function(t,e,n,i,r){r.getDate()!==n.getDate()||t||e?(r>=this.max&&parseInt(i.id,0)===+this.max&&!t&&!e&&Es([i],Nc),r<=this.min&&parseInt(i.id,0)===+this.min&&!t&&!e&&Es([i],Nc)):Es([i],Nc)},e.prototype.renderYears=function(t,e){this.removeTableHeadElement();var n=[],i=fs(e),r=new Date(this.checkValue(this.currentDate)),o=r.getMonth(),l=r.getFullYear(),a=r,s=a.getFullYear(),u=new Date(this.checkValue(this.min)).getFullYear(),c=new Date(this.checkValue(this.min)).getMonth(),h=new Date(this.checkValue(this.max)).getFullYear(),d=new Date(this.checkValue(this.max)).getMonth();a.setMonth(0),this.titleUpdate(this.currentDate,"months"),a.setDate(1);for(var p=0;p<12;++p){var f=this.dayCell(a),g=this.createElement("span"),m=e&&e.getMonth()===a.getMonth(),v=e&&e.getFullYear()===l&&m;g.textContent=this.globalize.formatDate(a,{type:"dateTime",skeleton:"MMM"}),this.min&&(s<u||p<c&&s===u)||this.max&&(s>h||p>d&&s>=h)?Es([f],"e-disabled"):!i&&v?Es([f],Mc):a.getMonth()===o&&this.currentDate.getMonth()===o&&Es([f],Nc),a.setDate(1),a.setMonth(a.getMonth()+1),f.classList.contains("e-disabled")||Cs.add(f,"click",this.clickHandler,this),f.appendChild(g),n.push(f)}this.renderTemplate(n,4,"e-year",t,e)},e.prototype.renderDecades=function(t,e){this.removeTableHeadElement();var n=[],i=new Date(this.checkValue(this.currentDate));i.setMonth(0),i.setDate(1);var r=i.getFullYear(),o=new Date(i.setFullYear(r-r%10)),l=new Date(i.setFullYear(r-r%10+9)),a=o.getFullYear(),s=l.getFullYear(),u=this.globalize.formatDate(o,{type:"dateTime",skeleton:"y"}),c=this.globalize.formatDate(l,{type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=u+" - "+c;for(var h=new Date(r-r%10-1,0,1).getFullYear(),d=0;d<12;++d){var p=h+d;i.setFullYear(p);var f=this.dayCell(i);Ms(f,{role:"gridcell"});var g=this.createElement("span");g.textContent=this.globalize.formatDate(i,{type:"dateTime",skeleton:"y"}),p<a||p>s?(Es([f],"e-other-year"),(p<new Date(this.checkValue(this.min)).getFullYear()||p>new Date(this.checkValue(this.max)).getFullYear())&&Es([f],"e-disabled")):p<new Date(this.checkValue(this.min)).getFullYear()||p>new Date(this.checkValue(this.max)).getFullYear()?Es([f],"e-disabled"):fs(e)||i.getFullYear()!==e.getFullYear()?i.getFullYear()!==this.currentDate.getFullYear()||f.classList.contains("e-disabled")||Es([f],Nc):Es([f],Mc),f.classList.contains("e-disabled")||Cs.add(f,"click",this.clickHandler,this),f.appendChild(g),n.push(f)}this.renderTemplate(n,4,"e-decade",t,e)},e.prototype.dayCell=function(t){var e={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},n={className:"e-cell",attrs:{id:""+ms(""+this.globalize.parseDate(this.globalize.formatDate(t,e),e).valueOf()),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",n)},e.prototype.firstDay=function(t){var e="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+Ic):this.tableBodyElement.querySelectorAll("td:not(.e-other-year");if(e.length)for(var n=0;n<e.length;n++)if(!e[n].classList.contains("e-disabled")){t=new Date(parseInt(e[n].id,0));break}return t},e.prototype.lastDay=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()+1,0);if(2!==e){var i=Math.abs(n.getTimezoneOffset()-this.firstDay(t).getTimezoneOffset());return i&&n.setHours(this.firstDay(t).getHours()+i/60),this.findLastDay(n)}return this.findLastDay(this.firstDay(n))},e.prototype.checkDateValue=function(t){return!fs(t)&&t instanceof Date&&!isNaN(+t)?t:null},e.prototype.findLastDay=function(t){var e="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(.e-other-year"):this.tableBodyElement.querySelectorAll("td:not(."+Ic);if(e.length)for(var n=e.length-1;n>=0;n--)if(!e[n].classList.contains("e-disabled")){t=new Date(parseInt(e[n].id,0));break}return t},e.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?fs(this.element.querySelectorAll(".e-content table thead")[0])||Rs(this.tableHeadElement):fs(this.calendarElement.querySelectorAll(".e-content table thead")[0])||Rs(this.tableHeadElement)},e.prototype.renderTemplate=function(t,e,n,i,r){var o,l=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),Ts([this.contentElement,this.headerElement],["e-month","e-decade","e-year"]),Es([this.contentElement,this.headerElement],[n]);for(var a=e,s=0,u=0;u<t.length/e;++u){for(o=this.createElement("tr",{attrs:{role:"row"}}),s=0+s;s<a;s++)t[s].classList.contains("e-week-number")||fs(t[s].children[0])||(Es([t[s].children[0]],["e-day"]),uu(t[s].children[0],{duration:600,isCenterRipple:!0})),o.appendChild(t[s]),this.weekNumber&&7===s&&t[7].classList.contains(Ic)&&Es([o],"e-month-hide"),!this.weekNumber&&6===s&&t[6].classList.contains(Ic)&&Es([o],"e-month-hide"),this.weekNumber?41===s&&t[41].classList.contains(Ic)&&Es([o],"e-month-hide"):35===s&&t[35].classList.contains(Ic)&&Es([o],"e-month-hide");a+=e,s+=0,this.tableBodyElement.appendChild(o)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(l!==this.getViewNumber(this.currentView())||0===l&&l!==this.getViewNumber(this.currentView()))&&this.navigateHandler(i),this.setAriaActiveDescendant()},e.prototype.clickHandler=function(t,e){this.clickEventEmitter(t);var n=t.currentTarget,i=this.getViewNumber(this.currentView());n.classList.contains(Ic)?this.contentClick(t,0,null,e):i===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(t,1,null,e):2===i?this.contentClick(t,1,null,e):n.classList.contains(Ic)||0!==i?this.contentClick(t,0,n,e):this.selectDate(t,this.getIdValue(t,null),null),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.clickEventEmitter=function(t){t.preventDefault()},e.prototype.contentClick=function(t,e,n,i){var r=this.getViewNumber(this.currentView()),o=this.getIdValue(t,n);switch(e){case 0:r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(Rs(this.tableBodyElement),this.currentDate=o,this.effect="e-zoomin",this.renderMonths(t)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(o.getMonth()),o.getMonth()>0&&this.currentDate.getMonth()!==o.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(o.getFullYear())):this.currentDate=o,this.effect="e-zoomin",Rs(this.tableBodyElement),this.renderMonths(t));break;case 1:if(r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(t,o,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(o.getFullYear());else{var l=this.islamicModule.getIslamicDate(o);this.currentDate=this.islamicModule.toGregorian(l.year,l.month,1)}this.effect="e-zoomin",Rs(this.tableBodyElement),this.renderYears(t)}}},e.prototype.switchView=function(t,e,n){switch(t){case 0:Rs(this.tableBodyElement),this.renderMonths(e),n&&!fs(this.tableBodyElement.querySelectorAll("."+Nc)[0])&&this.tableBodyElement.querySelectorAll("."+Nc)[0].classList.remove(Nc);break;case 1:Rs(this.tableBodyElement),this.renderYears(e);break;case 2:Rs(this.tableBodyElement),this.renderDecades(e)}},e.prototype.getModuleName=function(){return"calendar"},e.prototype.requiredModules=function(){var t=[];return this&&t.push({args:[this],member:"islamic"}),t},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.onPropertyChanged=function(t,e,n,i){this.effect="";for(var r=0,o=Object.keys(t);r<o.length;r++){var l=o[r];switch(l){case"enableRtl":t.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===l?{min:this.checkDateValue(new Date(this.checkValue(t.min)))}:{max:this.checkDateValue(new Date(this.checkValue(t.max)))},!0),this.setProperties({start:this.currentView()},!0),Rs(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,i),this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(Rs(this.todayElement),Rs(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(Ts([this.todayElement],"e-disabled"),Rs(this.todayElement),Rs(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":this.checkView(),this.createContentHeader(),this.createContentBody();break;case"locale":this.globalize=new Hu(this.locale),this.createContentHeader(),this.createContentBody(),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":t.showTodayButton?this.createContentFooter():(Rs(this.todayElement),Rs(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:t.showTodayButton},!0)}}},e.prototype.validateValues=function(t,e){if(t&&!fs(e)&&e.length>0){for(var n=this.copyValues(e),i=0;i<n.length;i++){var r,o="Gregorian"===this.calendarMode?"gregorian":"islamic";r=this.globalize.formatDate(n[i],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});var l=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:o}),a=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:o});(+new Date(r)<+new Date(l)||+new Date(r)>+new Date(a))&&(n.splice(i,1),i=-1)}this.setProperties({values:n},!0)}},e.prototype.setValueUpdate=function(){Rs(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody()},e.prototype.copyValues=function(t){var e=[];if(!fs(t)&&t.length>0)for(var n=0;n<t.length;n++)e.push(new Date(+t[n]));return e},e.prototype.titleUpdate=function(t,e){var n,i,r=new Hu(this.locale),o="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(n=r.formatDate(t,{type:"dateTime",skeleton:"yMMMM",calendar:o}),i=r.formatDate(t,{type:"dateTime",skeleton:"y",calendar:o})):(n=r.formatDate(t,{type:"dateTime",format:"MMMM y",calendar:o}),i=r.formatDate(t,{type:"dateTime",format:"y",calendar:o})),e){case"days":this.headerTitleElement.textContent=n;break;case"months":this.headerTitleElement.textContent=i}},e.prototype.setActiveDescendant=function(){var t,e=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),i=this.globalize.formatDate(this.currentDate,{type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"});return(n||e)&&((e||n).setAttribute("aria-selected","true"),(e||n).setAttribute("aria-label","The current focused date is "+i),t=(e||n).getAttribute("id")),t},e.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},e.prototype.destroy=function(){"calendar"===this.getModuleName()?Ts([this.element],[Rc]):this.calendarElement&&Ts([this.element],[Rc]),"calendar"===this.getModuleName()&&(Cs.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&Cs.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),fs(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element.innerHTML="",t.prototype.destroy.call(this)},e.prototype.title=function(t){var e=this.getViewNumber(this.currentView());this.effect="e-zoomin",this.switchView(++e,t)},e.prototype.getViewNumber=function(t){return"Month"===t?0:"Year"===t?1:2},e.prototype.navigateTitle=function(t){t.preventDefault(),this.title(t),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.previous=function(){this.effect="";var t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(t)}},e.prototype.navigatePrevious=function(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.next=function(){this.effect="";var t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(t)}},e.prototype.navigateNext=function(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()},e.prototype.navigateTo=function(t,e){+e>=+this.min&&+e<=+this.max&&(this.currentDate=e),+e<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+e>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(t)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(t))&&(t=this.depth),this.switchView(this.getViewNumber(t))},e.prototype.currentView=function(){return this.contentElement.classList.contains("e-year")?"Year":this.contentElement.classList.contains("e-decade")?"Decade":"Month"},e.prototype.getDateVal=function(t,e){return!fs(e)&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},e.prototype.getCultureObjects=function(t,e){return us("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.days.format.short":"main."+this.locale+".dates.calendars.islamic.days.format.short",t)},e.prototype.getWeek=function(t){var e=new Date(this.checkValue(t)).valueOf(),n=new Date(t.getFullYear(),0,1).valueOf();return Math.ceil(((e-n)/864e5+new Date(n).getDay()+1)/7)},e.prototype.setStartDate=function(t,e){var n=t.getTimezoneOffset(),i=new Date(t.getTime()+e),r=i.getTimezoneOffset()-n;t.setTime(i.getTime()+6e4*r)},e.prototype.addMonths=function(t,e){if("Gregorian"===this.calendarMode){var n=t.getDate();t.setDate(1),t.setMonth(t.getMonth()+e),t.setDate(Math.min(n,this.getMaxDays(t)))}else{var i=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(i.year,i.month+e,1)}},e.prototype.addYears=function(t,e){if("Gregorian"===this.calendarMode){var n=t.getDate();t.setDate(1),t.setFullYear(t.getFullYear()+e),t.setDate(Math.min(n,this.getMaxDays(t)))}else{var i=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(i.year+e,i.month,1)}},e.prototype.getIdValue=function(t,e){var n={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},i=this.globalize.formatDate(new Date(parseInt(""+(t?t.currentTarget:e).getAttribute("id"),0)),n),r=this.globalize.parseDate(i,n),o=r.valueOf()-r.valueOf()%1e3;return new Date(o)},e.prototype.selectDate=function(t,e,n,i,r){var o=n||t.currentTarget;if("Decade"===this.currentView())this.setDateDecade(this.currentDate,e.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,e);else{if(i&&!this.checkPresentDate(e,r)){var l=this.copyValues(r);!fs(r)&&l.length>0?(l.push(new Date(this.checkValue(e))),this.setProperties({values:l},!0),this.setProperties({value:r[r.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(e))]},!0)}else this.setProperties({value:new Date(this.checkValue(e))},!0);this.currentDate=new Date(this.checkValue(e))}var a=Ls(o,"."+Rc);if(fs(a)&&(a=this.tableBodyElement),i||fs(a.querySelector("."+Mc))||Ts([a.querySelector("."+Mc)],Mc),i||fs(a.querySelector("."+Nc))||Ts([a.querySelector("."+Nc)],Nc),i){l=this.copyValues(r);for(var s=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),u=0;u<s.length;u++){var c=a.querySelectorAll("td."+Nc)[0],h=a.querySelectorAll("td."+Mc)[0];s[u]===c&&Ts([s[u]],Nc),s[u]!==h||this.checkPresentDate(new Date(parseInt(h.getAttribute("id").split("_")[0],10)),r)||Ts([s[u]],Mc)}if(o.classList.contains(Mc)){Ts([o],Mc);for(var d=0;d<l.length;d++){var p={type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(e,p)===this.globalize.formatDate(l[d],p)&&(u=l.indexOf(l[d]),l.splice(u,1),Es([o],Nc))}this.setProperties({values:l},!0)}else Es([o],Mc)}else Es([o],Mc)},e.prototype.checkPresentDate=function(t,e){var n=!1;if(!fs(e))for(var i=0;i<e.length;i++){var r="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(t,{type:"date",skeleton:"short",calendar:r})===this.globalize.formatDate(e[i],{type:"date",skeleton:"short",calendar:r})&&(n=!0)}return n},e.prototype.setAriaActiveDescendant=function(){Ms(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},e.prototype.previousIconHandler=function(t){t?(Cs.remove(this.previousIcon,"click",this.navigatePreviousHandler),Es([this.previousIcon],"e-disabled"),Es([this.previousIcon],""+Pc),this.previousIcon.setAttribute("aria-disabled","true")):(Cs.add(this.previousIcon,"click",this.navigatePreviousHandler),Ts([this.previousIcon],"e-disabled"),Ts([this.previousIcon],""+Pc),this.previousIcon.setAttribute("aria-disabled","false"))},e.prototype.renderDayCellEvent=function(t){ps(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",t)},e.prototype.navigatedEvent=function(t){ps(this.navigatedArgs,{name:"navigated",event:t}),this.trigger("navigated",this.navigatedArgs)},e.prototype.triggerNavigate=function(t){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(t)},e.prototype.nextIconHandler=function(t){t?(Cs.remove(this.nextIcon,"click",this.navigateNextHandler),Es([this.nextIcon],"e-disabled"),Es([this.nextIcon],Pc),this.nextIcon.setAttribute("aria-disabled","true")):(Cs.add(this.nextIcon,"click",this.navigateNextHandler),Ts([this.nextIcon],"e-disabled"),Ts([this.nextIcon],Pc),this.nextIcon.setAttribute("aria-disabled","false"))},e.prototype.compare=function(t,e,n){var i,r,o=e.getFullYear();return i=o,r=0,n&&(i=(o-=o%n)-o%n+n-1),t.getFullYear()>i?r=1:t.getFullYear()<o&&(r=-1),r},e.prototype.isMinMaxRange=function(t){return+t>=+this.min&&+t<=+this.max},e.prototype.isMonthYearRange=function(t){if("Gregorian"===this.calendarMode)return t.getMonth()>=this.min.getMonth()&&t.getFullYear()>=this.min.getFullYear()&&t.getMonth()<=this.max.getMonth()&&t.getFullYear()<=this.max.getFullYear();var e=this.islamicModule.getIslamicDate(t);return e.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&e.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&e.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&e.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},e.prototype.compareYear=function(t,e){return this.compare(t,e,0)},e.prototype.compareDecade=function(t,e){return this.compare(t,e,10)},e.prototype.shiftArray=function(t,e){return t.slice(e).concat(t.slice(0,e))},e.prototype.addDay=function(t,e,n,i,r){var o=e,l=new Date(+t);if(!fs(this.tableBodyElement)&&!fs(n)){for(;this.findNextTD(new Date(+t),o,i,r);)o+=e;var a=new Date(l.setDate(l.getDate()+o));o=+a>+i||+a<+r?o===e?e-e:e:o}t.setDate(t.getDate()+o)},e.prototype.findNextTD=function(t,e,n,i){var r,o=new Date(t.setDate(t.getDate()+e)),l=!1;if(r=(!fs(o)&&o.getMonth())===(!fs(this.currentDate)&&this.currentDate.getMonth())?("Gregorian"===this.calendarMode?this.renderDays(o,null):this.islamicModule.islamicRenderDays(this.currentDate,o)).filter(function(t){return t.classList.contains("e-disabled")}):this.tableBodyElement.querySelectorAll("td.e-disabled"),+o<=+n&&+o>=+i&&r.length)for(var a=0;a<r.length&&!(l=+o==+new Date(parseInt(r[a].id,0)));a++);return l},e.prototype.getMaxDays=function(t){var e,n,i=new Date(this.checkValue(t));for(e=28,n=i.getMonth();i.getMonth()===n;)i.setDate(++e);return e-1},e.prototype.setDateDecade=function(t,e){t.setFullYear(e),this.setProperties({value:new Date(this.checkValue(t))},!0)},e.prototype.setDateYear=function(t,e){t.setFullYear(e.getFullYear(),e.getMonth(),t.getDate()),e.getMonth()!==t.getMonth()&&t.setDate(0),this.setProperties({value:new Date(this.checkValue(t))},!0),this.currentDate=new Date(this.checkValue(e))},e.prototype.compareMonth=function(t,e){return t.getFullYear()>e.getFullYear()?1:t.getFullYear()<e.getFullYear()?-1:t.getMonth()===e.getMonth()?0:t.getMonth()>e.getMonth()?1:-1},e.prototype.checkValue=function(t){return t instanceof Date?t.toUTCString():""+t},e.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},Object(l.__decorate)([nu(new Date(1900,0,1))],e.prototype,"min",void 0),Object(l.__decorate)([nu(new Date(2099,11,31))],e.prototype,"max",void 0),Object(l.__decorate)([nu(null)],e.prototype,"firstDayOfWeek",void 0),Object(l.__decorate)([nu("Gregorian")],e.prototype,"calendarMode",void 0),Object(l.__decorate)([nu("Month")],e.prototype,"start",void 0),Object(l.__decorate)([nu("Month")],e.prototype,"depth",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"weekNumber",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"showTodayButton",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enablePersistence",void 0),Object(l.__decorate)([ou()],e.prototype,"created",void 0),Object(l.__decorate)([ou()],e.prototype,"destroyed",void 0),Object(l.__decorate)([ou()],e.prototype,"navigated",void 0),Object(l.__decorate)([ou()],e.prototype,"renderDayCell",void 0),Object(l.__decorate)([lu],e)}(Ku),Lc=function(t){function e(e,n){return t.call(this,e,n)||this}return Object(l.__extends)(e,t),e.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&vs("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!fs(this.values)&&this.values.length>0){for(var e=[],n=[],i=0;i<this.values.length;i++)-1===e.indexOf(+this.values[i])&&(e.push(+this.values[i]),n.push(this.values[i]));this.setProperties({values:n},!0);for(var r=0;r<this.values.length;r++)if(!this.checkDateValue(this.values[r]))if("string"==typeof this.values[r]&&this.checkDateValue(new Date(this.checkValue(this.values[r])))){var o=new Date(this.checkValue(this.values[r]));this.values.splice(r,1),this.values.splice(r,0,o)}else this.values.splice(r,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),t.prototype.render.call(this),"calendar"===this.getModuleName()){var l=Ls(this.element,"form");l&&Cs.add(l,"reset",this.formResetHandler.bind(this))}},e.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},e.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),t.prototype.validateDate.call(this,this.value),!fs(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},e.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!fs(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!fs(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||fs(this.value)?t.prototype.minMaxUpdate.call(this,this.value):!fs(this.value)&&this.value<this.min&&this.min<=this.max?t.prototype.minMaxUpdate.call(this,this.min):!fs(this.value)&&this.value>this.max&&this.min<=this.max&&t.prototype.minMaxUpdate.call(this,this.max)},e.prototype.todayButtonClick=function(){if(this.showTodayButton){var e=new Date;if(this.value?(e.setHours(this.value.getHours()),e.setMinutes(this.value.getMinutes()),e.setSeconds(this.value.getSeconds()),e.setMilliseconds(this.value.getMilliseconds())):e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),this.setProperties({value:e},!0),this.isMultiSelection){var n=this.copyValues(this.values);t.prototype.checkPresentDate.call(this,e,this.values)||(n.push(e),this.setProperties({values:n}))}t.prototype.todayButtonClick.call(this,new Date(+this.value))}},e.prototype.keyActionHandle=function(e){t.prototype.keyActionHandle.call(this,e,this.value,this.isMultiSelection)},e.prototype.preRender=function(){var e=this;this.changeHandler=function(t){e.triggerChange(t)},this.checkView(),t.prototype.preRender.call(this,this.value)},e.prototype.createContent=function(){this.previousDate=this.value,t.prototype.createContent.call(this)},e.prototype.minMaxDate=function(e){return t.prototype.minMaxDate.call(this,e)},e.prototype.renderMonths=function(e){t.prototype.renderMonths.call(this,e,this.value)},e.prototype.renderDays=function(e,n){var i=t.prototype.renderDays.call(this,e,n,this.value,this.isMultiSelection,this.values);return this.isMultiSelection&&t.prototype.validateValues.call(this,this.isMultiSelection,this.values),i},e.prototype.renderYears=function(e){"Gregorian"===this.calendarMode?t.prototype.renderYears.call(this,e,this.value):this.islamicModule.islamicRenderYears(e,this.value)},e.prototype.renderDecades=function(e){"Gregorian"===this.calendarMode?t.prototype.renderDecades.call(this,e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)},e.prototype.renderTemplate=function(e,n,i,r){"Gregorian"===this.calendarMode?t.prototype.renderTemplate.call(this,e,n,i,r,this.value):this.islamicModule.islamicRenderTemplate(e,n,i,r,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()},e.prototype.clickHandler=function(e){var n=e.currentTarget;if(this.isPopupClicked=!0,n.classList.contains(Ic))if(this.isMultiSelection){var i=this.copyValues(this.values);i.push(this.getIdValue(e,null)),this.setProperties({values:i},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(e,null)},!0);var r=this.currentView();t.prototype.clickHandler.call(this,e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!fs(this.tableBodyElement.querySelectorAll("."+Nc)[0])&&"Year"===r&&this.tableBodyElement.querySelectorAll("."+Nc)[0].classList.remove(Nc)},e.prototype.switchView=function(e,n){t.prototype.switchView.call(this,e,n,this.isMultiSelection)},e.prototype.getModuleName=function(){return t.prototype.getModuleName.call(this),"calendar"},e.prototype.getPersistData=function(){return t.prototype.getPersistData.call(this),this.addOnPersist(["value","values"])},e.prototype.onPropertyChanged=function(e,n){this.effect="";for(var i=0,r=Object.keys(e);i<r.length;i++)switch(r[i]){case"value":"string"==typeof e.value?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:n.value},!0),this.update();break;case"values":if("string"==typeof e.values||"number"==typeof e.values)this.setProperties({values:null},!0);else{for(var o=this.copyValues(this.values),l=0;l<o.length;l++){var a=o[l];this.checkDateValue(a)&&!t.prototype.checkPresentDate.call(this,a,o)&&o.push(a)}this.setProperties({values:o},!0),this.values.length>0&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update();break;case"isMultiSelection":this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update();break;default:t.prototype.onPropertyChanged.call(this,e,n,this.isMultiSelection,this.values)}},e.prototype.destroy=function(){if(t.prototype.destroy.call(this),"calendar"===this.getModuleName()){var e=Ls(this.element,"form");e&&Cs.remove(e,"reset",this.formResetHandler.bind(this))}},e.prototype.navigateTo=function(e,n){this.minMaxUpdate(),t.prototype.navigateTo.call(this,e,n)},e.prototype.currentView=function(){return t.prototype.currentView.call(this)},e.prototype.addDate=function(e){if("string"!=typeof e&&"number"!=typeof e){var n=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var i=e,r=0;r<i.length;r++)this.checkDateValue(i[r])&&!t.prototype.checkPresentDate.call(this,i[r],n)&&(!fs(n)&&n.length>0?n.push(i[r]):n=[new Date(+i[r])]);else this.checkDateValue(e)&&!t.prototype.checkPresentDate.call(this,e,n)&&(!fs(n)&&n.length>0?n.push(e):n=[new Date(+e)]);this.setProperties({values:n},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,n),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},e.prototype.removeDate=function(t){if("string"!=typeof t&&"number"!=typeof t&&!fs(this.values)&&this.values.length>0){var e=this.copyValues(this.values);if("object"==typeof t&&t.length>0)for(var n=t,i=0;i<n.length;i++)for(var r=0;r<e.length;r++)+e[r]==+n[i]&&e.splice(r,1);else for(r=0;r<e.length;r++)+e[r]==+t&&e.splice(r,1);this.setProperties({values:e},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},e.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),t.prototype.setValueUpdate.call(this)},e.prototype.selectDate=function(e,n,i){t.prototype.selectDate.call(this,e,n,i,this.isMultiSelection,this.values),this.isMultiSelection&&!fs(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)},e.prototype.changeEvent=function(t){this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value)},e.prototype.triggerChange=function(t){this.changedArgs.event=t||null,this.changedArgs.isInteracted=!fs(t),fs(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate?fs(this.values)||this.previousValues===this.values.length||(this.changeEvent(t),this.previousValues=this.values.length):this.changeEvent(t)},Object(l.__decorate)([nu(null)],e.prototype,"value",void 0),Object(l.__decorate)([nu(null)],e.prototype,"values",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"isMultiSelection",void 0),Object(l.__decorate)([ou()],e.prototype,"change",void 0),Object(l.__decorate)([lu],e)}(jc),Fc=!1;function Vc(t,e,n,i,r){return Tc=r,Fc=!!i,t?(e||(e="left"),n||(n="top"),Ac=t.ownerDocument,kc=t,function(t,e,n){switch(Ec=kc.getBoundingClientRect(),e+t){case"topcenter":Bc(Kc(),n),Uc(Gc(),n);break;case"topright":Bc(Xc(),n),Uc(Gc(),n);break;case"centercenter":Bc(Kc(),n),Uc(zc(),n);break;case"centerright":Bc(Xc(),n),Uc(zc(),n);break;case"centerleft":Bc(Yc(),n),Uc(zc(),n);break;case"bottomcenter":Bc(Kc(),n),Uc(Hc(),n);break;case"bottomright":Bc(Xc(),n),Uc(Hc(),n);break;case"bottomleft":Bc(Yc(),n),Uc(Hc(),n);break;default:case"topleft":Bc(Yc(),n),Uc(Gc(),n)}return n}(e.toLowerCase(),n.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function Bc(t,e){e.left=t}function Uc(t,e){e.top=t}function qc(){return Ac.documentElement.scrollTop||Ac.body.scrollTop}function Wc(){return Ac.documentElement.scrollLeft||Ac.body.scrollLeft}function Hc(){return Fc?Ec.bottom:Ec.bottom+qc()}function zc(){return Gc()+Ec.height/2}function Gc(){return Fc?Ec.top:Ec.top+qc()}function Yc(){return Ec.left+Wc()}function Xc(){return Ec.right+Wc()-(Tc?Tc.width:0)}function Kc(){return Yc()+Ec.width/2}function Qc(t,e,n){t.TL={top:e.position.top+e.offsetY,left:e.position.left+e.offsetX},t.TR={top:t.TL.top,left:t.TL.left+n.width},t.BL={top:t.TL.top+n.height,left:t.TL.left},t.BR={top:t.TL.top+n.height,left:t.TL.left+n.width}}function Zc(t,e){var n=!1,i=!1;return t-sh()<rh()&&(n=!0),e>oh()&&(i=!0),{leftSide:n,rightSide:i}}function Jc(t,e){var n=!1,i=!1;return t-ah()<ih()&&(n=!0),e>lh()&&(i=!0),{topSide:n,bottomSide:i}}function $c(){return Oc.getBoundingClientRect().width}function th(){return Oc.getBoundingClientRect().height}function eh(){return Oc.getBoundingClientRect().left}function nh(){return Oc.getBoundingClientRect().top}function ih(){return Oc?nh():0}function rh(){return Oc?eh():0}function oh(){return Oc?sh()+eh()+$c():sh()+ch()}function lh(){return Oc?ah()+nh()+th():ah()+uh()}function ah(){return Dc.documentElement.scrollTop||Dc.body.scrollTop}function sh(){return Dc.documentElement.scrollLeft||Dc.body.scrollLeft}function uh(){return window.innerHeight}function ch(){var t=window.innerWidth;return t-(t-(fs(document.documentElement)?0:document.documentElement.offsetWidth))}var hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),Object(l.__decorate)([nu("left")],e.prototype,"X",void 0),Object(l.__decorate)([nu("top")],e.prototype,"Y",void 0),e}(yu),dh=function(t){function e(e,n){return t.call(this,n,e)||this}return Object(l.__extends)(e,t),e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++)switch(i[n]){case"width":Fs(this.element,{width:ys(t.width)});break;case"height":Fs(this.element,{height:ys(t.height)});break;case"zIndex":Fs(this.element,{zIndex:t.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var r=t.offsetX-e.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+r).toString()+"px";break;case"offsetY":var o=t.offsetY-e.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+o).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==t.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}},e.prototype.getModuleName=function(){return"popup"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){this.element.classList.remove("e-popup","e-rtl"),this.unwireEvents(),t.prototype.destroy.call(this)},e.prototype.render=function(){this.element.classList.add("e-popup");var t={};1e3!==this.zIndex&&(t.zIndex=this.zIndex),"auto"!==this.width&&(t.width=ys(this.width)),"auto"!==this.height&&(t.height=ys(this.height)),Fs(this.element,t),this.fixedParent=!1,this.setEnableRtl(),this.setContent(),this.wireEvents()},e.prototype.wireEvents=function(){Js.isDevice&&Cs.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},e.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,e=this.getScrollableParent(this.getRelateToElement());t<e.length;t++)Cs.add(e[t],"scroll",this.scrollRefresh,this)},e.prototype.unwireEvents=function(){Js.isDevice&&Cs.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},e.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var t=0,e=this.getScrollableParent(this.getRelateToElement());t<e.length;t++)Cs.remove(e[t],"scroll",this.scrollRefresh)},e.prototype.getRelateToElement=function(){var t=""===this.relateTo||fs(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:t},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},e.prototype.scrollRefresh=function(t){if("reposition"===this.actionOnScroll?this.element.offsetParent===t.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==t.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var e=this.isElementOnViewport(this.getRelateToElement(),t.target);e||this.targetInvisibleStatus?e&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},e.prototype.isElementOnViewport=function(t,e){for(var n=this.getScrollableParent(t),i=0;i<n.length;i++)if(!this.isElementVisible(t,n[i]))return!1;return!0},e.prototype.isElementVisible=function(t,e){var n=this.checkGetBoundingClientRect(t);if(!n.height||!n.width)return!1;if(fs(this.checkGetBoundingClientRect(e))){var i=window,r={top:i.scrollY,left:i.scrollX,right:i.scrollX+i.outerWidth,bottom:i.scrollY+i.outerHeight},o=Vc(t),l={top:o.top,left:o.left,right:o.left+n.width,bottom:o.top+n.height},a={top:r.bottom-l.top,left:r.right-l.left,bottom:l.bottom-r.top,right:l.right-r.left};return a.top>0&&a.left>0&&a.right>0&&a.bottom>0}var s=e.getBoundingClientRect();return!(n.bottom<s.top||n.bottom>s.bottom||n.right>s.right||n.left<s.left)},e.prototype.preRender=function(){},e.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},e.prototype.setContent=function(){fs(this.content)||(this.element.innerHTML="","string"==typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))},e.prototype.orientationOnChange=function(){var t=this;setTimeout(function(){t.refreshPosition()},200)},e.prototype.refreshPosition=function(t,e){fs(t)||this.checkFixedParent(t),this.reposition(),e||this.checkCollision()},e.prototype.reposition=function(){var t,e,n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)t={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){var i=this.element.style.display,r=void 0;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),t="string"==typeof this.position.X?{left:e.left,top:this.position.Y}:{left:this.position.X,top:e.top},this.element.style.display=i,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else n?(i=this.element.style.display,this.element.style.display="block",t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=i):t={left:0,top:0};fs(t)||(this.element.style.left=t.left+"px",this.element.style.top=t.top+"px")},e.prototype.checkGetBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return null}},e.prototype.getAnchorPosition=function(t,e,n,i,r){var o=this.checkGetBoundingClientRect(e),l=this.checkGetBoundingClientRect(t);if(fs(o)||fs(l))return null;var a=t,s={left:0,top:0};switch(e.offsetParent&&"BODY"===e.offsetParent.tagName&&"BODY"===t.tagName?s=Vc(t):(e.classList.contains("e-dlg-modal")&&"BODY"!==a.tagName&&(e=e.parentElement),s=function(t,e){var n=!1,i={left:0,top:0},r=t;if(!t||!e)return i;for(fs(e.offsetParent)&&"fixed"===e.style.position&&(n=!0);(e.offsetParent||n)&&t&&e.offsetParent!==t;)i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent;for(t=r;(e.offsetParent||n)&&t&&e.offsetParent!==t;)i.left-=t.scrollLeft,i.top-=t.scrollTop,t=t.parentElement;return i}(a,e)),n.X){default:case"left":break;case"center":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?s.left+=window.innerWidth/2-o.width/2:s.left+="container"===this.targetType?l.width/2-o.width/2:l.width/2;break;case"right":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?s.left+=window.innerWidth-o.width:s.left+="container"===this.targetType?l.width-o.width:l.width}switch(n.Y){default:case"top":break;case"center":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?s.top+=window.innerHeight/2-o.height/2:s.top+="container"===this.targetType?l.height/2-o.height/2:l.height/2;break;case"bottom":e.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?s.top+=window.innerHeight-o.height:s.top+="container"===this.targetType?l.height-o.height:l.height}return s.left+=i,s.top+=r,s},e.prototype.callFlip=function(t){var e=this.getRelateToElement();!function(t,e,n,i,r,o,l,a,s){if(void 0===l&&(l=null),void 0===a&&(a={X:!0,Y:!0}),e&&t&&r&&o&&(a.X||a.Y)){var u={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null},h=t.getBoundingClientRect(),d={posX:r,posY:o,offsetX:n,offsetY:i,position:{left:0,top:0}};Oc=l,Dc=e.ownerDocument,function(t,e,n,i,r){n.position=Vc(t,n.posX,n.posY,i,r),e.TL=Vc(t,"left","top",i,r),e.TR=Vc(t,"right","top",i,r),e.BR=Vc(t,"left","bottom",i,r),e.BL=Vc(t,"right","bottom",i,r)}(e,u,d,s,h),Qc(c,d,h),a.X&&function t(e,n,i,r,o,l){var a=Zc(n.TL.left,n.TR.left);i.TL.left-sh()<=rh()&&(a.leftSide=!1),i.TR.left>=oh()&&(a.rightSide=!1),(a.leftSide&&!a.rightSide||!a.leftSide&&a.rightSide)&&(r.posX="right"===r.posX?"left":"right",r.offsetX=r.offsetX+o.width,r.offsetX=-1*r.offsetX,r.position=Vc(e,r.posX,r.posY,!1),Qc(n,r,o),l&&t(e,n,i,r,o,!1))}(e,c,u,d,h,!0),a.Y&&u.TL.top>-1&&function t(e,n,i,r,o,l){var a=Jc(n.TL.top,n.BL.top);i.TL.top-ah()<=ih()&&(a.topSide=!1),i.BL.top>=lh()&&(a.bottomSide=!1),(a.topSide&&!a.bottomSide||!a.topSide&&a.bottomSide)&&(r.posY="top"===r.posY?"bottom":"top",r.offsetY=r.offsetY+o.height,r.offsetY=-1*r.offsetY,r.position=Vc(e,r.posX,r.posY,!1,o),Qc(n,r,o),l&&t(e,n,i,r,o,!1))}(e,c,u,d,h,!0),function(t,e,n){var i=0,r=0;if(null!=t.offsetParent&&("absolute"===getComputedStyle(t.offsetParent).position||"relative"===getComputedStyle(t.offsetParent).position)){var o=Vc(t.offsetParent,"left","top",!1,n);i=o.left,r=o.top}t.style.top=e.position.top+e.offsetY-r+"px",t.style.left=e.position.left+e.offsetX-i+"px"}(t,d,h)}}(this.element,e,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,t,this.fixedParent)},e.prototype.callFit=function(t){if(0!==function(t,e,n,i){void 0===e&&(e=null);var r=Vc(t,"left","top"),o=[];Oc=e,Dc=t.ownerDocument;var l=t.getBoundingClientRect(),a=r.left,s=r.left+l.width,u=Jc(r.top,r.top+l.height),c=Zc(a,s);return u.topSide&&o.push("top"),c.rightSide&&o.push("right"),c.leftSide&&o.push("left"),u.bottomSide&&o.push("bottom"),o}(this.element,this.viewPortElement).length)if(fs(this.viewPortElement)){var e=function(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n={X:!1,Y:!1}),!n.Y&&!n.X)return{left:0,top:0};var r=t.getBoundingClientRect();if(Oc=e,Dc=t.ownerDocument,i||(i=Vc(t,"left","top")),n.X){var o=Oc?$c():ch(),l=rh(),a=oh(),s=l-i.left,u=i.left+r.width-a;r.width>o?i.left=s>0&&u<=0?a-r.width:u>0&&s<=0?l:s>u?a-r.width:l:s>0?i.left+=s:u>0&&(i.left-=u)}if(n.Y){var c=Oc?th():uh(),h=ih(),d=lh(),p=h-i.top,f=i.top+r.height-d;r.height>c?i.top=p>0&&f<=0?d-r.height:f>0&&p<=0?h:p>f?d-r.height:h:p>0?i.top+=p:f>0&&(i.top-=f)}return i}(this.element,this.viewPortElement,t);t.X&&(this.element.style.left=e.left+"px"),t.Y&&(this.element.style.top=e.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),i=this.checkGetBoundingClientRect(this.viewPortElement);if(fs(n)||fs(i))return null;t&&!0===t.Y&&(i.top>n.top?this.element.style.top="0px":i.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-i.bottom)+"px")),t&&!0===t.X&&(i.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-i.right)+"px":i.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(i.left-n.left)+"px"))}},e.prototype.checkCollision=function(){var t=this.collision.X,e=this.collision.Y;"none"===t&&"none"===e||("flip"===t&&"flip"===e?this.callFlip({X:!0,Y:!0}):"fit"===t&&"fit"===e?this.callFit({X:!0,Y:!0}):("flip"===t?this.callFlip({X:!0,Y:!1}):"flip"===e&&this.callFlip({Y:!0,X:!1}),"fit"===t?this.callFit({X:!0,Y:!1}):"fit"===e&&this.callFit({X:!1,Y:!0})))},e.prototype.show=function(t,e){var n=this;if(1e3===this.zIndex||!fs(e)){var i=fs(e)?this.element:e;this.zIndex=ph(i),Fs(this.element,{zIndex:this.zIndex})}t=fs(t)||"object"!=typeof t?this.showAnimation:t,"none"===this.collision.X&&"none"===this.collision.Y||(Ts([this.element],"e-popup-close"),Es([this.element],"e-popup-open"),this.checkCollision(),Ts([this.element],"e-popup-open"),Es([this.element],"e-popup-close")),fs(t)?(Ts([this.element],"e-popup-close"),Es([this.element],"e-popup-open"),this.trigger("open")):(t.begin=function(){n.isDestroyed||(Ts([n.element],"e-popup-close"),Es([n.element],"e-popup-open"))},t.end=function(){n.isDestroyed||n.trigger("open")},new su(t).animate(this.element))},e.prototype.hide=function(t){var e=this;fs(t=fs(t)||"object"!=typeof t?this.hideAnimation:t)?(Ts([this.element],"e-popup-open"),Es([this.element],"e-popup-close"),this.trigger("close")):(t.end=function(){e.isDestroyed||(Ts([e.element],"e-popup-open"),Es([e.element],"e-popup-close"),e.trigger("close"))},new su(t).animate(this.element))},e.prototype.getScrollableParent=function(t){return this.checkFixedParent(t),function(t,e){for(var n=getComputedStyle(t),i=[],r=/(auto|scroll)/,o=t.parentElement;o&&"HTML"!==o.tagName;){var l=getComputedStyle(o);"absolute"===n.position&&"static"===l.position||!r.test(l.overflow+l.overflowY+l.overflowX)||i.push(o),o=o.parentElement}return e||i.push(document),i}(t,this.fixedParent)},e.prototype.checkFixedParent=function(t){for(var e=t.parentElement;e&&"HTML"!==e.tagName;){var n=getComputedStyle(e);"fixed"===n.position&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.position="fixed",this.fixedParent=!0),e=e.parentElement,fs(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},Object(l.__decorate)([nu("auto")],e.prototype,"height",void 0),Object(l.__decorate)([nu("auto")],e.prototype,"width",void 0),Object(l.__decorate)([nu(null)],e.prototype,"content",void 0),Object(l.__decorate)([nu("container")],e.prototype,"targetType",void 0),Object(l.__decorate)([nu(null)],e.prototype,"viewPortElement",void 0),Object(l.__decorate)([nu({X:"none",Y:"none"})],e.prototype,"collision",void 0),Object(l.__decorate)([nu("")],e.prototype,"relateTo",void 0),Object(l.__decorate)([iu({},hh)],e.prototype,"position",void 0),Object(l.__decorate)([nu(0)],e.prototype,"offsetX",void 0),Object(l.__decorate)([nu(0)],e.prototype,"offsetY",void 0),Object(l.__decorate)([nu(1e3)],e.prototype,"zIndex",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enableRtl",void 0),Object(l.__decorate)([nu("reposition")],e.prototype,"actionOnScroll",void 0),Object(l.__decorate)([nu(null)],e.prototype,"showAnimation",void 0),Object(l.__decorate)([nu(null)],e.prototype,"hideAnimation",void 0),Object(l.__decorate)([ou()],e.prototype,"open",void 0),Object(l.__decorate)([ou()],e.prototype,"close",void 0),Object(l.__decorate)([ou()],e.prototype,"targetExitViewport",void 0),Object(l.__decorate)([lu],e)}(Ku);function ph(t){for(var e=t.parentElement,n=[];e&&"BODY"!==e.tagName;){var i=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");"auto"!==i&&"static"!==r&&n.push(i),e=e.parentElement}for(var o=[],l=0;l<document.body.children.length;l++)t.isEqualNode(document.body.children[l])||(i=document.defaultView.getComputedStyle(document.body.children[l],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(document.body.children[l],null).getPropertyValue("position"),"auto"!==i&&"static"!==r&&o.push(i));o.push("999");var a=[];if(!fs(t.parentElement)&&"BODY"!==t.parentElement.tagName){var s=[].slice.call(t.parentElement.children);for(l=0;l<s.length;l++)i=document.defaultView.getComputedStyle(s[l],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(s[l],null).getPropertyValue("position"),"auto"!==i&&"static"!==r&&a.push(i)}var u=n.concat(o,a),c=Math.max.apply(Math,u)+1;return c>2147483647?2147483647:c}function fh(t){for(var e,n=t.childNodes,i=0;i<n.length;i++)if(3===(e=n[i]).nodeType)return e;return null}var gh,mh,vh,yh,bh,wh,_h,Ch,xh=function(t){function e(e,n){return t.call(this,e,n)||this}return Object(l.__extends)(e,t),e.prototype.preRender=function(){},e.prototype.render=function(){this.initialize()},e.prototype.initialize=function(){this.cssClass&&Es([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content&&(this.element.innerHTML=this.content),this.setIconCss(),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled?this.controlStatus(this.disabled):this.wireEvents(),this.removeRippleEffect=uu(this.element,{selector:".e-btn"})},e.prototype.controlStatus=function(t){this.element.disabled=t},e.prototype.setIconCss=function(){if(this.iconCss){var t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");var e=this.element.childNodes[0];!e||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(t):this.element.insertBefore(t,e)}},e.prototype.wireEvents=function(){this.isToggle&&Cs.add(this.element,"click",this.btnClickHandler,this)},e.prototype.unWireEvents=function(){this.isToggle&&Cs.remove(this.element,"click",this.btnClickHandler)},e.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},e.prototype.destroy=function(){var e,n=["e-primary","e-rtl","e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(n=n.concat(this.cssClass.split(" "))),t.prototype.destroy.call(this),Ts([this.element],n),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,"")),(e=this.element.querySelector("span.e-btn-icon"))&&Rs(e),this.unWireEvents(),this.removeRippleEffect()},e.prototype.getModuleName=function(){return"btn"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.Inject=function(){},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++)switch(i[n]){case"isPrimary":t.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(t.disabled),this.unWireEvents();break;case"iconCss":var r=this.element.querySelector("span.e-btn-icon");r?t.iconCss?(r.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&r.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):Rs(r):this.setIconCss();break;case"iconPosition":Ts([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(r=this.element.querySelector("span.e-btn-icon"))&&Rs(r),this.setIconCss();break;case"cssClass":e.cssClass&&Ts([this.element],e.cssClass.split(" ")),t.cssClass&&Es([this.element],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl");break;case"content":fh(this.element)||this.element.classList.remove("e-icon-btn"),this.element.innerHTML=t.content,this.setIconCss();break;case"isToggle":t.isToggle?Cs.add(this.element,"click",this.btnClickHandler,this):(Cs.remove(this.element,"click",this.btnClickHandler),Ts([this.element],["e-active"]))}},e.prototype.click=function(){this.element.click()},e.prototype.focusIn=function(){this.element.focus()},Object(l.__decorate)([nu("Left")],e.prototype,"iconPosition",void 0),Object(l.__decorate)([nu("")],e.prototype,"iconCss",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"disabled",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"isPrimary",void 0),Object(l.__decorate)([nu("")],e.prototype,"cssClass",void 0),Object(l.__decorate)([nu("")],e.prototype,"content",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"isToggle",void 0),Object(l.__decorate)([nu()],e.prototype,"locale",void 0),Object(l.__decorate)([ou()],e.prototype,"created",void 0),Object(l.__decorate)([lu],e)}(Ku),Sh=["north-west","north","north-east","west","east","south-west","south","south-east"],Eh=0,Th=0,kh=0,Ah=0,Dh=0,Oh=0,Ih="e-resize-handle",Rh="e-focused-handle",Ph=["e-restrict-left"],Mh="e-resize-viewport",Nh=null,jh=null,Lh=null,Fh=!0,Vh=0,Bh=!0;function Uh(t){var e;return fs(t)||(e="string"==typeof t?document.querySelector(t):t),e}function qh(t){return t.indexOf("mouse")>-1?"mouse":"touch"}function Wh(t){if(t.preventDefault(),gh=t.target.parentElement,zh(),Dh=t.pageX,Oh=t.pageY,t.target.classList.add(Rh),fs(Nh)||!0!==Nh(t)){var e=fs(_h)?document:_h;Cs.add(e,"mousemove",Yh,this),Cs.add(document,"mouseup",Hh,this);for(var n=0;n<Ph.length;n++)Fh=!gh.classList.contains(Ph[n])}}function Hh(t){var e="msie"===Js.info.name?"pointermove":"touchmove",n="msie"===Js.info.name?"pointerup":"touchend",i=fs(_h)?document:_h;Cs.remove(i,"mousemove",Yh),Cs.remove(i,e,Yh),Cs.remove(i,"msie"===Js.info.name?"pointerdown":"touchstart",Yh),fs(document.body.querySelector("."+Rh))||document.body.querySelector("."+Rh).classList.remove(Rh),fs(Lh)||Lh(t),Cs.remove(document,"mouseup",Hh),Cs.remove(document,n,Hh)}function zh(){Eh=parseFloat(getComputedStyle(gh,null).getPropertyValue("width").replace("px","")),Th=parseFloat(getComputedStyle(gh,null).getPropertyValue("height").replace("px","")),kh=gh.getBoundingClientRect().left,Ah=gh.getBoundingClientRect().top}function Gh(t){if(gh=t.target.parentElement,zh(),Dh=t.touches[0].pageX,Oh=t.touches[0].pageY,fs(Nh)||!0!==Nh(t)){var e="msie"===Js.info.name?"pointermove":"touchmove",n="msie"===Js.info.name?"pointerup":"touchend",i=fs(_h)?document:_h;Cs.add(i,e,Yh,this),Cs.add(document,n,Hh)}}function Yh(t){if(t.target.classList.contains(Ih)&&t.target.classList.contains(Rh)?mh=t.target:fs(document.body.querySelector("."+Rh))||(mh=document.body.querySelector("."+Rh)),!fs(mh)){for(var e="",n=0;n<Sh.length;n++)mh.classList.contains("e-"+Sh[n])&&(e=Sh[n]);switch(fs(jh)||jh(t),e){case"south":Kh(t);break;case"north":Qh(t);break;case"west":Zh(t);break;case"east":Jh(t);break;case"south-east":Kh(t),Jh(t);break;case"south-west":Kh(t),Zh(t);break;case"north-east":Qh(t),Jh(t);break;case"north-west":Qh(t),Zh(t)}}}function Xh(t){return t.getBoundingClientRect()}function Kh(t){var e,n=document.documentElement.clientHeight,i=!1,r="mouse"===qh(t.type)?t.pageY:t.touches[0].pageY,o=Xh(gh);fs(_h)||(e=Xh(_h)),fs(_h)?fs(_h)&&(n-r>=0||o.top<0)&&(i=!0):i=!0;var l=Th+(r-Oh);l=l>vh?l:vh;var a=0;fs(_h)||(a=e.top);var s=fs(_h)?0:_h.offsetHeight-_h.clientHeight,u=o.top-a-s/2;if(u=u<0?0:u,o.top>0&&u+l>yh){if(i=!1,gh.classList.contains(Mh))return;gh.style.height=yh-parseInt(u.toString(),10)+"px"}else{var c=0;if(i){o.top<0&&n+(o.height+o.top)>0&&l+(c=o.top)<=30&&(l=o.height-(o.height+o.top)+30),l+o.top>=yh&&(gh.style.height=o.height+(n-(o.height+o.top))+"px");var h=fs(_h)?c:u;l>=vh&&l+h<=yh&&(gh.style.height=l+"px")}}}function Qh(t){var e,n=!1,i="mouse"===qh(t.type)?t.pageY:t.touches[0].pageY,r=Xh(gh);fs(_h)||(e=Xh(_h)),!fs(_h)&&r.top-e.top>0?n=!0:fs(_h)&&i>0&&(n=!0);var o=Th-(i-Oh);if(Xh(gh).bottom+o>yh&&(n=!1,gh.style.height=yh-Xh(gh).bottom+"px"),n&&o>=vh&&o<=yh){var l=0;fs(_h)||(l=e.top);var a=Ah-l+(i-Oh);a=a>0?a:1,gh.style.height=o+"px",gh.style.top=a+"px"}}function Zh(t){var e,n=document.documentElement.clientWidth,i=!1;fs(_h)||(e=Xh(_h));var r="mouse"===qh(t.type)?t.pageX:t.touches[0].pageX,o=Xh(gh),l=fs(_h)?0:_h.offsetWidth-_h.clientWidth,a=fs(_h)?0:e.left,s=fs(_h)?0:e.width;fs(Ch)&&(fs(_h)?Ch=n:(Ch=o.left-a-l/2+o.width,Ch+=s-l-Ch)),!fs(_h)&&o.left-e.left+o.width+(e.right-o.right)-l<=wh?i=!0:fs(_h)&&r>=0&&(i=!0);var u=Eh-(r-Dh);if(Fh&&(u=u>Ch?Ch:u),i&&u>=bh&&u<=wh){var c=0;fs(_h)||(c=e.left);var h=kh-c+(r-Dh);h=h>0?h:1,u!==Vh&&Bh&&(gh.style.width=u+"px"),Fh&&(gh.style.left=h+"px",Bh=1!==h)}Vh=u}function Jh(t){var e,n=document.documentElement.clientWidth,i=!1;fs(_h)||(e=Xh(_h));var r="mouse"===qh(t.type)?t.pageX:t.touches[0].pageX,o=Xh(gh);!fs(_h)&&(o.left-e.left+o.width<wh||o.right-e.left>o.width)?i=!0:fs(_h)&&n-r>0&&(i=!0);var l=Eh+(r-Dh),a=0;if(fs(_h)||(a=e.left),o.left-a+l>wh){if(i=!1,gh.classList.contains(Mh))return;gh.style.width=wh-(o.left-a)+"px"}i&&l>=bh&&l<=wh&&(gh.style.width=l+"px")}function $h(){for(var t=gh.querySelectorAll("."+Ih),e=0;e<t.length;e++)Rs(t[e])}var td,ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),Object(l.__decorate)([nu()],e.prototype,"buttonModel",void 0),Object(l.__decorate)([nu("Button")],e.prototype,"type",void 0),Object(l.__decorate)([ou()],e.prototype,"click",void 0),e}(yu),nd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),Object(l.__decorate)([nu("Fade")],e.prototype,"effect",void 0),Object(l.__decorate)([nu(400)],e.prototype,"duration",void 0),Object(l.__decorate)([nu(0)],e.prototype,"delay",void 0),e}(yu),id="Information",rd=function(t){function e(e,n){return t.call(this,e,n)||this}return Object(l.__extends)(e,t),e.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight())},e.prototype.preRender=function(){var t=this;this.headerContent=null,this.allowMaxHeight=!0;for(var e=[],n=0;n<this.element.classList.length;n++)fs(this.element.classList[n].match("e-control"))&&fs(this.element.classList[n].match("e-dialog"))||e.push(this.element.classList[n]);if(Ts([this.element],e),this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(e){t.hide(e)},this.dlgOverlayClickEventHandler=function(e){t.trigger("overlayClick",e)},this.l10n=new ec("dialog",{close:"Close"},this.locale),this.checkPositionData(),fs(this.target)){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=i}},e.prototype.isNumberValue=function(t){return/^[-+]?\d*\.?\d+$/.test(t)},e.prototype.checkPositionData=function(){if(!fs(this.position)){if(!fs(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=t}fs(this.position.Y)||"number"==typeof this.position.Y||this.isNumberValue(this.position.Y)&&(t=this.isProtectedOnChange,this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=t)}},e.prototype.getEle=function(t,e){for(var n=void 0,i=0;i<t.length;i++)if(t[i].classList.contains(e)){n=t[i];break}return n},e.prototype.getMinHeight=function(){var t="0px",e="0px";fs(this.element.querySelector(".e-dlg-header-content"))||(t=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.childNodes,"e-footer-content");fs(n)||(e=getComputedStyle(n).height);var i=parseInt(t.slice(0,t.indexOf("p")),10),r=parseInt(e.slice(0,e.indexOf("p")),10);vh=i+30+r},e.prototype.onResizeStart=function(t){return this.trigger("resizeStart",t),t.cancel},e.prototype.onResizing=function(t){this.trigger("resizing",t)},e.prototype.onResizeComplete=function(t){this.trigger("resizeStop",t)},e.prototype.setResize=function(){if(this.enableResize){this.element.classList.add("e-dlg-resizable");var t=getComputedStyle(this.element).minHeight,e=getComputedStyle(this.element).minWidth,n=this.enableRtl?"south-west":"south-east";this.isModal&&this.enableRtl?this.element.classList.add("e-restrict-left"):this.isModal&&this.target===document.body&&this.element.classList.add("e-resize-viewport"),function(t){Nh=t.resizeBegin,jh=t.resizing,Lh=t.resizeComplete,gh=Uh(t.element),_h=Uh(t.boundary);for(var e=t.direction.split(" "),n=0;n<e.length;n++){var i=Ss("div",{className:"e-icons "+Ih+" e-"+e[n]});gh.appendChild(i)}vh=t.minHeight,bh=t.minWidth,wh=t.maxWidth,yh=t.maxHeight,function(){for(var t=gh.querySelectorAll("."+Ih),e=0;e<t.length;e++)Cs.add(mh=t[e],"mousedown",Wh,this),Cs.add(mh,"msie"===Js.info.name?"pointerdown":"touchstart",Gh,this)}()}({element:this.element,direction:n,minHeight:parseInt(t.slice(0,e.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(e.slice(0,e.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this)})}else $h(),this.element.classList.remove(this.isModal?"e-restrict-left":"e-resize-viewport"),this.element.classList.remove("e-dlg-resizable")},e.prototype.keyDown=function(t){var e=this;if(9===t.keyCode&&this.isModal){var n=void 0;fs(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),fs(n)||document.activeElement!==n.element||t.shiftKey||(t.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&t.shiftKey&&(t.preventDefault(),fs(n)||n.element.focus())}var i,r=document.activeElement,o=["input","textarea"].indexOf(r.tagName.toLowerCase())>-1,l=!1;o||(l=r.hasAttribute("contenteditable")&&"true"===r.getAttribute("contenteditable")),27===t.keyCode&&this.closeOnEscape&&this.hide(t),(13===t.keyCode&&!t.ctrlKey&&"textarea"!==r.tagName.toLowerCase()&&o&&!fs(this.primaryButtonEle)||13===t.keyCode&&t.ctrlKey&&("textarea"===r.tagName.toLowerCase()||l)&&!fs(this.primaryButtonEle))&&this.buttons.some(function(t,e){i=e;var n=t.buttonModel;return!fs(n)&&!0===n.isPrimary})&&"function"==typeof this.buttons[i].click&&setTimeout(function(){e.buttons[i].click.call(e,t)})},e.prototype.initialize=function(){fs(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),Es([this.element],"e-dialog"),Js.isDevice&&Es([this.element],"e-device"),this.setCSSClass(),this.setMaxHeight()},e.prototype.initRender=function(){var t=this;this.initialRender=!0,Ms(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.setTargetContent(),""===this.header||fs(this.header)||this.setHeader(),this.showCloseIcon&&this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||fs(this.footerTemplate)?fs(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate(),this.allowDragging&&!fs(this.headerContent)&&this.setAllowDragging(),Ms(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal(),fs(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new dh(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",open:function(e){t.focusContent();var n={container:t.isModal?t.dlgContainer:t.element,element:t.element,target:t.target};t.enableResize&&t.getMinHeight(),t.trigger("open",n)},close:function(e){t.isModal&&Es([t.dlgOverlay],"e-fade"),t.unBindEvent(t.element),t.isModal&&(t.dlgContainer.style.display="none"),t.trigger("close",t.closeArgs);var n=document.activeElement;fs(n)||fs(n.blur)||n.blur(),fs(t.storeActiveElement)||t.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),Es([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex(),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1},e.prototype.setOverlayZindex=function(t){var e;e=fs(t)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:t,this.dlgOverlay.style.zIndex=(e-1).toString(),this.dlgContainer.style.zIndex=e.toString()},e.prototype.positionChange=function(){this.isModal?"number"==typeof this.position.X&&"number"==typeof this.position.Y?this.setPopupPosition():"string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},e.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},e.prototype.setAllowDragging=function(){var t=this;this.dragObj=new Ju(this.element,{clone:!1,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:function(e){t.trigger("dragStart",e)},dragStop:function(e){t.isModal&&(fs(t.position)||t.dlgContainer.classList.remove("e-dlg-"+t.position.X+"-"+t.position.Y),t.element.style.position="relative"),t.trigger("dragStop",e),t.element.classList.remove("e-restrict-left")},drag:function(e){t.trigger("drag",e)}}),fs(this.targetEle)||(this.dragObj.dragArea=this.targetEle)},e.prototype.setButton=function(){this.buttonContent=[],this.btnObj=[];for(var t=0;t<this.buttons.length;t++){var e=fs(this.buttons[t].type)?"button":this.buttons[t].type.toLowerCase(),n=this.createElement("button",{attrs:{type:e}});this.buttonContent.push(n.outerHTML)}for(this.setFooterTemplate(),t=0;t<this.buttons.length;t++)this.btnObj[t]=new xh(this.buttons[t].buttonModel),"function"==typeof this.buttons[t].click&&Cs.add(this.ftrTemplateContent.children[t],"click",this.buttons[t].click,this),this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]},e.prototype.setContent=function(){Ms(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(fs(this.content)||""===this.content)&&this.initialRender||("string"==typeof this.content?this.contentEle.innerHTML=this.content:this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle)),fs(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&this.setMaxHeight()},e.prototype.setTemplate=function(t,e){for(var n=[],i=0,r=(fs(t.outerHTML)?vc(t):vc(t.outerHTML))({});i<r.length;i++)n.push(r[i]);Os([].slice.call(n),e)},e.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!fs(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=t}},e.prototype.setEnableRTL=function(){this.enableRtl?Es([this.element],"e-rtl"):Ts([this.element],"e-rtl"),fs(this.element.querySelector(".e-resize-handle"))||($h(),this.setResize())},e.prototype.setTargetContent=function(){if(fs(this.content)||""===this.content){var t=""!==this.element.innerHTML.replace(/\s/g,"");if(this.element.children.length>0||t)for(this.innerContentElement=document.createDocumentFragment();0!==this.element.childNodes.length;)this.innerContentElement.appendChild(this.element.childNodes[0])}},e.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:"e-dlg-header"}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle),Ms(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0])},e.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:"e-footer-content"}),""===this.footerTemplate||fs(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent),this.element.appendChild(this.ftrTemplateContent)},e.prototype.createHeaderContent=function(){fs(this.headerContent)&&(this.headerContent=this.createElement("div",{className:"e-dlg-header-content"}))},e.prototype.renderCloseIcon=function(){this.closeIcon=this.createElement("button",{className:"e-dlg-closeicon-btn",attrs:{type:"button"}}),this.closeIconBtnObj=new xh({cssClass:"e-flat",iconCss:"e-icon-dlg-close e-icons"}),this.closeIconTitle(),fs(this.headerContent)?(this.createHeaderContent(),Ds([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Ds([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon)},e.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",t)},e.prototype.setCSSClass=function(t){this.cssClass&&Es([this.element],this.cssClass.split(" ")),t&&Ts([this.element],t.split(" "))},e.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove("e-popup-open"),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),Es([this.element],"e-dlg-modal"),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},e.prototype.getValidFocusNode=function(t){for(var e,n=0;n<t.length;n++)if(((e=t[n]).clientHeight>0||"a"===e.tagName.toLowerCase()&&e.hasAttribute("href"))&&e.tabIndex>-1&&!e.disabled&&!this.disableElement(e,'[disabled],[aria-disabled="true"],[type="hidden"]'))return e;return e},e.prototype.focusableElements=function(t){if(!fs(t)){var e=t.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(e)}return null},e.prototype.getAutoFocusNode=function(t){var e=t.querySelector(".e-dlg-closeicon-btn"),n=t.querySelectorAll("[autofocus]"),i=this.getValidFocusNode(n);if(fs(i)){if(!fs(i=this.focusableElements(this.contentEle)))return i;if(!fs(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else e=i;return e},e.prototype.disableElement=function(t,e){var n=t?t.matches||t.webkitMatchesSelector||t.msMatchesSelector:null;if(n)for(;t;t=t.parentNode)if(t instanceof Element&&n.call(t,e))return t;return null},e.prototype.focusContent=function(){var t=this.getAutoFocusNode(this.element);(fs(t)?this.element:t).focus(),this.bindEvent(this.element)},e.prototype.bindEvent=function(t){Cs.add(t,"keydown",this.keyDown,this)},e.prototype.unBindEvent=function(t){Cs.remove(t,"keydown",this.keyDown)},e.prototype.getModuleName=function(){return"dialog"},e.prototype.onPropertyChanged=function(t,e){if(this.element.classList.contains("e-dialog"))for(var n=0,i=Object.keys(t);n<i.length;n++)switch(i[n]){case"content":fs(this.content)||""===this.content?fs(this.contentEle)||(Rs(this.contentEle),this.contentEle=null):fs(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.setContent():(this.contentEle.innerHTML="","string"==typeof this.content?this.contentEle.innerHTML=this.content:this.contentEle.appendChild(this.content),this.setMaxHeight());break;case"header":""===this.header||fs(this.header)?this.headerEle&&(Rs(this.headerEle),this.headerEle=null):this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||fs(this.footerTemplate)){if(!this.ftrTemplateContent)return;Rs(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName("e-icon-dlg-close").length>0?this.showCloseIcon||""!==this.header&&!fs(this.header)?this.showCloseIcon||Rs(this.closeIcon):(Rs(this.headerContent),this.headerContent=null):(this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":Fs(this.element,{height:ys(t.height)});break;case"width":Fs(this.element,{width:ys(t.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.calculatezIndex=!1;break;case"cssClass":this.setCSSClass(e.cssClass);break;case"buttons":var r=this.buttons.length;fs(this.ftrTemplateContent)||(Rs(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var o=0;o<r;o++)fs(this.buttons[o].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!fs(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.popupObj.relateTo=t.target;break;case"position":if(this.checkPositionData(),this.isModal){var l=fs(e.position.X)?this.position.X:e.position.X,a=fs(e.position.Y)?this.position.Y:e.position.Y;this.dlgContainer.classList.contains("e-dlg-"+l+"-"+a)&&this.dlgContainer.classList.remove("e-dlg-"+l+"-"+a)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}},e.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",fs(this.targetEle)||this.targetEle.appendChild(this.dlgContainer);else{for(Ts([this.element],"e-dlg-modal"),Ts([document.body],"e-scroll-disabled"),Rs(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange()},e.prototype.setzIndex=function(t,e){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=ph(t),this.isProtectedOnChange=n,e&&(this.popupObj.zIndex=this.zIndex)},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){if(this.element.classList.contains("e-dialog")){if(this.unWireEvents(),t.prototype.destroy.call(this),Ts([this.element,this.element],["e-dialog","e-rtl","e-dlg-modal"]),this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),!fs(this.btnObj))for(var e=void 0;e<this.btnObj.length;e++)this.btnObj[e].destroy();for(this.isModal&&(Rs(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),Rs(this.dlgContainer)),this.element.innerHTML="";this.element.attributes.length>0;)this.element.removeAttribute(this.element.attributes[0].name);for(var n=0;n<this.clonedEle.attributes.length;n++)this.element.setAttribute(this.clonedEle.attributes[n].name,this.clonedEle.attributes[n].value)}},e.prototype.wireEvents=function(){this.showCloseIcon&&Cs.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&Cs.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},e.prototype.unWireEvents=function(){if(this.showCloseIcon&&Cs.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&Cs.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),!fs(this.buttons[0].buttonModel))for(var t=0;t<this.buttons.length;t++)"function"==typeof this.buttons[t].click&&Cs.remove(this.ftrTemplateContent.children[t],"click",this.buttons[t].click)},e.prototype.refreshPosition=function(){this.popupObj.refreshPosition()},e.prototype.show=function(t){if(this.element.classList.contains("e-dialog")&&(!this.element.classList.contains("e-popup-open")||!fs(t))){fs(t)||this.fullScreen(t);var e={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};if(this.trigger("beforeOpen",e),e.cancel)return;this.element.style.maxHeight!==e.maxHeight&&(this.allowMaxHeight=!1,this.element.style.maxHeight=e.maxHeight),this.storeActiveElement=document.activeElement,this.element.tabIndex=-1,this.isModal&&!fs(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",Ts([this.dlgOverlay],"e-fade"),fs(this.targetEle)?Es([document.body],"e-scroll-disabled"):(this.dlgContainer.style.position=this.targetEle===document.body?"fixed":"absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",Es([this.targetEle],"e-scroll-disabled")));var n={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay};this.calculatezIndex&&(this.setzIndex(this.isModal?this.element.parentElement:this.element,!0),Fs(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex)),"None"===this.animationSettings.effect?this.popupObj.show():this.popupObj.show(n),this.dialogOpen=!0;var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!0,this.isProtectedOnChange=i}},e.prototype.hide=function(t){if(this.element.classList.contains("e-dialog")){var e={cancel:!1,isInteraction:!!t,isInteracted:!!t,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:t};if(this.trigger("beforeClose",e),this.closeArgs=e,!e.cancel){this.isModal&&(fs(this.targetEle)?Ts([document.body],"e-scroll-disabled"):Ts([this.targetEle],"e-scroll-disabled"));var n={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay};"None"===this.animationSettings.effect?this.popupObj.hide():this.popupObj.hide(n),this.dialogOpen=!1;var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!1,this.isProtectedOnChange=i}}},e.prototype.fullScreen=function(t){if(t){Es([this.element],"e-dlg-fullscreen");var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=fs(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=e,Es([document.body],"e-scroll-disabled"),this.allowDragging&&!fs(this.dragObj)&&this.dragObj.destroy()}else Ts([this.element],"e-dlg-fullscreen"),Ts([document.body],"e-scroll-disabled"),this.allowDragging&&!fs(this.headerContent)&&this.setAllowDragging();return t},e.prototype.getButtons=function(t){return fs(t)?this.btnObj:this.btnObj[t]},Object(l.__decorate)([nu("")],e.prototype,"content",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"showCloseIcon",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"isModal",void 0),Object(l.__decorate)([nu("")],e.prototype,"header",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"visible",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enableResize",void 0),Object(l.__decorate)([nu("auto")],e.prototype,"height",void 0),Object(l.__decorate)([nu("100%")],e.prototype,"width",void 0),Object(l.__decorate)([nu("")],e.prototype,"cssClass",void 0),Object(l.__decorate)([nu(1e3)],e.prototype,"zIndex",void 0),Object(l.__decorate)([nu(null)],e.prototype,"target",void 0),Object(l.__decorate)([nu("")],e.prototype,"footerTemplate",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"allowDragging",void 0),Object(l.__decorate)([ru([{}],ed)],e.prototype,"buttons",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"closeOnEscape",void 0),Object(l.__decorate)([iu({},nd)],e.prototype,"animationSettings",void 0),Object(l.__decorate)([iu({X:"center",Y:"center"},hh)],e.prototype,"position",void 0),Object(l.__decorate)([ou()],e.prototype,"created",void 0),Object(l.__decorate)([ou()],e.prototype,"open",void 0),Object(l.__decorate)([ou()],e.prototype,"beforeOpen",void 0),Object(l.__decorate)([ou()],e.prototype,"close",void 0),Object(l.__decorate)([ou()],e.prototype,"beforeClose",void 0),Object(l.__decorate)([ou()],e.prototype,"dragStart",void 0),Object(l.__decorate)([ou()],e.prototype,"dragStop",void 0),Object(l.__decorate)([ou()],e.prototype,"drag",void 0),Object(l.__decorate)([ou()],e.prototype,"overlayClick",void 0),Object(l.__decorate)([ou()],e.prototype,"resizeStart",void 0),Object(l.__decorate)([ou()],e.prototype,"resizing",void 0),Object(l.__decorate)([ou()],e.prototype,"resizeStop",void 0),Object(l.__decorate)([lu],e)}(Ku);!function(t){function e(t,e){var n=new rd(t);return n.appendTo(e),n}function n(t,e){return t.header=fs(e.title)?id:e.title,t.content=fs(e.content)?"":e.content,t.isModal=!!fs(e.isModal)||e.isModal,t.showCloseIcon=!fs(e.showCloseIcon)&&e.showCloseIcon,t.allowDragging=!fs(e.isDraggable)&&e.isDraggable,t.closeOnEscape=!fs(e.closeOnEscape)&&e.closeOnEscape,t.position=fs(e.position)?{X:"center",Y:"top"}:e.position,t.animationSettings=fs(e.animationSettings)?{effect:"Fade",duration:400,delay:0}:e.animationSettings,t.cssClass=fs(e.cssClass)?"":e.cssClass,t.zIndex=fs(e.zIndex)?1e3:e.zIndex,t.open=fs(e.open)?null:e.open,t}function i(t,e,n){var i=n;return fs(e.text)||(i.buttonModel.content=e.text),fs(e.icon)||(i.buttonModel.iconCss=e.icon),fs(e.cssClass)||(i.buttonModel.cssClass=e.cssClass),fs(e.click)||(i.click=e.click),i}t.alert=function(t){var r,o,l=Ss("div",{className:"e-alert-dialog"});return document.body.appendChild(l),(r=e("string"==typeof t?{content:t,position:{X:"center",Y:"top"},isModal:!0,header:id,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(t,e){var n=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return fs(e.okButton)?t.buttons=n:t.buttons[0]=i(0,e.okButton,n[0]),t}(n({buttons:[]},o=t),o),l)).close=function(){t&&t.close&&t.close.apply(r),r.destroy(),r.element.classList.contains("e-dlg-modal")?(r.element.parentElement.remove(),r.target.classList.remove("e-scroll-disabled")):r.element.remove()},r},t.confirm=function(t){var r,o,l=Ss("div",{className:"e-confirm-dialog"});return document.body.appendChild(l),(r=e("string"==typeof t?{position:{X:"center",Y:"top"},content:t,isModal:!0,header:id,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(t,e){var n={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},r={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return t.buttons[0]=fs(e.okButton)?n:i(0,e.okButton,n),t.buttons[1]=fs(e.cancelButton)?r:i(0,e.cancelButton,r),t}(n({buttons:[]},o=t),o),l)).close=function(){t&&t.close&&t.close.apply(r),r.destroy(),r.element.classList.contains("e-dlg-modal")?(r.element.parentElement.remove(),r.target.classList.remove("e-scroll-disabled")):r.element.remove()},r}}(td||(td={}));var od,ld,ad={RTL:"e-rtl",DISABLE:"e-disabled",INPUT:"e-input",INPUTGROUP:"e-input-group",FLOATINPUT:"e-float-input",FLOATLINE:"e-float-line",FLOATTEXT:"e-float-text",CLEARICON:"e-clear-icon",CLEARICONHIDE:"e-clear-icon-hide",LABELTOP:"e-label-top",LABELBOTTOM:"e-label-bottom",NOFLOATLABEL:"e-no-float-label",INPUTCUSTOMTAG:"e-input-custom-tag",FLOATCUSTOMTAG:"e-float-custom-tag"};!function(t){function e(){var t=l(this).getElementsByClassName("e-float-text")[0];Es([t],ad.LABELTOP),t.classList.contains(ad.LABELBOTTOM)&&Ts([t],ad.LABELBOTTOM)}function n(){var t=l(this);if(t.getElementsByTagName("textarea")[0]?""===t.getElementsByTagName("textarea")[0].value:""===t.getElementsByTagName("input")[0].value){var e=t.getElementsByClassName("e-float-text")[0];e.classList.contains(ad.LABELTOP)&&Ts([e],ad.LABELTOP),Es([e],ad.LABELBOTTOM)}}function i(t,i,r){var l,a,u,c=fs(r)?Ss:r;"Auto"===t.floatLabelType&&((u=t.element).addEventListener("focus",e),u.addEventListener("blur",n)),fs(i.container)?(i.container=s(t,ad.FLOATINPUT,ad.FLOATCUSTOMTAG,"div",c),t.element.parentNode.insertBefore(i.container,t.element)):(fs(t.customTag)||i.container.classList.add(ad.FLOATCUSTOMTAG),i.container.classList.add(ad.FLOATINPUT)),l=c("span",{className:ad.FLOATLINE}),a=c("label",{className:ad.FLOATTEXT}),fs(t.element.id)||""===t.element.id||(a.id="label_"+t.element.id.replace(/ /g,"_"),Ms(t.element,{"aria-labelledby":a.id})),fs(t.element.placeholder)||""===t.element.placeholder||(a.innerHTML=t.element.placeholder,t.element.removeAttribute("placeholder")),fs(t.properties)||fs(t.properties.placeholder)||""===t.properties.placeholder||(a.innerHTML=t.properties.placeholder),a.innerHTML||i.container.classList.add(ad.NOFLOATLABEL),i.container.appendChild(t.element),i.container.appendChild(l),i.container.appendChild(a),o(t.element.value,a),"Always"===t.floatLabelType&&(a.classList.contains(ad.LABELBOTTOM)&&Ts([a],ad.LABELBOTTOM),Es([a],ad.LABELTOP)),"Auto"===t.floatLabelType&&(t.element.addEventListener("input",function(e){o(t.element.value,a)}),t.element.addEventListener("blur",function(e){o(t.element.value,a)})),fs(t.element.getAttribute("id"))||a.setAttribute("for",t.element.getAttribute("id"))}function r(t,e){t?Ts([e],ad.CLEARICONHIDE):Es([e],ad.CLEARICONHIDE)}function o(t,e){t?(Es([e],ad.LABELTOP),e.classList.contains(ad.LABELBOTTOM)&&Ts([e],ad.LABELBOTTOM)):(e.classList.contains(ad.LABELTOP)&&Ts([e],ad.LABELTOP),Es([e],ad.LABELBOTTOM))}function l(t){return t.parentNode}function a(t,e){if(l(t).classList.contains(ad.FLOATINPUT)&&"Auto"===e){var n=l(t).getElementsByClassName("e-float-text")[0];o(t.value,n)}}function s(t,e,n,i,r){var o,l=fs(r)?Ss:r;return fs(t.customTag)?o=l(i,{className:e}):(o=l(t.customTag,{className:e})).classList.add(n),o.classList.add("e-control-wrapper"),o}function u(t,e,n){fs(n)||""===n||Ts(e,n.split(" ")),fs(t)||""===t||Es(e,t.split(" "))}function c(t,e){var n;t=function(t){var e="";if(!fs(t)&&""!==t){var n=document.createElement("span");n.innerHTML=t,e=n.textContent}return e}(t),(n=l(e)).classList.contains(ad.FLOATINPUT)?fs(t)||""===t?(n.classList.add(ad.NOFLOATLABEL),n.getElementsByClassName(ad.FLOATTEXT)[0].textContent=""):(n.getElementsByClassName(ad.FLOATTEXT)[0].textContent=t,n.classList.remove(ad.NOFLOATLABEL)):fs(t)||""===t?(e.removeAttribute("placeholder"),e.removeAttribute("aria-placeholder")):Ms(e,{placeholder:t,"aria-placeholder":t})}function h(t,e,n){t?Ms(e,{readonly:""}):e.removeAttribute("readonly"),fs(n)||a(e,n)}function d(t,e){t?Es(e,ad.RTL):Ts(e,ad.RTL)}function p(t,e,n,i){var r={disabled:"disabled","aria-disabled":"true"},o=!fs(i);t?(e.classList.remove(ad.DISABLE),g(r,e),o&&Ts([i],ad.DISABLE)):(e.classList.add(ad.DISABLE),m(r,e),o&&Es([i],ad.DISABLE)),fs(n)||a(e,n)}function f(t,e,n,i,o){var l=fs(o)?Ss:o;t?n.clearButton=function(t,e,n,i){var o=(fs(i)?Ss:i)("span",{className:ad.CLEARICON}),l=e.container;return fs(n)?(e.container.classList.contains(ad.FLOATINPUT)?e.container.querySelector("."+ad.FLOATTEXT):t).insertAdjacentElement("afterend",o):l.appendChild(o),!fs(l)&&l.classList.contains(ad.FLOATINPUT)&&Es([l],ad.INPUTGROUP),Es([o],ad.CLEARICONHIDE),function(t,e,n){e.addEventListener("click",function(n){t.classList.contains(ad.DISABLE)||t.readOnly||(n.preventDefault(),t!==document.activeElement&&t.focus(),t.value="",Es([e],ad.CLEARICONHIDE))}),t.addEventListener("input",function(n){r(t.value,e)}),t.addEventListener("focus",function(n){r(t.value,e)}),t.addEventListener("blur",function(t){setTimeout(function(){Es([e],ad.CLEARICONHIDE)},200)})}(t,o),o.setAttribute("aria-label","close"),o}(e,n,i,l):(n.clearButton.remove(),n.clearButton=null)}function g(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],o=void 0;o=l(e),"disabled"===r&&e.classList.remove(ad.DISABLE),"disabled"===r&&o.classList.contains(ad.INPUTGROUP)&&o.classList.remove(ad.DISABLE),"placeholder"===r&&o.classList.contains(ad.FLOATINPUT)?o.getElementsByClassName(ad.FLOATTEXT)[0].textContent="":e.removeAttribute(r)}}function m(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],o=void 0;o=l(e),"disabled"===r&&e.classList.add(ad.DISABLE),"disabled"===r&&o.classList.contains(ad.INPUTGROUP)&&o.classList.add(ad.DISABLE),"placeholder"===r&&o.classList.contains(ad.FLOATINPUT)?o.getElementsByClassName(ad.FLOATTEXT)[0].textContent=t[r]:e.setAttribute(r,t[r])}}function v(t,e,n){var i=[];i.push(n);var r=fs(n)?e.querySelectorAll(".e-input-group-icon"):i;if(t&&r.length>0)for(var o=0;o<r.length;o++)r[o].addEventListener("mousedown",y,!1),r[o].addEventListener("mouseup",b,!1);else if(r.length>0)for(o=0;o<r.length;o++)r[o].removeEventListener("mousedown",y,this),r[o].removeEventListener("mouseup",b,this)}function y(){for(var t,e=this.parentElement;!e.classList.contains("e-input-group");)e=e.parentElement;(t=e).classList.contains("e-disabled")||t.querySelector("input").readOnly||this.classList.add("e-input-btn-ripple")}function b(){var t=this;setTimeout(function(){t.classList.remove("e-input-btn-ripple")},500)}function w(t,e,n){var i=(fs(n)?Ss:n)("span",{className:t});return i.classList.add("e-input-group-icon"),e.appendChild(i),e.classList.contains(ad.INPUTGROUP)||e.classList.add(ad.INPUTGROUP),v(!0,e,i),i}t.createInput=function(t,e){var n=fs(e)?Ss:e,r={container:null,buttons:[],clearButton:null};if(fs(t.floatLabelType)||"Never"===t.floatLabelType?(r.container=s(t,ad.INPUTGROUP,ad.INPUTCUSTOMTAG,"span",n),t.element.parentNode.insertBefore(r.container,t.element),Es([t.element],ad.INPUT),r.container.appendChild(t.element)):i(t,r,n),t.element.addEventListener("focus",function(){var t=l(this);t.classList.contains("e-input-group")&&t.classList.add("e-input-focus")}),t.element.addEventListener("blur",function(){var t=l(this);t.classList.contains("e-input-group")&&t.classList.remove("e-input-focus")}),fs(t.properties)||fs(t.properties.showClearButton)||!t.properties.showClearButton||"TEXTAREA"===t.element.tagName||(f(t.properties.showClearButton,t.element,r,!0,n),r.container.classList.contains(ad.FLOATINPUT)&&Es([r.container],ad.INPUTGROUP)),!fs(t.buttons)&&"TEXTAREA"!==t.element.tagName)for(var o=0;o<t.buttons.length;o++)r.buttons.push(w(t.buttons[o],r.container,n));return function(t,e){if(!fs(t.properties))for(var n=0,i=Object.keys(t.properties);n<i.length;n++)switch(i[n]){case"cssClass":u(t.properties.cssClass,[e.container]);break;case"enabled":p(t.properties.enabled,t.element,t.floatLabelType,e.container);break;case"enableRtl":d(t.properties.enableRtl,[e.container]);break;case"placeholder":c(t.properties.placeholder,t.element);break;case"readonly":h(t.properties.readonly,t.element)}return e}(t,r)},t.setValue=function(t,e,n,i){if(e.value=t,fs(n)||"Auto"!==n||a(e,n),!fs(i)&&i){var r=l(e),o=r.getElementsByClassName(ad.CLEARICON)[0];e.value&&r.classList.contains("e-input-focus")?Ts([o],ad.CLEARICONHIDE):Es([o],ad.CLEARICONHIDE)}},t.setCssClass=u,t.setPlaceholder=c,t.setReadonly=h,t.setEnableRtl=d,t.setEnabled=p,t.setClearButton=f,t.removeAttributes=g,t.addAttributes=m,t.removeFloating=function(t){var i,r=t.container;if(!fs(r)&&r.classList.contains(ad.FLOATINPUT)){var o=r.querySelector("textarea")?r.querySelector("textarea"):r.querySelector("input"),l=r.querySelector("."+ad.FLOATTEXT).textContent,a=null!==r.querySelector(".e-clear-icon");Rs(r.querySelector("."+ad.FLOATLINE)),Rs(r.querySelector("."+ad.FLOATTEXT)),function(t,e,n){Es([t],[ad.INPUTGROUP]),Ts([t],n)}(r,0,[ad.FLOATINPUT]),(i=o).removeEventListener("focus",e),i.removeEventListener("blur",n),Ms(o,{placeholder:l}),o.classList.add(ad.INPUT),a||"INPUT"!==o.tagName||o.removeAttribute("required")}},t.addFloating=function(t,e,n,r){var o=fs(r)?Ss:r,l=Ls(t,"."+ad.INPUTGROUP);if("Never"!==e){var a=l.tagName,s={element:t,floatLabelType:e,customTag:a="DIV"!==a&&"SPAN"!==a?a:null,properties:{placeholder:n}},u=l.querySelector(".e-clear-icon"),c={container:l};if(t.classList.remove(ad.INPUT),i(s,c,o),fs(u)&&(u=l.querySelector(".e-input-group-icon")),fs(u))l.classList.remove(ad.INPUTGROUP);else{var h=l.querySelector("."+ad.FLOATLINE),d=l.querySelector("."+ad.FLOATTEXT);l.insertBefore(t,u),l.insertBefore(h,u),l.insertBefore(d,u)}}},t.setRipple=function(t,e){for(var n=0;n<e.length;n++)v(t,e[n].container)},t.appendSpan=w}(od||(od={})),new RegExp("^(-)?(\\d*)$"),new function(){},new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,5}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),new RegExp("^[0-9]*$"),new RegExp("^[+]?[0-9]{9,13}$"),new RegExp("^\\d{13,16}$"),function(t){t[t.Message=0]="Message",t[t.Label=1]="Label"}(ld||(ld={}));var sd,ud=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.previousElementValue="",i.isDateIconClicked=!1,i.isAltKeyPressed=!1,i.invalidValueString=null,i.checkPreviousValue=null,i.keyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",tab:"tab"},i.calendarKeyConfigs={escape:"escape",enter:"enter",tab:"tab"},i}return Object(l.__extends)(e,t),e.prototype.render=function(){this.initialize(),this.bindEvents()},e.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Ms(this.inputElement,{readonly:""}),this.updateIconState()},e.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&Ts([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?Ts([this.inputWrapper.container],["e-non-edit"]):Es([this.inputWrapper.container],["e-non-edit"])},e.prototype.initialize=function(){this.checkInvalidValue(this.value),this.createInput(),this.setAllowEdit(),this.updateInput(),this.previousElementValue=this.inputElement.value,this.previousDate=new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},e.prototype.createInput=function(){var t={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};"datepicker"===this.getModuleName()&&(this.globalize=new Hu(this.locale),this.l10n=new ec("datepicker",{placeholder:null},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)),this.inputWrapper=od.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),Ms(this.inputElement,t),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),od.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),Es([this.inputWrapper.container],"e-date-wrapper")},e.prototype.updateInput=function(){if(this.value&&!this.isCalendar()&&this.disabledDates(),+new Date(this.checkValue(this.value))||this.setProperties({value:null},!0),this.strictMode&&(t.prototype.validateDate.call(this),this.minMaxUpdates(),t.prototype.minMaxUpdate.call(this)),!fs(this.value)){var e,n=this.value,i=fs(this.formatString)?this.dateTimeFormat:this.formatString;e="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),+n<=+this.max&&+n>=+this.min?od.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton):!this.strictMode&&(+n>=+this.max||!+this.value||!+this.value||+n<=+this.min)&&od.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}fs(this.value)&&this.strictMode&&od.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),!this.strictMode&&fs(this.value)&&this.invalidValueString&&od.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},e.prototype.minMaxUpdates=function(){!fs(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!fs(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},e.prototype.checkStringValue=function(t){var e=null,n=null,i=null;if("datetimepicker"===this.getModuleName()){var r=new Hu(this.locale);"Gregorian"===this.calendarMode?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},i={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return fs(e=this.checkDateValue(this.globalize.parseDate(t,n)))&&"datetimepicker"===this.getModuleName()&&(e=this.checkDateValue(this.globalize.parseDate(t,i))),e},e.prototype.checkInvalidValue=function(t){if(!(t instanceof Date||fs(t))){var e=null,n=t;if("number"==typeof t&&(n=t.toString()),"datetimepicker"===this.getModuleName())new Hu(this.locale).getDatePattern({skeleton:"yMd"});var i=!1;if("string"!=typeof n)n=null,i=!0;else if("string"==typeof n&&(n=n.trim()),!(e=this.checkStringValue(n))){var r=null;r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(n)&&!r.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n)))?i=!0:e=new Date(n)}i?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0)):this.setProperties({value:e},!0)}},e.prototype.bindInputEvent=function(){fs(this.formatString)||(-1===this.formatString.indexOf("y")?Cs.add(this.inputElement,"input",this.inputHandler,this):Cs.remove(this.inputElement,"input",this.inputHandler))},e.prototype.bindEvents=function(){this.enabled?(Cs.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),Cs.add(this.inputElement,"focus",this.inputFocusHandler,this),Cs.add(this.inputElement,"blur",this.inputBlurHandler,this),this.bindInputEvent(),Cs.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&Cs.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&Cs.add(this.formElement,"reset",this.resetFormHandler,this)):(Cs.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),Cs.remove(this.inputElement,"focus",this.inputFocusHandler),Cs.remove(this.inputElement,"blur",this.inputBlurHandler),Cs.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&Cs.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&Cs.remove(this.formElement,"reset",this.resetFormHandler)),this.keyboardModules=new tc(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.keyConfigs})},e.prototype.resetFormHandler=function(){if(!this.inputElement.disabled){var t=this.inputElement.getAttribute("value");"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(t="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(od.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}},e.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=fs(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})},e.prototype.inputChangeHandler=function(t){t.stopPropagation()},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&Cs.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},e.prototype.resetHandler=function(t){t.preventDefault(),this.clear(t)},e.prototype.clear=function(t){this.setProperties({value:null},!0),od.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(t)},e.prototype.dateIconHandler=function(t){Js.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),t.preventDefault(),this.readonly||(this.isCalendar()?this.hide(t):(this.isDateIconClicked=!0,this.show(null,t),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),Es([this.inputWrapper.container],["e-input-focus"]),Es(this.inputWrapper.buttons,"e-active")))},e.prototype.CalendarKeyActionHandle=function(t){switch(t.action){case"escape":this.isCalendar()?this.hide(t):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,t),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(t)}},e.prototype.inputFocusHandler=function(){var t={model:this};this.isDateIconClicked=!1,this.trigger("focus",t),this.updateIconState()},e.prototype.inputHandler=function(t){this.isPopupClicked=!1},e.prototype.inputBlurHandler=function(t){this.strictModeUpdate(),""===this.inputElement.value&&fs(this.value)&&(this.invalidValueString=null,od.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)),this.updateInput(),this.popupUpdate(),this.changeTrigger(t),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(t),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.calendarKeyboardModules=new tc(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.calendarKeyConfigs})),this.isPopupClicked=!1},e.prototype.documentHandler=function(t){"touchstart"!==t.type&&t.preventDefault();var e=t.target;Ls(e,".e-datepicker.e-popup-wrapper")||Ls(e,".e-input-group")===this.inputWrapper.container||e.classList.contains("e-day")||(this.hide(t),this.focusOut())},e.prototype.inputKeyActionHandle=function(t){switch(t.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(t),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(t),"datepicker"===this.getModuleName()&&this.show(null,t);break;case"escape":this.hide(t);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(t),this.errorClass(),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(t),this.isCalendar()&&(t.preventDefault(),t.stopPropagation());break;case"tab":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(t),this.errorClass(),this.hide(t);break;case"select":this.isAltKeyPressed?this.defaultAction(t):this.hide(t);break;default:this.defaultAction(t)}},e.prototype.defaultAction=function(e){this.previousDate=!fs(this.value)&&new Date(+this.value)||null,this.isCalendar()&&t.prototype.keyActionHandle.call(this,e)},e.prototype.popupUpdate=function(){if((fs(this.value)&&!fs(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll(".e-selected").length>0&&Ts(this.popupObj.element.querySelectorAll(".e-selected"),["e-selected"]),!fs(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){var e=new Date(this.checkValue(this.value));t.prototype.navigateTo.call(this,"Month",e)}},e.prototype.strictModeUpdate=function(){var t,e,n;fs(t="datetimepicker"===this.getModuleName()?fs(this.formatString)?this.dateTimeFormat:this.formatString:fs(this.formatString)?this.formatString:this.formatString.replace("dd","d"))||t.split("M").length-1<3&&(t=t.replace("MM","M")),e="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:fs(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:fs(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:t,type:"dateTime",skeleton:"yMd"}:{format:t,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?n=this.checkDateValue(this.globalize.parseDate(this.inputElement.value,e))?this.globalize.parseDate(this.inputElement.value,e):this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(n=this.globalize.parseDate(this.inputElement.value,e),!fs(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&n.setFullYear(this.value.getFullYear())),this.strictMode&&n?(od.setValue(this.globalize.formatDate(n,e),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:n},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:n},!0),this.strictMode&&!n&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),fs(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},e.prototype.createCalendar=function(){var t=this;this.popupWrapper=this.createElement("div",{className:"e-datepicker e-popup-wrapper"}),fs(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),Js.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className="e-datepicker e-date-modal",document.body.className+=" e-date-overflow",this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new dh(this.popupWrapper,{content:this.calendarElement,relateTo:Js.isDevice?document.body:this.inputWrapper.container,position:Js.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:Js.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){"datetimepicker"!==t.getModuleName()&&document.activeElement!==t.inputElement&&(t.calendarElement.children[1].firstElementChild.focus(),t.calendarKeyboardModules=new tc(t.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:t.CalendarKeyActionHandle.bind(t),keyConfigs:t.calendarKeyConfigs}),t.calendarKeyboardModules=new tc(t.inputWrapper.container.children[t.index],{eventName:"keydown",keyAction:t.CalendarKeyActionHandle.bind(t),keyConfigs:t.calendarKeyConfigs}))},close:function(){t.isDateIconClicked&&t.inputWrapper.container.children[t.index].focus(),t.value&&t.disabledDates(),t.popupObj&&t.popupObj.destroy(),Rs(t.popupWrapper),t.popupObj=t.popupWrapper=null,t.setAriaAttributes()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},e.prototype.modelHeader=function(){var t,e=this.createElement("div",{className:"e-model-header"}),n=this.createElement("h1",{className:"e-model-year"}),i=this.createElement("div"),r=this.createElement("span",{className:"e-model-day"}),o=this.createElement("span",{className:"e-model-month"});t="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,t),t="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},r.textContent=this.globalize.formatDate(this.value||new Date,t)+", ",t="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},o.textContent=""+this.globalize.formatDate(this.value||new Date,t),e.appendChild(n),i.appendChild(r),i.appendChild(o),e.appendChild(i),this.calendarElement.insertBefore(e,this.calendarElement.firstElementChild)},e.prototype.changeTrigger=function(t){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.changedArgs.event=t||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!fs(t),this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)))},e.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},e.prototype.changeEvent=function(t){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(t),this.changedArgs.event=t||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!fs(t),this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.hide(t),this.previousElementValue=this.inputElement.value,this.errorClass())},e.prototype.requiredModules=function(){var t=[];return this&&t.push({args:[this],member:"islamic"}),t},e.prototype.selectCalendar=function(t){var e,n;n="datetimepicker"===this.getModuleName()&&fs(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&(e="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.changedArgs.value,"Gregorian"===this.calendarMode?{format:n,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(this.changedArgs.value,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"})),fs(e)||od.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-popup-wrapper"))},e.prototype.setWidth=function(t){this.inputWrapper.container.style.width="number"==typeof t?ys(this.width):"string"==typeof t?t.match(/px|%|em/)?this.width:ys(this.width):"100%"},e.prototype.show=function(e,n){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var i=!0,r=void 0;fs(this.value)||+this.value>=+this.min&&+this.value<=+this.max?r=this.value||null:(r=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(t.prototype.render.call(this),this.setProperties({value:r||null},!0),this.previousDate=r,this.createCalendar()),Js.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){i=!1},popup:this.popupObj,event:n||null,cancel:!1,appendTo:Js.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs),i&&!this.preventArgs.cancel?(Es(this.inputWrapper.buttons,"e-active"),this.preventArgs.appendTo.appendChild(this.popupWrapper),this.popupObj.refreshPosition(this.inputElement),this.popupObj.show(new su({name:"FadeIn",duration:Js.isDevice?0:300}),1e3===this.zIndex?this.element:null),t.prototype.setOverlayIndex.call(this,this.mobilePopupWrapper,this.popupObj.element,this.modal,Js.isDevice),this.setAriaAttributes()):(this.popupObj.destroy(),this.popupWrapper=this.popupObj=null),Cs.add(document,"mousedown touchstart",this.documentHandler,this)}},e.prototype.hide=function(t){if(!fs(this.popupWrapper)){var e=!0;this.preventArgs={preventDefault:function(){e=!1},popup:this.popupObj,event:t||null,cancel:!1},Ts(this.inputWrapper.buttons,"e-active"),Ts([document.body],"e-date-overflow"),this.isCalendar()&&this.trigger("close",this.preventArgs),this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),Ts(this.inputWrapper.buttons,"e-active")),this.setAriaAttributes(),Js.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null,fs(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),Cs.remove(document,"mousedown touchstart",this.documentHandler)}Js.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},e.prototype.focusIn=function(t){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),Es([this.inputWrapper.container],["e-input-focus"]))},e.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),Ts([this.inputWrapper.container],["e-input-focus"]),this.trigger("blur",{model:this}))},e.prototype.currentView=function(){var e;return this.calendarElement&&(e=t.prototype.currentView.call(this)),e},e.prototype.navigateTo=function(e,n){this.calendarElement&&t.prototype.navigateTo.call(this,e,n)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&t.prototype.destroy.call(this),this.inputElement&&(od.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),fs(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),Cs.remove(this.inputElement,"blur",this.inputBlurHandler),Cs.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&Rs(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),Ts([this.inputElement],["e-input"])),Ts([this.element],["e-datepicker"]),Rs(this.inputWrapper.container)),this.formElement&&Cs.remove(this.formElement,"reset",this.resetFormHandler)},e.prototype.ensureInputAttribute=function(){for(var t=[],e=0;e<this.inputElement.attributes.length;e++)t[e]=this.inputElement.attributes[e].name;for(e=0;e<t.length;e++)fs(this.inputElementCopy.getAttribute(t[e]))?("value"===t[e].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(t[e])):("value"===t[e].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(t[e])),this.inputElement.setAttribute(t[e],this.inputElementCopy.getAttribute(t[e])))},e.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),Ts([this.inputElementCopy],["e-datepicker","e-control","e-lib"]),this.inputElement=this.element,this.formElement=Ls(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=ms("ej2-datetimepicker"),null!==this.ngTag&&Ms(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=ms("ej2-datepicker"),null!==this.ngTag&&Ms(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),t.prototype.preRender.call(this)},e.prototype.validationAttribute=function(t,e){var n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");e.setAttribute("name",n),t.removeAttribute("name");for(var i=["required","aria-required","form"],r=0;r<i.length;r++)if(!fs(t.getAttribute(i[r]))){var o=t.getAttribute(i[r]);e.setAttribute(i[r],o),t.removeAttribute(i[r])}},e.prototype.checkFormat=function(){var t=new Hu(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||fs(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{var e=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?t.getDatePattern({skeleton:e,type:"dateTime"}):t.getDatePattern({skeleton:e,type:"date"})}else this.formatString=null},e.prototype.checkHtmlAttributes=function(){var t;this.globalize=new Hu(this.locale),this.checkFormat(),this.checkView(),t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:fs(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:fs(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var e=0,n=["value","min","max","disabled","readonly","style","name","placeholder","type"];e<n.length;e++){var i=n[e];if(!fs(this.inputElement.getAttribute(i)))switch(i){case"disabled":var r="disabled"===this.inputElement.getAttribute(i)||""===this.inputElement.getAttribute(i);this.setProperties({enabled:!r},!0);break;case"readonly":var o="readonly"===this.inputElement.getAttribute(i)||""===this.inputElement.getAttribute(i);this.setProperties({readonly:o},!0);break;case"placeholder":null===this.placeholder&&(this.inputElement.getAttribute(i),this.setProperties({placeholder:this.inputElement.getAttribute(i)},!0));break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(i));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(i));break;case"value":if(!this.value){var l=this.inputElement.getAttribute(i);this.setProperties(cs(i,this.globalize.parseDate(l,t),{}),!0)}break;case"min":+this.min==+new Date(1900,0,1)&&this.setProperties(cs(i,this.globalize.parseDate(this.inputElement.getAttribute(i)),{}),!0);break;case"max":+this.max==+new Date(2099,11,31)&&this.setProperties(cs(i,this.globalize.parseDate(this.inputElement.getAttribute(i)),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(i)&&this.inputElement.setAttribute("type","text")}}},e.prototype.getModuleName=function(){return"datepicker"},e.prototype.disabledDates=function(){var e;e=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value));var n=this.previousDate;this.minMaxUpdates(),t.prototype.render.call(this),this.previousDate=n;var i,r='*[id^="/id"]'.replace("/id",""+(e&&+e));this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+e)&&this.setProperties({value:e},!0),fs(this.calendarElement.querySelectorAll(r)[0])||this.calendarElement.querySelectorAll(r)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),i="datetimepicker"===this.getModuleName()?this.globalize.formatDate(e,"Gregorian"===this.calendarMode?{format:fs(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:fs(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(e,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),this.popupObj||od.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.setAriaAttributes=function(){this.isCalendar()?(od.addAttributes({"aria-expanded":"true"},this.inputElement),Ms(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(od.addAttributes({"aria-expanded":"false"},this.inputElement),Ms(this.inputElement,{"aria-activedescendant":"null"}))},e.prototype.errorClass=function(){var t='*[id^="/id"]'.replace("/id",""+ +this.value),e=this.calendarElement&&this.calendarElement.querySelectorAll(t)[0]&&this.calendarElement.querySelectorAll(t)[0].classList.contains("e-disabled");!fs(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&fs(this.value)||e?(Es([this.inputWrapper.container],"e-error"),Ms(this.inputElement,{"aria-invalid":"true"})):(Ts([this.inputWrapper.container],"e-error"),Ms(this.inputElement,{"aria-invalid":"false"}))},e.prototype.onPropertyChanged=function(e,n){for(var i=0,r=Object.keys(e);i<r.length;i++){switch(r[i]){case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,fs(this.value)&&(od.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(),+this.previousDate!=+this.value&&this.changeTrigger(null);break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput();break;case"allowEdit":this.setAllowEdit();break;case"placeholder":od.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":od.setReadonly(this.readonly,this.inputElement);break;case"enabled":od.setEnabled(this.enabled,this.inputElement),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),this.bindEvents();break;case"locale":this.globalize=new Hu(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),od.setPlaceholder(this.placeholder,this.inputElement),this.updateInput();break;case"enableRtl":od.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&t.prototype.onPropertyChanged.call(this,e,n);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":od.setCssClass(e.cssClass,[this.inputWrapper.container]),this.popupWrapper&&(this.popupWrapper.className+=" "+e.cssClass);break;case"showClearButton":od.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,od.removeFloating(this.inputWrapper),od.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:this.calendarElement&&t.prototype.onPropertyChanged.call(this,e,n)}this.hide(null)}},Object(l.__decorate)([nu(null)],e.prototype,"width",void 0),Object(l.__decorate)([nu(null)],e.prototype,"cssClass",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"strictMode",void 0),Object(l.__decorate)([nu(null)],e.prototype,"format",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"enabled",void 0),Object(l.__decorate)([nu(null)],e.prototype,"values",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"isMultiSelection",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"showClearButton",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"allowEdit",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enablePersistence",void 0),Object(l.__decorate)([nu(1e3)],e.prototype,"zIndex",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"readonly",void 0),Object(l.__decorate)([nu(null)],e.prototype,"placeholder",void 0),Object(l.__decorate)([nu("Never")],e.prototype,"floatLabelType",void 0),Object(l.__decorate)([ou()],e.prototype,"open",void 0),Object(l.__decorate)([ou()],e.prototype,"close",void 0),Object(l.__decorate)([ou()],e.prototype,"blur",void 0),Object(l.__decorate)([ou()],e.prototype,"focus",void 0),Object(l.__decorate)([ou()],e.prototype,"created",void 0),Object(l.__decorate)([ou()],e.prototype,"destroyed",void 0),Object(l.__decorate)([lu],e)}(Lc),cd=function(){function t(t){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof t?this.fromTable=t:t&&t instanceof Array&&(this.lookups=t),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}return t.prototype.setKey=function(t){return this.key=t,this},t.prototype.using=function(t){return this.dataManager=t,this},t.prototype.execute=function(t,e,n,i){return(t=t||this.dataManager)?t.executeQuery(this,e,n,i):dd.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},t.prototype.executeLocal=function(t){return(t=t||this.dataManager)?t.executeLocal(this):dd.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},t.prototype.clone=function(){var e=new t;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e},t.prototype.from=function(t){return this.fromTable=t,this},t.prototype.addParams=function(t,e){return this.params.push("function"==typeof e?{key:t,fn:e}:{key:t,value:e}),this},t.prototype.distinct=function(t){return this.distincts="string"==typeof t?[].slice.call([t],0):t.slice(0),this},t.prototype.expand=function(t){return this.expands="string"==typeof t?[].slice.call([t],0):t.slice(0),this},t.prototype.where=function(t,e,n,i,r){e=e?e.toLowerCase():null;var o=null;return"string"==typeof t?o=new hd(t,e,n,i,r):t instanceof hd&&(o=t),this.queries.push({fn:"onWhere",e:o}),this},t.prototype.search=function(t,e,n,i,r){return"string"==typeof e&&(e=[e]),this.queries.push({fn:"onSearch",e:{fieldNames:e,operator:n=n||"contains",searchKey:t,ignoreCase:i,ignoreAccent:r,comparer:dd.fnOperators[n]}}),this},t.prototype.sortBy=function(e,n,i){var r,o,l="ascending";if("string"==typeof e&&dd.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),n="descending"),n&&"string"!=typeof n||(l=n?n.toLowerCase():"ascending",n=dd.fnSort(n)),i){r=t.filterQueries(this.queries,"onSortBy");for(var a=0;a<r.length;a++)if("string"==typeof(o=r[a].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(var s=0;s<o.length;s++)if(o[s]===e||e.toLowerCase()===o[s]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:n,direction:l}}),this},t.prototype.sortByDesc=function(t){return this.sortBy(t,"descending")},t.prototype.group=function(t,e,n){return this.sortBy(t,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:t,comparer:e||null,format:n||null}}),this},t.prototype.page=function(t,e){return this.queries.push({fn:"onPage",e:{pageIndex:t,pageSize:e}}),this},t.prototype.range=function(t,e){return this.queries.push({fn:"onRange",e:{start:t,end:e}}),this},t.prototype.take=function(t){return this.queries.push({fn:"onTake",e:{nos:t}}),this},t.prototype.skip=function(t){return this.queries.push({fn:"onSkip",e:{nos:t}}),this},t.prototype.select=function(t){return"string"==typeof t&&(t=[].slice.call([t],0)),this.queries.push({fn:"onSelect",e:{fieldNames:t}}),this},t.prototype.hierarchy=function(t,e){return this.subQuerySelector=e,this.subQuery=t,this},t.prototype.foreignKey=function(t){return this.fKey=t,this},t.prototype.requiresCount=function(){return this.isCountRequired=!0,this},t.prototype.aggregate=function(t,e){return this.queries.push({fn:"onAggregates",e:{field:e,type:t}}),this},t.filterQueries=function(t,e){return t.filter(function(t){return t.fn===e})},t.filterQueryLists=function(t,e){for(var n=t.filter(function(t){return-1!==e.indexOf(t.fn)}),i={},r=0;r<n.length;r++)i[n[r].fn]||(i[n[r].fn]=n[r].e);return i},t}(),hd=function(){function t(e,n,i,r,o){return void 0===r&&(r=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof e?(this.field=e,this.operator=n.toLowerCase(),this.value=i,this.ignoreCase=r,this.ignoreAccent=o,this.isComplex=!1,this.comparer=dd.fnOperators.processOperator(this.operator)):(e instanceof t&&i instanceof t||i instanceof Array)&&(this.isComplex=!0,this.condition=n.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return t.and=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.combinePredicates([].slice.call(e,0),"and")},t.prototype.and=function(e,n,i,r,o){return t.combine(this,e,n,i,"and",r,o)},t.or=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.combinePredicates([].slice.call(e,0),"or")},t.prototype.or=function(e,n,i,r,o){return t.combine(this,e,n,i,"or",r,o)},t.fromJson=function(t){if(t instanceof Array){for(var e=[],n=0,i=t.length;n<i;n++)e.push(this.fromJSONData(t[n]));return e}return this.fromJSONData(t)},t.prototype.validate=function(t){var e,n,i=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,dd.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent);e="and"===this.condition;for(var r=0;r<i.length;r++)if(n=i[r].validate(t),e){if(!n)return!1}else if(n)return!0;return e},t.prototype.toJson=function(){var t,e;if(this.isComplex){t=[],e=this.predicates;for(var n=0;n<e.length;n++)t.push(e[n].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t}},t.combinePredicates=function(e,n){if(1===e.length){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new t(e[0],n,e.slice(1))},t.combine=function(e,n,i,r,o,l,a){return n instanceof t?t[o](e,n):"string"==typeof n?t[o](e,new t(n,i,r,l,a)):dd.throwError("Predicate - "+o+" : invalid arguments")},t.fromJSONData=function(e){for(var n=e.predicates||[],i=n.length,r=[],o=0;o<i;o++)r.push(this.fromJSONData(n[o]));return e.isComplex?new t(r[0],e.condition,r.slice(1)):new t(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent)},t}(),dd=function(){function t(){}return t.getValue=function(t,e){return"function"==typeof t?t.call(e||{}):t},t.endsWith=function(t,e){return t.slice(-e.length)===e},t.startsWith=function(t,e){return t.slice(0,e.length)===e},t.fnSort=function(e){return"ascending"===(e=e?t.toLowerCase(e):"ascending")?this.fnAscending:this.fnDescending},t.fnAscending=function(t,e){return null===e||void 0===e?-1:"string"==typeof t?t.localeCompare(e):null===t||void 0===t?1:t-e},t.fnDescending=function(t,e){return null===e||void 0===e?1:"string"==typeof t?-1*t.localeCompare(e):null===t||void 0===t?-1:e-t},t.extractFields=function(t,e){for(var n={},i=0;i<e.length;i++)n=this.setValue(e[i],this.getObject(e[i],t),n);return n},t.select=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(this.extractFields(t[i],e));return n},t.group=function(e,n,i,r,o,l){r=r||1;var a=e;if("{271bbba0-1ee7}"===a.GroupGuid){for(var s=function(t){if(fs(o))a[t].items=u.group(a[t].items,n,i,a.level+1,null,l),a[t].count=a[t].items.length;else{var e,r=o.filter(function(e){return e.key===a[t].key});e=o.indexOf(r[0]),a[t].items=u.group(a[t].items,n,i,a.level+1,o[e].items,l),a[t].count=o[e].count}},u=this,c=0;c<a.length;c++)s(c);return a.childLevels+=1,a}var h={},d=[];d.GroupGuid="{271bbba0-1ee7}",d.level=r,d.childLevels=0,d.records=a;for(var p=function(t){var e=f.getVal(a,t,n);if(fs(l)||(e=l(e,n)),!h[e]&&(h[e]={key:e,count:0,items:[],aggregates:{},field:n},d.push(h[e]),!fs(o))){var i=o.filter(function(t){return t.key===h[e].key});h[e].count=i[0].count}h[e].count=fs(o)?h[e].count+=1:h[e].count,h[e].items.push(a[t])},f=this,g=0;g<a.length;g++)p(g);if(i&&i.length){var m=function(e){for(var n={},r=void 0,l=i,a=0;a<i.length;a++)if(r=t.aggregates[i[a].type],fs(o))r&&(n[l[a].field+" - "+l[a].type]=r(d[e].items,l[a].field));else{var s=o.filter(function(t){return t.key===d[e].key});r&&(n[l[a].field+" - "+l[a].type]=r(s[0].items,l[a].field))}d[e].aggregates=n};for(g=0;g<d.length;g++)m(g)}return a.length&&d||a},t.buildHierarchy=function(t,e,n,i,r){var o,l={};for(i.result&&(i=i.result),i.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<i.length;o++)(l[a=this.getObject(t,i[o])]||(l[a]=[])).push(i[o]);for(o=0;o<n.length;o++){var a=this.getObject(r||t,n[o]);n[o][e]=l[a]}},t.getFieldList=function(t,e,n){if(void 0===n&&(n=""),void 0===e||null===e)return this.getFieldList(t,[],n);for(var i=t,r=0,o=Object.keys(t);r<o.length;r++){var l=o[r];"object"!=typeof i[l]||i[l]instanceof Array?e.push(n+l):this.getFieldList(i[l],e,n+l+".")}return e},t.getObject=function(t,e){if(!t)return e;if(e){if(-1===t.indexOf("."))return e[t];for(var n=e,i=t.split("."),r=0;r<i.length&&null!=n;r++)n=n[i[r]];return n}},t.setValue=function(t,e,n){var i,r,o=t.toString().split("."),l=n||{},a=l,s=o.length;for(i=0;i<s;i++)r=o[i],i+1===s?a[r]=void 0===e?void 0:e:fs(a[r])&&(a[r]={}),a=a[r];return l},t.sort=function(t,e,n){if(t.length<=1)return t;var i=parseInt((t.length/2).toString(),10),r=t.slice(0,i),o=t.slice(i);return r=this.sort(r,e,n),o=this.sort(o,e,n),this.merge(r,o,e,n)},t.ignoreDiacritics=function(e){return"string"!=typeof e?e:e.split("").map(function(e){return e in t.diacritics?t.diacritics[e]:e}).join("")},t.merge=function(t,e,n,i){for(var r,o=[];t.length>0||e.length>0;)r=t.length>0&&e.length>0?i?i(this.getVal(t,0,n),this.getVal(e,0,n))<=0?t:e:t[0][n]<t[0][n]?t:e:t.length>0?t:e,o.push(r.shift());return o},t.getVal=function(t,e,n){return n?this.getObject(n,t[e]):t[e]},t.toLowerCase=function(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""},t.callAdaptorFunction=function(t,e,n,i){if(e in t){var r=t[e](n,i);fs(r)||(n=r)}return n},t.getAddParams=function(e,n,i){var r={};return t.callAdaptorFunction(e,"addParams",{dm:n,query:i,params:i.params,reqParams:r}),r},t.isPlainObject=function(t){return!!t&&t.constructor===Object},t.isCors=function(){var t=null;try{t=new window.XMLHttpRequest}catch(t){}return!!t&&"withCredentials"in t},t.getGuid=function(t){var e;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(t,n){if("crypto"in window&&"getRandomValues"in crypto){var i=new Uint8Array(1);window.crypto.getRandomValues(i),e=i[0]%16|0}else e=16*Math.random()|0;return"0123456789abcdef"[19===n?3&e|8:e]})},t.isNull=function(t){return void 0===t||null===t},t.getItemFromComparer=function(e,n,i){var r,o,l,a=0,s="string"==typeof t.getVal(e,0,n);if(e.length)for(;fs(r)&&a<e.length;)r=t.getVal(e,a,n),l=e[a++];for(;a<e.length;a++)fs(o=t.getVal(e,a,n))||(s&&(r=+r,o=+o),i(r,o)>0&&(r=o,l=e[a]));return l},t.distinct=function(e,n,i){i=!fs(i)&&i;var r,o=[],l={};return e.forEach(function(a,s){(r=t.getVal(e,s,n))in l||(o.push(i?e[s]:r),l[r]=1)}),o},t.serverTimezoneOffset=null,t.throwError=function(t){try{throw new Error(t)}catch(t){throw t.message+"\n"+t.stack}},t.aggregates={sum:function(e,n){for(var i,r=0,o="number"!=typeof t.getVal(e,0,n),l=0;l<e.length;l++)i=t.getVal(e,l,n),isNaN(i)||null===i||(o&&(i=+i),r+=i);return r},average:function(e,n){return t.aggregates.sum(e,n)/e.length},min:function(e,n){var i;return"function"==typeof n&&(i=n,n=null),t.getObject(n,t.getItemFromComparer(e,n,i||t.fnAscending))},max:function(e,n){var i;return"function"==typeof n&&(i=n,n=null),t.getObject(n,t.getItemFromComparer(e,n,i||t.fnDescending))},truecount:function(t,e){return new bd(t).executeLocal((new cd).where(e,"equal",!0,!0)).length},falsecount:function(t,e){return new bd(t).executeLocal((new cd).where(e,"equal",!1,!0)).length},count:function(t,e){return t.length}},t.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},t.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},t.fnOperators={equal:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?t.toLowerCase(e)===t.toLowerCase(n):e===n},notequal:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),!t.fnOperators.equal(e,n,i)},lessthan:function(e,n,i){return i?t.toLowerCase(e)<t.toLowerCase(n):e<n},greaterthan:function(e,n,i){return i?t.toLowerCase(e)>t.toLowerCase(n):e>n},lessthanorequal:function(e,n,i){return i?t.toLowerCase(e)<=t.toLowerCase(n):e<=n},greaterthanorequal:function(e,n,i){return i?t.toLowerCase(e)>=t.toLowerCase(n):e>=n},contains:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?!fs(e)&&!fs(n)&&-1!==t.toLowerCase(e).indexOf(t.toLowerCase(n)):!fs(e)&&!fs(n)&&-1!==e.toString().indexOf(n)},notnull:function(t){return null!==t},isnull:function(t){return null===t},startswith:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?e&&n&&t.startsWith(t.toLowerCase(e),t.toLowerCase(n)):e&&n&&t.startsWith(e,n)},endswith:function(e,n,i,r){return r&&(e=t.ignoreDiacritics(e),n=t.ignoreDiacritics(n)),i?e&&n&&t.endsWith(t.toLowerCase(e),t.toLowerCase(n)):e&&n&&t.endsWith(e,n)},processSymbols:function(e){var n=t.operatorSymbols[e];return n?t.fnOperators[n]:t.throwError("Query - Process Operator : Invalid operator")},processOperator:function(e){return t.fnOperators[e]||t.fnOperators.processSymbols(e)}},t.parse={parseJson:function(e){return"string"==typeof e?e=JSON.parse(e,t.parse.jsonReviver):e instanceof Array?t.parse.iterateAndReviveArray(e):"object"==typeof e&&null!==e&&t.parse.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var n=0;n<e.length;n++)"object"==typeof e[n]&&null!==e[n]?t.parse.iterateAndReviveJson(e[n]):e[n]="string"!=typeof e[n]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(e[n])?t.parse.parseJson(e[n]):t.parse.jsonReviver("",e[n])},iterateAndReviveJson:function(e){for(var n,i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];t.startsWith(o,"__")||("object"==typeof(n=e[o])?n instanceof Array?t.parse.iterateAndReviveArray(n):n&&t.parse.iterateAndReviveJson(n):e[o]=t.parse.jsonReviver(e[o],n))}},jsonReviver:function(e,n){var i=n;if("string"==typeof n){var r=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(n);if(r)return t.dateParse.toTimeZone(new Date(parseInt(r[1],10)),t.serverTimezoneOffset,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(n)){var o=i.split(/[^0-9]/);n=t.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),t.serverTimezoneOffset,!0)}}return n},isJson:function(e){return"string"==typeof e[0]?e:t.parse.parseJson(e)},isGuid:function(t){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(t)},replacer:function(e,n){return t.isPlainObject(e)?t.parse.jsonReplacer(e,n):e instanceof Array?t.parse.arrayReplacer(e):e instanceof Date?t.parse.jsonReplacer({val:e},n).val:e},jsonReplacer:function(e,n){for(var i,r=0,o=Object.keys(e);r<o.length;r++){var l=o[r];(i=e[l])instanceof Date&&(e[l]=t.dateParse.toTimeZone(t.dateParse.addSelfOffset(i),t.serverTimezoneOffset).toJSON())}return e},arrayReplacer:function(e){for(var n=0;n<e.length;n++)t.isPlainObject(e[n])?e[n]=t.parse.jsonReplacer(e[n]):e[n]instanceof Date&&(e[n]=t.parse.jsonReplacer({date:e[n]}).date);return e}},t.dateParse={addSelfOffset:function(t){return new Date(+t-6e4*t.getTimezoneOffset())},toUTC:function(t){return new Date(+t+6e4*t.getTimezoneOffset())},toTimeZone:function(e,n,i){if(null===n)return e;var r=i?t.dateParse.toUTC(e):e;return new Date(+r-36e5*n)},toLocalTime:function(t){var e=t,n=-e.getTimezoneOffset(),i=n>=0?"+":"-",r=function(t){var e=Math.floor(Math.abs(t));return(e<10?"0":"")+e};return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+i+r(n/60)+":"+r(n%60)}},t}(),pd=function(){function t(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},this.type=t,this.dataSource=e,this.pvt={}}return t.prototype.processResponse=function(t,e,n,i){return t},t}(),fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.processQuery=function(t,e){for(var n,i,r=t.dataSource.json.slice(0),o=r.length,l=!0,a={},s=0;s<e.queries.length;s++)n=this[(i=e.queries[s]).fn].call(this,r,i.e,e),"onAggregates"===i.fn?a[i.e.field+" - "+i.e.type]=n:r=void 0!==n?n:r,"onPage"!==i.fn&&"onSkip"!==i.fn&&"onTake"!==i.fn&&"onRange"!==i.fn||(l=!1),l&&(o=r.length);return e.isCountRequired&&(r={result:r,count:o,aggregates:a}),r},e.prototype.batchRequest=function(t,e,n){var i,r=e.deletedRecords.length;for(i=0;i<e.addedRecords.length;i++)this.insert(t,e.addedRecords[i]);for(i=0;i<e.changedRecords.length;i++)this.update(t,n.key,e.changedRecords[i]);for(i=0;i<r;i++)this.remove(t,n.key,e.deletedRecords[i]);return e},e.prototype.onWhere=function(t,e){return t&&t.length?t.filter(function(t){if(e)return e.validate(t)}):t},e.prototype.onAggregates=function(t,e){var n=dd.aggregates[e.type];return t&&n&&0!==t.length?n(t,e.field):null},e.prototype.onSearch=function(t,e){return t&&t.length?(0===e.fieldNames.length&&dd.getFieldList(t[0],e.fieldNames),t.filter(function(t){for(var n=0;n<e.fieldNames.length;n++)if(e.comparer.call(t,dd.getObject(e.fieldNames[n],t),e.searchKey,e.ignoreCase,e.ignoreAccent))return!0;return!1})):t},e.prototype.onSortBy=function(t,e,n){if(!t||!t.length)return t;var i,r=dd.getValue(e.fieldName,n);if(!r)return t.sort(e.comparer);if(r instanceof Array){for(var o=(r=r.slice(0)).length-1;o>=0;o--)r[o]&&(i=e.comparer,dd.endsWith(r[o]," desc")&&(i=dd.fnSort("descending"),r[o]=r[o].replace(" desc","")),t=dd.sort(t,r[o],i));return t}return dd.sort(t,r,e.comparer)},e.prototype.onGroup=function(t,e,n){if(!t||!t.length)return t;var i=cd.filterQueries(n.queries,"onAggregates"),r=[];if(i.length)for(var o=void 0,l=0;l<i.length;l++)r.push({type:(o=i[l].e).type,field:dd.getValue(o.field,n)});return dd.group(t,dd.getValue(e.fieldName,n),r,null,null,e.comparer)},e.prototype.onPage=function(t,e,n){var i=dd.getValue(e.pageSize,n),r=(dd.getValue(e.pageIndex,n)-1)*i;return t&&t.length?t.slice(r,r+i):t},e.prototype.onRange=function(t,e){return t&&t.length?t.slice(dd.getValue(e.start),dd.getValue(e.end)):t},e.prototype.onTake=function(t,e){return t&&t.length?t.slice(0,dd.getValue(e.nos)):t},e.prototype.onSkip=function(t,e){return t&&t.length?t.slice(dd.getValue(e.nos)):t},e.prototype.onSelect=function(t,e){return t&&t.length?dd.select(t,dd.getValue(e.fieldNames)):t},e.prototype.insert=function(t,e,n,i,r){return fs(r)?t.dataSource.json.push(e):t.dataSource.json.splice(r,0,e)},e.prototype.remove=function(t,e,n,i){var r,o=t.dataSource.json;for("object"!=typeof n||n instanceof Date||(n=n[e]),r=0;r<o.length&&o[r][e]!==n;r++);return r!==o.length?o.splice(r,1):null},e.prototype.update=function(t,e,n,i){var r,o=t.dataSource.json,l=n[e];for(r=0;r<o.length&&o[r][e]!==l;r++);return r<o.length?ds(o[r],n):null},e}(pd),gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.processQuery=function(t,e,n){var i,r,o=this.getQueryRequest(e),l=cd.filterQueryLists(e.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=e.params,s=t.dataSource.url,u=null,c=this.options,h={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in l?r=((r=dd.getValue((i=l.onPage).pageIndex,e))-1)*(u=dd.getValue(i.pageSize,e)):"onRange"in l&&(r=(i=l.onRange).start,u=i.end-i.start);for(var d=0;d<o.sorts.length;d++)i=dd.getValue(o.sorts[d].e.fieldName,e),h.sorts.push(dd.callAdaptorFunction(this,"onEachSort",{name:i,direction:o.sorts[d].e.direction},e));for(n&&(i=this.getFiltersFrom(n,e))&&h.filters.push(dd.callAdaptorFunction(this,"onEachWhere",i.toJson(),e)),d=0;d<o.filters.length;d++){h.filters.push(dd.callAdaptorFunction(this,"onEachWhere",o.filters[d].e.toJson(),e));for(var p=0,f="object"==typeof h.filters[d]?Object.keys(h.filters[d]):[];p<f.length;p++)dd.isNull(h[y=f[p]])&&delete h[y]}for(d=0;d<o.searches.length;d++)h.searches.push(dd.callAdaptorFunction(this,"onEachSearch",{fields:(i=o.searches[d].e).fieldNames,operator:i.operator,key:i.searchKey,ignoreCase:i.ignoreCase},e));for(d=0;d<o.groups.length;d++)h.groups.push(dd.getValue(o.groups[d].e.fieldName,e));for(d=0;d<o.aggregates.length;d++)h.aggregates.push({type:(i=o.aggregates[d].e).type,field:dd.getValue(i.field,e)});var g={};this.getRequestQuery(c,e,l,h,g),dd.callAdaptorFunction(this,"addParams",{dm:t,query:e,params:a,reqParams:g});for(var m=0,v=Object.keys(g);m<v.length;m++){var y;(dd.isNull(g[y=v[m]])||""===g[y]||0===g[y].length)&&delete g[y]}c.skip in g&&c.take in g||null===u||(g[c.skip]=dd.callAdaptorFunction(this,"onSkip",r,e),g[c.take]=dd.callAdaptorFunction(this,"onTake",u,e));var b=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(g),url:s,pvtData:b,type:"POST",contentType:"application/json; charset=utf-8"}:(i=this.convertToQueryString(g,e,t),{type:"GET",url:(i=(-1!==t.dataSource.url.indexOf("?")?"&":"/")+i).length?s.replace(/\/*$/,i):s,pvtData:b})},e.prototype.getRequestQuery=function(t,e,n,i,r){var o=r;o[t.from]=e.fromTable,t.apply&&e.distincts.length&&(o[t.apply]="onDistinct"in this?dd.callAdaptorFunction(this,"onDistinct",e.distincts):""),!e.distincts.length&&t.expand&&(o[t.expand]="onExpand"in this&&"onSelect"in n?dd.callAdaptorFunction(this,"onExpand",{selects:dd.getValue(n.onSelect.fieldNames,e),expands:e.expands},e):e.expands),o[t.select]="onSelect"in n&&!e.distincts.length?dd.callAdaptorFunction(this,"onSelect",dd.getValue(n.onSelect.fieldNames,e),e):"",o[t.count]=e.isCountRequired?dd.callAdaptorFunction(this,"onCount",e.isCountRequired,e):"",o[t.search]=i.searches.length?dd.callAdaptorFunction(this,"onSearch",i.searches,e):"",o[t.skip]="onSkip"in n?dd.callAdaptorFunction(this,"onSkip",dd.getValue(n.onSkip.nos,e),e):"",o[t.take]="onTake"in n?dd.callAdaptorFunction(this,"onTake",dd.getValue(n.onTake.nos,e),e):"",o[t.where]=i.filters.length||i.searches.length?dd.callAdaptorFunction(this,"onWhere",i.filters,e):"",o[t.sortBy]=i.sorts.length?dd.callAdaptorFunction(this,"onSortBy",i.sorts,e):"",o[t.group]=i.groups.length?dd.callAdaptorFunction(this,"onGroup",i.groups,e):"",o[t.aggregates]=i.aggregates.length?dd.callAdaptorFunction(this,"onAggregates",i.aggregates,e):"",o.param=[]},e.prototype.convertToQueryString=function(t,e,n){return""},e.prototype.processResponse=function(t,e,n,i,r,o){i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("application/json")&&(t=dd.parse.parseJson(t));var l=r,a=l.pvtData||{},s=t?t.groupDs:[];if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var u=JSON.parse(l.data);if(u&&"batch"===u.action&&t&&t.addedRecords)return o.addedRecords=t.addedRecords,o;t&&t.d&&(t=t.d);var c={};return t&&"count"in t&&(c.count=t.count),c.result=t&&t.result?t.result:t,this.getAggregateResult(a,t,c,s,n),dd.isNull(c.count)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}},e.prototype.onGroup=function(t){return this.pvt.groups=t,t},e.prototype.onAggregates=function(t){this.pvt.aggregates=t},e.prototype.batchRequest=function(t,e,n,i,r){return{type:"POST",url:t.dataSource.batchUrl||t.dataSource.crudUrl||t.dataSource.removeUrl||t.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(ps({},{changed:e.changedRecords,added:e.addedRecords,deleted:e.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},dd.getAddParams(this,t,i)))}},e.prototype.beforeSend=function(t,e){},e.prototype.insert=function(t,e,n,i){return{url:t.dataSource.insertUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ps({},{value:e,table:n,action:"insert"},dd.getAddParams(this,t,i)))}},e.prototype.remove=function(t,e,n,i,r){return{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ps({},{key:n,keyColumn:e,table:i,action:"remove"},dd.getAddParams(this,t,r)))}},e.prototype.update=function(t,e,n,i,r){return{type:"POST",url:t.dataSource.updateUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ps({},{value:n,action:"update",keyColumn:e,key:n[e],table:i},dd.getAddParams(this,t,r)))}},e.prototype.getFiltersFrom=function(t,e){var n,i=e.fKey,r=i,o=e.key,l=[];"object"!=typeof t[0]&&(r=null);for(var a=0;a<t.length;a++)n="object"==typeof t[0]?dd.getObject(o||r,t[a]):t[a],l.push(new hd(i,"equal",n));return hd.or(l)},e.prototype.getAggregateResult=function(t,e,n,i,r){var o=e;if(e&&e.result&&(o=e.result),t&&t.aggregates&&t.aggregates.length){var l=t.aggregates,a=void 0,s=o,u={};e.aggregate&&(s=e.aggregate);for(var c=0;c<l.length;c++)(a=dd.aggregates[l[c].type])&&(u[l[c].field+" - "+l[c].type]=a(s,l[c].field));n.aggregates=u}if(t&&t.groups&&t.groups.length){var h=t.groups;for(c=0;c<h.length;c++){fs(i)||(i=dd.group(i,h[c]));var d=cd.filterQueries(r.queries,"onGroup")[c].e;o=dd.group(o,h[c],t.aggregates,null,i,d.comparer)}n.result=o}return n},e.prototype.getQueryRequest=function(t){var e={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return e.sorts=cd.filterQueries(t.queries,"onSortBy"),e.groups=cd.filterQueries(t.queries,"onGroup"),e.filters=cd.filterQueries(t.queries,"onWhere"),e.searches=cd.filterQueries(t.queries,"onSearch"),e.aggregates=cd.filterQueries(t.queries,"onAggregates"),e},e.prototype.addParams=function(t){var e=t.reqParams;t.params.length&&(e.params={});for(var n=0,i=t.params;n<i.length;n++){var r=i[n];if(e[r.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");e[r.key]=r.value,r.fn&&(e[r.key]=r.fn.call(t.query,r.key,t.query,t.dm)),e.params[r.key]=e[r.key]}},e}(pd),md=function(t){function e(e){var n=t.call(this)||this;return n.options=ps({},n.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),ps(n.options,e||{}),n}return Object(l.__extends)(e,t),e.prototype.getModuleName=function(){return"ODataAdaptor"},e.prototype.onPredicate=function(t,n,i){var r,o,l="",a=t.value,s=typeof a,u=t.field?e.getField(t.field):null;if(a instanceof Date&&(a="datetime'"+dd.parse.replacer(a)+"'"),"string"===s&&(a="'"+(a=encodeURIComponent(a))+"'",i&&(u="cast("+u+", 'Edm.String')"),dd.parse.isGuid(a)&&(o="guid"),t.ignoreCase&&(o||(u="tolower("+u+")"),a=a.toLowerCase())),r=dd.odBiOperator[t.operator])return l+=u,l+=r,o&&(l+=o),l+a;if("substringof"===(r=fs(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?dd.odUniOperator[t.operator]:dd.odv4UniOperator[t.operator])){var c=a;a=u,u=c}return l+=r+"(",l+=u+",",o&&(l+=o),l+(a+")")},e.prototype.addParams=function(e){t.prototype.addParams.call(this,e),delete e.reqParams.params},e.prototype.onComplexPredicate=function(t,e,n){for(var i=[],r=0;r<t.predicates.length;r++)i.push("("+this.onEachWhere(t.predicates[r],e,n)+")");return i.join(" "+t.condition+" ")},e.prototype.onEachWhere=function(t,e,n){return t.isComplex?this.onComplexPredicate(t,e,n):this.onPredicate(t,e,n)},e.prototype.onWhere=function(t){return this.pvt.search&&t.push(this.onEachWhere(this.pvt.search,null,!0)),t.join(" and ")},e.prototype.onEachSearch=function(t){t.fields&&0===t.fields.length&&dd.throwError("Query() - Search : oData search requires list of field names to search");for(var e=this.pvt.search||[],n=0;n<t.fields.length;n++)e.push(new hd(t.fields[n],t.operator,t.key,t.ignoreCase));this.pvt.search=e},e.prototype.onSearch=function(t){return this.pvt.search=hd.or(this.pvt.search),""},e.prototype.onEachSort=function(t){var n=[];if(t.name instanceof Array)for(var i=0;i<t.name.length;i++)n.push(e.getField(t.name[i])+("descending"===t.direction?" desc":""));else n.push(e.getField(t.name)+("descending"===t.direction?" desc":""));return n.join(",")},e.prototype.onSortBy=function(t){return t.reverse().join(",")},e.prototype.onGroup=function(t){return this.pvt.groups=t,[]},e.prototype.onSelect=function(t){for(var n=0;n<t.length;n++)t[n]=e.getField(t[n]);return t.join(",")},e.prototype.onAggregates=function(t){return this.pvt.aggregates=t,""},e.prototype.onCount=function(t){return!0===t?"allpages":""},e.prototype.beforeSend=function(t,e,n){dd.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(e.setRequestHeader("Accept",this.options.multipartAccept),e.setRequestHeader("DataServiceVersion","2.0"),e.overrideMimeType("text/plain; charset=x-user-defined")):e.setRequestHeader("Accept",this.options.accept),e.setRequestHeader("DataServiceVersion","2.0"),e.setRequestHeader("MaxDataServiceVersion","2.0")},e.prototype.processResponse=function(t,e,n,i,r,o){if(r&&"GET"===r.type&&!this.rootUrl&&t["odata.metadata"]){var l=t["odata.metadata"].split("/$metadata#");this.rootUrl=l[0],this.resourceTableName=l[1]}if(!fs(t.d)){var a=n&&n.isCountRequired?t.d.results:t.d;if(!fs(a))for(var s=0;s<a.length;s++)fs(a[s].__metadata)||delete a[s].__metadata}var u=r&&r.pvtData,c=this.processBatchResponse(t,n,i,r,o);if(c)return c;var h=i&&r.getResponseHeader("DataServiceVersion"),d=null,p=h&&parseInt(h,10)||2;n&&n.isCountRequired&&((t.__count||t["odata.count"])&&(d=t.__count||t["odata.count"]),t.d&&(t=t.d),(t.__count||t["odata.count"])&&(d=t.__count||t["odata.count"])),3===p&&t.value&&(t=t.value),t.d&&(t=t.d),p<3&&t.results&&(t=t.results);var f={};return f.count=d,f.result=t,this.getAggregateResult(u,t,f,null,n),dd.isNull(d)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}},e.prototype.convertToQueryString=function(t,e,n){var i=[],r=t.table||"";delete t.table,n.dataSource.requiresFormat&&(t.$format="json");for(var o=0,l=Object.keys(t);o<l.length;o++){var a=l[o];i.push(a+"="+t[a])}return i=i.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!r?i:i.length?r+"?"+i:r||""},e.prototype.localTimeReplacer=function(t,e){for(var n=0,i=fs(e)?[]:Object.keys(e);n<i.length;n++){var r=i[n];e[r]instanceof Date&&(e[r]=dd.dateParse.toLocalTime(e[r]))}return e},e.prototype.insert=function(t,e,n){return{url:(t.dataSource.insertUrl||t.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(e,this.options.localTime?this.localTimeReplacer:null)}},e.prototype.remove=function(t,e,n,i){var r;return r="string"!=typeof n||dd.parse.isGuid(n)?"("+n+")":"('"+n+"')",{type:"DELETE",url:(t.dataSource.removeUrl||t.dataSource.url).replace(/\/*$/,i?"/"+i:"")+r}},e.prototype.update=function(t,e,n,i,r,o){var l;return"PATCH"!==this.options.updateType||fs(o)||(n=this.compareAndRemove(n,o,e)),l="string"!=typeof n[e]||dd.parse.isGuid(n[e])?"("+n[e]+")":"('"+n[e]+"')",{type:this.options.updateType,url:(t.dataSource.updateUrl||t.dataSource.url).replace(/\/*$/,i?"/"+i:"")+l,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},e.prototype.batchRequest=function(t,e,n,i,r){var o=n.guid=dd.getGuid(this.options.batchPre),l=this.rootUrl?this.rootUrl+"/"+this.options.batch:t.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var a={url:n.url,key:n.key,cid:1,cSet:dd.getGuid(this.options.changeSet)},s="--"+o+"\n";return s+="Content-Type: multipart/mixed; boundary="+a.cSet.replace("--","")+"\n",this.pvt.changeSet=0,s+=this.generateInsertRequest(e.addedRecords,a,t),s+=this.generateUpdateRequest(e.changedRecords,a,t,r?r.changedRecords:[]),s+=this.generateDeleteRequest(e.deletedRecords,a,t),s+=a.cSet+"--\n",{type:"POST",url:l,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:s+="--"+o+"--"}},e.prototype.generateDeleteRequest=function(t,e,n){return t?this.generateBodyContent(t,e,{method:"DELETE ",url:function(t,e,n){return"("+t[e][n]+")"},data:function(t,e){return""}},n)+"\n":""},e.prototype.generateInsertRequest=function(t,e,n){return t?this.generateBodyContent(t,e,{method:"POST ",url:function(t,e,n){return""},data:function(t,e){return JSON.stringify(t[e])+"\n\n"}},n):""},e.prototype.generateUpdateRequest=function(t,e,n,i){var r=this;return t?(t.forEach(function(t){return t=r.compareAndRemove(t,i.filter(function(n){return dd.getObject(e.key,n)===dd.getObject(e.key,t)})[0],e.key)}),this.generateBodyContent(t,e,{method:this.options.updateType+" ",url:function(t,e,n){return"("+t[e][n]+")"},data:function(t,e){return JSON.stringify(t[e])+"\n\n"}},n)):""},e.getField=function(t){return t.replace(/\./g,"/")},e.prototype.generateBodyContent=function(t,e,n,i){for(var r="",o=0;o<t.length;o++)r+="\n"+e.cSet+"\n",r+=this.options.changeSetContent+"\n\n",r+=n.method,"POST "===n.method?r+=(i.dataSource.insertUrl||i.dataSource.crudUrl||e.url)+n.url(t,o,e.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?r+=(i.dataSource.updateUrl||i.dataSource.crudUrl||e.url)+n.url(t,o,e.key)+" HTTP/1.1\n":"DELETE "===n.method&&(r+=(i.dataSource.removeUrl||i.dataSource.crudUrl||e.url)+n.url(t,o,e.key)+" HTTP/1.1\n"),r+="Accept: "+this.options.accept+"\n",r+="Content-Id: "+this.pvt.changeSet+++"\n",r+=this.options.batchChangeSetContentType+"\n",fs(t[o]["@odata.etag"])?r+="\n":(r+="If-Match: "+t[o]["@odata.etag"]+"\n\n",delete t[o]["@odata.etag"]),r+=n.data(t,o);return r},e.prototype.processBatchResponse=function(t,e,n,i,r){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return e.isCountRequired?{result:[],count:0}:[];if(i&&this.options.batch&&dd.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()){var o=n.getResponseHeader("Content-Type"),l=void 0,a=void 0,s=t+"";if(o=o.substring(o.indexOf("=batchresponse")+1),(s=s.split(o)).length<2)return{};var u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(s=s[1]);u&&s.replace(u[0],"");for(var c=(s=s.split(u?u[1]:"")).length;c>-1;c--)/\bContent-ID:/i.test(s[c])&&/\bHTTP.+201/.test(s[c])&&(l=parseInt(/\bContent-ID: (\d+)/i.exec(s[c])[1],10),r.addedRecords[l]&&(a=dd.parse.parseJson(/^\{.+\}/m.exec(s[c])[0]),ps({},r.addedRecords[l],this.processResponse(a))));return r}return null},e.prototype.compareAndRemove=function(t,e,n){var i=this;return fs(e)?t:(Object.keys(t).forEach(function(r){r!==n&&"@odata.etag"!==r&&(dd.isPlainObject(t[r])?(i.compareAndRemove(t[r],e[r]),0===Object.keys(t[r]).filter(function(t){return"@odata.etag"!==t}).length&&delete t[r]):t[r]===e[r]?delete t[r]:t[r]&&e[r]&&t[r].valueOf()===e[r].valueOf()&&delete t[r])}),t)},e}(gd),vd=function(t){function e(){var e=t.call(this)||this;return cs("beforeSend",gd.prototype.beforeSend,e),e}return Object(l.__extends)(e,t),e.prototype.insert=function(t,e,n,i){return this.updateType="add",{url:t.dataSource.insertUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ps({},{value:e,table:n,action:"insert"},dd.getAddParams(this,t,i)))}},e.prototype.remove=function(e,n,i,r,o){return t.prototype.remove.call(this,e,n,i),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(ps({},{key:i,keyColumn:n,table:r,action:"remove"},dd.getAddParams(this,e,o)))}},e.prototype.update=function(t,e,n,i,r){return this.updateType="update",this.updateKey=e,{type:"POST",url:t.dataSource.updateUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(ps({},{value:n,action:"update",keyColumn:e,key:n[e],table:i},dd.getAddParams(this,t,r)))}},e.prototype.processResponse=function(e,n,i,r,o,l,a){var s;if("add"===this.updateType&&t.prototype.insert.call(this,n,e),"update"===this.updateType&&t.prototype.update.call(this,n,this.updateKey,e),this.updateType=void 0,e.added)for(s=0;s<e.added.length;s++)t.prototype.insert.call(this,n,e.added[s]);if(e.changed)for(s=0;s<e.changed.length;s++)t.prototype.update.call(this,n,a.key,e.changed[s]);if(e.deleted)for(s=0;s<e.deleted.length;s++)t.prototype.remove.call(this,n,a.key,e.deleted[s]);return e},e.prototype.batchRequest=function(t,e,n){return{type:"POST",url:t.dataSource.batchUrl||t.dataSource.crudUrl||t.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:e.changedRecords,added:e.addedRecords,deleted:e.deletedRecords,action:"batch",table:n.url,key:n.key})}},e.prototype.addParams=function(t){(new gd).addParams(t)},e}(fd),yd=function(t){function e(e,n,i){var r=t.call(this)||this;r.isCrudAction=!1,r.isInsertAction=!1,fs(e)||(r.cacheAdaptor=e),r.pageSize=i,r.guidId=dd.getGuid("cacheAdaptor"),window.localStorage.setItem(r.guidId,JSON.stringify({keys:[],results:[]}));var o=r.guidId;return fs(n)||setInterval(function(){var t;t=dd.parse.parseJson(window.localStorage.getItem(o));for(var e=[],i=0;i<t.results.length;i++){var r=+new Date,l=+new Date(t.results[i].timeStamp);t.results[i].timeStamp=r-l,r-l>n&&e.push(i)}for(i=0;i<e.length;i++)t.results.splice(e[i],1),t.keys.splice(e[i],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(t))},n),r}return Object(l.__extends)(e,t),e.prototype.generateKey=function(t,e){var n=this.getQueryRequest(e),i=cd.filterQueryLists(e.queries,["onSelect","onPage","onSkip","onTake","onRange"]),r=t;"onPage"in i&&(r+=i.onPage.pageIndex),n.sorts.forEach(function(t){r+=t.e.direction+t.e.fieldName}),n.groups.forEach(function(t){r+=t.e.fieldName}),n.searches.forEach(function(t){r+=t.e.searchKey});for(var o=0;o<n.filters.length;o++){var l=n.filters[o];if(l.e.isComplex){var a=e.clone();a.queries=[];for(var s=0;s<l.e.predicates.length;s++)a.queries.push({fn:"onWhere",e:l.e.predicates[s],filter:e.queries.filter});r+=l.e.condition+this.generateKey(t,a)}else r+=l.e.field+l.e.operator+l.e.value}return r},e.prototype.processQuery=function(t,e,n){var i,r=this.generateKey(t.dataSource.url,e),o=(i=dd.parse.parseJson(window.localStorage.getItem(this.guidId)))?i.results[i.keys.indexOf(r)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o},e.prototype.processResponse=function(t,e,n,i,r,o){if(this.isInsertAction||r&&this.cacheAdaptor.options.batch&&dd.endsWith(r.url,this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(t,e,n,i,r,o);t=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var l=n?this.generateKey(e.dataSource.url,n):e.dataSource.url,a={},s=(a=dd.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(l);for(-1!==s&&(a.results.splice(s,1),a.keys.splice(s,1)),a.results[a.keys.push(l)-1]={keys:l,result:t.result,timeStamp:new Date,count:t.count};a.results.length>this.pageSize;)a.results.splice(0,1),a.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(a)),t},e.prototype.beforeSend=function(t,e,n){dd.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&e.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),t.dataSource.crossDomain||e.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},e.prototype.update=function(t,e,n,i){return this.isCrudAction=!0,this.cacheAdaptor.update(t,e,n,i)},e.prototype.insert=function(t,e,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(t,e,n)},e.prototype.remove=function(t,e,n,i){return this.isCrudAction=!0,this.cacheAdaptor.remove(t,e,n,i)},e.prototype.batchRequest=function(t,e,n){return this.cacheAdaptor.batchRequest(t,e,n)},e}(gd),bd=function(){function t(t,e,n){var i,r=this;return this.dateParse=!0,this.requests=[],t||this.dataSource||(t=[]),n=n||t.adaptor,t instanceof Array?i={json:t,offline:!0}:"object"==typeof t?(t.json||(t.json=[]),i={url:t.url,insertUrl:t.insertUrl,removeUrl:t.removeUrl,updateUrl:t.updateUrl,crudUrl:t.crudUrl,batchUrl:t.batchUrl,json:t.json,headers:t.headers,accept:t.accept,data:t.data,timeTillExpiration:t.timeTillExpiration,cachingPageSize:t.cachingPageSize,enableCaching:t.enableCaching,requestType:t.requestType,key:t.key,crossDomain:t.crossDomain,jsonp:t.jsonp,dataType:t.dataType,offline:void 0!==t.offline?t.offline:!(t.adaptor instanceof vd||t.url),requiresFormat:t.requiresFormat}):dd.throwError("DataManager: Invalid arguments"),void 0!==i.requiresFormat||dd.isCors()||(i.requiresFormat=!!fs(i.crossDomain)||i.crossDomain),void 0===i.dataType&&(i.dataType="json"),this.dataSource=i,this.defaultQuery=e,i.url&&i.offline&&!i.json.length?(this.isDataAvailable=!1,this.adaptor=n||new md,this.dataSource.offline=!1,this.ready=this.executeQuery(e||new cd),this.ready.then(function(t){r.dataSource.offline=!0,r.isDataAvailable=!0,i.json=t.result,r.adaptor=new fd})):this.adaptor=i.offline?new fd:new md,!i.jsonp&&this.adaptor instanceof md&&(i.jsonp="callback"),this.adaptor=n||this.adaptor,i.enableCaching&&(this.adaptor=new yd(this.adaptor,i.timeTillExpiration,i.cachingPageSize)),this}return t.prototype.setDefaultQuery=function(t){return this.defaultQuery=t,this},t.prototype.executeLocal=function(e){this.defaultQuery||e instanceof cd||dd.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||dd.throwError("DataManager - executeLocal() : Json data is required to execute");var n=this.adaptor.processQuery(this,e=e||this.defaultQuery);if(e.subQuery){var i=e.subQuery.fromTable,r=e.subQuery.lookups,o=e.isCountRequired?n.result:n;r&&r instanceof Array&&dd.buildHierarchy(e.subQuery.fKey,i,o,r,e.subQuery.key);for(var l=0;l<o.length;l++)o[l][i]instanceof Array&&(o[l]=ps({},{},o[l]),o[l][i]=this.adaptor.processResponse(e.subQuery.using(new t(o[l][i].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(n,this,e)},t.prototype.executeQuery=function(e,n,i,r){var o=this;"function"==typeof e&&(r=i,i=n,n=e,e=null),e||(e=this.defaultQuery),e instanceof cd||dd.throwError("DataManager - executeQuery() : A query is required to execute");var l=new wd,a={query:e};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!fs(this.adaptor.makeRequest)){var s=this.adaptor.processQuery(this,e);fs(this.adaptor.makeRequest)?this.makeRequest(s,l,a,e):this.adaptor.makeRequest(s,l,a,e)}else t.nextTick(function(){var n=o.executeLocal(e);a=t.getDeferedArgs(e,n,a),l.resolve(a)});return(n||i)&&l.promise.then(n,i),r&&l.promise.then(r,r),l.promise},t.getDeferedArgs=function(t,e,n){return t.isCountRequired?(n.result=e.result,n.count=e.count,n.aggregates=e.aggregates):n.result=e,n},t.nextTick=function(t){(window.setImmediate||window.setTimeout)(t,0)},t.prototype.extendRequest=function(t,e,n){return ps({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:e,onFailure:n},t)},t.prototype.makeRequest=function(t,e,n,i){var r=this,o=!!i.subQuerySelector,l=function(t){n.error=t,e.reject(n)},a=function(t,i,r,o,l,a,s){n.xhr=r,n.count=i?parseInt(i.toString(),10):0,n.result=t,n.request=o,n.aggregates=a,n.actual=l,n.virtualSelectRecords=s,e.resolve(n)},s=function(t,e){var s=new wd,u={parent:n};i.subQuery.isChild=!0;var c=r.adaptor.processQuery(r,i.subQuery,t?r.adaptor.processResponse(t):e),h=r.makeRequest(c,s,u,i.subQuery);return o||s.then(function(e){t&&(dd.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,t,e,i.subQuery.key),a(t,e.count,e.xhr))},l),h},u=this.extendRequest(t,function(t,e){-1===e.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&r.dateParse&&(t=dd.parse.parseJson(t));var n=r.adaptor.processResponse(t,r,i,e.httpRequest,e),l=0,u=null,c=t.virtualSelectRecords;i.isCountRequired&&(l=n.count,u=n.aggregates,n=n.result),i.subQuery?o||s(n,e):a(n,l,e.httpRequest,e.type,t,u,c)},l),c=new _s(u);if(c.beforeSend=function(){r.beforeSend(c.httpRequest,c)},(u=c.send()).catch(function(t){return!0}),this.requests.push(c),o){var h=i.subQuerySelector.call(this,{query:i.subQuery,parent:i});h&&h.length?Promise.all([u,s(null,h)]).then(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],l=r.adaptor.processResponse(n[0],r,i,r.requests[0].httpRequest,r.requests[0]),s=0;i.isCountRequired&&(s=l.count,l=l.result);var u=r.adaptor.processResponse(n[1],r,i.subQuery,r.requests[1].httpRequest,r.requests[1]);s=0,i.subQuery.isCountRequired&&(s=u.count,u=u.result),dd.buildHierarchy(i.subQuery.fKey,i.subQuery.fromTable,l,u,i.subQuery.key),o=!1,a(l,s,r.requests[0].httpRequest)}):o=!1}return u},t.prototype.beforeSend=function(t,e){this.adaptor.beforeSend(this,t,e);for(var n,i=this.dataSource.headers,r=0;i&&r<i.length;r++){n=[];for(var o=0,l=Object.keys(i[r]);o<l.length;o++){var a=l[o];n.push(a),t.setRequestHeader(a,i[r][a])}}},t.prototype.saveChanges=function(t,e,n,i,r){var o=this;n instanceof cd&&(i=n,n=null);var l={url:n,key:e||this.dataSource.key},a=this.adaptor.batchRequest(this,t,l,i||new cd,r);if(this.dataSource.offline)return a;if(fs(this.adaptor.doAjaxRequest)){var s=new wd,u=new _s(a);return u.beforeSend=function(){o.beforeSend(u.httpRequest,u)},u.onSuccess=function(e,n){s.resolve(o.adaptor.processResponse(e,o,null,n.httpRequest,n,t,l))},u.onFailure=function(t){s.reject([{error:t}])},u.send().catch(function(t){return!0}),s.promise}return this.adaptor.doAjaxRequest(a)},t.prototype.insert=function(t,e,n,i){e instanceof cd&&(n=e,e=null);var r=this.adaptor.insert(this,t,e,n,i);return this.dataSource.offline?r:fs(this.adaptor.doAjaxRequest)?this.doAjaxRequest(r):this.adaptor.doAjaxRequest(r)},t.prototype.remove=function(t,e,n,i){"object"==typeof e&&(e=e[t]),n instanceof cd&&(i=n,n=null);var r=this.adaptor.remove(this,t,e,n,i);return this.dataSource.offline?r:fs(this.adaptor.doAjaxRequest)?this.doAjaxRequest(r):this.adaptor.doAjaxRequest(r)},t.prototype.update=function(t,e,n,i,r){n instanceof cd&&(i=n,n=null);var o=this.adaptor.update(this,t,e,n,i,r);return this.dataSource.offline?o:fs(this.adaptor.doAjaxRequest)?this.doAjaxRequest(o):this.adaptor.doAjaxRequest(o)},t.prototype.doAjaxRequest=function(t){var e=this,n=new wd;t=ps({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},t);var i=new _s(t);return i.beforeSend=function(){e.beforeSend(i.httpRequest,i)},i.onSuccess=function(t,i){try{dd.parse.parseJson(t)}catch(e){t=[]}t=e.adaptor.processResponse(dd.parse.parseJson(t),e,null,i.httpRequest,i),n.resolve(t)},i.onFailure=function(t){n.reject([{error:t}])},i.send().catch(function(t){return!0}),n.promise},t}(),wd=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}(),_d={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper"};function Cd(t,e){var n={};if(fs(t)||"string"==typeof t||"number"==typeof t||!fs(t.isHeader))return t;for(var i=0,r=Object.keys(e);i<r.length;i++){var o=e[r[i]],l=fs(o)||"string"!=typeof o?void 0:us(o,t);fs(l)||(n[o]=l)}return n}!function(t){t.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};var e={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},n={showCheckBox:!1,showIcon:!1,expandCollapse:!1,fields:t.defaultMappedFields,ariaAttributes:e,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right"};function i(t,e,n,i){return b(t,r(t,e,n,i),null,i)}function r(t,e,i,r){var o=[],l=ps({},n,r);_d=m(l.moduleName);for(var a=p(),s=0;s<e.length;s++)if(!fs(e[s])){var u;l.itemCreating&&"function"==typeof l.itemCreating&&l.itemCreating({dataSource:e,curData:e[s],text:e[s],options:l}),u=i?g(t,e[s],void 0,null,null,[],null,a,s,r):y(t,e[s],void 0,null,null,r),l.itemCreated&&"function"==typeof l.itemCreated&&l.itemCreated({dataSource:e,curData:e[s],text:e[s],item:u,options:l}),o.push(u)}return o}function o(i,r,o,l,a){var s=ps({},n,o);_d=m(s.moduleName);var u,d=ps({},t.defaultMappedFields,s.fields),v=ps({},e,s.ariaAttributes);l&&(v.level=l);var b,w=[];r&&r.length&&!fs(c(r).item)&&!c(r).item.hasOwnProperty(d.id)&&(u=p());for(var _=0;_<r.length;_++){var C=Cd(r[_],d);if(!fs(r[_])){s.itemCreating&&"function"==typeof s.itemCreating&&s.itemCreating({dataSource:r,curData:r[_],text:C[d.text],options:s,fields:d});var x=r[_];s.itemCreating&&"function"==typeof s.itemCreating&&(C=Cd(r[_],d)),C.hasOwnProperty(d.id)&&!fs(C[d.id])&&(u=C[d.id]);var S=[];if(s.showCheckBox&&S.push(i("input",{className:_d.check,attrs:{type:"checkbox"}})),!0===a)s.showIcon&&C.hasOwnProperty(d.iconCss)&&!fs(C[d.iconCss])&&S.push(i("span",{className:_d.icon+" "+C[d.iconCss]})),b=g(i,x,C,d,s.itemClass,S,!(!x.hasOwnProperty("isHeader")||!x.isHeader),u,_,o);else{if((b=y(i,x,C,d,s.itemClass,o)).classList.add(_d.level+"-"+v.level),b.setAttribute("aria-level",v.level.toString()),C.hasOwnProperty(d.tooltip)&&b.setAttribute("title",C[d.tooltip]),C.hasOwnProperty(d.htmlAttributes)&&C[d.htmlAttributes]&&h(b,C[d.htmlAttributes]),C.hasOwnProperty(d.enabled)&&!1===C[d.enabled]&&b.classList.add(_d.disabled),C.hasOwnProperty(d.isVisible)&&!1===C[d.isVisible]&&(b.style.display="none"),C.hasOwnProperty(d.imageUrl)&&!fs(C[d.imageUrl])&&!s.template){var E={src:C[d.imageUrl]};ds(E,C[d.imageAttributes]),Ds([i("img",{className:_d.image,attrs:E})],b.firstElementChild)}s.showIcon&&C.hasOwnProperty(d.iconCss)&&!fs(C[d.iconCss])&&!s.template&&Ds([i("div",{className:_d.icon+" "+C[d.iconCss]})],b.firstElementChild),S.length&&Ds(S,b.firstElementChild),f(i,C,d,0,s,b,v.level)}s.itemCreated&&"function"==typeof s.itemCreated&&s.itemCreated({dataSource:r,curData:r[_],text:C[d.text],item:b,options:s,fields:d}),w.push(b)}}return w}function l(t,e,i,r,l){var a=ps({},n,i);return b(t,o(t,e,i,r,l),a.listClass,i)}function a(t,e){if(e&&t)return Array.prototype.slice.call(e).indexOf(t)}function s(t,e,n){if(void 0===n&&(n=new cd),"Ascending"===t)n.sortBy(e,"ascending",!0);else if("Descending"===t)n.sortBy(e,"descending",!0);else for(var i=0;i<n.queries.length;i++)"onSortBy"===n.queries[i].fn&&n.queries.splice(i,1);return n}function u(t,e){return new bd(t).executeLocal(e)}function c(t){for(var e=0;e<t.length;e++)if(!fs(t[e]))return{typeof:typeof t[e],item:t[e]};return{typeof:null,item:null}}function h(t,e){var n={};ds(n,e),n.class&&(Es([t],n.class.split(" ")),delete n.class),Ms(t,n)}function d(t){for(var e={},n=t.attributes,i=0;i<n.length;i++)e[n[i].nodeName]=n[i].nodeValue;return e}function p(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function f(t,e,n,i,r,o,a){var s=e[n.child]||[],u=e[n.hasChildren];if(s.length&&(u=!0,o.classList.add(_d.hasChild),r.processSubChild)){var c=l(t,s,r,++a);o.appendChild(c)}r.expandCollapse&&u&&!r.template&&(o.firstElementChild.classList.add(_d.iconWrapper),("Left"===r.expandIconPosition?Ds:Os)([t("div",{className:"e-icons "+r.expandIconClass})],o.querySelector("."+_d.textContent)))}function g(t,i,r,o,l,a,s,u,c,d){var p,f,g=ps({},n,d),m=ps({},e,g.ariaAttributes),y=i,b=i;"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i&&(p=i,y="boolean"==typeof r[o.text]||"number"==typeof r[o.text]?r[o.text]:r[o.text]||"",b=r[o.value]),f=fs(p)||fs(r[o.id])||""===r[o.id]?u+"-"+c:u;var w=t("li",{className:(!0===s?_d.group:_d.li)+" "+(fs(l)?"":l),id:f,attrs:""!==m.groupItemRole&&""!==m.itemRole?{role:!0===s?m.groupItemRole:m.itemRole}:{}});return p&&r.hasOwnProperty(o.enabled)&&"false"===r[o.enabled].toString()&&w.classList.add(_d.disabled),s?w.innerText=y:(fs(b)||w.setAttribute("data-value",b),w.setAttribute("role","option"),p&&r.hasOwnProperty(o.htmlAttributes)&&r[o.htmlAttributes]&&h(w,r[o.htmlAttributes]),a.length&&Os(a,w),w.appendChild(p&&(r[o.url]||r[o.urlAttributes]&&r[o.urlAttributes].href)?v(t,p,o,y):document.createTextNode(y))),w}function m(t){return{li:"e-"+t+"-item",ul:"e-"+t+"-parent e-ul",group:"e-"+t+"-group-item",icon:"e-"+t+"-icon",text:"e-"+t+"-text",check:"e-"+t+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+t+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+t+"-img",iconWrapper:"e-icon-wrapper"}}function v(t,e,n,i){var r=Cd(e,n),o={href:r[n.url]};r.hasOwnProperty(n.urlAttributes)&&r[n.urlAttributes]&&(ds(o,r[n.urlAttributes]),o.href=r[n.url]?r[n.url]:r[n.urlAttributes].href);var l=t("a",{className:_d.text+" "+_d.url,innerHTML:i});return h(l,o),l}function y(t,i,r,o,l,a){var s,u,c,h=ps({},n,a),d=ps({},e,h.ariaAttributes),f=i;"string"!=typeof i&&"number"!=typeof i&&(c=i,f=r[o.text]||"",s=r[o.id],u=!(!i.hasOwnProperty("isHeader")||!i.isHeader));var g=t("li",{className:(!0===u?_d.group:_d.li)+" "+(fs(l)?"":l),attrs:""!==d.groupItemRole&&""!==d.itemRole?{role:!0===u?d.groupItemRole:d.itemRole}:{}});if(fs(s)?g.setAttribute("data-uid",p()):g.setAttribute("data-uid",s),u&&a&&a.groupTemplate)Os(vc(a.groupTemplate)(i),g);else if(!u&&a&&a.template)Os(vc(a.template)(i),g);else{var m=t("div",{className:_d.textContent,attrs:""!==d.wrapperRole?{role:d.wrapperRole}:{}});m.appendChild(c&&(r[o.url]||r[o.urlAttributes]&&r[o.urlAttributes].href)?v(t,c,o,f):t("span",{className:_d.text,innerHTML:f,attrs:""!==d.itemText?{role:d.itemText}:{}})),g.appendChild(m)}return g}function b(t,i,r,o){var l=ps({},n,o),a=ps({},e,l.ariaAttributes),s=t("ul",{className:(_d=m(l.moduleName)).ul+" "+(fs(r)?"":r),attrs:""!==a.listRole?{role:a.listRole}:{}});return Os(i,s),s}t.createList=function(t,r,o,a){var s=ps({},n,o),u=ps({},e,s.ariaAttributes),h=c(r).typeof;return"string"===h||"number"===h?i(t,r,a,o):l(t,r,o,u.level,a)},t.createListFromArray=i,t.createListItemFromArray=r,t.createListItemFromJson=o,t.createListFromJson=l,t.getSiblingLI=function(t,e,i){if(_d=m(n.moduleName),t&&t.length){var r,o,l=Array.prototype.slice.call(t);for(r=l[(o=e?a(e,l):!0===i?l.length:-1)+(!0===i?-1:1)];r&&(!As(r)||r.classList.contains(_d.disabled));)r=l[o+=!0===i?-1:1];return r}},t.indexOf=a,t.groupDataSource=function(e,n,i){void 0===i&&(i="None");var r=ps({},t.defaultMappedFields,n),o=(new cd).group(r.groupBy),l=u(e,o=s(i,"key",o));e=[];for(var a=0;a<l.length;a++){var c=l[a].items,h={};h[r.text]=l[a].key,h.isHeader=!0,h.id="group-list-item-"+(l[a].key?l[a].key.toString().trim():"undefined"),h.items=c,e.push(h);for(var d=0;d<c.length;d++)e.push(c[d])}return e},t.addSorting=s,t.getDataSource=u,t.createJsonFromElement=function e(i,r){var o=ps({},n,r),l=ps({},t.defaultMappedFields,o.fields),a=i.cloneNode(!0),s=[];a.classList.add("json-parent");var u=a.querySelectorAll(".json-parent>li");a.classList.remove("json-parent");for(var c=0;c<u.length;c++){for(var h=u[c],f=h.querySelector("a"),g=h.querySelector("ul"),m={},v=f?f.childNodes:h.childNodes,y=Object.keys(v),b=0;b<v.length;b++)v[Number(y[b])].hasChildNodes()||(m[l.text]=v[Number(y[b])].textContent);var w=d(h);w.id?(m[l.id]=w.id,delete w.id):m[l.id]=p(),Object.keys(w).length&&(m[l.htmlAttributes]=w),f&&(w=d(f),Object.keys(w).length&&(m[l.urlAttributes]=w)),g&&(m[l.child]=e(g,r)),s.push(m)}return s},t.renderContentTemplate=function(e,i,r,o,l){for(var a=e("ul",{className:(_d=m(n.moduleName)).ul,attrs:{role:"presentation"}}),s=ps({},n,l),u=ps({},t.defaultMappedFields,o),c=vc(i),h=[],d=p(),f=0;f<r.length;f++){var g=Cd(r[f],u),v=r[f],y=v.isHeader,b=g[u.value];s.itemCreating&&"function"==typeof s.itemCreating&&s.itemCreating({dataSource:r,curData:v,text:b,options:s,fields:u}),s.itemCreating&&"function"==typeof s.itemCreating&&(b=(g=Cd(r[f],u))[u.value]);var w=e("li",{id:d+"-"+f,className:y?_d.group:_d.li,attrs:{role:"presentation"}});y?w.innerText=g[u.text]:(Os(c(v),w),w.setAttribute("data-value",b),w.setAttribute("role","option")),s.itemCreated&&"function"==typeof s.itemCreated&&s.itemCreated({dataSource:r,curData:v,text:b,item:w,options:s,fields:u}),h.push(w)}return Os(h,a),a},t.renderGroupTemplate=function(e,n,i,r){for(var o=vc(e),l=ps({},t.defaultMappedFields,i).groupBy,a=0,s=r;a<s.length;a++){var u=s[a],c={};c[l]=u.textContent,u.innerHTML="",Os(o(c),u)}return r},t.generateId=p,t.generateUL=b,t.generateIcon=function(t,e,i,r){var o=ps({},n,r);return _d=m(o.moduleName),("Left"===o.expandIconPosition?Ds:Os)([t("div",{className:"e-icons "+o.expandIconClass+" "+(fs(i)?"":i)})],e.querySelector("."+_d.textContent)),e}}(sd||(sd={}));var xd,Sd="e-left-calendar",Ed="e-right-calendar",Td="e-start-date",kd="e-end-date",Ad="e-range-hover",Dd="e-calendar",Od="e-focused-date",Id="e-day-span",Rd="e-date-disabled",Pd="e-icon-disabled",Md=_d.li,Nd="e-hover",jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),Object(l.__decorate)([nu()],e.prototype,"label",void 0),Object(l.__decorate)([nu()],e.prototype,"start",void 0),Object(l.__decorate)([nu()],e.prototype,"end",void 0),e}(yu),Ld=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isCustomRange=!1,i.isCustomWindow=!1,i.presetsItem=[],i.liCollections=[],i.previousEleValue="",i.isKeyPopup=!1,i.dateDisabled=!1,i.isRangeIconClicked=!1,i.isMaxDaysClicked=!1,i.disabledDays=[],i.preventBlur=!1,i.preventFocus=!1,i.invalidValueString=null,i}return Object(l.__extends)(e,t),e.prototype.render=function(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue()},e.prototype.preRender=function(){if(this.presetKeyConfig={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",tab:"tab",spacebar:"space"},this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultConstant={placeholder:"",startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),Ts([this.cloneElement],["e-daterangepicker","e-control","e-lib"]),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=ms("ej2-datetimepicker"),null!==this.angularTag&&Ms(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){var e=this.value.split(" "+this.separator+" ");this.value=[new Date(e[0]),new Date(e[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),t.prototype.preRender.call(this),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=Ls(this.element,"form")},e.prototype.updateValue=function(){this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):fs(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())},e.prototype.initProperty=function(){this.globalize=new Hu(this.locale),this.checkFormat(),this.checkView(),(fs(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()},e.prototype.checkFormat=function(){this.formatString=this.format?"string"==typeof this.format?this.format:""===this.format.skeleton||fs(this.format.skeleton)?null:this.globalize.getDatePattern({skeleton:this.format.skeleton,type:"date"}):null},e.prototype.initialize=function(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(),ds(this.keyConfigs,{shiftTab:"shift+tab"});var t=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:t},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new ec("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.setRangeAllowEdit(),this.bindEvents()},e.prototype.setRangeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Ms(this.inputElement,{readonly:""}),this.updateClearIconState()},e.prototype.updateClearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&Ts([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?Ts([this.inputWrapper.container],["e-non-edit"]):Es([this.inputWrapper.container],["e-non-edit"])},e.prototype.validationAttribute=function(t,e){var n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");e.setAttribute("name",n),t.removeAttribute("name");for(var i=["required","aria-required","form"],r=0;r<i.length;r++)if(!fs(t.getAttribute(i[r]))){var o=t.getAttribute(i[r]);e.setAttribute(i[r],o),t.removeAttribute(i[r])}},e.prototype.processPresets=function(){this.presetsItem=[];var t=0;if(!gs(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(var e=0,n=this.presets;e<n.length;e++){var i=n[e],r=i.label.replace(/\s+/g,"")+"_"+ ++t;this.presetsItem.push("string"==typeof i.end?{id:r,text:i.label,end:new Date(this.checkValue(i.end)),start:new Date(this.checkValue(i.start))}:{id:r,text:i.label,start:i.start,end:i.end})}var o=fs(this.startValue)?null:new Date(+this.startValue),l=fs(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:o,end:l}),fs(this.startValue)||fs(this.endValue)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},e.prototype.bindEvents=function(){this.enabled?(Cs.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),Cs.add(this.inputElement,"focus",this.inputFocusHandler,this),Cs.add(this.inputElement,"blur",this.inputBlurHandler,this),Cs.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&Cs.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.inputKeyboardModule=new tc(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&Cs.add(this.formElement,"reset",this.formResetHandler,this),this.inputElement.setAttribute("tabindex",this.tabIndex)):(Cs.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),Cs.remove(this.inputElement,"blur",this.inputBlurHandler),Cs.remove(this.inputElement,"focus",this.inputFocusHandler),Cs.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&Cs.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||fs(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&Cs.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1)},e.prototype.updateHiddenInput=function(){if(this.firstHiddenChild&&this.secondHiddenChild){var t={type:"datetime",skeleton:"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,t)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,t)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,t)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,t)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}},e.prototype.inputChangeHandler=function(t){t.stopPropagation(),this.updateHiddenInput()},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&Cs.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},e.prototype.resetHandler=function(t){this.valueType=this.value,t.preventDefault(),this.clear(),this.changeTrigger(t),this.clearRange(),this.hide(t)},e.prototype.restoreValue=function(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()},e.prototype.formResetHandler=function(t){if(this.formElement&&t.target===this.formElement&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");fs(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(fs(this.value)||fs(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),e="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(od.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}},e.prototype.clear=function(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),od.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),fs(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()},e.prototype.rangeIconHandler=function(t){this.isMobile&&this.inputElement.setAttribute("readonly",""),t.preventDefault(),this.targetElement=null,this.isPopupOpen()?this.applyFunction(t):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,t),this.isMobile||fs(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),Es([this.inputWrapper.container],["e-input-focus"]))},e.prototype.checkHtmlAttributes=function(){this.globalize=new Hu(this.locale);for(var t={format:this.formatString,type:"date",skeleton:"yMd"},e=0,n=["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type"];e<n.length;e++){var i=n[e];if(!fs(this.inputElement.getAttribute(i)))switch(i){case"disabled":var r="disabled"===this.inputElement.getAttribute(i)||""===this.inputElement.getAttribute(i);this.setProperties({enabled:!r},!0);break;case"readonly":var o="readonly"===this.inputElement.getAttribute(i)||""===this.inputElement.getAttribute(i);this.setProperties({readonly:o},!0);break;case"placeholder":(fs(this.placeholder)||""===this.placeholder.trim())&&this.setProperties({placeholder:this.inputElement.getAttribute(i)},!0);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(i));break;case"min":if(fs(this.min)||+this.min==+new Date(1900,0,1)){var l=this.globalize.parseDate(this.inputElement.getAttribute(i),t);this.setProperties(cs(i,l,{}),!0)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(i));break;case"max":(fs(this.max)||+this.max==+new Date(2099,11,31))&&(l=this.globalize.parseDate(this.inputElement.getAttribute(i),t),this.setProperties(cs(i,l,{}),!0));break;case"startDate":fs(this.startDate)&&(l=this.globalize.parseDate(this.inputElement.getAttribute(i),t),this.startValue=l,this.setValue());break;case"endDate":fs(this.endDate)&&(l=this.globalize.parseDate(this.inputElement.getAttribute(i),t),this.endValue=l,this.setValue());break;case"minDays":fs(this.minDays)&&this.setProperties(cs(i,parseInt(this.inputElement.getAttribute(i),10),{}),!0);break;case"maxDays":fs(this.maxDays)&&this.setProperties(cs(i,parseInt(this.inputElement.getAttribute(i),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(i)&&this.inputElement.setAttribute("type","text")}}},e.prototype.createPopup=function(){for(var t=0;t<this.presetsItem.length;t++)t!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[t].id&&this.presetsItem.splice(t,1);for(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0,t=0;t<=this.presetsItem.length-2;t++){var e=this.presetsItem[t].end;this.startValue&&this.endValue&&+this.presetsItem[t].start.setMilliseconds(0)==+this.startValue.setMilliseconds(0)&&+e.setMilliseconds(0)==+this.endValue.setMilliseconds(0)&&(this.activeIndex=t,this.isCustomRange=!1)}this.popupWrapper=Ss("div",{id:this.element.id+"_popup",className:"e-daterangepicker e-popup"});var n=!this.isCustomRange||this.isMobile;!gs(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&n?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},e.prototype.renderControl=function(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),fs(this.endValue)||fs(this.startValue)||this.disabledDateRender(),this.updateHeader()},e.prototype.clearCalendarEvents=function(){Cs.clearEvents(this.leftCalPrevIcon),Cs.clearEvents(this.leftCalNextIcon),Cs.clearEvents(this.rightCalPrevIcon),Cs.clearEvents(this.rightCalNextIcon)},e.prototype.updateNavIcons=function(){if(this.isPopupOpen()&&this.depth===this.currentView()){var t=new Date(this.checkValue(this.leftCalCurrentDate)),e=!1;"Year"===this.currentView()?e=this.compareYears(t,this.rightCalCurrentDate)<1:"Decade"===this.currentView()?e=this.compareDecades(t,this.rightCalCurrentDate)<1:"Month"===this.currentView()&&(e=this.compareMonths(t,this.rightCalCurrentDate)<1),this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.leftCalNextIcon,this.nextIconHandler(e),this.previousIconHandler(e)}},e.prototype.calendarIconEvent=function(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains("e-disabled")&&Cs.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains("e-disabled")&&Cs.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains("e-disabled")&&Cs.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains("e-disabled")&&Cs.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)},e.prototype.bindCalendarEvents=function(){this.isMobile?(this.deviceCalendarEvent(),Cs.add(this.startButton.element,"click",this.deviceHeaderClick,this),Cs.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector(".e-right-calendar .e-header .e-title"),this.headerTitleElement=this.popupObj.element.querySelector(".e-left-calendar .e-header .e-title"),this.leftKeyboardModule=new tc(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs}),this.rightKeyboardModule=new tc(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},e.prototype.calendarIconRipple=function(){uu(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),uu(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),uu(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),uu(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},e.prototype.deviceCalendarEvent=function(){Cs.clearEvents(this.nextIcon),Cs.clearEvents(this.previousIcon),uu(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),uu(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains("e-disabled")&&Cs.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains("e-disabled")&&Cs.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)},e.prototype.deviceNavNext=function(t){var e=Ls(t.target,"."+Dd);this.updateDeviceCalendar(e),this.navigateNext(t),this.deviceNavigation()},e.prototype.deviceNavPrevious=function(t){var e=Ls(t.target,"."+Dd);this.updateDeviceCalendar(e),this.navigatePrevious(t),this.deviceNavigation()},e.prototype.updateDeviceCalendar=function(t){t&&(this.previousIcon=t.querySelector(".e-prev"),this.nextIcon=t.querySelector(".e-next"),this.calendarElement=t,this.deviceCalendar=t,this.contentElement=t.querySelector(".e-content"),this.tableBodyElement=Ns(".e-content tbody",t),this.table=t.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=t.querySelector(".e-header .e-title"),this.headerElement=t.querySelector(".e-header"))},e.prototype.deviceHeaderClick=function(t){if(t.currentTarget.classList.contains("e-start-btn")&&!fs(this.startValue)){this.endButton.element.classList.remove("e-active"),this.startButton.element.classList.add("e-active");var e=this.popupObj.element.querySelector("."+Dd);this.updateDeviceCalendar(e),fs(this.calendarElement.querySelector(".e-start-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),Ps(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else fs(this.startValue)||fs(this.endValue)||(this.startButton.element.classList.remove("e-active"),this.endButton.element.classList.add("e-active"),e=this.popupObj.element.querySelector("."+Dd),this.updateDeviceCalendar(e),fs(this.calendarElement.querySelector(".e-end-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),Ps(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+Dd)),this.selectableDates())},e.prototype.inputFocusHandler=function(){this.preventBlur=!1;var t={model:this};this.preventFocus||(this.preventFocus=!0,this.trigger("focus",t)),this.updateClearIconState(),this.updateHiddenInput()},e.prototype.inputBlurHandler=function(t){if(!this.preventBlur){var e=this.inputElement.value;if(fs(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!fs(e)&&""!==e.trim()){var n=e.split(" "+this.separator+" ");if(n.length>1){this.invalidValueString=null;var i={format:this.formatString,type:"date",skeleton:"yMd"},r=this.globalize.parseDate(n[0].trim(),i),o=this.globalize.parseDate(n[1].trim(),i);if(!(fs(r)||isNaN(+r)||fs(o)||isNaN(+o)))return this.startValue=r,this.endValue=o,this.setValue(),this.refreshControl(),e!==this.previousEleValue&&this.changeTrigger(t),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this})),void this.updateHiddenInput();this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}this.strictMode?(fs(e)||""!==e.trim()||(this.startValue=null,this.endValue=null),od.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(this.clearRange(),this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(t),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this}))}this.updateHiddenInput()},e.prototype.clearRange=function(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null},e.prototype.errorClass=function(){var t=this.inputElement.value.trim();(fs(this.endValue)&&fs(this.startValue)&&""!==t||!fs(this.startValue)&&+this.startValue<+this.min||!fs(this.startValue)&&!fs(this.endValue)&&+this.startValue>+this.endValue||!fs(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==t?(Es([this.inputWrapper.container],"e-error"),Ms(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(Ts([this.inputWrapper.container],"e-error"),Ms(this.inputElement,{"aria-invalid":"false"}))},e.prototype.keyCalendarUpdate=function(t,e){return this.removeFocusedDate(),t?(this.leftCalCurrentDate=new Date(+this.currentDate),e=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),e=this.rightCalendar),this.updateCalendarElement(e),this.table.focus(),e},e.prototype.navInCalendar=function(t,e,n,i,r){var o,l,a=this.getViewNumber(this.currentView()),s=this.min;switch(l=fs(this.maxDays)||!this.isMaxDaysClicked||fs(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),t.action){case"moveRight":o=new Date(+this.currentDate),this.addDay(o,1,t,l,s),e&&+o==+i&&(r=this.keyCalendarUpdate(!1,r)),this.KeyboardNavigate(1,a,t,l,s),this.keyNavigation(r,t);break;case"moveLeft":o=new Date(+this.currentDate),this.addDay(o,-1,t,l,s),e||+o==+n&&(r=this.keyCalendarUpdate(!0,r)),this.KeyboardNavigate(-1,a,t,l,s),this.keyNavigation(r,t);break;case"moveUp":0===a?(o=new Date(+this.currentDate),this.addDay(o,-7,t,l,s),+o<=+n&&!e&&(r=this.keyCalendarUpdate(!0,r)),this.KeyboardNavigate(-7,a,t,l,s)):this.KeyboardNavigate(-4,a,t,this.max,this.min),this.keyNavigation(r,t);break;case"moveDown":0===a?(o=new Date(+this.currentDate),this.addDay(o,7,t,l,s),e&&+o>=+i&&(r=this.keyCalendarUpdate(!1,r)),this.KeyboardNavigate(7,a,t,l,s)):this.KeyboardNavigate(4,a,t,this.max,this.min),this.keyNavigation(r,t);break;case"home":this.currentDate=this.firstDay(this.currentDate),Ps(this.tableBodyElement),0===a?this.renderMonths(t):1===a?this.renderYears(t):this.renderDecades(t),this.keyNavigation(r,t);break;case"end":this.currentDate=this.lastDay(this.currentDate,a),Ps(this.tableBodyElement),0===a?this.renderMonths(t):1===a?this.renderYears(t):this.renderDecades(t),this.keyNavigation(r,t)}},e.prototype.keyInputHandler=function(e,n){var i,r=this.getViewNumber(this.currentView()),o=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),l=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),a=Ls(e.target,"."+Ed),s=(a=fs(a)?this.leftCalendar:a).classList.contains(Sd);this.updateCalendarElement(a);var u=this.tableBodyElement.querySelector("tr td.e-selected"),c=a.querySelector("tr td."+Od),h=a.querySelector("tr td."+Td),d=a.querySelector("tr td."+kd),p=this.getViewNumber(this.depth),f=r===p&&this.getViewNumber(this.start)>=p,g=Ls(e.target,"."+Sd),m=Ls(e.target,"."+Ed),v=Ls(e.target,".e-presets");switch(fs(c)?fs(d)||this.dateDisabled?fs(h)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),Es([this.inputWrapper.container],["e-input-focus"]));break;case"select":if(f){var y=fs(c)?h:c;fs(y)||y.classList.contains("e-disabled")||this.selectRange(null,y)}else(fs(u)||f)&&fs(c)||(fs(this.value)||(n=this.calendarElement.classList.contains(Sd)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--r,c||u,n));e.preventDefault();break;case"controlHome":var b=new Date(this.currentDate.getFullYear(),0,1);!s&&+b<+l&&(a=this.keyCalendarUpdate(!0,a)),t.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(a,e);break;case"altRightArrow":fs(g)?fs(m)?fs(v)||this.cancelButton.element.focus():fs(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":fs(g)?fs(m)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(Sd),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":fs(u)&&fs(c)||f||(fs(this.value)||(n=this.calendarElement.classList.contains(Sd)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--r,u||c,n)),e.preventDefault();break;case"controlEnd":b=new Date(this.currentDate.getFullYear(),11,31),s&&+b>+o&&(a=this.keyCalendarUpdate(!1,a)),t.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(a,e);break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!s&&+i<=+l&&(a=this.keyCalendarUpdate(!0,a)),this.addMonths(this.currentDate,-1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),s&&+i>=+o&&(a=this.keyCalendarUpdate(!1,a)),this.addMonths(this.currentDate,1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!s&&+i<=+l&&(a=this.keyCalendarUpdate(!0,a)),this.addYears(this.currentDate,-1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),s&&+i>=+o&&(a=this.keyCalendarUpdate(!1,a)),this.addYears(this.currentDate,1),t.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftTab":fs(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),e.preventDefault();break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;default:this.navInCalendar(e,s,l,o,a),this.checkMinMaxDays()}this.presetHeight()},e.prototype.keyNavigation=function(t,e){this.bindCalendarCellEvents(t),t.classList.contains(Sd)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([t]),this.dateDisabled=this.isDateDisabled(this.currentDate),e.preventDefault()},e.prototype.inputHandler=function(t){switch(t.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(t),this.clearRange()),this.show(null,t),this.isRangeIconClicked=!1,this.isMobile||fs(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(t);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(t),this.hide(t));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(t),t.preventDefault())}},e.prototype.bindCalendarCellEvents=function(t){for(var e=0,n=t?t.querySelectorAll(".e-calendar td"):this.popupObj.element.querySelectorAll(".e-calendar td");e<n.length;e++){var i=n[e];Cs.clearEvents(i),i.classList.contains("e-disabled")||i.classList.contains(Rd)||i.classList.contains("e-week-number")||(this.isMobile||Cs.add(i,"mouseover",this.hoverSelection,this),Cs.add(i,"mousedown",this.selectRange,this))}},e.prototype.removeFocusedDate=function(){for(var t=!fs(this.startValue)||!fs(this.endValue),e=0,n=this.popupObj.element.querySelectorAll(".e-calendar ."+Od);e<n.length;e++){var i=n[e],r=new Date,o=this.getIdValue(null,i);("Month"===this.depth&&"Month"===this.currentView()&&(!i.classList.contains("e-today")||i.classList.contains("e-today")&&t)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(r,o)&&!this.isSameYear(r,o)||t)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(r,o)||t))&&(i.classList.remove(Od),i.classList.contains(Td)||i.classList.contains(kd)||i.removeAttribute("aria-label"))}},e.prototype.hoverSelection=function(t,e){var n=this.getIdValue(null,e||t.currentTarget);if(!fs(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&fs(this.endValue)&&fs(this.startValue)||!fs(this.startValue)&&fs(this.endValue)))for(var i=0,r=this.popupObj.element.querySelectorAll(".e-calendar td");i<r.length;i++){var o=r[i],l=!o.classList.contains("e-disabled")||o.classList.contains(Rd);if(!o.classList.contains("e-week-number")&&l){var a=this.getIdValue(null,o),s=new Date(+this.startValue);new Date(+a).setHours(0,0,0,0)>=s.setHours(0,0,0,0)&&+a<=+n?Es([o],Ad):Ts([o],[Ad])}}},e.prototype.isSameStartEnd=function(t,e){var n=!1;return"Month"===this.depth?t.setHours(0,0,0,0)===e.setHours(0,0,0,0)&&(n=!0):"Year"===this.depth?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&(n=!0):"Decade"===this.depth&&t.getFullYear()===e.getFullYear()&&(n=!0),n},e.prototype.updateRange=function(t){if(!fs(this.startValue))for(var e=0,n=t;e<n.length;e++)for(var i=0,r=n[e].querySelectorAll(".e-calendar td");i<r.length;i++){var o=r[i];if(!o.classList.contains("e-week-number")&&!o.classList.contains("e-disabled")){var l=this.getIdValue(null,o),a=this.getIdValue(null,o);if(fs(this.endValue)?Ts([o],[Ad]):this.currentView()===this.depth&&+a.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+a.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&Es([o],Ad),!o.classList.contains("e-other-month")){var s=new Date(+this.startValue),u=new Date(+l);this.currentView()===this.depth&&+u.setHours(0,0,0,0)==+s.setHours(0,0,0,0)&&+u.setHours(0,0,0,0)>=+s.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(Es([o],[Td,"e-selected"]),this.addSelectedAttributes(o,this.startValue,!0));var c=new Date(+this.endValue);"Year"===this.currentView()?u=new Date(u.getFullYear(),u.getMonth()+1,0):"Decade"===this.currentView()&&(u=new Date(u.getFullYear(),11,31)),this.currentView()===this.depth&&!fs(this.endValue)&&+u.setHours(0,0,0,0)==+c.setHours(0,0,0,0)&&+u.setHours(0,0,0,0)<=+c.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(Es([o],[kd,"e-selected"]),this.addSelectedAttributes(o,this.startValue,!1)),+l!=+this.startValue||fs(this.endValue)||+l!=+this.endValue||this.addSelectedAttributes(o,this.endValue,!1,!0)}}}},e.prototype.checkMinMaxDays=function(){(!fs(this.minDays)&&this.minDays>0||!fs(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+Dd)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+Sd)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+Ed))))},e.prototype.rangeArgs=function(t){var e,n,i=fs(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),r=fs(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"});return fs(this.endValue)||fs(this.startValue)?(e="",n=0):(e=i+" "+this.separator+" "+r,n=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:n,event:t||null,element:this.element,isInteracted:!fs(t),text:e}},e.prototype.otherMonthSelect=function(t,e,n){var i=+this.getIdValue(null,t),r='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+i),o=this.popupObj&&this.popupObj.element.querySelector(r);fs(o)||(e?(Es([o],[Td,"e-selected"]),this.addSelectedAttributes(o,this.startValue,!0)):(Es([o],[kd,"e-selected"]),this.addSelectedAttributes(o,this.endValue,!0)),n&&this.addSelectedAttributes(t,this.endValue,!1,!0))},e.prototype.selectRange=function(t,e){var n,i,r;t&&t.preventDefault();var o=(r=fs(t)?this.getIdValue(null,e):this.getIdValue(t,null)).getFullYear(),l=r.getMonth(),a=new Date(o,l,1),s=new Date(o,l+1,0),u=new Date(o,0,1),c=new Date(o,11,31);fs(this.endValue)||fs(this.startValue)?this.isMobile&&this.startButton.element.classList.contains("e-active")&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains("e-active"))&&this.removeSelection();var h=e||t.currentTarget;if(fs(this.startValue))fs(this.previousStartValue)||(r.setHours(this.previousStartValue.getHours()),r.setMinutes(this.previousStartValue.getMinutes()),r.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?a:u,this.endValue=null,this.setValue(),Es([h],Td),this.addSelectedAttributes(h,this.startValue,!0),h.classList.contains("e-other-month")&&this.otherMonthSelect(h,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add("e-active"),this.startButton.element.classList.remove("e-active"),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(t));else if(+r==+this.startValue||+r>+this.startValue){if(+r==+this.startValue&&!fs(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||e)&&this.hoverSelection(t,e),fs(this.previousEndValue)||(r.setHours(this.previousEndValue.getHours()),r.setMinutes(this.previousEndValue.getMinutes()),r.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?s:c,this.setValue();var d=this.popupObj.element.querySelectorAll("."+kd);if(this.isMobile){this.startButton.element.classList.remove("e-active"),this.endButton.element.classList.add("e-active");for(var p=0,f=d;p<f.length;p++){var g=f[p];g.removeAttribute("aria-label"),g.classList.contains(Td)?(this.addSelectedAttributes(g,this.startValue,!0),Ts([g],[kd])):(g.setAttribute("aria-selected","false"),Ts([g],[kd,"e-selected"]))}}Es([h],kd),+this.endValue==+this.startValue?this.addSelectedAttributes(h,this.endValue,!1,!0):this.addSelectedAttributes(h,this.endValue,!1),h.classList.contains("e-other-month")&&(+this.endValue==+this.startValue?this.otherMonthSelect(h,!1,!0):this.otherMonthSelect(h,!1));for(var m=0,v=d=this.popupObj.element.querySelectorAll("."+kd);m<v.length;m++){var y=v[m];y.classList.contains(Td)&&Ts([y],[Ad])}this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(t))}else+r<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?a:u,this.setValue(),this.removeSelectedAttributes(),Ts(this.popupObj.element.querySelectorAll("."+Td),[Td,"e-selected"]),Es([h],Td),this.addSelectedAttributes(h,this.startValue,!0),h.classList.contains("e-other-month")&&this.otherMonthSelect(h,!0),this.checkMinMaxDays());t&&(n=Ls(t.target,"."+Sd)),fs(n)?(t&&(i=t&&Ls(t.target,"."+Ed)),fs(i)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),Es([h],"e-selected"),this.updateHeader(),this.removeFocusedDate()},e.prototype.selectableDates=function(){if(!fs(this.startValue)){var t=this.calendarElement.querySelectorAll(".e-calendar td"),e=!1;if(this.currentView()===this.depth){for(var n=0,i=t;n<i.length;n++){if(!(l=i[n]).classList.contains(Td)&&!l.classList.contains("e-week-number")&&!l.classList.contains("e-disabled")){if(+this.getIdValue(null,l)<+this.startValue){Es([l],[Rd,"e-disabled","e-overlay"]),Cs.clearEvents(l);continue}break}if(l.classList.contains(Td)&&!l.classList.contains("e-other-month")){e=!0;break}}e&&(this.previousIcon.classList.contains("e-disabled")||Es([this.previousIcon],[Pd,"e-disabled","e-overlay"]))}else{for(var r=0,o=t;r<o.length;r++){var l=o[r],a=this.startValue.getMonth(),s=this.startValue.getFullYear(),u=this.getIdValue(null,l);if(this.startButton.element.classList.contains("e-active")||!("Year"===this.currentView()&&u.getMonth()<a&&u.getFullYear()<=s||"Decade"===this.currentView()&&u.getMonth()<=a&&u.getFullYear()<s))break;Es([l],["e-disabled"])}t[0].classList.contains("e-disabled")?this.previousIconHandler(!0):t[t.length-1].classList.contains("e-disabled")&&this.nextIconHandler(!0)}}},e.prototype.updateMinMaxDays=function(t){if(!fs(this.startValue)&&fs(this.endValue)||this.isMobile&&this.endButton.element.classList.contains("e-active")){if(!fs(this.minDays)&&this.minDays>0||!fs(this.maxDays)&&this.maxDays>0){var e=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.minDays-1))),n=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1)));e=!fs(this.minDays)&&this.minDays>0?e:null,n=!fs(this.maxDays)&&this.maxDays>0?n:null,"Year"===this.currentView()?(e=fs(e)?null:new Date(e.getFullYear(),e.getMonth(),0),n=fs(n)?null:new Date(n.getFullYear(),n.getMonth(),1)):"Decade"===this.currentView()&&(e=fs(e)?null:new Date(e.getFullYear()-1,11,1),n=fs(n)?null:new Date(n.getFullYear(),0,1));for(var i=void 0,r=0,o=t.querySelectorAll(".e-calendar td");r<o.length;r++){var l=o[r];if(!l.classList.contains(Td)&&!l.classList.contains("e-week-number")){var a=this.getIdValue(null,l);if(!fs(e)&&+a==+e&&l.classList.contains("e-disabled")&&e.setDate(e.getDate()+1),!l.classList.contains("e-disabled")){if(+a<=+this.startValue)continue;!fs(e)&&+a<+e&&(Es([l],[Rd,"e-disabled","e-overlay"]),Cs.clearEvents(l)),!fs(n)&&+a>+n&&(Es([l],[Rd,"e-disabled","e-overlay"]),this.isMaxDaysClicked=!0,Cs.clearEvents(l),fs(i)&&!l.classList.contains("e-other-month")&&(i=l))}}}if(!fs(i))if(this.isMobile)this.nextIcon.classList.contains("e-disabled")||Es([this.nextIcon],[Pd,"e-disabled","e-overlay"]);else{var s=Ls(i,"."+Ed);(s=fs(s)?this.leftCalendar:s).classList.contains(Sd)?(this.rightCalNextIcon.classList.contains("e-disabled")||Es([this.rightCalNextIcon],[Pd,"e-disabled","e-overlay"]),this.leftCalNextIcon.classList.contains("e-disabled")||Es([this.leftCalNextIcon],[Pd,"e-disabled","e-overlay"]),this.rightCalPrevIcon.classList.contains("e-disabled")||Es([this.rightCalPrevIcon],[Pd,"e-disabled","e-overlay"])):this.rightCalNextIcon.classList.contains("e-disabled")||Es([this.rightCalNextIcon],[Pd,"e-disabled","e-overlay"])}}}else this.isMaxDaysClicked=!1},e.prototype.removeClassDisabled=function(){for(var t=0,e=this.popupObj.element.querySelectorAll(".e-calendar td."+Rd);t<e.length;t++){var n=e[t];n.classList.contains(Rd)&&(Ts([n],[Rd,"e-disabled","e-overlay"]),Cs.add(n,"click",this.selectRange,this),this.isMobile||Cs.add(n,"mouseover",this.hoverSelection,this))}this.isMobile?(this.nextIcon.classList.contains(Pd)&&Ts([this.nextIcon],[Pd,"e-disabled","e-overlay"]),this.previousIcon.classList.contains(Pd)&&Ts([this.previousIcon],[Pd,"e-disabled","e-overlay"])):(this.rightCalNextIcon.classList.contains(Pd)&&Ts([this.rightCalNextIcon],[Pd,"e-disabled","e-overlay"]),this.rightCalPrevIcon.classList.contains(Pd)&&Ts([this.rightCalPrevIcon],[Pd,"e-disabled","e-overlay"]),this.leftCalNextIcon.classList.contains(Pd)&&Ts([this.leftCalNextIcon],[Pd,"e-disabled","e-overlay"]))},e.prototype.updateHeader=function(){var t={type:"date",skeleton:"yMMMd"};if(fs(this.endValue)||fs(this.startValue))this.popupObj.element.querySelector("."+Id).textContent=this.l10n.getConstant("selectedDays");else{var e=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;fs(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+Id).textContent=e.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(this.startButton.element.textContent=fs(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,t),this.endButton.element.textContent=fs(this.endValue)||fs(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,t)):(fs(this.endValue)||fs(this.startValue)?this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector(".e-end-label").textContent=this.globalize.formatDate(this.endValue,t),fs(this.startValue)?this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector(".e-start-label").textContent=this.globalize.formatDate(this.startValue,t)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!fs(this.startValue)&&+this.startValue<+this.min||!fs(this.endValue)&&+this.endValue>+this.max||!fs(this.startValue)&&!fs(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+Id).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+Id).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")},e.prototype.removeSelection=function(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll(".e-selected").length>0&&Ts(this.popupObj.element.querySelectorAll(".e-selected"),[Td,kd,"e-selected"]),this.popupObj.element.querySelectorAll("."+Od).length>0&&Ts(this.popupObj.element.querySelectorAll("."+Od),Od),this.popupObj.element.querySelectorAll("."+Ad).length>0&&Ts(this.popupObj.element.querySelectorAll("."+Ad),[Ad]))},e.prototype.addSelectedAttributes=function(t,e,n,i){if(t){var r=this.globalize.formatDate(e,{type:"date",skeleton:"full"});!fs(i)&&i?t.setAttribute("aria-label","The current start and end date is "+r):t.setAttribute("aria-label","The current "+(n?"start":"end")+" date is "+r),t.setAttribute("aria-selected","true")}},e.prototype.removeSelectedAttributes=function(){if(this.popupObj){for(var t=0,e=this.popupObj.element.querySelectorAll("."+Td);t<e.length;t++)(r=e[t]).setAttribute("aria-selected","false"),r.removeAttribute("aria-label");for(var n=0,i=this.popupObj.element.querySelectorAll("."+kd);n<i.length;n++){var r;(r=i[n]).setAttribute("aria-selected","false"),r.removeAttribute("aria-label")}}},e.prototype.updateCalendarElement=function(t){t.classList.contains(Sd)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=t.querySelector(".e-content"),this.tableBodyElement=Ns(".e-content tbody",t),this.table=t.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=t.querySelector(".e-header .e-title"),this.headerElement=t.querySelector(".e-header")},e.prototype.navPrevMonth=function(t){t.preventDefault();var e=Ls(t.target,"."+Sd);e=fs(e)?Ls(t.target,"."+Ed):e,this.updateCalendarElement(e),this.navigatePrevious(t),!fs(this.startValue)&&fs(this.endValue)&&this.updateMinMaxDays(e),this.updateControl(e)},e.prototype.deviceNavigation=function(t){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+Dd)]),this.endButton.element.classList.contains("e-active")&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+Dd)),this.endButton.element.classList.contains("e-active")&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},e.prototype.updateControl=function(t){t.classList.contains(Ed)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([t])},e.prototype.navNextMonth=function(t){t.preventDefault();var e=Ls(t.target,"."+Sd);e=fs(e)?Ls(t.target,"."+Ed):e,this.updateCalendarElement(e),this.navigateNext(t),!fs(this.startValue)&&fs(this.endValue)&&this.updateMinMaxDays(e),this.updateControl(e)},e.prototype.compareMonths=function(t,e){return t.getFullYear()!==e.getFullYear()||"Year"!==this.currentView()&&"Decade"!==this.currentView()?t.getFullYear()>e.getFullYear()?-1:t.getFullYear()<e.getFullYear()?t.getFullYear()+1===e.getFullYear()&&11===t.getMonth()&&0===e.getMonth()?-1:1:t.getMonth()===e.getMonth()?0:t.getMonth()+1===e.getMonth()?-1:1:-1},e.prototype.compareYears=function(t,e){return t.getFullYear()===e.getFullYear()?-1:t.getFullYear()>e.getFullYear()?-1:t.getFullYear()+1===e.getFullYear()?-1:1},e.prototype.compareDecades=function(t,e){var n;if(t.getFullYear()===e.getFullYear())n=-1;else if(t.getFullYear()>e.getFullYear())n=-1;else{var i=t.getFullYear(),r=e.getFullYear();n=i-i%10+10==r-r%10?-1:1}return n},e.prototype.isPopupOpen=function(){return!(fs(this.popupObj)||!this.popupObj.element.classList.contains("e-popup"))},e.prototype.createRangeHeader=function(){var t=this.createElement("div",{className:"e-start-end"});if(this.isMobile){var e=this.createElement("button",{className:"e-end-btn"}),n=this.createElement("button",{className:"e-start-btn"});this.startButton=new xh({content:this.l10n.getConstant("startLabel")},n),this.endButton=new xh({content:this.l10n.getConstant("endLabel")},e),t.appendChild(n),t.appendChild(e)}else{var i=this.createElement("a",{className:"e-start-label"}),r=this.createElement("a",{className:"e-end-label"}),o=this.createElement("span",{className:"e-change-icon e-icons"});Ms(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),Ms(r,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),t.appendChild(i),t.appendChild(o),t.appendChild(r),i.textContent=this.l10n.getConstant("startLabel"),r.textContent=this.l10n.getConstant("endLabel")}return t},e.prototype.disableInput=function(){this.strictMode?fs(this.previousStartValue)||fs(this.previousEndValue)||(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),od.setEnabled(this.enabled,this.inputElement),this.bindEvents()},e.prototype.validateMinMax=function(){this.min=fs(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=fs(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(fs(this.minDays)||fs(this.maxDays)||this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!fs(this.minDays)&&this.minDays<0&&(this.minDays=null),!fs(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()},e.prototype.validateRangeStrict=function(){fs(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),fs(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()},e.prototype.validateRange=function(){this.validateMinMaxDays()},e.prototype.validateMinMaxDays=function(){if(!fs(this.startValue)&&!fs(this.endValue)){var t=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;if(!fs(this.minDays)&&this.minDays>0&&!(t>=this.minDays))if(this.strictMode){var e=new Date(+this.startValue);e.setDate(e.getDate()+(this.minDays-1)),+e>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=e,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();fs(this.maxDays)||!(this.maxDays>0)||t<=this.maxDays||(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}},e.prototype.renderCalendar=function(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(Dd),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),Ms(this.calendarElement,{role:"calendar"}),t.prototype.createHeader.call(this),t.prototype.createContent.call(this)},e.prototype.isSameMonth=function(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},e.prototype.isSameYear=function(t,e){return t.getFullYear()===e.getFullYear()},e.prototype.isSameDecade=function(t,e){var n=t.getFullYear(),i=e.getFullYear();return n-n%10==i-i%10},e.prototype.startMonthCurrentDate=function(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},e.prototype.selectNextMonth=function(){if(fs(this.endValue)||fs(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!fs(this.startValue)&&+this.startValue<+this.min||!fs(this.endValue)&&+this.endValue>+this.max||!fs(this.startValue)&&!fs(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);var t=this.currentDate.getMonth()+1;this.currentDate.setMonth(t)}},e.prototype.selectNextYear=function(){if(fs(this.endValue)||fs(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);var t=this.currentDate.getFullYear()+1;this.currentDate.setFullYear(t)}else this.currentDate=new Date(+this.endValue),(!fs(this.endValue)&&+this.endValue>+this.max||!fs(this.startValue)&&!fs(this.endValue)&&+this.startValue>+this.endValue||!fs(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))},e.prototype.selectNextDecade=function(){if(fs(this.endValue)||fs(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){var t=this.currentDate.getFullYear()+10;this.currentDate.setFullYear(t)}else this.currentDate=new Date(+this.endValue),(!fs(this.startValue)&&!fs(this.endValue)&&+this.startValue>+this.endValue||!fs(this.endValue)&&+this.endValue>+this.max||!fs(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))},e.prototype.selectStartMonth=function(){fs(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!fs(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?new Date(+this.startValue):new Date((new Date).setHours(0,0,0,0)),(!fs(this.endValue)&&+this.endValue>+this.max||!fs(this.startValue)&&+this.startValue<+this.min||!fs(this.startValue)&&!fs(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()},e.prototype.createCalendar=function(){var e=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){fs(this.startValue)||(this.currentDate=new Date(+this.startValue)),t.prototype.validateDate.call(this),t.prototype.minMaxUpdate.call(this),t.prototype.render.call(this);var n=this.calendarElement.querySelector(".e-calendar .e-prev"),i=this.calendarElement.querySelector(".e-calendar .e-next");Ps(this.calendarElement.querySelector(".e-calendar .e-icon-container")),this.calendarElement.querySelector(".e-calendar .e-header").appendChild(i),this.calendarElement.querySelector(".e-calendar .e-header").appendChild(n),Ds([n],this.calendarElement.querySelector(".e-calendar .e-header")),this.deviceCalendar=this.calendarElement,e.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector(".e-calendar .e-header .e-title")}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(Sd),this.leftCalPrevIcon=this.calendarElement.querySelector(".e-left-calendar .e-prev"),this.leftCalNextIcon=this.calendarElement.querySelector(".e-left-calendar .e-next"),this.leftTitle=this.calendarElement.querySelector(".e-left-calendar .e-title"),Ps(this.calendarElement.querySelector(".e-left-calendar .e-icon-container")),this.calendarElement.querySelector(".e-left-calendar .e-header").appendChild(this.leftCalNextIcon),this.calendarElement.querySelector(".e-left-calendar .e-header").appendChild(this.leftCalPrevIcon),Ds([this.leftCalPrevIcon],this.calendarElement.querySelector(".e-left-calendar .e-header")),this.leftCalendar=this.calendarElement;var r=this.createElement("div",{className:"e-left-container"}),o=this.createElement("div",{className:"e-right-container"});r.appendChild(this.leftCalendar),e.appendChild(r),this.isMobile||Cs.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),Es([this.calendarElement],Ed),this.rightCalendar=this.calendarElement,Ts([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),Ts([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector(".e-right-calendar .e-prev"),this.rightCalNextIcon=this.calendarElement.querySelector(".e-right-calendar .e-next"),this.rightTitle=this.calendarElement.querySelector(".e-right-calendar .e-title"),Ps(this.calendarElement.querySelector(".e-right-calendar .e-icon-container")),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector(".e-right-calendar .e-header").appendChild(this.rightCalNextIcon),this.calendarElement.querySelector(".e-right-calendar .e-header").appendChild(this.rightCalPrevIcon),Ds([this.rightCalPrevIcon],this.calendarElement.querySelector(".e-right-calendar .e-header")),o.appendChild(this.rightCalendar),e.appendChild(o),this.isMobile||Cs.add(this.rightTitle,"click",this.rightNavTitle,this)}return e},e.prototype.leftNavTitle=function(t){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(t,this.calendarElement))},e.prototype.calendarNavigation=function(e,n){this.table=n.querySelector("table"),this.headerTitleElement=n.querySelector(".e-title"),this.tableBodyElement=n.querySelector("tbody"),this.tableHeadElement=n.querySelector("thead"),this.contentElement=n.querySelector(".e-content"),this.updateCalendarElement(n),t.prototype.navigateTitle.call(this,e),this.updateNavIcons()},e.prototype.rightNavTitle=function(t){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(t,this.calendarElement))},e.prototype.clickEventEmitter=function(t){this.isMobile||(Ls(t.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))},e.prototype.currentView=function(){return t.prototype.currentView.call(this)},e.prototype.getCalendarView=function(t){return"Year"===t?"Year":"Decade"===t?"Decade":"Month"},e.prototype.navigatedEvent=function(e){if(this.trigger("navigated",this.navigatedArgs),!fs(this.popupObj)){var n=this.getCalendarView(this.currentView());if(this.isMobile)n===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates();else if(this.isMobile||n!==this.depth)this.updateNavIcons(),this.calendarIconEvent();else{if((this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar)!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&fs(this.controlDown)){if(e&&!e.currentTarget.children[0].classList.contains("e-icons")||!fs(this.controlDown)){if(this.rightCalCurrentDate=new Date(+this.currentDate),"Year"===n){var i=this.currentDate.getFullYear()-1;this.leftCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(i))}else if("Decade"===n){var r=this.currentDate.getFullYear()-10;this.leftCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(r))}else this.leftCalCurrentDate=new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth()-1));this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&fs(this.endValue)?"Month"===n&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()?t.prototype.navigateTo.call(this,n,new Date(+this.startValue)):"Year"===n&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear()?t.prototype.navigateTo.call(this,n,new Date(+this.startValue)):t.prototype.navigateTo.call(this,n,this.leftCalCurrentDate):t.prototype.navigateTo.call(this,n,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null}}else{if(this.leftCalCurrentDate=new Date(+this.currentDate),"Year"===n){var o=this.currentDate.getFullYear()+1;this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(o))}else if("Decade"===n){var l=this.currentDate.getFullYear()+10;this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setFullYear(l))}else this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setMonth(this.currentDate.getMonth()+1));this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),t.prototype.navigateTo.call(this,n,this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null}this.checkMinMaxDays()}}},e.prototype.createControl=function(){var t=this.createElement("div",{className:"e-date-range-container"}),e=this.createElement("div",{className:"e-range-header"}),n=this.createRangeHeader();e.appendChild(n);var i=this.createElement("div",{className:Id});Ms(i,{"aria-label":"Selected Days"}),i.textContent=this.l10n.getConstant("selectedDays"),e.appendChild(i);var r=this.createElement("div",{className:"e-separator"}),o=this.createCalendar();t.appendChild(e),t.appendChild(r),t.appendChild(o);var l=this.createElement("div",{className:"e-footer"}),a=this.createElement("button",{className:"e-cancel e-flat e-css"}),s=this.createElement("button");Es([s],["e-apply","e-flat","e-primary","e-css"]),l.appendChild(s),l.appendChild(a);var u=!fs(this.startValue)&&!fs(this.endValue);this.cancelButton=new xh({content:this.l10n.getConstant("cancelText")},a),this.applyButton=new xh({content:this.l10n.getConstant("applyText"),disabled:!u},s),Cs.add(s,"click",this.applyFunction,this),Cs.add(a,"click",this.cancelFunction,this),this.popupWrapper.appendChild(t),this.isMobile||gs(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),Es([t],"e-range-border"),Es([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector(".e-presets").style.height=this.popupWrapper.querySelector(".e-date-range-container").getBoundingClientRect().height+"px"),this.popupWrapper.appendChild(l),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()},e.prototype.cancelFunction=function(t){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),Es([this.inputWrapper.container],["e-input-focus"])),t.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(t)},e.prototype.deviceHeaderUpdate=function(){fs(this.startValue)&&fs(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add("e-active")):fs(this.startValue)||this.startButton.element.classList.add("e-active")},e.prototype.applyFunction=function(t){var e=!1;t.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),Es([this.inputWrapper.container],["e-input-focus"])),"touchstart"!==t.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&t.preventDefault(),fs(this.startValue)||fs(this.endValue)?this.hide(t||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,od.setValue(this.rangeArgs(t).text,this.inputElement,this.floatLabelType,this.showClearButton),+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(e=!0),this.changeTrigger(t),this.hide(t||null),this.errorClass()),Ls(t.target,".e-input-group")||e||this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.popupKeyboardModule=new tc(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})))},e.prototype.onMouseClick=function(t,e){if("touchstart"!==t.type){var n=Ls(e||t.target,"."+Md),i=n&&n.classList.contains("e-active");n&&n.classList.contains(Md)&&this.setListSelection(n,t),this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,n&&n.classList.contains(Md)&&"custom_range"===n.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():i||"keydown"!==t.type||this.inputElement.focus())}},e.prototype.onMouseOver=function(t){var e=Ls(t.target,"."+Md);e&&e.classList.contains(Md)&&!e.classList.contains(Nd)&&Es([e],Nd)},e.prototype.onMouseLeave=function(t){var e=Ls(t.target,"."+Nd);fs(e)||Ts([e],Nd)},e.prototype.setListSelection=function(t,e){if(t&&(!t.classList.contains("e-active")||this.isMobile&&t.classList.contains("e-active"))){if(this.isMobile&&t.classList.contains("e-active"))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(t),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(t),Es([t],"e-active"),t.setAttribute("aria-selected","true");var n=this.presetsItem[this.activeIndex];"custom_range"===n.id?this.renderCustomPopup():this.applyPresetRange(n)}},e.prototype.removeListSelection=function(){var t=this.presetElement.querySelector(".e-active");fs(t)||(Ts([t],"e-active"),t.removeAttribute("aria-selected"))},e.prototype.setValue=function(){this.modelValue=[this.startValue,this.endValue]},e.prototype.applyPresetRange=function(t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=t.start,this.endValue=t.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(null)),this.changeTrigger(),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},e.prototype.showPopup=function(t,e){this.presetHeight(),this.popupObj.show(null,1e3===this.zIndex?this.element:null),this.isMobile&&this.popupObj.refreshPosition()},e.prototype.renderCustomPopup=function(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-daterangepicker e-popup"}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()},e.prototype.listRippleEffect=function(){for(var t=0,e=this.liCollections;t<e.length;t++)uu(e[t])},e.prototype.createPresets=function(){if(!gs(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:"e-presets",attrs:{tabindex:"0"}});var t=sd.createList(this.createElement,this.presetsItem,null,!0);Ms(t,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(t),this.popupWrapper.appendChild(this.presetElement);var e=this.presetElement.querySelector("#custom_range");fs(e)||(e.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+Md),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!fs(this.activeIndex)&&this.activeIndex>-1&&Es([this.liCollections[this.activeIndex]],"e-active")}},e.prototype.wireListEvents=function(){Cs.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(Cs.add(this.presetElement,"mouseover",this.onMouseOver,this),Cs.add(this.presetElement,"mouseout",this.onMouseLeave,this))},e.prototype.unWireListEvents=function(){fs(this.presetElement)||(Cs.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(Cs.remove(this.presetElement,"mouseover",this.onMouseOver),Cs.remove(this.presetElement,"mouseout",this.onMouseLeave)))},e.prototype.renderPopup=function(){var t=this;this.popupWrapper.classList.add("e-control");var e=this.popupWrapper.getBoundingClientRect().width;fs(this.cssClass)||""===this.cssClass.trim()||(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new dh(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:fs(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?gs(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-e,offsetY:4,collision:this.isMobile?gs(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:function(){Ms(t.inputElement,{"aria-expanded":"true"}),Es([t.inputWrapper.buttons[0]],"e-active"),t.isMobile||(t.cancelButton&&(t.btnKeyboardModule=new tc(t.cancelButton.element,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),t.btnKeyboardModule=new tc(t.applyButton.element,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),fs(t.leftCalendar)||t.isRangeIconClicked||t.calendarFocus(),fs(t.presetElement)||(t.presetKeyboardModule=new tc(t.presetElement,{eventName:"keydown",keyAction:t.presetKeyActionHandler.bind(t),keyConfigs:t.presetKeyConfig}),t.presetKeyboardModule=new tc(t.presetElement,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),fs(t.leftCalendar)?(t.preventBlur=!0,t.presetElement.focus()):t.presetElement.setAttribute("tabindex","-1")),t.popupKeyBoardHandler()),t.isMobile&&!Js.isDevice&&Cs.add(document,"keydown",t.popupCloseHandler,t)},close:function(){Ms(t.inputElement,{"aria-expanded":"false"}),Ts([t.inputWrapper.buttons[0]],"e-active"),t.isRangeIconClicked&&t.inputWrapper.container.children[1].focus(),gs(t.presets[0].start&&t.presets[0].end&&t.presets[0].label)||t.unWireListEvents(),fs(t.popupObj)||(Rs(t.popupObj.element),t.popupObj.destroy(),t.popupObj=null),t.isMobile&&!Js.isDevice&&Cs.remove(document,"keydown",t.popupCloseHandler)}}),this.isMobile&&(this.popupObj.element.classList.add("e-device"),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(Es([this.modal],["e-device","e-daterangepicker","e-range-modal"]),document.body.className+=" e-range-overflow",this.modal.style.display="block"),Cs.add(document,"mousedown touchstart",this.documentHandler,this)},e.prototype.popupCloseHandler=function(t){switch(t.keyCode){case 27:this.hide(t)}},e.prototype.calendarFocus=function(){var t=this.popupObj&&this.popupObj.element.querySelector("."+Td);if(t){var e=Ls(t,"."+Ed);e=fs(e)?this.leftCalendar:e,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,e.children[1].firstElementChild.focus()),Es([t],Od)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())},e.prototype.presetHeight=function(){var t=this.popupObj&&this.popupObj.element.querySelector(".e-presets"),e=this.popupObj&&this.popupObj.element.querySelector(".e-date-range-container");fs(t)||fs(e)||(t.style.height=e.getBoundingClientRect().height+"px")},e.prototype.presetKeyActionHandler=function(t){switch(t.action){case"moveDown":this.listMoveDown(t),this.setScrollPosition(),t.preventDefault();break;case"moveUp":this.listMoveUp(t),this.setScrollPosition(),t.preventDefault();break;case"enter":var e=this.getHoverLI(),n=this.getActiveLI();if(!fs(this.leftCalendar)&&!fs(n)&&(fs(e)||!fs(n)&&n===e)&&(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(n),"custom_range"===this.presetsItem[this.activeIndex].id))return this.calendarFocus(),n.classList.remove(Nd),void t.preventDefault();fs(e)&&fs(n)||this.onMouseClick(t,e||n),t.preventDefault();break;case"tab":if(this.leftCalendar){var i=this.getHoverLI();fs(i)||i.classList.remove(Nd)}else this.hide(t),t.preventDefault()}},e.prototype.listMoveDown=function(t){var e=this.getHoverLI(),n=this.getActiveLI();if(fs(e))if(fs(n))Es([this.liCollections[0]],Nd);else{var i;!fs(i=n.nextElementSibling)&&i.classList.contains(Md)&&Es([i],Nd)}else!fs(i=e.nextElementSibling)&&i.classList.contains(Md)&&(Ts([e],Nd),Es([i],Nd))},e.prototype.listMoveUp=function(t){var e=this.getHoverLI(),n=this.getActiveLI();if(fs(e)){if(!fs(n)){var i;!fs(i=n.previousElementSibling)&&i.classList.contains(Md)&&Es([i],Nd)}}else!fs(i=e.previousElementSibling)&&i.classList.contains(Md)&&(Ts([e],Nd),Es([i],Nd))},e.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+Nd)},e.prototype.getActiveLI=function(){return this.presetElement.querySelector(".e-active")},e.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new tc(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.popupKeyboardModule=new tc(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},e.prototype.setScrollPosition=function(){var t=this.presetElement.getBoundingClientRect().height,e=this.presetElement.querySelector("."+Nd),n=this.presetElement.querySelector(".e-active"),i=fs(e)?n:e;if(!fs(i)){var r=i.nextElementSibling,o=r?r.offsetTop:i.offsetTop,l=i.getBoundingClientRect().height;this.presetElement.scrollTop=o+i.offsetTop>t?r?o-(t/2+l/2):o:0}},e.prototype.popupKeyActionHandle=function(t){var e=Ls(t.target,".e-presets");switch(t.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(t)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,t);break;case"tab":this.hide(t);break;case"altRightArrow":fs(e)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),t.preventDefault();break;case"altLeftArrow":fs(e)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():fs(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),t.preventDefault()}},e.prototype.documentHandler=function(t){if(!fs(this.popupObj)){var e=t.target;this.inputWrapper.container.contains(e)&&(fs(this.popupObj)||Ls(e,this.popupWrapper.id))||("touchstart"===t.type||"mousedown"===t.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&t.preventDefault(),!fs(this.targetElement)&&(fs(this.targetElement)||e===this.targetElement)||Ls(e,"#"+this.popupObj.element.id)||Ls(e,".e-input-group")===this.inputWrapper.container||Ls(e,".e-daterangepicker.e-popup")&&!e.classList.contains("e-day")||(this.preventBlur=!1,this.isPopupOpen()&&(this.applyFunction(t),this.isMobile||(this.isRangeIconClicked=!1)))}},e.prototype.createInput=function(){this.inputWrapper=od.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),Ms(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),od.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),fs(this.placeholder)||""===this.placeholder.trim()||od.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),Es([this.inputWrapper.container],"e-date-range-wrapper"),fs(this.inputElement.getAttribute("name"))&&Ms(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate},e.prototype.setEleWidth=function(t){this.inputWrapper.container.style.width="string"==typeof t?this.width:"number"==typeof t?ys(this.width):"100%"},e.prototype.refreshControl=function(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();var t=this.disabledDates();this.strictMode&&t&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&t&&this.clearRange(),fs(this.endValue)||fs(this.startValue)||t||this.disabledDateRender(),this.errorClass(),this.previousStartValue=fs(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=fs(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)},e.prototype.updateInput=function(){if(!fs(this.endValue)&&!fs(this.startValue)){var t={format:this.formatString,type:"date",skeleton:"yMd"},e=this.globalize.formatDate(this.startValue,t),n=this.globalize.formatDate(this.endValue,t);od.setValue(e+" "+this.separator+" "+n,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&fs(this.value)&&this.invalidValueString&&od.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.checkInvalidRange=function(t){if(!fs(t)){var e=!1,n=void 0,i=void 0,r=null,o=null,l=null,a=!1,s=!1,u=!1;if("string"==typeof t){var c=t.split(" "+this.separator+" ");2===c.length?(r=c[0],o=c[1]):(e=!0,l=t)}else t.length>0?(n=t[0],i=t[1]):(n=t.start,i=t.end),n instanceof Date||"object"==typeof n?n instanceof Date?a=!0:fs(n)||(u=!0):r=this.getstringvalue(n),i instanceof Date||"object"==typeof i?i instanceof Date?s=!0:fs(i)||(u=!0):o=this.getstringvalue(i);(fs(r)&&!a&&!fs(o)||!fs(r)&&!s&&fs(o))&&(e=!0),u&&(r=o=l=null,e=!0),r&&(e=e||this.checkInvalidValue(r)),o&&(e=e||this.checkInvalidValue(o)),e&&(a&&!u&&(r=n.toLocaleDateString()),s&&!u&&(o=i.toLocaleDateString()),fs(r)||fs(o)?fs(r)?fs(o)||(l=o):l=r:l=r+" "+this.separator+" "+o,this.invalidValueString=l,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}},e.prototype.getstringvalue=function(t){var e=null;return fs(t)||"number"!=typeof t?fs(t)||"string"!=typeof t||(e=""+t):e=t.toString(),e},e.prototype.checkInvalidValue=function(t){var e,n=t,i=!1;if(e={format:this.formatString,type:"date",skeleton:"yMd"},"string"!=typeof n)i=!0;else{var r=new Hu(this.locale);if(!this.checkDateValue(r.parseDate(n,e))){var o=null;o=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(n)&&!o.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n))))&&(i=!0)}}return i},e.prototype.isDateDisabled=function(t){if(fs(t))return!1;var e=new Date(+t);if(+e<+this.min||+e>+this.max)return!0;this.virtualRenderCellArgs={date:e,isDisabled:!1};var n=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(n),!!n.isDisabled},e.prototype.disabledDateRender=function(){this.disabledDays=[],this.disabledDayCnt=null;for(var t=new Date(+this.startValue),e=0;+t<=+this.endValue;){this.virtualRenderCellArgs={date:t,isDisabled:!1};var n=this.virtualRenderCellArgs;this.virtualRenderCellEvent(n),n.isDisabled&&(this.disabledDays.push(new Date(+n.date)),+t>+this.startValue&&+t<+this.endValue&&e++),this.addDay(t,1,null,this.max,this.min)}this.disabledDayCnt=e},e.prototype.virtualRenderCellEvent=function(t){ps(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",t)},e.prototype.disabledDates=function(){var t=!1,e=!1;return fs(this.endValue)||fs(this.startValue)||(t=this.isDateDisabled(this.startValue),e=this.isDateDisabled(this.endValue),this.currentDate=null,this.setValue()),t||e},e.prototype.setModelValue=function(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?(+this.startDate==+this.value[0]&&+this.endDate==+this.value[1]||this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()},e.prototype.dispatchEvent=function(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n),this.firstHiddenChild.dispatchEvent(n)},e.prototype.changeTrigger=function(t){+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.trigger("change",this.rangeArgs(t))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)},e.prototype.navigateTo=function(e,n){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?t.prototype.navigateTo.call(this,e,n):(n<this.min?n=new Date(+this.min):n>=this.max&&(n=new Date(+this.max)),"Month"===e&&this.isSameMonth(n,this.max)?n=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(n,this.max)?n=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(n,this.max)&&(n=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=n,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),n="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=n,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}},e.prototype.navigate=function(e,n,i){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",t.prototype.navigateTo.call(this,i,n)},e.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&(Es([this.inputWrapper.container],["e-input-focus"]),this.inputElement.focus())},e.prototype.focusOut=function(){var t=this.preventBlur;document.activeElement===this.inputElement&&(Ts([this.inputWrapper.container],["e-input-focus"]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=t)},e.prototype.destroy=function(){this.hide(null);var e={"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(Ts([this.inputElement],["e-daterangepicker"]),Cs.remove(this.inputElement,"blur",this.inputBlurHandler),od.removeAttributes(e,this.inputElement),fs(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),fs(this.inputWrapper)||(Cs.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),Rs(this.inputWrapper.container))),fs(this.inputKeyboardModule)||this.isMobile||this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),t.prototype.destroy.call(this),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&Cs.remove(this.formElement,"reset",this.formResetHandler),fs(this.firstHiddenChild)||fs(this.secondHiddenChild)||(Rs(this.firstHiddenChild),Rs(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))},e.prototype.ensureInputAttribute=function(){for(var t=[],e=0;e<this.inputElement.attributes.length;e++)t[e]=this.inputElement.attributes[e].name;for(e=0;e<t.length;e++)fs(this.cloneElement.getAttribute(t[e]))?("value"===t[e].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(t[e])):("value"===t[e].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(t[e])),this.inputElement.setAttribute(t[e],this.cloneElement.getAttribute(t[e])))},e.prototype.getModuleName=function(){return"daterangepicker"},e.prototype.getPersistData=function(){return this.addOnPersist(["startDate","endDate","value"])},e.prototype.getSelectedRange=function(){var t;return fs(this.startValue)||fs(this.endValue)?t=0:(t=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1,this.disabledDateRender(),fs(this.disabledDayCnt)||(t-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:t}},e.prototype.show=function(e,n){if(this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),!(this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(e&&(this.targetElement=e),this.createPopup(),(this.isMobile||Js.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:n||null,appendTo:this.isMobile||Js.isDevice?this.mobileRangePopupWrap:document.body},this.trigger("open",this.openEventArgs),this.openEventArgs.cancel))){this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(e,n);var i=!this.isCustomRange||this.isMobile&&this.isCustomRange;!gs(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&i&&this.setScrollPosition(),this.checkMinMaxDays(),this.isMobile&&!fs(this.startDate)&&fs(this.endDate)&&(this.endButton.element.classList.add("e-active"),this.startButton.element.classList.remove("e-active"),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),t.prototype.setOverlayIndex.call(this,this.mobileRangePopupWrap,this.popupObj.element,this.modal,this.isMobile||Js.isDevice)}},e.prototype.hide=function(t){this.popupObj&&(fs(this.previousEndValue)&&fs(this.previousStartValue)?this.clearRange():(fs(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),fs(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:t||null},this.trigger("close",this.closeEventArgs),this.closeEventArgs.cancel?Ts([this.inputWrapper.buttons[0]],"e-active"):(this.isMobile&&(fs(this.startButton)||fs(this.endButton)||(Cs.remove(this.startButton.element,"click touchstart",this.deviceHeaderClick),Cs.remove(this.endButton.element,"click touchstart",this.deviceHeaderClick))),this.popupObj&&(this.popupObj.hide(),this.preventBlur&&(this.inputElement.focus(),Es([this.inputWrapper.container],["e-input-focus"]))),this.isMobile||(fs(this.leftKeyboardModule)||fs(this.rightKeyboardModule)||(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),fs(this.presetElement)||this.presetKeyboardModule.destroy(),fs(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,Ts([document.body],"e-range-overflow"),Cs.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null,fs(this.mobileRangePopupWrap)||(this.mobileRangePopupWrap.remove(),this.mobileRangePopupWrap=null)),this.isKeyPopup=this.dateDisabled=!1))),this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},e.prototype.setLocale=function(){this.globalize=new Hu(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),od.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.changeTrigger()},e.prototype.refreshChange=function(){this.checkView(),this.refreshControl(),this.changeTrigger()},e.prototype.setDate=function(){od.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()},e.prototype.enableInput=function(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),od.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())},e.prototype.clearModelvalue=function(t,e){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),e.value&&e.value.length>0?this.setProperties({value:null},!0):e.value&&e.value.start?this.setProperties({value:{start:null,end:null}},!0):e.value&&!e.value.start&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()},e.prototype.createHiddenInput=function(){fs(this.firstHiddenChild)&&fs(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),fs(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),Ms(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name")}),Ms(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name")});var t={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,t),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,t),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild),this.firstHiddenChild.style.display="none",this.secondHiddenChild.style.display="none"},e.prototype.onPropertyChanged=function(t,e){for(var n={format:this.formatString,type:"date",skeleton:"yMd"},i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];switch(this.hide(null),o){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:t.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":od.setPlaceholder(t.placeholder,this.inputElement),this.setProperties({placeholder:t.placeholder},!0);break;case"readonly":od.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly),this.setRangeAllowEdit();break;case"cssClass":this.popupWrapper&&(this.popupWrapper.className+=" "+t.cssClass),this.inputWrapper.container.className+=" "+t.cssClass,this.setProperties({cssClass:t.cssClass},!0);break;case"enabled":this.setProperties({enabled:t.enabled},!0),od.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:t.enableRtl},!0),od.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0);break;case"format":this.setProperties({format:t.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new Hu(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),od.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"showClearButton":od.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof t.startDate&&(t.startDate=this.globalize.parseDate(t.startDate,n)),+this.initStartDate!=+t.startDate&&(this.startValue=this.checkDateValue(new Date(this.checkValue(t.startDate))),this.setDate(),this.setValue());break;case"endDate":"string"==typeof t.endDate&&(t.endDate=this.globalize.parseDate(t.endDate,n)),+this.initEndDate!=+t.endDate&&(this.endValue=this.checkDateValue(new Date(this.checkValue(t.endDate))),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(t.value),"string"==typeof t.value)if(this.invalidValueString)this.clearModelvalue(t,e);else{var l=t.value.split(" "+this.separator+" ");this.value=[new Date(l[0]),new Date(l[1])],this.updateValue(),this.setDate()}else!fs(t.value)&&t.value.length>0||!fs(t.value)&&t.value.start?(this.valueType=t.value,null===t.value[0]||null===t.value.start?1===t.value.length||t.value.start?this.clearModelvalue(t,e):null!==t.value[1]&&null!==t.value.start||this.clearModelvalue(t,e):+this.initStartDate==+t.value[0]&&+this.initEndDate==+t.value[1]&&+this.initStartDate==+(t.value.start||+this.initEndDate!=+t.value.start)||(1===t.value.length?this.modelValue=t.value:t.value.start&&(this.modelValue=t.value),this.updateValue(),this.setDate())):(fs(this.value)||null==t.value.start)&&(this.valueType=t.value,this.startValue=null,this.endValue=null,this.clearModelvalue(t,e));break;case"minDays":this.setProperties({minDays:t.minDays},!0),this.refreshChange();break;case"maxDays":this.setProperties({maxDays:t.maxDays},!0),this.refreshChange();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(t.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(t.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:t.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:t.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=t.floatLabelType,od.removeFloating(this.inputWrapper),od.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"start":this.setProperties({start:t.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:t.depth},!0),this.refreshChange()}}},Object(l.__decorate)([nu(null)],e.prototype,"value",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enablePersistence",void 0),Object(l.__decorate)([nu(new Date(1900,0,1))],e.prototype,"min",void 0),Object(l.__decorate)([nu(new Date(2099,11,31))],e.prototype,"max",void 0),Object(l.__decorate)([nu(null)],e.prototype,"locale",void 0),Object(l.__decorate)([nu(null)],e.prototype,"firstDayOfWeek",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"weekNumber",void 0),Object(l.__decorate)([nu("Gregorian")],e.prototype,"calendarMode",void 0),Object(l.__decorate)([ou()],e.prototype,"created",void 0),Object(l.__decorate)([ou()],e.prototype,"destroyed",void 0),Object(l.__decorate)([ou()],e.prototype,"change",void 0),Object(l.__decorate)([ou()],e.prototype,"navigated",void 0),Object(l.__decorate)([ou()],e.prototype,"renderDayCell",void 0),Object(l.__decorate)([nu(null)],e.prototype,"startDate",void 0),Object(l.__decorate)([nu(null)],e.prototype,"endDate",void 0),Object(l.__decorate)([ru([{}],jd)],e.prototype,"presets",void 0),Object(l.__decorate)([nu("")],e.prototype,"width",void 0),Object(l.__decorate)([nu(1e3)],e.prototype,"zIndex",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"showClearButton",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"showTodayButton",void 0),Object(l.__decorate)([nu("Month")],e.prototype,"start",void 0),Object(l.__decorate)([nu("Month")],e.prototype,"depth",void 0),Object(l.__decorate)([nu("")],e.prototype,"cssClass",void 0),Object(l.__decorate)([nu("-")],e.prototype,"separator",void 0),Object(l.__decorate)([nu(null)],e.prototype,"minDays",void 0),Object(l.__decorate)([nu(null)],e.prototype,"maxDays",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"strictMode",void 0),Object(l.__decorate)([nu(null)],e.prototype,"format",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"enabled",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"readonly",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"allowEdit",void 0),Object(l.__decorate)([nu("Never")],e.prototype,"floatLabelType",void 0),Object(l.__decorate)([nu(null)],e.prototype,"placeholder",void 0),Object(l.__decorate)([ou()],e.prototype,"open",void 0),Object(l.__decorate)([ou()],e.prototype,"close",void 0),Object(l.__decorate)([ou()],e.prototype,"select",void 0),Object(l.__decorate)([ou()],e.prototype,"focus",void 0),Object(l.__decorate)([ou()],e.prototype,"blur",void 0),Object(l.__decorate)([lu],e)}(jc),Fd=(new Date).getDate(),Vd=(new Date).getMonth(),Bd=(new Date).getFullYear(),Ud="e-input-focus",qd=_d.li;(xd||(xd={})).createListItems=function(t,e,n,i,r,o){var l,a,s=6e4*o,u=[],c=[];for(l=+e.setMilliseconds(0),a=+n.setMilliseconds(0);a>=l;)c.push(l),u.push(i.formatDate(new Date(l),{format:r,type:"time"})),l+=s;return{collection:c,list:sd.createList(t,u,null,!0)}};var Wd=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.liCollections=[],i.timeCollections=[],i.disableItemCollection=[],i.invalidValueString=null,i}return Object(l.__extends)(e,t),e.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),Ts([this.cloneElement],["e-timepicker","e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=Ls(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}},e.prototype.render=function(){this.initialize(),this.createInputElement(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setValue(this.getFormattedValue(this.value)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value)},e.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Ms(this.inputElement,{readonly:""}),this.clearIconState()},e.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&Ts([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?Ts([this.inputWrapper.container],["e-non-edit"]):Es([this.inputWrapper.container],["e-non-edit"])},e.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null,isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},e.prototype.validationAttribute=function(t,e){var n=t.getAttribute("name")?t.getAttribute("name"):t.getAttribute("id");e.setAttribute("name",n),t.removeAttribute("name");for(var i=["required","aria-required","form"],r=0;r<i.length;r++)if(!fs(t.getAttribute(i[r]))){var o=t.getAttribute(i[r]);e.setAttribute(i[r],o),t.removeAttribute(i[r])}},e.prototype.initialize=function(){this.globalize=new Hu(this.locale),this.defaultCulture=new Hu("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkAttributes(),this.l10n=new ec("timepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,fs(this.element.getAttribute("id"))?(this.element.id=ms("ej2_timepicker"),null!==this.angularTag&&Ms(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),fs(this.inputElement.getAttribute("name"))&&Ms(this.inputElement,{name:this.element.id})},e.prototype.checkTimeFormat=function(){this.formatString=this.format?"string"==typeof this.format?this.format:fs(this.format.skeleton)||""===this.format.skeleton?this.globalize.getDatePattern({type:"time",skeleton:"short"}):this.globalize.getDatePattern({type:"time",skeleton:this.format.skeleton}):null},e.prototype.checkDateValue=function(t){return!fs(t)&&t instanceof Date&&!isNaN(+t)?t:null},e.prototype.createInputElement=function(){this.inputWrapper=od.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),Ms(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||od.addAttributes({style:this.inputStyle},this.inputElement),Es([this.inputWrapper.container],"e-time-wrapper")},e.prototype.getCldrDateTimeFormat=function(){var t=new Hu(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?t+" "+this.CldrFormat("time"):this.formatString},e.prototype.checkInvalidValue=function(t){var e=!1;if("object"!=typeof t&&!fs(t)){var n=t;"string"==typeof n&&(n=n.trim());var i,r=null;if("number"==typeof t?n=t.toString():"string"==typeof t&&(/^[a-zA-Z0-9- ]*$/.test(t)||fs(r=this.setCurrentDate(this.getDateObject(t)))&&fs(r=this.checkDateValue(this.globalize.parseDate(n,{format:this.getCldrDateTimeFormat(),type:"datetime"})))&&(r=this.checkDateValue(this.globalize.parseDate(n,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))),fs(r=!fs(i=this.globalize.parseDate(n,{format:this.getCldrDateTimeFormat(),type:"datetime"}))&&i instanceof Date&&!isNaN(+i)?i:null)&&n.replace(/\s/g,"").length){var o=null;o=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(n)&&!o.test(n)||/^[a-zA-Z0-9- ]*$/.test(t)||isNaN(+new Date(""+n))?e=!0:r=new Date(""+n)}e?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:r},!0),this.initValue=this.value)}},e.prototype.CldrFormat=function(t){return"en"===this.locale||"en-US"===this.locale?us("timeFormats.short",zu()):this.getCultureTimeObject(Bu,""+this.locale)},e.prototype.destroy=function(){this.hide(),this.unBindEvents(),this.inputElement&&(od.removeAttributes({"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),fs(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),fs(this.cloneElement.getAttribute("disabled"))&&od.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&Ps(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],fs(this.rippleFn)||this.rippleFn(),t.prototype.destroy.call(this),this.formElement&&Cs.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.ensureInputAttribute=function(){for(var t=[],e=0;e<this.inputElement.attributes.length;e++)t[e]=this.inputElement.attributes[e].name;for(e=0;e<t.length;e++)fs(this.cloneElement.getAttribute(t[e]))?(this.inputElement.removeAttribute(t[e]),"value"===t[e].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(t[e],this.cloneElement.getAttribute(t[e])),"value"===t[e].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(t[e])))},e.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:"e-timepicker e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),fs(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!fs(this.step)&&this.step>0&&(this.generateList(),Os([this.listWrapper],this.popupWrapper)),this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.addSelection(),this.renderPopup(),Rs(this.popupWrapper)},e.prototype.getPopupHeight=function(){var t=parseInt("240px",10),e=this.popupWrapper.getBoundingClientRect().height;return e>t?t:e},e.prototype.generateList=function(){this.createListItems(),this.wireListEvents(),this.rippleFn=uu(this.listWrapper,{duration:300,selector:"."+qd}),this.liCollections=this.listWrapper.querySelectorAll("."+qd)},e.prototype.renderPopup=function(){var t=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new dh(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:Js.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:Js.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:Js.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){t.popupWrapper.style.visibility="visible",Es([t.inputWrapper.buttons[0]],"e-active")},close:function(){Ts([t.inputWrapper.buttons[0]],"e-active"),t.unWireListEvents(),t.inputElement.setAttribute("aria-activedescendant","null"),Ps(t.popupObj.element),t.popupObj.destroy(),t.popupWrapper.innerHTML="",t.listWrapper=t.popupWrapper=t.listTag=void 0}}),Js.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"},e.prototype.getFormattedValue=function(t){return fs(this.checkDateValue(t))?null:this.globalize.formatDate(t,{skeleton:"medium",type:"time"})},e.prototype.getDateObject=function(t){if(!this.isNullOrEmpty(t)){var e=this.createDateObj(t),n=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(e)){var i=n?this.initValue.getDate():Fd,r=n?this.initValue.getMonth():Vd,o=n?this.initValue.getFullYear():Bd;return new Date(o,r,i,e.getHours(),e.getMinutes(),e.getSeconds())}}return null},e.prototype.removeErrorClass=function(){Ts([this.inputWrapper.container],"e-error"),Ms(this.inputElement,{"aria-invalid":"false"})},e.prototype.checkErrorState=function(t){var e=this.getDateObject(t);this.validateState(e)&&!this.invalidValueString?this.removeErrorClass():(Es([this.inputWrapper.container],"e-error"),Ms(this.inputElement,{"aria-invalid":"true"}))},e.prototype.validateInterval=function(){!fs(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},e.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},e.prototype.disableElement=function(t){Es(t,"e-disabled")},e.prototype.enableElement=function(t){Ts(t,"e-disabled")},e.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},e.prototype.getMeridianText=function(){return"en"===this.locale||"en-US"===this.locale?us("dayPeriods.format.wide",zu()):us("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",Bu)},e.prototype.getCursorSelection=function(){var t=this.inputElement,e=0,n=0;return isNaN(t.selectionStart)||(e=t.selectionStart,n=t.selectionEnd),{start:Math.abs(e),end:Math.abs(n)}},e.prototype.getActiveElement=function(){return fs(this.popupWrapper)?null:this.popupWrapper.querySelectorAll(".e-active")},e.prototype.isNullOrEmpty=function(t){return!!(fs(t)||"string"==typeof t&&""===t.trim())},e.prototype.setWidth=function(t){return"number"==typeof t?ys(t):"string"==typeof t?t.match(/px|%|em/)?t:ys(t):"100%"},e.prototype.setPopupWidth=function(t){return(t=this.setWidth(t)).indexOf("%")>-1&&(t=(this.containerStyle.width*parseFloat(t)/100).toString()+"px"),t},e.prototype.setScrollPosition=function(){var t;this.getPopupHeight(),fs(t=this.selectedElement)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(t)},e.prototype.findScrollTop=function(t){var e=this.getPopupHeight(),n=t.nextElementSibling,i=n?n.offsetTop:t.offsetTop,r=t.getBoundingClientRect().height;this.popupWrapper.scrollTop=i+t.offsetTop>e?n?i-(e/2+r/2):i:0},e.prototype.setScrollTo=function(){var t;if(fs(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var e=this.popupWrapper.querySelectorAll("."+qd);if(e.length){var n=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();t=e[Math.round((i-n)/(6e4*this.step))]}}fs(t)?this.popupWrapper.scrollTop=0:this.findScrollTop(t)},e.prototype.getText=function(){return fs(this.checkDateValue(this.value))?"":this.getValue(this.value)},e.prototype.getValue=function(t){return fs(this.checkDateValue(t))?null:this.globalize.formatDate(t,{format:this.cldrTimeFormat(),type:"time"})},e.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?us("dateFormats.short",zu()):this.getCultureDateObject(Bu,""+this.locale)},e.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?us("timeFormats.short",zu()):this.getCultureTimeObject(Bu,""+this.locale):this.formatString},e.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?us("timeFormats.medium",zu()):us("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",Bu)},e.prototype.getExactDateTime=function(t){return fs(this.checkDateValue(t))?null:this.globalize.formatDate(t,{format:this.dateToNumeric(),type:"time"})},e.prototype.setValue=function(t){var e=this.checkValue(t);this.strictMode||this.validateState(e)?this.isNullOrEmpty(e)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(e):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},e.prototype.compareFormatChange=function(t){return fs(t)?null:t!==this.getText()?this.getDateObject(t):this.getDateObject(this.value)},e.prototype.updatePlaceHolder=function(){od.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},e.prototype.popupHandler=function(t){Js.isDevice&&this.inputElement.setAttribute("readonly",""),t.preventDefault(),this.isPopupOpen()?this.closePopup(0,t):(this.inputElement.focus(),this.show(t))},e.prototype.mouseDownHandler=function(){this.readonly||(this.getCursorSelection(),this.inputElement.setSelectionRange(0,0),Cs.add(this.inputElement,"mouseup",this.mouseUpHandler,this))},e.prototype.mouseUpHandler=function(t){if(!this.readonly){t.preventDefault(),Cs.remove(this.inputElement,"mouseup",this.mouseUpHandler);var e=this.getCursorSelection();0===e.start&&e.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},e.prototype.focusSelection=function(){var t=new RegExp("^[a-zA-Z0-9]+$"),e=this.inputElement.value.split("");e.push(" ");var n=this.getCursorSelection(),i=0,r=0,o=!1;if(this.isTextSelected)i=n.start,r=n.end,this.isTextSelected=!1;else for(var l=0;l<e.length;l++)if(t.test(e[l])||(r=l,o=!0),o){if(n.start>=i&&n.end<=r){r=r,this.isTextSelected=!0;break}i=l+1,o=!1}return{start:i,end:r}},e.prototype.inputHandler=function(t){if(!this.readonly&&this.enabled)switch("right"!==t.action&&"left"!==t.action&&"tab"!==t.action&&t.preventDefault(),t.action){case"home":case"end":case"up":case"down":this.keyHandler(t);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,t)):this.updateValue(this.inputElement.value,t),this.hide(),Es([this.inputWrapper.container],Ud),this.isNavigate=!1,this.isPopupOpen()&&t.stopPropagation();break;case"open":this.show(t);break;case"escape":od.setValue(this.objToString(this.value),this.inputElement,this.floatLabelType,this.showClearButton),this.previousState(this.value),this.hide();break;case"close":this.hide();break;default:this.isNavigate=!1}},e.prototype.onMouseClick=function(t){var e=this.selectedElement=Ls(t.target,"."+qd);this.setSelection(e,t),e&&e.classList.contains(qd)&&(this.hide(),Es([this.inputWrapper.container],Ud))},e.prototype.closePopup=function(t,e){if(this.isPopupOpen()&&this.popupWrapper){var n={popup:this.popupObj,event:e||null,cancel:!1,name:"open"};Ts([document.body],"e-time-overflow"),this.trigger("close",n),n.cancel||(this.popupObj.hide(new su({name:"FadeOut",duration:50,delay:t||0})),Ts([this.inputWrapper.container],["e-icon-anim"]),Ms(this.inputElement,{"aria-expanded":"false"}),Cs.remove(document,"mousedown touchstart",this.documentClickHandler)),Js.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}Js.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},e.prototype.checkValueChange=function(t,e){if(this.strictMode||this.validateState(this.valueWithMinutes))if(e){var n=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+n&&this.valueProcess(t,n)}else(this.prevValue!==this.inputElement.value||fs(this.checkDateValue(this.value)))&&this.valueProcess(t,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(t)},e.prototype.onMouseOver=function(t){var e=Ls(t.target,"."+qd);this.setHover(e,"e-hover")},e.prototype.setHover=function(t,e){this.enabled&&this.isValidLI(t)&&!t.classList.contains(e)&&(this.removeHover(e),Es([t],e),"e-navigation"===e&&t.setAttribute("aria-selected","true"))},e.prototype.setSelection=function(t,e){this.isValidLI(t)&&!t.classList.contains("e-active")&&(this.checkValue(t.getAttribute("data-value")),this.selectedElement=t,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(t),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),Es([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(e,!0))},e.prototype.onMouseLeave=function(){this.removeHover("e-hover")},e.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&Js.isDevice||this.hide()},e.prototype.setMinMax=function(t,e){fs(this.checkDateValue(t))&&(this.initMin=this.getDateObject("12:00:00 AM")),fs(this.checkDateValue(e))&&(this.initMax=this.getDateObject("11:59:59 PM"))},e.prototype.validateMinMax=function(t,e,n){var i=t instanceof Date?t:this.getDateObject(t);return fs(this.checkDateValue(i))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():t=this.strictOperation(this.initMin,this.initMax,t,i),this.strictMode&&(t=this.valueIsDisable(t)?t:null),this.checkErrorState(t),t},e.prototype.valueIsDisable=function(t){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var e=t instanceof Date?this.objToString(t):t,n=0;n<this.disableItemCollection.length;n++)if(e===this.disableItemCollection[n])return!1}return!0},e.prototype.validateState=function(t){if(!this.strictMode){if(!this.valueIsDisable(t))return!1;var e=this.setCurrentDate(this.getDateObject(t)),n=this.setCurrentDate(this.getDateObject(this.initMax)),i=this.setCurrentDate(this.getDateObject(this.initMin));if(fs(this.checkDateValue(e))){if(+n<+i||""!==this.inputElement.value)return!1}else if(+e>+n||+e<+i)return!1}return!0},e.prototype.strictOperation=function(t,e,n,i){var r=this.createDateObj(this.getFormattedValue(e)),o=this.createDateObj(this.getFormattedValue(t)),l=this.createDateObj(this.getFormattedValue(i));if(this.strictMode){if(+o>+r)return this.disableTimeIcon(),this.initValue=this.getDateObject(r),od.setValue(this.getValue(this.initValue),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value;if(+o>=+l)return this.getDateObject(o);if(+l>=+r||+o==+r)return this.getDateObject(r)}else if(+o>+r&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(n))))return n;return n},e.prototype.bindEvents=function(){Cs.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),Cs.add(this.inputElement,"blur",this.inputBlurHandler,this),Cs.add(this.inputElement,"focus",this.inputFocusHandler,this),Cs.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&Cs.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&Cs.add(this.formElement,"reset",this.formResetHandler,this),Js.isDevice||(this.inputEvent=new tc(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&Cs.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},e.prototype.formResetHandler=function(){if(!this.inputElement.disabled){var t=this.inputElement.getAttribute("value"),e=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(e=null,t="",this.inputElement.setAttribute("value","")),this.setProperties({value:e},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(od.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.checkErrorState(t),this.prevValue=this.inputElement.value)}},e.prototype.inputChangeHandler=function(t){t.stopPropagation()},e.prototype.unBindEvents=function(){this.inputWrapper&&Cs.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),Cs.remove(this.inputElement,"blur",this.inputBlurHandler),Cs.remove(this.inputElement,"focus",this.inputFocusHandler),Cs.remove(this.inputElement,"change",this.inputChangeHandler),this.inputEvent&&this.inputEvent.destroy(),Cs.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!fs(this.inputWrapper.clearButton)&&Cs.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&Cs.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&Cs.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},e.prototype.clearHandler=function(t){t.preventDefault(),fs(this.value)||this.clear(t),this.popupWrapper&&(this.popupWrapper.scrollTop=0)},e.prototype.clear=function(t){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.changeEvent(t)},e.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},e.prototype.checkAttributes=function(){for(var t,e=0,n=["step","disabled","readonly","style","name","value","min","max","placeholder"];e<n.length;e++){var i=n[e];if(!fs(this.inputElement.getAttribute(i)))switch(i){case"disabled":var r=fs(this.inputElement.getAttribute(i));this.setProperties({enabled:r},!0);break;case"readonly":var o=!fs(this.inputElement.getAttribute(i));this.setProperties({readonly:o},!0);break;case"style":this.inputStyle=this.inputElement.getAttribute(i);break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(i));break;case"step":this.step=parseInt(this.inputElement.getAttribute(i),10);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(i);break;case"min":t=new Date(this.inputElement.getAttribute(i)),fs(this.checkDateValue(t))||this.setProperties({min:t},!0);break;case"max":t=new Date(this.inputElement.getAttribute(i)),fs(this.checkDateValue(t))||this.setProperties({max:t},!0);break;case"value":t=new Date(this.inputElement.getAttribute(i)),fs(this.checkDateValue(t))||(this.initValue=t,this.updateInput(!1,this.initValue))}}},e.prototype.setCurrentDate=function(t){return fs(this.checkDateValue(t))?null:new Date(Bd,Vd,Fd,t.getHours(),t.getMinutes(),t.getSeconds())},e.prototype.getTextFormat=function(){var t=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))t=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var e=this.cldrTimeFormat().split(" "),n=0;n<e.length;n++)if(e[n].toLowerCase().indexOf("h")>=0){t=n;break}return t},e.prototype.updateValue=function(t,e){var n;if(this.isNullOrEmpty(t))this.resetState();else if(n=this.checkValue(t),this.strictMode){var i=null===n&&t.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;od.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton)}this.checkValueChange(e,"string"!=typeof t)},e.prototype.previousState=function(t){for(var e=this.getDateObject(t),n=0;n<this.timeCollections.length;n++)if(+e===this.timeCollections[n]){this.activeIndex=n,this.selectedElement=this.liCollections[n],this.valueWithMinutes=new Date(this.timeCollections[n]);break}return this.prevValue},e.prototype.resetState=function(){this.removeSelection(),od.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},e.prototype.objToString=function(t){return fs(this.checkDateValue(t))?null:this.globalize.formatDate(t,{format:this.cldrTimeFormat(),type:"time"})},e.prototype.checkValue=function(t){if(!this.isNullOrEmpty(t)){var e=t instanceof Date?t:this.getDateObject(t);return this.validateValue(e,t)}return this.resetState(),this.valueWithMinutes=null},e.prototype.validateValue=function(t,e){var n,i=this.validateMinMax(e,this.min,this.max),r=this.createDateObj(i);if(this.getFormattedValue(r)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=fs(r)?null:r,n=this.objToString(this.valueWithMinutes)):(this.strictMode&&(t=r),this.valueWithMinutes=this.checkDateValue(t),n=this.objToString(this.valueWithMinutes)),!this.strictMode&&fs(n)){var o=i.trim().length>0?i:"";od.setValue(o,this.inputElement,this.floatLabelType,this.showClearButton)}else od.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton);return n},e.prototype.findNextElement=function(t){var e=this.inputElement.value,n=fs(this.valueWithMinutes)?this.createDateObj(e):this.getDateObject(this.valueWithMinutes),i=null,r=this.liCollections.length;if(fs(this.checkDateValue(n))&&fs(this.activeIndex))o=this.validLiElement(0,"down"!==t.action),this.activeIndex=o,this.selectedElement=this.liCollections[o],this.elementValue(new Date(this.timeCollections[o]));else{if("home"===t.action){var o=this.validLiElement(0);i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o}else if("end"===t.action)o=this.validLiElement(this.timeCollections.length-1,!0),i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;else if("down"===t.action)for(var l=0;l<r;l++){if(+n<this.timeCollections[l]){o=this.validLiElement(l),i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}if(l===r-1){o=this.validLiElement(0),i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(l=r-1;l>=0;l--){if(+n>this.timeCollections[l]){o=this.validLiElement(l,!0),i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}if(0===l){o=this.validLiElement(r-1),i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(fs(i)?null:new Date(i))}},e.prototype.elementValue=function(t){fs(this.checkDateValue(t))||this.checkValue(t)},e.prototype.validLiElement=function(t,e){var n=null,i=fs(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+qd),r=!0;if(i.length)if(e)for(var o=t;o>=0;o--){if(!i[o].classList.contains("e-disabled")){n=o;break}0===o&&r&&(t=o=i.length,r=!1)}else for(o=t;o<=i.length-1;o++){if(!i[o].classList.contains("e-disabled")){n=o;break}o===i.length-1&&r&&(t=o=-1,r=!1)}return n},e.prototype.keyHandler=function(t){if(!(fs(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains("e-disabled"))){var e=this.timeCollections.length;if(fs(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(fs(this.value)&&fs(this.activeIndex)){var n=this.validLiElement(0,"down"!==t.action);this.activeIndex=n,this.selectedElement=this.liCollections[n],this.elementValue(new Date(this.timeCollections[n]))}else this.findNextElement(t);else this.findNextElement(t);else{var i=void 0;t.keyCode>=37&&t.keyCode<=40?(n=40===t.keyCode||39===t.keyCode?++this.activeIndex:--this.activeIndex,this.activeIndex=n=this.activeIndex===e?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?e-1:this.activeIndex,this.activeIndex=n=this.validLiElement(this.activeIndex,40!==t.keyCode&&39!==t.keyCode),i=fs(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]):"home"===t.action?(n=this.validLiElement(0),this.activeIndex=n,i=this.timeCollections[n]):"end"===t.action&&(n=this.validLiElement(e-1,!0),this.activeIndex=n,i=this.timeCollections[n]),this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(i))}this.isNavigate=!0,this.setHover(this.selectedElement,"e-navigation"),this.setActiveDescendant(),this.selectInputText(),!this.isPopupOpen()||null===this.selectedElement||t&&"click"===t.type||this.setScrollPosition()}},e.prototype.getCultureTimeObject=function(t,e){return us("main."+e+".dates.calendars.gregorian.timeFormats.short",t)},e.prototype.getCultureDateObject=function(t,e){return us("main."+e+".dates.calendars.gregorian.dateFormats.short",t)},e.prototype.wireListEvents=function(){Cs.add(this.listWrapper,"click",this.onMouseClick,this),Js.isDevice||(Cs.add(this.listWrapper,"mouseover",this.onMouseOver,this),Cs.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},e.prototype.unWireListEvents=function(){this.listWrapper&&(Cs.remove(this.listWrapper,"click",this.onMouseClick),Js.isDevice||(Cs.remove(this.listWrapper,"mouseover",this.onMouseOver),Cs.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},e.prototype.valueProcess=function(t,e){var n=fs(this.checkDateValue(e))?null:e;+this.prevDate!=+n&&(this.initValue=n,this.changeEvent(t))},e.prototype.changeEvent=function(t){this.addSelection(),this.updateInput(!0,this.initValue);var e={event:t||null,value:this.value,text:this.inputElement.value,isInteracted:!fs(t),element:this.element};e.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.trigger("change",e),this.invalidValueString=null,this.checkErrorState(this.value)},e.prototype.updateInput=function(t,e){t&&(this.prevValue=this.getValue(e)),this.prevDate=this.valueWithMinutes=e,"number"==typeof e&&(this.value&&+new Date(+this.value).setMilliseconds(0))===+e||this.setProperties({value:e},!0),!this.strictMode&&fs(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),od.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)),this.clearIconState()},e.prototype.setActiveDescendant=function(){fs(this.selectedElement)?Ms(this.inputElement,{"aria-activedescendant":"null"}):Ms(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},e.prototype.removeSelection=function(){if(this.removeHover("e-hover"),!fs(this.popupWrapper)){var t=this.popupWrapper.querySelectorAll(".e-active");t.length&&(Ts(t,"e-active"),t[0].removeAttribute("aria-selected"))}},e.prototype.removeHover=function(t){var e=this.getHoverItem(t);e&&e.length&&(Ts(e,t),"e-navigation"===t&&e[0].removeAttribute("aria-selected"))},e.prototype.getHoverItem=function(t){var e;return fs(this.popupWrapper)||(e=this.popupWrapper.querySelectorAll("."+t)),e},e.prototype.setActiveClass=function(){if(!fs(this.popupWrapper)){var t=this.popupWrapper.querySelectorAll("."+qd);if(t.length)for(var e=0;e<t.length;e++)if(this.timeCollections[e]===+this.getDateObject(this.valueWithMinutes)){t[e].setAttribute("aria-selected","true"),this.selectedElement=t[e],this.activeIndex=e;break}}},e.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),fs(this.selectedElement)||(Es([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},e.prototype.isValidLI=function(t){return t&&t.classList.contains(qd)&&!t.classList.contains("e-disabled")},e.prototype.createDateObj=function(t){var e=this.globalize.formatDate(new Date,{skeleton:"short",type:"date"}),n=null;return"string"==typeof t?t.toUpperCase().indexOf("AM")>-1||t.toUpperCase().indexOf("PM")>-1?(e=this.defaultCulture.formatDate(new Date,{skeleton:"short",type:"date"}),fs(n=isNaN(+new Date(e+" "+t))?null:new Date(new Date(e+" "+t).setMilliseconds(0)))&&(n=this.TimeParse(e,t))):n=this.TimeParse(e,t):t instanceof Date&&(n=t),n},e.prototype.TimeParse=function(t,e){var n;return fs(n=fs(n=this.globalize.parseDate(t+" "+e,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}))?this.globalize.parseDate(t+" "+e,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):n)?n:new Date(n.setMilliseconds(0))},e.prototype.createListItems=function(){var t,e,n=this;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var i=6e4*this.step,r=[];for(this.timeCollections=[],this.disableItemCollection=[],t=+this.getDateObject(this.initMin).setMilliseconds(0),e=+this.getDateObject(this.initMax).setMilliseconds(0);e>=t;)this.timeCollections.push(t),r.push(this.globalize.formatDate(new Date(t),{format:this.cldrTimeFormat(),type:"time"})),t+=i;this.listTag=sd.createList(this.createElement,r,{itemCreated:function(t){var e={element:t.item,text:t.text,value:n.getDateObject(t.text),isDisabled:!1};n.trigger("itemRender",e),e.isDisabled&&e.element.classList.add("e-disabled"),e.element.classList.contains("e-disabled")&&n.disableItemCollection.push(e.element.getAttribute("data-value"))}},!0),Ms(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Os([this.listTag],this.listWrapper)},e.prototype.documentClickHandler=function(t){"touchstart"!==t.type&&t.preventDefault();var e=t.target;Ls(e,"#"+this.popupObj.element.id)||e===this.inputElement||e===(this.inputWrapper&&this.inputWrapper.buttons[0])||e===(this.inputWrapper&&this.inputWrapper.clearButton)||e===(this.inputWrapper&&this.inputWrapper.container)?e!==this.inputElement&&(Js.isDevice||(this.isPreventBlur=(Js.isIE||"edge"===Js.info.name)&&document.activeElement===this.inputElement,t.preventDefault())):this.isPopupOpen()&&(this.hide(),this.focusOut())},e.prototype.setEnableRtl=function(){od.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},e.prototype.setEnable=function(){od.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(Ts([this.inputWrapper.container],"e-disabled"),Ms(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),Es([this.inputWrapper.container],"e-disabled"),Ms(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},e.prototype.getProperty=function(t,e){"min"===e?(this.initMin=this.checkDateValue(new Date(this.checkInValue(t.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(t.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},e.prototype.inputBlurHandler=function(t){this.isPreventBlur&&this.isPopupOpen()?this.inputElement.focus():(this.closePopup(0,t),Ts([this.inputWrapper.container],[Ud]),this.trigger("blur",{model:this}),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,t):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null))},e.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),this.trigger("blur",{model:this}))},e.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-timepicker"))},e.prototype.inputFocusHandler=function(){var t={model:this};this.readonly||Js.isDevice||this.selectInputText(),this.trigger("focus",t),this.clearIconState()},e.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},e.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},e.prototype.show=function(t){this.enabled&&this.readonly||!this.enabled||this.popupWrapper||(this.popupCreation(),Js.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className="e-timepicker e-time-modal",document.body.className+=" e-time-overflow",document.body.appendChild(this.modal)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:t||null,name:"open",appendTo:document.body},this.trigger("open",this.openPopupEventArgs),this.openPopupEventArgs.cancel||this.inputWrapper.buttons[0].classList.contains("e-disabled")?(this.popupObj.destroy(),this.popupWrapper=this.listTag=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],this.popupObj=null):(this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.popupAlignment(this.openPopupEventArgs),this.setScrollPosition(),Js.isDevice||this.inputElement.focus(),this.popupObj.refreshPosition(this.anchor),this.popupObj.show(new su({name:"FadeIn",duration:50}),1e3===this.zIndex?this.element:null),this.setActiveDescendant(),Ms(this.inputElement,{"aria-expanded":"true"}),Es([this.inputWrapper.container],Ud),Cs.add(document,"mousedown touchstart",this.documentClickHandler,this)))},e.prototype.formatValues=function(t){var e;return"number"==typeof t?e=ys(t):"string"==typeof t&&(e=t.match(/px|%|em/)?t:isNaN(parseInt(t,10))?t:ys(t)),e},e.prototype.popupAlignment=function(t){if(t.popup.position.X=this.formatValues(t.popup.position.X),t.popup.position.Y=this.formatValues(t.popup.position.Y),isNaN(parseFloat(t.popup.position.X))&&isNaN(parseFloat(t.popup.position.Y))||(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(t.popup.position.X))||(this.popupObj.offsetX=parseFloat(t.popup.position.X)),isNaN(parseFloat(t.popup.position.Y))||(this.popupObj.offsetY=parseFloat(t.popup.position.Y)),Js.isDevice)"center"===t.popup.position.X&&"center"===t.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(t.popup.position.X){case"left":break;case"right":t.popup.offsetX=this.containerStyle.width;break;case"center":t.popup.offsetX=-this.containerStyle.width/2}switch(t.popup.position.Y){case"top":case"bottom":break;case"center":t.popup.offsetY=-this.containerStyle.height/2}"center"===t.popup.position.X&&"center"===t.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.getModuleName=function(){return"timepicker"},e.prototype.onPropertyChanged=function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];switch(r){case"placeholder":od.setPlaceholder(t.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",t.placeholder);break;case"readonly":od.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"cssClass":this.inputWrapper.container.className+=" "+t.cssClass,this.popupWrapper&&(this.popupWrapper.className+=" "+t.cssClass),this.setProperties({cssClass:t.cssClass},!0);break;case"enabled":this.setProperties({enabled:t.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:t.enableRtl},!0),this.setEnableRtl();break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0),this.setZIndex();break;case"min":case"max":this.getProperty(t,r);break;case"showClearButton":od.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:t.locale},!0),this.globalize=new Hu(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value);break;case"width":Fs(this.inputWrapper.container,{width:this.setWidth(t.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:t.format},!0),this.checkTimeFormat(),this.setValue(this.value);break;case"value":this.invalidValueString=null,this.checkInvalidValue(t.value),t.value=this.value,this.invalidValueString?(od.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton),this.checkErrorState(this.invalidValueString)):("string"==typeof t.value?(this.setProperties({value:this.checkDateValue(new Date(t.value))},!0),t.value=this.value):(t.value&&+new Date(+t.value).setMilliseconds(0))!==+this.value&&(t.value=this.checkDateValue(new Date(""+t.value))),this.initValue=t.value,t.value=this.compareFormatChange(this.checkValue(t.value))),this.checkValueChange(null,!1);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,od.removeFloating(this.inputWrapper),od.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":this.invalidValueString=null,t.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:t.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(t.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:t.scrollTo},!0)):this.setProperties({scrollTo:null},!0)}}},e.prototype.checkInValue=function(t){return t instanceof Date?t.toUTCString():""+t},Object(l.__decorate)([nu(null)],e.prototype,"width",void 0),Object(l.__decorate)([nu(null)],e.prototype,"cssClass",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"strictMode",void 0),Object(l.__decorate)([nu(null)],e.prototype,"format",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"enabled",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"readonly",void 0),Object(l.__decorate)([nu("Never")],e.prototype,"floatLabelType",void 0),Object(l.__decorate)([nu(null)],e.prototype,"placeholder",void 0),Object(l.__decorate)([nu(1e3)],e.prototype,"zIndex",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enablePersistence",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"showClearButton",void 0),Object(l.__decorate)([nu(30)],e.prototype,"step",void 0),Object(l.__decorate)([nu(null)],e.prototype,"scrollTo",void 0),Object(l.__decorate)([nu(null)],e.prototype,"value",void 0),Object(l.__decorate)([nu(null)],e.prototype,"min",void 0),Object(l.__decorate)([nu(null)],e.prototype,"max",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"allowEdit",void 0),Object(l.__decorate)([ou()],e.prototype,"change",void 0),Object(l.__decorate)([ou()],e.prototype,"created",void 0),Object(l.__decorate)([ou()],e.prototype,"destroyed",void 0),Object(l.__decorate)([ou()],e.prototype,"open",void 0),Object(l.__decorate)([ou()],e.prototype,"itemRender",void 0),Object(l.__decorate)([ou()],e.prototype,"close",void 0),Object(l.__decorate)([ou()],e.prototype,"blur",void 0),Object(l.__decorate)([ou()],e.prototype,"focus",void 0),Object(l.__decorate)([lu],e)}(Ku),Hd=(new Date).getDate(),zd=(new Date).getMonth(),Gd=(new Date).getFullYear(),Yd=(new Date).getHours(),Xd=(new Date).getMinutes(),Kd=(new Date).getSeconds(),Qd=(new Date).getMilliseconds(),Zd=_d.li,Jd=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.valueWithMinutes=null,i.previousDateTime=null,i}return Object(l.__extends)(e,t),e.prototype.focusHandler=function(){Es([this.inputWrapper.container],"e-input-focus")},e.prototype.focusIn=function(){t.prototype.focusIn.call(this)},e.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),Ts([this.inputWrapper.container],["e-input-focus"]))},e.prototype.blurHandler=function(t){if(this.isTimePopupOpen()&&this.isPreventBlur)this.inputElement.focus();else{Ts([this.inputWrapper.container],"e-input-focus");var e={model:this};this.isTimePopupOpen()&&this.hide(t),this.trigger("blur",e)}},e.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains("e-popup")&&(this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],fs(this.rippleFn)||this.rippleFn()),this.inputElement&&(od.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&Rs(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),t.prototype.destroy.call(this)},e.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,this.checkAttributes(),this.l10n=new ec("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),t.prototype.render.call(this),this.createInputElement(),this.bindInputEvents(),this.setValue(),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1))},e.prototype.setValue=function(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var e=this.validateMinMaxRange(this.initValue);od.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else fs(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,t.prototype.updateInput.call(this)},e.prototype.validateMinMaxRange=function(t){var e=t;return this.isDateObject(t)?e=this.validateValue(t):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(e),e},e.prototype.checkValidState=function(t){this.isValidState=!0,this.strictMode||(+t>+this.max||+t<+this.min)&&(this.isValidState=!1),this.checkErrorState()},e.prototype.checkErrorState=function(){this.isValidState?Ts([this.inputWrapper.container],"e-error"):Es([this.inputWrapper.container],"e-error"),Ms(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},e.prototype.validateValue=function(t){var e=t;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),e=this.max):+t<+this.min?e=this.min:+t>+this.max&&(e=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),e=t),e},e.prototype.disablePopupButton=function(t){t?(Es([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled"),this.hide()):Ts([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled")},e.prototype.getFormattedValue=function(t){var e;return fs(t)?null:(e="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(t,e))},e.prototype.isDateObject=function(t){return!fs(t)&&!isNaN(+t)},e.prototype.createInputElement=function(){Ts([this.inputElement],"e-datepicker"),Ts([this.inputWrapper.container],"e-date-wrapper"),Es([this.inputWrapper.container],"e-datetime-wrapper"),Es([this.inputElement],"e-datetimepicker"),this.renderTimeIcon()},e.prototype.renderTimeIcon=function(){this.timeIcon=od.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},e.prototype.bindInputEvents=function(){Cs.add(this.timeIcon,"mousedown",this.timeHandler,this),Cs.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),Cs.add(this.inputElement,"blur",this.blurHandler,this),Cs.add(this.inputElement,"focus",this.focusHandler,this),this.keyboardHandler=new tc(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.keyConfigs})},e.prototype.unBindInputEvents=function(){Cs.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),Cs.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(Cs.remove(this.inputElement,"blur",this.blurHandler),Cs.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},e.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?us("timeFormats.short",zu()):this.getCultureTimeObject(Bu,""+this.locale):this.timeFormat},e.prototype.cldrDateTimeFormat=function(){var t=new Hu(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?t+" "+this.getCldrFormat("time"):this.formatString},e.prototype.getCldrFormat=function(t){return"en"===this.locale||"en-US"===this.locale?us("timeFormats.short",zu()):this.getCultureTimeObject(Bu,""+this.locale)},e.prototype.isNullOrEmpty=function(t){return!!(fs(t)||"string"==typeof t&&""===t.trim())},e.prototype.getCultureTimeObject=function(t,e){return us("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",t)},e.prototype.timeHandler=function(e){Js.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&t.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),Es([this.inputWrapper.container],["e-input-focus"])))},e.prototype.dateHandler=function(t){t.currentTarget===this.inputWrapper.buttons[0]&&t.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(t),fs(this.popupWrapper)||this.popupCreation("date",t))},e.prototype.show=function(e,n){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(n),t.prototype.show.call(this),this.popupCreation("date",n)):(this.isDatePopupOpen()&&this.hide(n),this.popupCreation("time",n)))},e.prototype.toggle=function(e){this.isDatePopupOpen()?(t.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),t.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},e.prototype.listCreation=function(){var t;t=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var e=fs(this.value)?""!==this.inputElement.value?t:new Date:this.value;this.valueWithMinutes=e,this.listWrapper=Ss("div",{className:"e-content",attrs:{tabindex:"0"}});var n=this.startTime(e),i=this.endTime(e),r=xd.createListItems(this.createElement,n,i,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=r.collection,this.listTag=r.list,Ms(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Os([r.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=uu(this.listWrapper,{duration:300,selector:"."+Zd}),this.liCollections=this.listWrapper.querySelectorAll("."+Zd)},e.prototype.popupCreation=function(t,e){Js.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===t?!this.readonly&&this.popupWrapper&&(Es([this.popupWrapper],"e-datetimepopup-wrapper"),Ms(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=Ss("div",{className:"e-datetimepicker e-popup",attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),fs(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!fs(this.step)&&this.step>0&&(this.listCreation(),Os([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(e),this.popupObject.refreshPosition(this.inputElement))},e.prototype.openPopup=function(t){this.preventArgs={cancel:!1,popup:this.popupObject,event:t||null},this.trigger("open",this.preventArgs),this.preventArgs.cancel||this.readonly||(this.popupObject.show(new su({name:"FadeIn",duration:100}),1e3===this.zIndex?this.element:null),Es([this.inputWrapper.container],["e-icon-anim"]),Ms(this.inputElement,{"aria-expanded":"true"}),Cs.add(document,"mousedown touchstart",this.documentClickHandler,this))},e.prototype.documentClickHandler=function(t){"touchstart"!==t.type&&t.preventDefault();var e=t.target;Ls(e,"#"+(this.popupObject&&this.popupObject.element.id))||e===this.inputElement||e===this.timeIcon||e===this.inputWrapper.container?e!==this.inputElement&&(Js.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(Js.isIE||"edge"===Js.info.name),t.preventDefault())):this.isTimePopupOpen()&&(this.hide(t),this.focusOut())},e.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains("e-datetimepicker"))},e.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-datetimepopup-wrapper"))},e.prototype.renderPopup=function(){var t=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),Js.isDevice&&(this.timeModal=Ss("div"),this.timeModal.className="e-datetimepicker e-time-modal",document.body.className+=" e-time-overflow",this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new dh(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:Js.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:Js.isDevice?document.body:this.inputWrapper.container,position:Js.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){t.dateTimeWrapper.style.visibility="visible",Es([t.timeIcon],"e-active"),Js.isDevice||(t.inputEvent=new tc(t.inputWrapper.container,{keyAction:t.TimeKeyActionHandle.bind(t),keyConfigs:t.timekeyConfigure,eventName:"keydown"}))},close:function(){Ts([t.timeIcon],"e-active"),t.unWireTimeListEvents(),t.inputElement.setAttribute("aria-activedescendant","null"),Ps(t.popupObject.element),t.popupObject.destroy(),t.dateTimeWrapper.innerHTML="",t.listWrapper=t.dateTimeWrapper=void 0,t.inputEvent&&t.inputEvent.destroy()}}),this.popupObject.element.style.maxHeight="250px"},e.prototype.setDimension=function(t){return"number"==typeof t?ys(t):"string"==typeof t?t:"100%"},e.prototype.setPopupWidth=function(){var t=this.setDimension(this.width);return t.indexOf("%")>-1&&(t=(this.containerStyle.width*parseFloat(t)/100).toString()+"px"),t},e.prototype.wireTimeListEvents=function(){Cs.add(this.listWrapper,"click",this.onMouseClick,this),Js.isDevice||(Cs.add(this.listWrapper,"mouseover",this.onMouseOver,this),Cs.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},e.prototype.unWireTimeListEvents=function(){this.listWrapper&&(Cs.remove(this.listWrapper,"click",this.onMouseClick),Cs.remove(document,"mousedown touchstart",this.documentClickHandler),Js.isDevice||(Cs.add(this.listWrapper,"mouseover",this.onMouseOver,this),Cs.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},e.prototype.onMouseOver=function(t){var e=Ls(t.target,"."+Zd);this.setTimeHover(e,"e-hover")},e.prototype.onMouseLeave=function(){this.removeTimeHover("e-hover")},e.prototype.setTimeHover=function(t,e){this.enabled&&this.isValidLI(t)&&!t.classList.contains(e)&&(this.removeTimeHover(e),Es([t],e))},e.prototype.getPopupHeight=function(){var t=parseInt("250px",10),e=this.dateTimeWrapper.getBoundingClientRect().height;return e>t?t:e},e.prototype.changeEvent=function(e){+this.previousDateTime!=+this.value&&(t.prototype.changeEvent.call(this,e),this.inputElement.focus(),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},e.prototype.updateValue=function(t){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:t||null,isInteracted:!fs(t),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)},e.prototype.setTimeScrollPosition=function(){var t;fs(t=this.selectedElement)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(t)},e.prototype.findScrollTop=function(t){var e=this.getPopupHeight(),n=t.nextElementSibling,i=n?n.offsetTop:t.offsetTop,r=t.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=i+t.offsetTop>e?n?i-(e/2+r/2):i:0},e.prototype.setScrollTo=function(){var t,e=this.dateTimeWrapper.querySelectorAll("."+Zd);if(e.length>=0){var n=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();t=e[Math.round((i-n)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;fs(t)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(t)},e.prototype.setInputValue=function(t){if("date"===t)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var e=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));od.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}this.updateIconState()},e.prototype.getFullDateTime=function(){var t;return t=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(t)},e.prototype.combineDateTime=function(t){if(this.isDateObject(t)){var e=this.previousDate.getDate(),n=this.previousDate.getMonth(),i=this.previousDate.getFullYear(),r=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return new Date(i,n,e,r,o,l)}return this.previousDate},e.prototype.onMouseClick=function(t){var e=this.selectedElement=Ls(t.target,"."+Zd);e&&e.classList.contains(Zd)&&(this.timeValue=e.getAttribute("data-value"),this.hide(t)),this.setSelection(e,t)},e.prototype.setSelection=function(t,e){if(this.isValidLI(t)&&!t.classList.contains("e-active")){t.getAttribute("data-value"),this.selectedElement=t;var n=Array.prototype.slice.call(this.liCollections).indexOf(t);this.activeIndex=n,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),Es([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(e)}},e.prototype.setTimeActiveClass=function(){var t=fs(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!fs(t)){var e=t.querySelectorAll("."+Zd);if(e.length)for(var n=0;n<e.length;n++)if(this.timeCollections[n]===+this.valueWithMinutes){e[n].setAttribute("aria-selected","true"),this.selectedElement=e[n],this.activeIndex=n,this.setTimeActiveDescendant();break}}},e.prototype.setTimeActiveDescendant=function(){fs(this.selectedElement)?Ms(this.inputElement,{"aria-activedescendant":"null"}):Ms(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},e.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),fs(this.selectedElement)||(Es([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},e.prototype.removeTimeSelection=function(){if(this.removeTimeHover("e-hover"),!fs(this.dateTimeWrapper)){var t=this.dateTimeWrapper.querySelectorAll(".e-active");t.length&&(Ts(t,"e-active"),t[0].removeAttribute("aria-selected"))}},e.prototype.removeTimeHover=function(t){var e=this.getTimeHoverItem(t);e&&e.length&&Ts(e,t)},e.prototype.getTimeHoverItem=function(t){var e,n=fs(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return fs(n)||(e=n.querySelectorAll("."+t)),e},e.prototype.isValidLI=function(t){return t&&t.classList.contains(Zd)&&!t.classList.contains("e-disabled")},e.prototype.calculateStartEnd=function(t,e,n){var i=t.getDate(),r=t.getMonth(),o=t.getFullYear(),l=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds();return e?"starttime"===n?new Date(o,r,i,0,0,0):new Date(o,r,i,23,59,59):new Date(o,r,i,l,a,s,u)},e.prototype.startTime=function(t){var e,n,i,r=this.min;return+(i=null===t?new Date:t).getDate()==+r.getDate()&&+i.getMonth()==+r.getMonth()&&+i.getFullYear()==+r.getFullYear()||+new Date(i.getFullYear(),i.getMonth(),i.getDate())<=+new Date(r.getFullYear(),r.getMonth(),r.getDate())?(n=!1,e=this.min):+i<+this.max&&+i>+this.min?(n=!0,e=i):+i>=+this.max&&(n=!0,e=this.max),this.calculateStartEnd(e,n,"starttime")},e.prototype.endTime=function(t){var e,n,i,r=this.max;return+(i=null===t?new Date:t).getDate()==+r.getDate()&&+i.getMonth()==+r.getMonth()&&+i.getFullYear()==+r.getFullYear()||+new Date(i.getUTCFullYear(),i.getMonth(),i.getDate())>=+new Date(r.getFullYear(),r.getMonth(),r.getDate())?(n=!1,e=this.max):+i<+this.max&&+i>+this.min?(n=!0,e=i):+i<=+this.min&&(n=!0,e=this.min),this.calculateStartEnd(e,n,"endtime")},e.prototype.hide=function(e){(this.popupObj||this.dateTimeWrapper)&&(this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null},fs(this.popupObj)&&this.trigger("close",this.preventArgs),this.preventArgs.cancel||(this.isDatePopupOpen()?t.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),Ts([document.body],"e-time-overflow"),Js.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant()))),Js.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},e.prototype.closePopup=function(t){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new su({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove("e-icon-anim"),Ms(this.inputElement,{"aria-expanded":"false"}),Cs.remove(document,"mousedown touchstart",this.documentClickHandler))},e.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),t.prototype.preRender.call(this),Ts([this.inputElementCopy],["e-datetimepicker"])},e.prototype.getProperty=function(t,e){this.setProperties("min"===e?{min:this.validateValue(t.min)}:{max:this.validateValue(t.max)},!0)},e.prototype.checkAttributes=function(){for(var t,e=0,n=["style","name","step","disabled","readonly","value","min","max","placeholder","type"];e<n.length;e++){var i=n[e];if(!fs(this.inputElement.getAttribute(i)))switch(i){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(i));break;case"step":this.step=parseInt(this.inputElement.getAttribute(i),10);break;case"readonly":var r=!fs(this.inputElement.getAttribute(i));this.setProperties({readonly:r},!0);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(i);break;case"min":t=new Date(this.inputElement.getAttribute(i)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!0);break;case"disabled":var o=fs(this.inputElement.getAttribute(i));this.setProperties({enabled:o},!0);break;case"max":t=new Date(this.inputElement.getAttribute(i)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!0)}}},e.prototype.requiredModules=function(){var t=[];return this&&t.push({args:[this],member:"islamic"}),t},e.prototype.getTimeActiveElement=function(){return fs(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll(".e-active")},e.prototype.createDateObj=function(t){return t instanceof Date?t:null},e.prototype.getDateObject=function(t){if(!this.isNullOrEmpty(t)){var e=this.createDateObj(t),n=this.valueWithMinutes,i=!fs(n);if(this.checkDateValue(e)){var r=i?n.getDate():Hd,o=i?n.getMonth():zd,l=i?n.getFullYear():Gd,a=i?n.getHours():Yd,s=i?n.getMinutes():Xd,u=i?n.getSeconds():Kd,c=i?n.getMilliseconds():Qd;return new Date(l,o,r,a,s,u,c)}}return null},e.prototype.findNextTimeElement=function(t){var e=this.inputElement.value,n=fs(this.valueWithMinutes)?this.createDateObj(e):this.getDateObject(this.valueWithMinutes),i=null,r=this.liCollections.length;if(!fs(this.activeIndex)||!fs(this.checkDateValue(n))){if("home"===t.action)i=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===t.action)i=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===t.action){for(var o=0;o<r;o++)if(+n<this.timeCollections[o]){i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(o=r-1;o>=0;o--)if(+n>this.timeCollections[o]){i=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(fs(i)?null:new Date(i))}},e.prototype.setTimeValue=function(t,e){var n,i,r=this.validateMinMaxRange(e),o=this.createDateObj(r);return this.getFormattedValue(o)!==(fs(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=fs(o)?null:o,i=new Date(+this.valueWithMinutes)):(this.strictMode&&(t=o),this.valueWithMinutes=this.checkDateValue(t),i=new Date(+this.valueWithMinutes)),n=this.globalize.formatDate(i,"Gregorian"===this.calendarMode?{format:fs(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:fs(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&fs(i),od.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton),i},e.prototype.timeElementValue=function(t){if(!fs(this.checkDateValue(t))&&!this.isNullOrEmpty(t)){var e=t instanceof Date?t:this.getDateObject(t);return this.setTimeValue(e,t)}return null},e.prototype.timeKeyHandler=function(t){if(!(fs(this.step)||this.step<=0)){var e=this.timeCollections.length;if(fs(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(fs(this.value)&&fs(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(t));else{var n=void 0;if(t.keyCode>=37&&t.keyCode<=40){var i=40===t.keyCode||39===t.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=this.activeIndex===e?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?e-1:this.activeIndex,n=fs(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]}else"home"===t.action?(this.activeIndex=0,n=this.timeCollections[0]):"end"===t.action&&(this.activeIndex=e-1,n=this.timeCollections[e-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(n))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||t&&"click"===t.type||this.setTimeScrollPosition()}},e.prototype.TimeKeyActionHandle=function(t){if(this.enabled)switch("right"!==t.action&&"left"!==t.action&&"tab"!==t.action&&t.preventDefault(),t.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(t);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(t),this.hide(t),Es([this.inputWrapper.container],"e-input-focus"),this.isNavigate=!1,t.stopPropagation();break;case"escape":this.hide(t);break;default:this.isNavigate=!1}},e.prototype.inputKeyAction=function(t){switch(t.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(t)}},e.prototype.onPropertyChanged=function(e,n){for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];switch(o){case"value":this.cldrDateTimeFormat(),this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),od.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null);break;case"min":case"max":this.getProperty(e,o),this.updateInput();break;case"enableRtl":od.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":od.setCssClass(e.cssClass,[this.inputWrapper.container]),this.dateTimeWrapper&&(this.dateTimeWrapper.className+=" "+e.cssClass);break;case"locale":this.globalize=new Hu(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),od.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),t.prototype.updateInput.call(this);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue();break;case"placeholder":od.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":od.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1),this.bindEvents();break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":od.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,od.removeFloating(this.inputWrapper),od.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:e.scrollTo},!0)):this.setProperties({scrollTo:null},!0);break;default:t.prototype.onPropertyChanged.call(this,e,n)}this.hide(null)}},e.prototype.getModuleName=function(){return"datetimepicker"},e.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=fs(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},Object(l.__decorate)([nu(null)],e.prototype,"timeFormat",void 0),Object(l.__decorate)([nu(30)],e.prototype,"step",void 0),Object(l.__decorate)([nu(null)],e.prototype,"scrollTo",void 0),Object(l.__decorate)([nu(1e3)],e.prototype,"zIndex",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"enablePersistence",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"allowEdit",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"isMultiSelection",void 0),Object(l.__decorate)([nu(null)],e.prototype,"values",void 0),Object(l.__decorate)([nu(!0)],e.prototype,"showClearButton",void 0),Object(l.__decorate)([nu(null)],e.prototype,"placeholder",void 0),Object(l.__decorate)([nu(!1)],e.prototype,"strictMode",void 0),Object(l.__decorate)([ou()],e.prototype,"open",void 0),Object(l.__decorate)([ou()],e.prototype,"close",void 0),Object(l.__decorate)([ou()],e.prototype,"blur",void 0),Object(l.__decorate)([ou()],e.prototype,"focus",void 0),Object(l.__decorate)([ou()],e.prototype,"created",void 0),Object(l.__decorate)([ou()],e.prototype,"destroyed",void 0),Object(l.__decorate)([lu],e)}(ud),$d=["focus","blur","change","created","destroyed","navigated","renderDayCell","valueChange","valuesChange"],tp=["value","values"],ep=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var l=o.injector.get("CalendarsIslamic");-1===o.injectedModules.indexOf(l)&&o.injectedModules.push(l)}catch(t){}return o.registerEvents($d),o.addTwoWay.call(o,tp),wc("currentInstance",o,o.viewContainerRef),o}return Object(l.__extends)(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(Lc);ep=Object(l.__decorate)([bc([_c,Cc])],ep);var np=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},ip=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rp=["blur","change","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],op=["value"],lp=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var l=o.injector.get("CalendarsIslamic");-1===o.injectedModules.indexOf(l)&&o.injectedModules.push(l)}catch(t){}return o.registerEvents(rp),o.addTwoWay.call(o,op),wc("currentInstance",o,o.viewContainerRef),o}return Object(l.__extends)(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(ud);lp=np([bc([_c,Cc]),ip("design:paramtypes",[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector])],lp);var ap=function(){},sp=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},up=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},cp=["blur","change","close","created","destroyed","focus","itemRender","open","valueChange"],hp=["value"],dp=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[],o.registerEvents(cp),o.addTwoWay.call(o,hp),wc("currentInstance",o,o.viewContainerRef),o}return Object(l.__extends)(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(Wd);dp=sp([bc([_c,Cc]),up("design:paramtypes",[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector])],dp);var pp=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},fp=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gp=["blur","change","close","created","destroyed","focus","navigated","open","renderDayCell","select","startDateChange","endDateChange","valueChange"],mp=["startDate","endDate","value"],vp=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.tags=["presets"],o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[],o.registerEvents(gp),o.addTwoWay.call(o,mp),wc("currentInstance",o,o.viewContainerRef),o}return Object(l.__extends)(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(Ld);pp([Sc(),fp("design:type",Object)],vp.prototype,"start",void 0),pp([Sc(),fp("design:type",Object)],vp.prototype,"end",void 0),vp=pp([bc([_c,Cc]),fp("design:paramtypes",[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector])],vp);var yp=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,l=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},bp=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wp=["blur","change","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],_p=["value"],Cp=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.ngEle=e,o.srenderer=n,o.viewContainerRef=i,o.injector=r,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[];try{var l=o.injector.get("CalendarsIslamic");-1===o.injectedModules.indexOf(l)&&o.injectedModules.push(l)}catch(t){}return o.registerEvents(wp),o.addTwoWay.call(o,_p),wc("currentInstance",o,o.viewContainerRef),o}return Object(l.__extends)(e,t),e.prototype.registerOnChange=function(t){},e.prototype.registerOnTouched=function(t){},e.prototype.writeValue=function(t){},e.prototype.setDisabledState=function(t){},e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterContentChecked=function(){},e}(Jd);Cp=yp([bc([_c,Cc]),bp("design:paramtypes",[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector])],Cp);var xp=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Sp(t){return i["\u0275vid"](2,[],null,null)}var Ep=function(t){"string"==typeof t&&(this.id=this.text=t),"object"==typeof t&&(this.id=t.id,this.text=t.text)},Tp=(Object(i.forwardRef)(function(){return kp}),function(){}),kp=function(){function t(t){this.cdr=t,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this.filter=new Ep(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1},this.disabled=!1,this.onFilterChange=new i.EventEmitter,this.onDropDownClose=new i.EventEmitter,this.onSelect=new i.EventEmitter,this.onDeSelect=new i.EventEmitter,this.onSelectAll=new i.EventEmitter,this.onDeSelectAll=new i.EventEmitter,this.onTouchedCallback=Tp,this.onChangeCallback=Tp}return Object.defineProperty(t.prototype,"placeholder",{set:function(t){this._placeholder=t||"Select"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settings",{set:function(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{set:function(t){var e=this;this._data=t?t.map(function(t){return new Ep("string"==typeof t?t:{id:t[e._settings.idField],text:t[e._settings.textField]})}):[]},enumerable:!0,configurable:!0}),t.prototype.onFilterTextChange=function(t){this.onFilterChange.emit(t)},t.prototype.onItemClick=function(t,e){if(this.disabled)return!1;var n=this.isSelected(e),i=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(e):i&&this.addSelected(e),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()},t.prototype.writeValue=function(t){var e=this;if(void 0!==t&&null!==t&&t.length>0)if(this._settings.singleSelection)try{if(t.length>=1){var n=t[0];this.selectedItems=[new Ep("string"==typeof n?n:{id:n[this._settings.idField],text:n[this._settings.textField]})]}}catch(t){}else{var i=t.map(function(t){return new Ep("string"==typeof t?t:{id:t[e._settings.idField],text:t[e._settings.textField]})});this.selectedItems=this._settings.limitSelection>0?i.splice(0,this._settings.limitSelection):i}else this.selectedItems=[];this.onChangeCallback(t)},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.onTouched=function(){this.closeDropdown(),this.onTouchedCallback()},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.isSelected=function(t){var e=!1;return this.selectedItems.forEach(function(n){t.id===n.id&&(e=!0)}),e},t.prototype.isLimitSelectionReached=function(){return this._settings.limitSelection===this.selectedItems.length},t.prototype.isAllItemsSelected=function(){return this._data.length===this.selectedItems.length},t.prototype.showButton=function(){return!(this._settings.singleSelection||this._settings.limitSelection>0)},t.prototype.itemShowRemaining=function(){return this.selectedItems.length-this._settings.itemsShowLimit},t.prototype.addSelected=function(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))},t.prototype.removeSelected=function(t){var e=this;this.selectedItems.forEach(function(n){t.id===n.id&&e.selectedItems.splice(e.selectedItems.indexOf(n),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))},t.prototype.emittedValue=function(t){var e=this,n=[];if(Array.isArray(t))t.map(function(t){n.push(t.id===t.text?t.text:e.objectify(t))});else if(t)return t.id===t.text?t.text:this.objectify(t);return n},t.prototype.objectify=function(t){var e={};return e[this._settings.idField]=t.id,e[this._settings.textField]=t.text,e},t.prototype.toggleDropdown=function(t){t.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())},t.prototype.closeDropdown=function(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()},t.prototype.toggleSelectAll=function(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this._data.slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))},t}(),Ap=function(){function t(t){this._elementRef=t,this.clickOutside=new i.EventEmitter}return t.prototype.onClick=function(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))},t}(),Dp=function(){function t(){}return t.prototype.transform=function(t,e){var n=this;return t&&e?t.filter(function(t){return n.applyFilter(t,e)}):t},t.prototype.applyFilter=function(t,e){return!(e.text&&t.text&&-1===t.text.toLowerCase().indexOf(e.text.toLowerCase()))},t}(),Op=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t}(),Ip=i["\u0275crt"]({encapsulation:0,styles:[".multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:'';color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:all .4s ease}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:'';position:absolute;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:50%;transform-origin:50%;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;-webkit-transform:rotate(-45deg) scale(0);transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:'';transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;-webkit-transform:rotate(-45deg) scale(1);transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}"],data:{}});function Rp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component._placeholder)})}function Pp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"span",[["class","selected-item"]],[[8,"hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n        ","\n        "])),(t()(),i["\u0275eld"](2,0,null,null,1,"a",[["style","padding-top:2px;padding-left:2px;color:white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onItemClick(n,t.context.$implicit)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["x"])),(t()(),i["\u0275ted"](-1,null,["\n      "]))],null,function(t,e){t(e,0,0,e.context.index>e.component._settings.itemsShowLimit-1),t(e,1,0,e.context.$implicit.text)})}function Mp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"span",[["style","padding-right: 6px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["+",""]))],null,function(t,e){t(e,1,0,e.component.itemShowRemaining())})}function Np(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"li",[["class","multiselect-item-checkbox"],["style","border-bottom: 1px solid #ccc;padding:10px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleSelectAll()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](2,0,null,null,0,"input",[["aria-label","multiselect-select-all"],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](4,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n      "]))],null,function(t,e){var n=e.component;t(e,2,0,n.isAllItemsSelected(),n.disabled||n.isLimitSelectionReached()),t(e,5,0,n.isAllItemsSelected()?n._settings.unSelectAllText:n._settings.selectAllText)})}function jp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"li",[["class","filter-textbox"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](2,0,null,null,5,"input",[["aria-label","multiselect-search"],["type","text"]],[[8,"readOnly",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,3)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,3).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,3)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,3)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.filter.text=n)&&r),"ngModelChange"===e&&(r=!1!==o.onFilterTextChange(n)&&r),r},null,null)),i["\u0275did"](3,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](5,671744,null,0,gl,[[8,null],[8,null],[8,null],[2,bo]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,ko,null,[gl]),i["\u0275did"](7,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n      "]))],function(t,e){t(e,5,0,e.component.filter.text)},function(t,e){var n=e.component;t(e,2,0,n.disabled,n._settings.searchPlaceholderText,i["\u0275nov"](e,7).ngClassUntouched,i["\u0275nov"](e,7).ngClassTouched,i["\u0275nov"](e,7).ngClassPristine,i["\u0275nov"](e,7).ngClassDirty,i["\u0275nov"](e,7).ngClassValid,i["\u0275nov"](e,7).ngClassInvalid,i["\u0275nov"](e,7).ngClassPending)})}function Lp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"li",[["class","multiselect-item-checkbox"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onItemClick(n,t.context.$implicit)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](2,0,null,null,0,"input",[["aria-label","multiselect-item"],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](4,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n      "]))],null,function(t,e){var n=e.component;t(e,2,0,n.isSelected(e.context.$implicit),n.disabled||n.isLimitSelectionReached()&&!n.isSelected(e.context.$implicit)),t(e,5,0,e.context.$implicit.text)})}function Fp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"li",[["class","no-data"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](2,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n      "]))],null,function(t,e){t(e,3,0,e.component._settings.noDataAvailablePlaceholderText)})}function Vp(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,45,"div",[["class","multiselect-dropdown"],["tabindex","=0"]],null,[[null,"blur"],[null,"clickOutside"],["document","click"]],function(t,e,n){var r=!0,o=t.component;return"document:click"===e&&(r=!1!==i["\u0275nov"](t,1).onClick(n,n.target)&&r),"blur"===e&&(r=!1!==o.onTouched()&&r),"clickOutside"===e&&(r=!1!==o.closeDropdown()&&r),r},null,null)),i["\u0275did"](1,16384,null,0,Ap,[i.ElementRef],null,{clickOutside:"clickOutside"}),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](3,0,null,null,19,"div",[],[[2,"disabled",null]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](5,0,null,null,16,"span",[["class","dropdown-btn"],["tabindex","-1"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleDropdown(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Rp)),i["\u0275did"](8,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Pp)),i["\u0275did"](11,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](13,0,null,null,7,"span",[["style","float:right !important;padding-right:4px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Mp)),i["\u0275did"](16,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](18,0,null,null,1,"span",[],null,null,null,null,null)),i["\u0275did"](19,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](24,0,null,null,20,"div",[["class","dropdown-list"]],[[8,"hidden",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](26,0,null,null,7,"ul",[["class","item1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Np)),i["\u0275did"](29,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,jp)),i["\u0275did"](32,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](35,0,null,null,8,"ul",[["class","item2"]],[[4,"maxHeight",null]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,2,null,Lp)),i["\u0275did"](38,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),i["\u0275pid"](0,Dp,[]),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Fp)),i["\u0275did"](42,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,8,0,0==n.selectedItems.length),t(e,11,0,n.selectedItems,n.trackByFn),t(e,16,0,n.itemShowRemaining()>0),t(e,19,0,n._settings.defaultOpen?"dropdown-up":"dropdown-down"),t(e,29,0,n._data.length>0&&!n._settings.singleSelection&&n._settings.enableCheckAll&&-1===n._settings.limitSelection),t(e,32,0,n._data.length>0&&n._settings.allowSearchFilter),t(e,38,0,i["\u0275unv"](e,38,0,i["\u0275nov"](e,39).transform(n._data,n.filter))),t(e,42,0,0==n._data.length)},function(t,e){var n=e.component;t(e,3,0,n.disabled),t(e,24,0,!n._settings.defaultOpen),t(e,35,0,n._settings.maxHeight+"px")})}n("81U9");var Bp=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Up=[{Jan:{name:"January",short:"Jan",number:"01",days:"31"},Feb:{name:"February",short:"Feb",number:"2",days:"28"},Mar:{name:"March",short:"Mar",number:"03",days:"31"},Apr:{name:"April",short:"Apr",number:"04",days:"30"},May:{name:"May",short:"May",number:"05",days:"31"},Jun:{name:"June",short:"Jun",number:"06",days:"30"},Jul:{name:"July",short:"Jul",number:"07",days:"31"},Aug:{name:"August",short:"Aug",number:"08",days:"31"},Sep:{name:"September",short:"Sep",number:"09",days:"30"},Oct:{name:"October",short:"Oct",number:"10",days:"31"},Nov:{name:"November",short:"Nov",number:"11",days:"30"},Dec:{name:"December",short:"Dec",number:"12",days:"31"}}],qp=function(){function t(t,e,n,i,r,o,l){var a=this;this.notesService=t,this.auth=e,this.adGroupService=n,this.http=i,this.afs=r,this.router=o,this.adsService=l,this.button_payments=!0,this.ad_group_tab_content=[],this.ad_groups_list_id=[],this.ads_list_id=[],this.number_of_impressions=0,this.isCreating=!1,this.isAdGroup=!1,this.isCiblage=!1,this.labelDateStart="Date de d\xe9but",this.labelDateEnd="Date de fin",this.labelServing="Actuellemnt en diffusion",this.labelNotServing="Non diffus\xe9e, changer la date de d\xe9but pour commencer la diffusion",this.labelSuspended="Suspendu",this.labelNone="Pas assez de fonds displonible pour d\xe9marrer une campagne",this.labelEnded="Campagne publicitaire termin\xe9e",this.text_status_deactive_campaign="D\xe9sactiv\xe9e",this.text_status_active_campaign="Activ\xe9e",this.text_no_zone="Aucune zone cibl\xe9e",this.sn="Tout le S\xe9n\xe9gal",this.dk="Dakar",this.generale="G\xe9n\xe9ral",this.ages=[],this.sexes=[],this.zones=[],this.devices=[],this.isCiblageGenre=!1,this.isCiblageAge=!1,this.isCiblageDevices=!1,this.isPlacement=!1,this.dure_campagne=0,this.budget_to_place=0,this.my_gain=0,this.number_of_impressions_simulated=0,this.montant=0,this.accountValue=0,this.modifyDate=!1,this.isSetBudget=!1,this.isAccountRechargement=!1,this.isPlacementBudgetFromAccount=!1,this.isRoller=!1,this.isSimulation=!1,this.nationals_websites=[],this.internationals_websites=[],this.ads_websites=[],this.apps=[],this.barChartOptions={scaleShowVerticalLines:!1,responsive:!0},this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.barChartData=[{data:[0],label:"Clicks"},{data:[0],label:"Co\xfbt"},{data:[0],label:"Impressions"}],this.dropdownListAges=[],this.dropdownListSexes=[],this.dropdownListZones=[],this.dropdownListDevices=[],this.dropdownListNationalsWebsites=[],this.dropdownListInternationalsWebsites=[],this.dropdownListAdsWebsites=[],this.dropdownListApps=[],this.selectedItems=[],this.selectedZones=[],this.dropdownSettingsAges={},this.dropdownSettingsSexes={},this.dropdownSettingsZones={},this.dropdownSettingsDevices={},this.dropdownSettingsNationalsWebsites={},this.dropdownSettingsInternationalsWebsites={},this.dropdownSettingsAdsWebsites={},this.dropdownSettingsApps={},this.NATIONALS_WEBSITES=[[1,"infos","dakarbuzz.net","http://dakarbuzz.net"],[2,"infos","galsen221.com","http://galsen221.com"],[3,"infos","leral.net","http://leral.net"],[4,"infos","limametti.com","http://limametti.com"],[5,"infos","sanslimitesn.com","http://sanslimitesn.com"],[6,"infos","senego.com","http://senego.com"],[7,"infos","seneweb.com","http://seneweb.com"],[8,"infos","www.buzzsenegal.com","http://www.buzzsenegal.com"],[9,"infos","www.dakar7.com","http://www.dakar7.com"],[10,"infos","www.dakarflash.com","http://www.dakarflash.com"],[11,"infos","www.lequotidien.sn","http://www.lequotidien.sn"],[12,"infos","www.pressafrik.com","http://www.pressafrik.com"],[13,"infos","www.senenews.com","http://www.senenews.com"],[14,"infos","xalimasn.com","http://xalimasn.com"],[15,"infos","metrodakar.net","http://metrodakar.net"],[16,"infos","sunubuzzsn.com","http://sunubuzzsn.com"],[17,"infos","senegal7.com","http://senegal7.com"],[18,"infos","senescoop.net","http://senescoop.net"],[19,"infos","sunugal24.net","http://sunugal24.net"],[20,"infos","dakar92.com","http://dakar92.com"],[21,"infos","rumeurs221.com","http://rumeurs221.com"],[22,"infos","bonjourdakar.com","http://bonjourdakar.com"],[23,"infos","vipeoples.net","http://vipeoples.net"],[24,"infos","seneplus.com","http://seneplus.com"],[25,"infos","wiwsport.com","http://wiwsport.com"],[26,"infos","viberadio.sn","http://viberadio.sn"],[27,"infos","yerimpost.com","http://yerimpost.com"],[28,"infos","ndarinfo.com","http://ndarinfo.com"],[29,"infos","dakarposte.com","http://dakarposte.com"],[30,"infos","exclusif.net","http://exclusif.net"],[31,"infos","senegaldirect.net","http://senegaldirect.net"]],this.INTERNATIONALS_WEBSITES=[[1,"sport ","footmercato.net","http://www.footmercato.net"],[2,"infos","lexpress.fr","http://www.lexpress.fr"],[3,"sport ","mercatolive.fr","http://www.mercatolive.fr"],[4,"sport ","maxifoot.fr","http://maxifoot.fr"],[5,"sport ","livefoot.fr","http://livefoot.fr"],[6,"forum","01net.com","http://01net.com"],[7,"sport ","le10sport.com","http://le10sport.com"],[8,"sport ","maxifoot-live.com","http://maxifoot-live.com"],[9,"forum","01net.com","http://01net.com"],[10,"infos","bfmtv.com","http://bfmtv.com"],[11,"sport ","besoccer.com","http://besoccer.com"],[12,"sport ","foot01.com","http://foot01.com"],[13,"sport ","basketsession.com","http://basketsession.com"],[14,"sport ","basket-infos.com","http://basket-infos.com"],[15,"infos","skyrock.com","http://skyrock.com"],[16,"infos","leparisien.fr","http://leparisien.fr"]],this.SITES_ANNONCES=[[1,"annonces","deals.jumia.sn","http://deals.jumia.sn"],[2,"annonces","expat-dakar.com","http://expat-dakar.com"],[3,"annonces","coinafrique.com","http://coinafrique.com"]],this.APP_MOBILES=[[1,"App","Senego","https://play.google.com/store/apps/details?id=com.nextwebart.senego"],[2,"App","Super-Bright LED Flashlight ","https://play.google.com/store/apps/details?id=com.surpax.ledflashlight.panel"],[3,"App","CallApp: Caller ID","https://play.google.com/store/apps/details?id=com.callapp.contacts"],[4,"App","PhotoGrid: Video & Pic Collage Maker, ","https://play.google.com/store/apps/details?id=com.roidapp.photogrid"],[5,"App","Bubble Shooter ","https://play.google.com/store/apps/details?id=bubbleshooter.orig"],[6,"App"," MAX Cleaner - Antivirus, Phone Cleaner","https://play.google.com/store/apps/details?id=com.oneapp.max.cleaner.booster"],[7,"App","Block Puzzle ","https://play.google.com/store/apps/details?id=com.puzzlegamesclassic.tetris.blockpuzzle"],[8,"App","Bubble Breaker ","https://play.google.com/store/apps/details?id=com.faceplus.bubble.breaker"],[9,"App","Flashlight ","https://play.google.com/store/apps/details?id=com.splendapps.torch"],[10,"App","Photo Lock App ","https://play.google.com/store/apps/details?id=vault.gallery.lock"]],this.getUser().then(function(t){console.log(t),console.log(a.id_campagne)})}return t.prototype.getDateArray=function(t,e){var n=new Array,i=new Date(t),r=new Date(e);for(console.log(i);i<=r;)n.push(new Date(i).getDate()+"/"+(new Date(i).getMonth()+1)+"/"+new Date(i).getFullYear()),i.setDate(i.getDate()+1);return n},t.prototype.getUser=function(){var t=this;return new Promise(function(e){setTimeout(function(){t.auth.user.forEach(function(n){t.email=n.email,t.accountValue="number"==typeof n.account_value?n.account_value:parseInt(n.account_value),e(n.uid)})},2e3)})},t.prototype.ngOnInit=function(){var t=this;this.auth.user.subscribe(function(e){t.notesService.getCampaignRealTimeData(e.uid,t.id_campagne),t.notesService.getSingleCampaign(t.id_campagne,t.name).subscribe(function(e){e.forEach(function(e){t.startDateFrench=e.startDateFrench,t.endDateFrench=e.endDateFrench,t.dure_campagne=t.datediff(t.parseDate(e.startDateFrench),t.parseDate(e.endDateFrench)),t.servingStatus=e.servingStatus,t.zone=e.zones,t.appareils=e.devices,t.populations=e.ages,t.genres=e.sexes,console.log(e.startDate);var n=e.startDate.slice(0,4)+"-"+e.startDate.slice(4,6)+"-"+e.startDate.slice(6,8),i=e.endDate.slice(0,4)+"-"+e.endDate.slice(4,6)+"-"+e.endDate.slice(6,8);console.log(n),console.log(i);var r=t.getDateArray(n,i);console.log(r);for(var o=0;o<r.length;o++)t.barChartLabels.push(r[o]),console.log(t.barChartLabels)})})}),this.adgroups=this.adGroupService.getListAdGroup(this.id_campagne),this.adgroups.forEach(function(e){console.log(e),t.number_ad_groups=e.length>0?e.length:"0"}),this.dropdownListZones=[{item_id:9067846,item_text:this.dk},{item_id:2686,item_text:this.sn}],this.dropdownSettingsZones={singleSelection:!0,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,searchPlaceholderText:"Rechercher"},this.dropdownListAges=[{item_id:503999,item_text:"ind\xe9termin\xe9"},{item_id:503001,item_text:"18-24 ans"},{item_id:503002,item_text:"25-34 ans"},{item_id:503003,item_text:"35-44 ans"},{item_id:503004,item_text:"45-54 ans"},{item_id:503005,item_text:"55-64 ans"},{item_id:503006,item_text:"+64 ans"}],this.dropdownListSexes=[{item_id:20,item_text:"ind\xe9termin\xe9"},{item_id:10,item_text:"Hommes"},{item_id:11,item_text:"Femmes"}],this.dropdownListDevices=[{item_id:3e4,item_text:"Ordinateurs"},{item_id:30001,item_text:"Mobiles"},{item_id:30002,item_text:"Tablettes"},{item_id:30004,item_text:"Tv Connect\xe9e"}],this.dropdownListZones=[{item_id:9070424,item_text:"Dakar"},{item_id:9070424,item_text:"S\xe9n\xe9gal"}];for(var e=0;e<this.NATIONALS_WEBSITES.length;e++)console.log(this.NATIONALS_WEBSITES[e][2]),this.dropdownListNationalsWebsites.push({item_id:this.NATIONALS_WEBSITES[e][3],item_text:this.NATIONALS_WEBSITES[e][2]});for(e=0;e<this.INTERNATIONALS_WEBSITES.length;e++)this.dropdownListInternationalsWebsites.push({item_id:this.INTERNATIONALS_WEBSITES[e][3],item_text:this.INTERNATIONALS_WEBSITES[e][2]});for(e=0;e<this.SITES_ANNONCES.length;e++)this.dropdownListAdsWebsites.push({item_id:this.SITES_ANNONCES[e][3],item_text:this.SITES_ANNONCES[e][2]});for(e=0;e<this.APP_MOBILES.length;e++)this.dropdownListApps.push({item_id:this.APP_MOBILES[e][3],item_text:this.APP_MOBILES[e][2]});this.dropdownSettingsAges={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:8,allowSearchFilter:!1,searchPlaceholderText:"Rechercher"},this.dropdownSettingsSexes={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsZones={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsDevices={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:3,allowSearchFilter:!1,searchPlaceholderText:"Rechercher"},this.dropdownSettingsNationalsWebsites={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsInternationalsWebsites={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsAdsWebsites={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!1,searchPlaceholderText:"Rechercher"},this.dropdownSettingsApps={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"}},t.prototype.openAddCiblageGenre=function(){this.isCiblageGenre=!0},t.prototype.openAddCiblageDevices=function(){this.isCiblageDevices=!0},t.prototype.targetGender=function(){console.log(this.sexes),this.isCreating=!0,0==this.sexes.length&&(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"Aucun genre s\xe9l\xe9ctionn\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}))},t.prototype.targetPlacement=function(){console.log(this.ads_websites),console.log(this.nationals_websites),console.log(this.internationals_websites),this.isCreating=!0,0==this.nationals_websites.length?(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"S\xe9l\xe9ctionner au moins un site national",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})):[].push(this.nationals_websites,this.internationals_websites,this.ads_websites)},t.prototype.targetDevices=function(){console.log(this.devices),this.isCreating=!0,0==this.devices.length&&(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"Aucun appareil s\xe9l\xe9ctionn\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}))},t.prototype.closeAddCiblageGenre=function(){this.isCiblageGenre=!1},t.prototype.closeAddCiblageDevices=function(){this.isCiblageDevices=!1},t.prototype.closeAddPlacement=function(){this.isPlacement=!1},t.prototype.openAddCiblageAge=function(){this.isCiblageAge=!0},t.prototype.targetAge=function(){var t=this;console.log(this.ages),this.isCreating=!0,0==this.ages.length?(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"Aucun genre s\xe9l\xe9ctionn\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})):this.notesService.targetAge(this.id,this.id_campagne,this.ages,this.uid).then(function(e){t.ages=[]}).then(function(e){t.isCiblageAge=!1,t.isCreating=!1})},t.prototype.closeAddCiblageAges=function(){this.isCiblageAge=!1},t.prototype.onAgeSelect=function(t){this.ages.push(t),console.log(this.ages)},t.prototype.onAgeSelectAll=function(t){console.log(t),this.ages=[],this.ages=t},t.prototype.onAgeDeSelect=function(t){console.log(t);for(var e=0;e<this.ages.length;e++)this.ages[e].item_id==t.item_id&&this.ages.splice(e,1);console.log(this.ages)},t.prototype.onDeSelectAllAge=function(){this.ages=[],console.log(this.ages)},t.prototype.onNationalsWebsitesSelect=function(t){this.nationals_errors="",this.nationals_websites.push(t),console.log(this.nationals_websites)},t.prototype.onNationalsWebsitesSelectAll=function(t){this.nationals_errors="",this.nationals_websites=[],this.nationals_websites=t,console.log(this.nationals_websites)},t.prototype.onNationalsWebsitesDeSelect=function(t){console.log(t);for(var e=0;e<this.nationals_websites.length;e++)this.nationals_websites[e].item_id==t.item_id&&this.nationals_websites.splice(e,1);console.log(this.nationals_websites)},t.prototype.onNationalsWebsitesDeSelectAll=function(){this.nationals_websites=[],console.log(this.nationals_websites)},t.prototype.onInternationalsWebsitesSelect=function(t){this.internationals_websites.push(t),console.log(this.internationals_websites)},t.prototype.onInternationalsWebsitesSelectAll=function(t){this.internationals_websites=[],this.internationals_websites=t,console.log(this.internationals_websites)},t.prototype.onInternationalsWebsitesDeSelect=function(t){console.log(t);for(var e=0;e<this.internationals_websites.length;e++)this.internationals_websites[e].item_id==t.item_id&&this.internationals_websites.splice(e,1)},t.prototype.onInternationalsWebsitesDeSelectAll=function(){this.internationals_websites=[]},t.prototype.onAdsWebsitesSelect=function(t){this.ads_websites.push(t),console.log(this.ads_websites)},t.prototype.onAdsWebsitesSelectAll=function(t){this.ads_websites=[],this.ads_websites=t,console.log(this.ads_websites)},t.prototype.onAdsWebsitesDeSelect=function(t){console.log(t);for(var e=0;e<this.ads_websites.length;e++)this.ads_websites[e].item_id==t.item_id&&this.ads_websites.splice(e,1);console.log(this.ads_websites)},t.prototype.onAdsWebsitesDeSelectAll=function(){this.ads_websites=[],console.log(this.ads_websites)},t.prototype.onAppsSelect=function(t){this.apps.push(t),console.log(this.apps)},t.prototype.onAppsSelectAll=function(t){this.apps=[],this.apps=t,console.log(this.apps)},t.prototype.onAppsDeSelect=function(t){console.log(t);for(var e=0;e<this.apps.length;e++)this.apps[e].item_id==t.item_id&&this.apps.splice(e,1);console.log(this.apps)},t.prototype.onAppsDeSelectAll=function(){this.apps=[],console.log(this.apps)},t.prototype.onDevicesSelect=function(t){this.devices.push(t),console.log(this.devices)},t.prototype.onDevicesSelectAll=function(t){console.log(t),this.devices=[],this.devices=t},t.prototype.onDevicesDeSelect=function(t){console.log(t);for(var e=0;e<this.devices.length;e++)this.devices[e].item_id==t.item_id&&this.devices.splice(e,1);console.log(this.devices)},t.prototype.onDeSelectAllDevices=function(){this.devices=[],console.log(this.devices)},t.prototype.onSexeSelect=function(t){this.sexes.push(t),console.log(this.sexes)},t.prototype.onSexeSelectAll=function(t){console.log(t),this.sexes=[],this.sexes=t},t.prototype.onSexeDeSelect=function(t){console.log(t);for(var e=0;e<this.sexes.length;e++)this.sexes[e].item_id==t.item_id&&this.sexes.splice(e,1);console.log(this.sexes)},t.prototype.onDeSelectAllSexe=function(){this.sexes=[],console.log(this.sexes)},t.prototype.onZoneSelect=function(t){this.selectedZones=[],this.selectedZones.push(t),console.log(this.selectedZones)},t.prototype.onZoneDeSelect=function(t){console.log(t),this.selectedZones=[],console.log(this.selectedZones)},t.prototype.parseDate=function(t){var e=t.split("/");return new Date(e[2],e[1],e[0])},t.prototype.datediff=function(t,e){return Math.round((e-t)/864e5)},t.prototype.getData=function(){return this.adGroupCollection.snapshotChanges().pipe(Object(Te.k)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Bp({id:t.payload.doc.id},e)})}))},t.prototype.addAdGroup=function(){var t=this;this.isCreating=!0;var e=oo("#adgroup").val();this.adGroupService.addAdGroup(this.id_campagne,this.uid,e).then(function(e){"error"!=e&&(t.isCreating=!1,t.isAdGroup=!1)}).catch(function(e){t.isCreating=!1,alert("Op\xe9ration \xe9chou\xe9e")})},t.prototype.onDateStartChange=function(t){var e=this,n=t.value.toString().split(" ");console.log(n);var i=JSON.parse(JSON.stringify(Up)),r=n[2],o=i[0][n[1]].number,l=n[3];this.startDate=r+"/"+o+"/"+l+" ";var a=""+l+o+r;this.isCreating=!0,this.notesService.getCampaignDates(this.id_campagne,this.name).then(function(t){t.startDate==a||t.endDate==a?(alert("erreur de date de d\xe9but"),e.isCreating=!1):(e.notesService.updateStartDate(e.id,e.id_campagne,a,e.startDate),e.isCreating=!1)})},t.prototype.openAddLocation=function(){this.isCiblage=!0},t.prototype.closeAddLocation=function(){this.isCiblage=!1},t.prototype.targetZones=function(){var t=this;this.isCreating=!0,this.notesService.targetLocation(this.id,this.id_campagne,this.name,this.selectedZones).then(function(e){t.isCiblage=!1,t.isCreating=!1})},t.prototype.updateTargetZones=function(){var t=this;this.isCreating=!0,this.notesService.updateTargetLocation(this.id,this.id_campagne,this.name,this.selectedZones).then(function(e){t.isCiblage=!1,t.isCreating=!1})},t.prototype.toggleAddNewAdGroup=function(){this.isAdGroup=!0},t.prototype.closeAddAdGroup=function(){this.isAdGroup=!1},t.prototype.updateCampaign=function(){var t=this;console.log(this.id_campagne),console.log(this.name),Oa.a.fire({title:"",type:"info",html:' <div class="card shadow no-b r-0"><div class="card-header text-center white b-0"><h6>Modifier la campagne</h6></div> <div class="card-body"><form class="needs-validation" novalidate><div class="form-row"><div class="col-md-6"> <label for="validationCustom01">Nom</label> <input type="text" class="form-control"  placeholder="Nom de la campagne" id="campagne_name" value='+this.name+' required><div class="valid-feedback">Looks good!</div></div><div class="col-md-6"> <label for="validationCustom01">Status</label>  <select class="custom-select select2" required><option value=""></option> <option value="PAUSED">D\xe9sactiver</option><option value="ENABLED">Activer</option> </select></div></form></div></div></div>',showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:'<i class="icon-check"></i> Valider',confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:'<i class="icon-remove"></i>',cancelButtonAriaLabel:"Annuler",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",allowOutsideClick:function(){return!Oa.a.isLoading()}}).then(function(e){if(e.dismiss)t.isCreating=!1;else{var n=[];t.isCreating=!0,t.name==oo("#campagne_name").val()&&t.status==oo(".custom-select").val()?(Oa.a.fire({title:"Modification!",text:"Aucune modification d\xe9tect\xe9e",type:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}),t.isCreating=!1):t.name==oo("#campagne_name").val()&&t.status!=oo(".custom-select").val()&&""!=oo(".custom-select").val()?(n.push({id:t.id_campagne,name:oo("#campagne_name").val(),last_name:t.name,email:t.email,status:oo(".custom-select").val(),state:"1"}),oo.ajax({type:"POST",url:"http://127.0.0.1:5000/updateCampaign",datatype:"json",contentType:"application/json",data:JSON.stringify(n)}).then(function(e){console.log(e),"error"!=e[0].status?(t.notesService.updateNote(t.id,{status:e[0].status}),t.isCreating=!1,Oa.a.fire({title:"Modification!",text:"Status de la campagne modifi\xe9 avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){t.isCreating=!1,e.value&&window.location.reload()})):(t.isCreating=!1,Oa.a.fire({title:"Erreur!",text:"Erreur serveur, R\xe9ssayer",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}))})):t.name!=oo("#campagne_name").val()&&t.status==oo(".custom-select").val()?(n.push({id:t.id_campagne,name:oo("#campagne_name").val(),last_name:t.name,email:t.email,status:t.status,state:"2"}),oo.ajax({type:"POST",url:"http://127.0.0.1:5000/updateCampaign",datatype:"json",contentType:"application/json",data:JSON.stringify(n)}).then(function(e){console.log(e),"error"!=e[0].status?(t.notesService.updateNote(t.id,{name:e[0].name}),t.isCreating=!1,Oa.a.fire({title:"Modification!",text:"Nom de la campagne modifi\xe9 avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){t.value&&window.location.reload()})):(t.isCreating=!1,Oa.a.fire({title:"Erreur!",text:"Erreur serveur, R\xe9ssayer",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}))})):t.name!=oo("#campagne_name").val()&&t.status!=oo(".custom-select").val()&&""!=oo(".custom-select").val()&&""!=oo("#campagne_name").val()?(n.push({id:t.id_campagne,name:oo("#campagne_name").val(),last_name:t.name,email:t.email,status:oo(".custom-select").val(),state:"3"}),oo.ajax({type:"POST",url:"http://127.0.0.1:5000/updateCampaign",datatype:"json",contentType:"application/json",data:JSON.stringify(n)}).then(function(e){console.log(e),"error"!=e[0].status?(t.notesService.updateNote(t.id,{name:e[0].name,status:e[0].status}),Oa.a.fire({title:"Modification!",text:"Le nom et le status de votre campagne ont \xe9t\xe9 modifi\xe9 avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){t.value&&window.location.reload()})):(t.isCreating=!1,Oa.a.fire({title:"Erreur!",text:"Erreur serveur, R\xe9ssayer",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}))})):t.name!=oo("#campagne_name").val()&&""==oo(".custom-select").val()?(n.push({id:t.id_campagne,name:oo("#campagne_name").val(),last_name:t.name,email:t.email,status:t.status,state:"4"}),oo.ajax({type:"POST",url:"http://127.0.0.1:5000/updateCampaign",datatype:"json",contentType:"application/json",data:JSON.stringify(n)}).then(function(e){console.log(e),"error"!=e[0].status?(t.notesService.updateNote(t.id,{name:e[0].name}),t.isCreating=!1,Oa.a.fire({title:"Modification!",text:"Nom de la campagne a \xe9t\xe9 modifi\xe9 avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){t.value&&window.location.reload()})):(t.isCreating=!1,Oa.a.fire({title:"Erreur!",text:"Erreur serveur, R\xe9ssayer",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}))})):""==oo("#campagne_name").val()&&""==oo(".custom-select").val()?Oa.a.fire({title:"Modification!",text:"Aucune Modification d\xe9tect\xe9e",type:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}):(t.isCreating=!1,Oa.a.fire({title:"Errur!",text:"Donn\xe9es invalides",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}))}})},t.prototype.changeAdGroupStatus=function(t,e,n){var i=this;Oa.a.fire({title:"Status groupe d'annonce",text:"Voulez vous modifier le status de votre groupe d'annonce!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, modifier!"}).then(function(r){r.value&&(i.isCreating=!0,i.http.post("http://127.0.0.1:5000/updateAdGroupStatus",{adgroup_id:e,last_status:n}).subscribe(function(e){console.log(e),i.adGroupService.updateAdgroup(t,{status:e.status_adgroup}).then(function(t){Oa.a.fire("Modifier!","Status du groupe modifi\xe9.","success").then(function(t){i.isCreating=!1})})},function(t){i.isCreating=!1,Oa.a.fire({title:"Service Groupe d'annonce!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})}))})},t.prototype.removeAdGroup=function(t,e){var n=this;Oa.a.fire({title:"Service groupe d'annonce",text:"Voulez vous supprimer votre groupe d'annonce!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(function(i){i.value&&(n.isCreating=!0,n.http.post("http://127.0.0.1:5000/deleteAdGroup",{adgroup_id:e}).subscribe(function(e){console.log(e),n.adGroupService.deleteAdGroup(t).then(function(t){Oa.a.fire("Supprimer!","Groupe d'annonce supprim\xe9 avec succ\xe8s!","success").then(function(t){n.isCreating=!1})})},function(t){n.isCreating=!1,Oa.a.fire({title:"Service Groupe d'annonce!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})}))})},t.prototype.getListIdAdGroup=function(){var t=this;return new Promise(function(e){t.adGroupService.getListAdGroup(t.id_campagne).forEach(function(n){if(console.log(n),0==n.length)console.log("aucun groupe d'annonce"),t.ad_groups_list_id=[],t.ad_group_tab_content=[];else if(1==n.length)console.log("un seul groupe"),t.ad_groups_list_id.push(n[0].id),t.ad_group_tab_content.push(n[0].ad_group_id);else{console.log("plusieurs groupes");for(var i=0;i<n.length;i++)console.log("child i "+n[i]),t.ad_groups_list_id.push(n[i].id),t.ad_group_tab_content.push(n[i].ad_group_id)}e("ok")})})},t.prototype.getListIdAd=function(){var t=this;return new Promise(function(e){t.getListIdAdGroup().then(function(n){for(var i=0;i<t.ad_group_tab_content.length;i++)t.adsService.getListAd(t.ad_group_tab_content[i]).forEach(function(e){if(0==e.length)console.log("aucune annonce"),t.ads_list_id=[];else if(1==e.length)console.log("une seule annonce"),t.ads_list_id.push(e[0].id);else{console.log("plusieurs annonces");for(var n=0;n<e.length;n++)t.ads_list_id.push(e[n].id)}});e("ok")})})},t.prototype.deleteCampaign=function(){var t=this;Oa.a.fire({title:"Vous voulez vraiment supprimer cette campagne?",text:"Cette action sera irr\xe9versible!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(function(e){e.value&&oo.ajax({type:"POST",url:"http://127.0.0.1:5000/deleteCampaign",datatype:"json",contentType:"application/json",success:function(t){console.log(t),"ok"==t.status&&console.log(t.handler)},error:function(t){console.log(t)},data:JSON.stringify({id:t.id_campagne})}).then(function(e){t.getListIdAd().then(function(e){console.log(t.ad_groups_list_id),t.notesService.deleteNote(t.id,t.ad_groups_list_id,t.ads_list_id)}),Oa.a.fire({title:"Supprimer!",text:"Votre campagne a \xe9t\xe9 supprim\xe9e avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){t.value&&window.location.reload()})}).catch(function(t){Oa.a.fire("Erreur!","Une erreur est survenue lors de la suppression de votre campagne","error")})})},t.prototype.goAdGroups=function(t,e,n){this.router.navigate(["ads",t,this.id,e,n,this.id_campagne])},t.prototype.handleErrorBudget=function(){oo("#error_budget").hide()},t.prototype.OpenModifyDateCampaign=function(){this.button_payments=!1,this.modifyDate=!0,this.isSetBudget=!1,this.isAccountRechargement=!1,this.isPlacementBudgetFromAccount=!1,oo("#finalButtonPublier").hide(),oo("#dateBlock").hide()},t.prototype.CloseUpdateCampaignDate=function(){this.modifyDate=!1,this.button_payments=!0,oo("#finalButtonPublier").show(),oo("#dateBlock").show()},t.prototype.CloseBudgetOperation=function(){this.isSetBudget=!1,this.button_payments=!0},t.prototype.ClosePlaceBudgetFromAccountValue=function(){this.isPlacementBudgetFromAccount=!1,this.button_payments=!0},t.prototype.CloseRechargeAccountOperation=function(){this.isAccountRechargement=!1,this.button_payments=!0},t.prototype.onEndDateChange=function(t){console.log(t.value),this.newEndDate=void 0!=t.value?t.value.toString():""},t.prototype.onStartDateChange=function(t){console.log(t.value),void 0!=t.value?(this.newStartDate=t.value.toString(),console.log(this.newStartDate)):this.newStartDate=""},t.prototype.updateCampaignDate=function(){var t=this,e=JSON.parse(JSON.stringify(Up)),n=this.startDateFrench.split("/"),i=this.endDateFrench.split("/"),r=n[2]+"-"+n[1]+"-"+n[0],o=i[2]+"-"+i[1]+"-"+i[0];console.log(u),console.log(new Date(r)),console.log(new Date(o));var l=(new Date).getDate(),a=((new Date).getDay(),(new Date).getFullYear()),s=(new Date).getMonth()+1;(new Date).valueOf(),this.today=s<10&&l<10?a.toString()+"-0"+s.toString()+"-0"+l.toString():s<10&&l>10?a.toString()+"-0"+s.toString()+"-"+l.toString():s>10&&l<10?a.toString()+s.toString()+"-0"+l.toString():a.toString()+"-"+s.toString()+"-"+l.toString();var u=new Date;if(""==this.newEndDate&&""==this.newStartDate)Oa.a.fire({title:"Service Campagne",text:"Renseigner au moins une date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){});else if(""==this.newEndDate&&""!=this.newStartDate){var c=this.newStartDate.split(" ");this.UpdatedStartDate=(m=c[2])+"/"+(v=e[0][c[1]].number)+"/"+(y=c[3]);var h=""+y+v+m,d=y+"-"+v+"-"+m;Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but de campagne uniquement changer",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Confirmer"}).then(function(e){e.value&&(new Date(r)<u?Oa.a.fire({title:"Service Campagne",text:"campagne d\xe9j\xe0 commenc\xe9 Vous ne pouver plus modifier la date de d\xe9but",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Confirmer"}).then(function(t){}):new Date(o)<u?Oa.a.fire({title:"Service Campagne",text:"Campagne d\xe9j\xe0 arriv\xe9e \xe0 terme",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(r)==u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne \xe0 d\xe9j\xe0 commencer \xe0 diffuser vous pouver uniquement modifier la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(o)==u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne se termine aujourd'hui vous pouver uniquement modifier la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(d)>new Date?Oa.a.fire({title:"Service Campagne",text:"Date valide",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, confirmer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateStartDate(t.id,t.id_campagne,h,t.UpdatedStartDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):d==t.today?Oa.a.fire({title:"Service Campagne",text:"Campagne commence aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, confirmer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateStartDate(t.id,t.id_campagne,h,t.UpdatedStartDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(d)>new Date(o)?Oa.a.fire({title:"Service Campagne",text:"date de d\xe9but ne peut \xeatre apr\xe8s la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):d==o?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but et date de fin ne peuvent \xeatre d\xe9finies \xe0 la m\xeame date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):(alert(d+" "+t.today),Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but"+new Date(d)+" ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})))})}else if(""==this.newStartDate&&""!=this.newEndDate){var p=this.newEndDate.split(" ");this.UpdatedEndDate=(b=p[2])+"/"+(w=e[0][p[1]].number)+"/"+(_=p[3]);var f=""+_+w+b,g=_+"-"+w+"-"+b;Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but inchang\xe9, date de fin chang\xe9e",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Confirmer"}).then(function(e){e.value&&(new Date(o)<u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne est d\xe9j\xe0 arriv\xe9e \xe0 terme",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(o)==u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne se termine aujourd'hui, vous voulez prolonger sa date de fin",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, prolonger"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.id,t.id_campagne,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(g)<new Date?Oa.a.fire({title:"Service Campagne",text:"Date de fin ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):g==t.today?Oa.a.fire({title:"Service Campagne",text:"Date de fin d\xe9finie \xe0 la date d'aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.id,t.id_campagne,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(g)<new Date(r)?Oa.a.fire({title:"Service Campagne",text:"Date de fin ne peut \xeatre d\xe9finie avant la date de d\xe9but",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):g==r?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but et date de fin ne peuvent \xeatre d\xe9finies \xe0 la m\xeame date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):Oa.a.fire({title:"Service Campagne",text:"Vous \xeates sur des donn\xe9es saisies ?",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, s\xfbr!"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.id,t.id_campagne,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}))})}else{var m,v,y,b,w,_;c=this.newStartDate.split(" "),this.UpdatedStartDate=(m=c[2])+"/"+(v=e[0][c[1]].number)+"/"+(y=c[3]),h=""+y+v+m,d=y+"-"+v+"-"+m,p=this.newEndDate.split(" "),this.UpdatedEndDate=(b=p[2])+"/"+(w=e[0][p[1]].number)+"/"+(_=p[3]),f=""+_+w+b,g=_+"-"+w+"-"+b,r==this.today?Oa.a.fire({title:"Service Campagne",text:"Cette campagne Commence aujourd'hui vous pouver uniquement modifier la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(o)<new Date?Oa.a.fire({title:"Service Campagne",text:"Cette campagne est arriv\xe9e \xe0 terme",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(r)<new Date?Oa.a.fire({title:"Service Campagne",text:"Cette campagne \xe0 d\xe9j\xe0 commenc\xe9 \xe0 diffuser, seul sa date de fin sera chang\xe9e",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, changer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.id,t.id_campagne,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):o==this.today?Oa.a.fire({title:"Service Campagne",text:"Cette campagne se termine aujourd'hui, vous pouvez prolonger sa date de fin",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, prolonger"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.id,t.id_campagne,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):d==this.today&&new Date(g)>new Date?Oa.a.fire({title:"Service Campagne",text:"La campagne va commencer aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, confirmer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateDates(t.id,t.id_campagne,h,t.UpdatedStartDate,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(d)<new Date&&new Date(g)>new Date?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(g)<new Date?Oa.a.fire({title:"Service Campagne",text:"Date de fin ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(d)>new Date(g)?Oa.a.fire({title:"Service Campagne",text:"date de d\xe9but ne peut \xeatre apr\xe8s la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):d==this.today&&g!=this.today?Oa.a.fire({title:"Service Campagne",text:"Campagne va commencer aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, commencer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateDates(t.id,t.id_campagne,h,t.UpdatedStartDate,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):g==this.today?Oa.a.fire({title:"Service Campagne",text:"Impossible de finir une campagne qui n'a pas commenc\xe9 \xe0 diffuser",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):g==d?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but et date de fin ne peuvent \xeatre d\xe9finies \xe0 la m\xeame date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):Oa.a.fire({title:"Service Campagne",text:"Vous \xeates sur des donn\xe9es saisies ?",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, s\xfbr!"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateDates(t.id,t.id_campagne,h,t.UpdatedStartDate,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})})}},t.prototype.setStartDate=function(){var t=this;return new Promise(function(e){var n=t.newStartDate.split(" "),i=JSON.parse(JSON.stringify(Up)),r=n[2],o=i[0][n[1]].number,l=n[3];t.UpdatedStartDate=r+"/"+o+"/"+l;var a=""+l+o+r;t.isCreating=!0,t.startDate==a||t.endDate==a?e("error"):(t.notesService.updateStartDate(t.id,t.id_campagne,a,t.UpdatedStartDate),console.log(t.id),e("ok"))})},t.prototype.setEndDate=function(){var t=this;return new Promise(function(e){var n=t.newEndDate.split(" "),i=JSON.parse(JSON.stringify(Up)),r=n[2],o=i[0][n[1]].number,l=n[3];t.UpdatedEndDate=r+"/"+o+"/"+l;var a=""+l+o+r;t.isCreating=!0,t.endDate==a||t.startDate==a?e("error"):(t.notesService.updateEndDate(t.id,t.id_campagne,a,t.UpdatedEndDate),e("ok"))})},t.prototype.handleSimulatedImpressionsCount=function(){console.log("keyup"),oo("#error_recharge").hide(),this.isSimulation=!0;var t=oo("#montant").val();t<1e4?(this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):""==t?(this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):(this.my_gain=20*t/100,this.budget_to_place=t-this.my_gain,this.number_of_impressions_simulated=1e3*this.budget_to_place/33.3,this.montant=t)},t.prototype.handleIfValide=function(){console.log("keyup"),oo("#error_recharge").hide();var t=oo("#montant").val();t<2e4?(this.montant=0,oo("#error_recharge").show()):""==t?(this.montant=0,oo("#error_recharge").show()):this.montant=t},t.prototype.handleIfBudgetToPlaceFromAccountIsValid=function(){oo("#error_recharge").hide();var t=parseInt(oo("#montant").val());t>this.accountValue?(this.montant=0,this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):null==t?(this.montant=0,this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):t<1e4?(this.montant=0,this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):(this.my_gain=20*t/100,this.budget_to_place=t-this.my_gain,this.number_of_impressions_simulated=1e3*this.budget_to_place/33.3,this.montant=t)},t.prototype.handleBudgetPlacement=function(){var t=this;this.isAccountRechargement=!1,this.isPlacementBudgetFromAccount=!1,this.button_payments=!1,Oa.a.fire({title:"Service Campagne",text:"Vous allez placer un budget pour votre campagne, veuillez vous assurez que les dates de d\xe9but et de fins sont d\xe9finies aux dates voulues",type:"info",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, Je confirme ces dates"}).then(function(e){e.value&&(t.modifyDate=!1,t.isSetBudget=!0)})},t.prototype.handlePlaceBudgetFromSolde=function(){var t=this;this.isAccountRechargement=!1,this.isSetBudget=!1,this.button_payments=!1,Oa.a.fire({title:"Service Campagne",text:"Vous allez placer un budget pour votre campagne, veuillez vous assurez que les dates de d\xe9but et de fins sont d\xe9finies aux dates voulues",type:"info",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, Je confirme ces dates"}).then(function(e){e.value&&(t.modifyDate=!1,t.isPlacementBudgetFromAccount=!0)})},t.prototype.handleAccountRechargement=function(){this.modifyDate=!1,this.isSetBudget=!1,this.isPlacementBudgetFromAccount=!1,this.button_payments=!1,this.isAccountRechargement=!0},t.prototype.defineBudget=function(){var t=this;this.isCreating=!0,setTimeout(function(){var e=document.getElementById("budgetSet"),n=pQuery(e);new PayExpresse({item_id:1}).withOption({requestTokenUrl:"http://127.0.0.1:5000/Budget/"+t.id+"/"+t.id_campagne+"/"+t.budgetId+"/"+t.montant+"/"+t.budget_to_place+"/"+t.dure_campagne,method:"POST",headers:{Accept:"application/json"},prensentationMode:PayExpresse.OPEN_IN_POPUP,didPopupClosed:function(e,n,i){t.isCreating=!1,!0===e?alert(n):t.isCreating=!1},willGetToken:function(){console.log("Je me prepare a obtenir un token"),n.prop("disabled",!0)},didGetToken:function(t,e){console.log("Mon token est : "+t+" et url est "+e),n.prop("disabled",!1)},didReceiveError:function(t){alert("erreur inconnu"),n.prop("disabled",!1)},didReceiveNonSuccessResponse:function(t){console.log("non success response ",t),alert(t.errors),n.prop("disabled",!1)}}).send({pageBackgroundRadianStart:"#0178bc",pageBackgroundRadianEnd:"#00bdda",pageTextPrimaryColor:"#333",paymentFormBackground:"#fff",navControlNextBackgroundRadianStart:"#608d93",navControlNextBackgroundRadianEnd:"#28314e",navControlCancelBackgroundRadianStar:"#28314e",navControlCancelBackgroundRadianEnd:"#608d93",navControlTextColor:"#fff",paymentListItemTextColor:"#555",paymentListItemSelectedBackground:"#eee",commingIconBackgroundRadianStart:"#0178bc",commingIconBackgroundRadianEnd:"#00bdda",commingIconTextColor:"#fff",formInputBackgroundColor:"#eff1f2",formInputBorderTopColor:"#e3e7eb",formInputBorderLeftColor:"#7c7c7c",totalIconBackgroundRadianStart:"#0178bc",totalIconBackgroundRadianEnd:"#00bdda",formLabelTextColor:"#292b2c",alertDialogTextColor:"#333",alertDialogConfirmButtonBackgroundColor:"#0178bc",alertDialogConfirmButtonTextColor:"#fff"})},500)},t.prototype.defineBudgetFromAccount=function(){var t=this,e=parseInt(oo("#montant").val()),n=this.accountValue-e;e>this.accountValue||e<1e4?oo("#error_recharge").show():null==e?oo("#error_recharge").show():(this.isRoller=!0,this.isPlacementBudgetFromAccount=!1,this.montant=e,this.http.post("http://127.0.0.1:5000/setBudgetFromAccount",{budgetId:this.budgetId,amount:this.budget_to_place,dure:this.dure_campagne}).subscribe(function(e){console.log(e),t.notesService.updateNote(t.id,{budget:t.budget_to_place,dailyBudget:e[0].dailyBudget}).then(function(){t.auth.updateUser(t.uid,{account_value:n}).then(function(t){Oa.a.fire({title:"Service Campagne!",text:"Budget mis \xe0 jour.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})},function(t){Oa.a.fire({title:"Service Campagne!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})}))},t.prototype.defineAmountAccountBeforeBudget=function(){var t=this;this.montant=oo("#montant").val(),this.montant<2e4?oo("#error_recharge").show():(oo("#closeModalRecharge").trigger("click"),t=this,this.isCreating=!0,setTimeout(function(){var e=document.getElementById("budgetSet"),n=pQuery(e);new PayExpresse({item_id:1}).withOption({requestTokenUrl:"http://127.0.0.1:5000/rechargeAmountBeforeBudget/"+t.montant+"/"+t.id,method:"POST",headers:{Accept:"application/json"},prensentationMode:PayExpresse.OPEN_IN_POPUP,didPopupClosed:function(e,n,i){t.isCreating=!1,!0===e?alert(n):t.isCreating=!1},willGetToken:function(){console.log("Je me prepare a obtenir un token"),n.prop("disabled",!0)},didGetToken:function(t,e){console.log("Mon token est : "+t+" et url est "+e),n.prop("disabled",!1)},didReceiveError:function(e){alert("erreur inconnu"),n.prop("disabled",!1),t.isCreating=!1},didReceiveNonSuccessResponse:function(e){console.log("non success response ",e),alert(e.errors),n.prop("disabled",!1),t.isCreating=!1}}).send({pageBackgroundRadianStart:"#0178bc",pageBackgroundRadianEnd:"#00bdda",pageTextPrimaryColor:"#333",paymentFormBackground:"#fff",navControlNextBackgroundRadianStart:"#608d93",navControlNextBackgroundRadianEnd:"#28314e",navControlCancelBackgroundRadianStar:"#28314e",navControlCancelBackgroundRadianEnd:"#608d93",navControlTextColor:"#fff",paymentListItemTextColor:"#555",paymentListItemSelectedBackground:"#eee",commingIconBackgroundRadianStart:"#0178bc",commingIconBackgroundRadianEnd:"#00bdda",commingIconTextColor:"#fff",formInputBackgroundColor:"#eff1f2",formInputBorderTopColor:"#e3e7eb",formInputBorderLeftColor:"#7c7c7c",totalIconBackgroundRadianStart:"#0178bc",totalIconBackgroundRadianEnd:"#00bdda",formLabelTextColor:"#292b2c",alertDialogTextColor:"#333",alertDialogConfirmButtonBackgroundColor:"#0178bc",alertDialogConfirmButtonTextColor:"#fff"})},500))},t}(),Wp=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Hp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[["class","badge bg-white text-success"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"span",[["class","blink"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-circle mr-2"],["style","color: green"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Campagne active"]))],null,null)}function zp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[["class","badge badge-danger pink"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"span",[["class","blink"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-circle mr-2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Campagne en veille"]))],null,null)}function Gp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                \n                  "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-mail text-success"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,"strong",[["class","s-12"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Status"])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[["class","float-right s-12 text-danger"],["style","font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,["",""]))],null,function(t,e){t(e,7,0,e.component.text_status_deactive_campaign)})}function Yp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon icon-mail text-success"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"strong",[["class","s-12"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Status"])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[["class","float-right s-12 text-success"],["style","font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,["",""]))],null,function(t,e){t(e,6,0,e.component.text_status_active_campaign)})}function Xp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-alarm_on text-success"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"strong",[["class","s-12 text-success"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""]))],null,function(t,e){t(e,3,0,e.component.labelServing)})}function Kp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-alarm_off text-danger"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"strong",[["class","s-12 text-danger"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""]))],null,function(t,e){t(e,3,0,e.component.labelNotServing)})}function Qp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-alarm_off text-danger"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"strong",[["class","s-12 text-danger"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""]))],null,function(t,e){t(e,3,0,e.component.labelSuspended)})}function Zp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-alarm_off text-danger"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"strong",[["class","s-12 text-danger"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],null,function(t,e){t(e,3,0,e.component.labelNone)})}function Jp(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-alarm_off text-danger"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"strong",[["class","s-12 text-danger"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""]))],null,function(t,e){t(e,3,0,e.component.labelEnded)})}function $p(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,23,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","card-header teal lighten-1 text-center text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nouveau groupe d'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](8,0,null,null,14,"div",[["class","card-body no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](10,0,null,null,0,"input",[["class","form-control"],["id","adgroup"],["name","adgroup_name"],["placeholder","Nom du groupe d'annonce"],["style","max-width: 200 px !important"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](12,0,null,null,9,"div",[["class","card-footer white text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275eld"](14,0,null,null,2,"a",[["class","btn btn-md teal lighten-1 shadow btn-sm r-20 text-white"],["href","#"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addAdGroup()&&i),i},null,null)),(t()(),i["\u0275eld"](15,0,null,null,0,"i",[["class","icon-plus-circle mr-2 "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ajouter"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](18,0,null,null,2,"button",[["class","btn btn-danger shadow btn-sm r-20"],["href","#"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeAddAdGroup()&&i),i},null,null)),(t()(),i["\u0275eld"](19,0,null,null,0,"i",[["class","icon-close mr-2 "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],null,null)}function tf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","card-header teal lighten-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-clipboard-edit text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,1,"h6",[["style","color: white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Groupes d'annonces "])),(t()(),i["\u0275ted"](-1,null,["\n                    \n                  "]))],null,null)}function ef(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"td",[["class","text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-danger r-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Non actif"])),(t()(),i["\u0275ted"](-1,null,["\n                            "]))],null,null)}function nf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"td",[["class","text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-success r-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Actif"])),(t()(),i["\u0275ted"](-1,null,["\n                            "]))],null,null)}function rf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","text-danger"],["style","cursor: pointer"],["title","d\xe9sactiver"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changeAdGroupStatus(null==t.parent.context.$implicit?null:t.parent.context.$implicit.id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_group_id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.status)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-stop text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "]))],null,null)}function of(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","text-success"],["style","cursor: pointer"],["title",""]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changeAdGroupStatus(null==t.parent.context.$implicit?null:t.parent.context.$implicit.id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_group_id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.status)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-play text-success"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "]))],null,null)}function lf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,36,"tr",[["class","no-b white"],["title","cliquez sur le nom du groupe pour cr\xe9er des annonces"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](5,0,null,null,5,"td",[["class","text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](7,0,null,null,2,"strong",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"a",[["style","cursor: pointer; color: #80cbc4; font-size: 14px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goAdGroups(null==t.context.$implicit?null:t.context.$implicit.name,null==t.context.$implicit?null:t.context.$implicit.id,null==t.context.$implicit?null:t.context.$implicit.ad_group_id)&&i),i},null,null)),(t()(),i["\u0275ted"](9,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ef)),i["\u0275did"](15,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,nf)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](23,0,null,null,12,"td",[["class","no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            \n                             \n                              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,rf)),i["\u0275did"](26,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,[" \xa0\n                              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,of)),i["\u0275did"](29,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,[" \xa0\n                              "])),(t()(),i["\u0275eld"](31,0,null,null,3,"a",[["class","text-danger"],["style","cursor: pointer"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removeAdGroup(null==t.context.$implicit?null:t.context.$implicit.id,null==t.context.$implicit?null:t.context.$implicit.ad_group_id)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](33,0,null,null,0,"i",[["class","icon-close2 text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                          "]))],function(t,e){t(e,15,0,"PAUSED"===(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,18,0,"ENABLED"===(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,26,0,"ENABLED"===(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,29,0,"PAUSED"===(null==e.context.$implicit?null:e.context.$implicit.status))},function(t,e){t(e,9,0,null==e.context.$implicit?null:e.context.$implicit.name)})}function af(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,28,"div",[["class","card-body p-0 white slimScroll no-b"],["data-height","300"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](2,0,null,null,25,"div",[["class","table-responsive no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](4,0,null,null,22,"table",[["class","table table-hover no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](7,0,null,null,18,"tbody",[["class","no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](9,0,null,null,11,"tr",[["class","no-b teal lighten-3 text-white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Status"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](18,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Action"])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n\n                          "])),(t()(),i["\u0275and"](16777216,null,null,2,null,lf)),i["\u0275did"](23,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),i["\u0275pid"](131072,M,[i.ChangeDetectorRef]),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "]))],function(t,e){var n=e.component;t(e,23,0,i["\u0275unv"](e,23,0,i["\u0275nov"](e,24).transform(n.adgroups)))},null)}function sf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","card-body text-center no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](2,0,null,null,24,"div",[["class","card white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](4,0,null,null,21,"div",[["class","card-body white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](6,0,null,null,2,"a",[["class","btn btn-md teal darken-1 shadow  text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleAddNewAdGroup()&&i),i},null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"i",[["class","icon-add_circle"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Cliquer pour commencer"])),(t()(),i["\u0275eld"](9,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](11,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Cliquer pour cr\xe9er un groupe d'annonce"])),(t()(),i["\u0275eld"](13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](15,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Un groupe d'annonce est un dossier qui contient des annonces"])),(t()(),i["\u0275eld"](17,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](19,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Lorsque la campagne commencera \xe0 diffuser se sont ces dossiers qui"])),(t()(),i["\u0275eld"](21,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" \n                          "])),(t()(),i["\u0275eld"](23,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["seront plac\xe9s dans les sites de detinations propres \xe0 chaque groupe d\xe9finis par vous m\xeame"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n\n                    "]))],null,null)}function uf(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,sf)),i["\u0275did"](2,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "]))],function(t,e){t(e,2,0,!e.component.isAdGroup)},null)}function cf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","card-footer white text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](2,0,null,null,2,"a",[["class","btn btn-sm teal lighten-3 shadow  text-white r-20"],["style","margin-top: -15px;"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleAddNewAdGroup()&&i),i},null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"i",[["class","icon-add_circle"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ajouter un groupe d'annonces"])),(t()(),i["\u0275ted"](-1,null,["\n\n                    \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "]))],null,null)}function hf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handlePlaceBudgetFromSolde()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-payment text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Placement depuis mon solde \n          "]))],null,null)}function df(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleAccountRechargement()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-payment text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Recharger mon compte\n          "]))],null,null)}function pf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleBudgetPlacement()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-pay-point text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Placer directement un budget\n          "]))],null,null)}function ff(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,19,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                           "])),(t()(),i["\u0275and"](16777216,null,null,1,null,hf)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        \n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](8,0,null,null,4,"div",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                           \n            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,df)),i["\u0275did"](11,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n         \n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](14,0,null,null,4,"div",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n   \n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,pf)),i["\u0275did"](17,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                       "]))],function(t,e){var n=e.component;t(e,5,0,0!=n.accountValue&&0==n.budget),t(e,11,0,0==n.accountValue),t(e,17,0,0==n.budget)},null)}function gf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function mf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,41,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](2,0,null,null,38,"div",[["style","display: inline-block; margin: auto"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](4,0,null,null,35,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](6,0,null,null,12,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"i",[["class","icon icon-hourglass-start text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Date de d\xe9but"])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](11,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](12,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,16777216,null,null,3,"ejs-datepicker",[["id","datepicker"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onStartDateChange(n)&&i),i},Sp,xp)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[lp]),i["\u0275did"](16,6537216,null,0,lp,[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector],{max:[0,"max"],min:[1,"min"]},{change:"change"}),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](20,0,null,null,11,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](21,0,null,null,0,"i",[["class","icon icon-hourglass-end text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](22,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Date de fin"])),(t()(),i["\u0275eld"](24,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](25,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](27,16777216,null,null,3,"ejs-datepicker",[["id","datepicker"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onEndDateChange(n)&&i),i},Sp,xp)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[lp]),i["\u0275did"](29,6537216,null,0,lp,[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector],{max:[0,"max"],min:[1,"min"]},{change:"change"}),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateCampaignDate()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Appliquer"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](37,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseUpdateCampaignDate()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n\n        "]))],function(t,e){var n=e.component;t(e,16,0,n.maxDate,n.minDate),t(e,29,0,n.maxDate,n.minDate)},function(t,e){var n=e.component;t(e,12,0,n.startDateFrench),t(e,25,0,n.endDateFrench)})}function vf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center bg-grey shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,["Budget plac\xe9: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](8,null,["Frais de service: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,function(t,e){var n=e.component;t(e,4,0,n.budget_to_place),t(e,8,0,n.my_gain)})}function yf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"span",[["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Avec ce budget vos annonces contenues dans cette campagne peuvent \xeatre affich\xe9es jusqu'\xe0 "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","text-success"],["style","font-size: 14px; font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,[" fois"]))],null,function(t,e){t(e,3,0,e.component.number_of_impressions_simulated)})}function bf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,24,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: Seul 80% du montant seront plac\xe9s les 20% pour les frais de service"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control no-b bg-light"],["id","montant"],["min","10000"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 10000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleSimulatedImpressionsCount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none; "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 10000\n              FCA"])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275and"](16777216,null,null,1,null,vf)),i["\u0275did"](13,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](15,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                \n                                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,yf)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](21,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineBudget()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Placer le budget"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](24,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseBudgetOperation()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){var n=e.component;t(e,13,0,0!=n.budget_to_place&&0!=n.my_gain),t(e,18,0,0!=n.number_of_impressions_simulated)},null)}function wf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function _f(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,18,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: Cette op\xe9ration vous permettra dans la suite d'\xe9viter les paiments pour d\xe9marrer une nouvelle campagne"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control no-b bg-light"],["id","montant"],["min","10000"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 20 000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleIfValide()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 20 000\n              FCA"])),(t()(),i["\u0275ted"](-1,null,["\n              \n               "])),(t()(),i["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineAmountAccountBeforeBudget()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Recharger mon compte"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseRechargeAccountOperation()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,wf)),i["\u0275did"](19,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){t(e,19,0,e.component.isRoller)},null)}function Cf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center bg-grey shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,["Budget plac\xe9: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](8,null,["Frais de service: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,function(t,e){var n=e.component;t(e,4,0,n.budget_to_place),t(e,8,0,n.my_gain)})}function xf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"span",[["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Avec ce budget vos annonces contenues dans cette campagne peuvent \xeatre affich\xe9es jusqu'\xe0 "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","text-success"],["style","font-size: 14px; font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,[" fois"]))],null,function(t,e){t(e,3,0,e.component.number_of_impressions_simulated)})}function Sf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,24,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: La valeur du budget doit \xeatre disponible dans votre compte et sup\xe9rieur ou \xe9gale \xe0 10 000 FCFA"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control no-b bg-light"],["id","montant"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 10 000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleIfBudgetToPlaceFromAccountIsValid()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["La valeur du budget invalide"])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Cf)),i["\u0275did"](13,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](15,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                \n                                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,xf)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](21,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineBudgetFromAccount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Placer mon budget"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](24,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.ClosePlaceBudgetFromAccountValue()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){var n=e.component;t(e,13,0,0!=n.budget_to_place&&0!=n.my_gain),t(e,18,0,0!=n.number_of_impressions_simulated)},null)}function Ef(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                            ","\n                        "]))],null,function(t,e){t(e,1,0,e.component.text_no_zone)})}function Tf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                            \n                           "])),(t()(),i["\u0275ted"](-1,null,["\n                          "]))],null,function(t,e){t(e,3,0,e.context.$implicit.item_text)})}function kf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-md teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddLocation()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-add_location"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ajouter une zone"]))],null,null)}function Af(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-md teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddLocation()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-add_location"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier le ciblage"]))],null,null)}function Df(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](2,0,null,null,3,"ng-multiselect-dropdown",[],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,4).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onZoneSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onZoneSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onZoneDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onDeSelectAllZone()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](4,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n    \n                    "]))],function(t,e){var n=e.component;t(e,4,0,"Zones",n.dropdownSettingsZones,n.dropdownListZones)},null)}function Of(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-md teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.targetZones()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ajouter"]))],null,null)}function If(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-md btn-danger text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeAddLocation()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Fermer"]))],null,null)}function Rf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,16,"div",[["class","card text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  \n                  "])),(t()(),i["\u0275eld"](2,0,null,null,4,"ul",[["class","no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n               \n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Df)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n    \n                  "])),(t()(),i["\u0275eld"](8,0,null,null,7,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                   \n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Of)),i["\u0275did"](11,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,If)),i["\u0275did"](14,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],function(t,e){var n=e.component;t(e,5,0,n.isCiblage),t(e,11,0,n.isCiblage),t(e,14,0,n.isCiblage)},null)}function Pf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](2,0,null,null,3,"ng-multiselect-dropdown",[],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,4).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onZoneSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onZoneSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onZoneDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onDeSelectAllZone()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](4,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n    \n                    "]))],function(t,e){var n=e.component;t(e,4,0,"Zones",n.dropdownSettingsZones,n.dropdownListZones)},null)}function Mf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-success"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateTargetZones()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null))],null,null)}function Nf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-danger"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeAddLocation()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null))],null,null)}function jf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,16,"div",[["class","card mt-3 mb-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,4,"ul",[["class","no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Pf)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n    \n                  "])),(t()(),i["\u0275eld"](8,0,null,null,7,"div",[["class","card-footer text-center white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                   \n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Mf)),i["\u0275did"](11,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Nf)),i["\u0275did"](14,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],function(t,e){var n=e.component;t(e,5,0,n.isCiblage),t(e,11,0,n.isCiblage),t(e,14,0,n.isCiblage)},null)}function Lf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Etat de la campagne:"])),(t()(),i["\u0275ted"](-1,null,[" En Veille"]))],null,null)}function Ff(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Etat de la campagne:"])),(t()(),i["\u0275ted"](-1,null,[" Active"]))],null,null)}function Vf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handlePlaceBudgetFromSolde()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-payment text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Placement depuis mon solde \n          "]))],null,null)}function Bf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleAccountRechargement()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-payment text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Recharger mon compte d'abord\n          "]))],null,null)}function Uf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleBudgetPlacement()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-pay-point text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Placer directement un budget\n          "]))],null,null)}function qf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","col-md-12"],["id","dateBlock"],["style","margin: auto"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](2,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](4,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,["Date de d\xe9but: ",""])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](8,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](9,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](10,null,["Date de fin: ",""])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](13,0,null,null,6,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](14,null,["\n                                  Cette campagne dure "," jours\n                                    "])),(t()(),i["\u0275eld"](15,0,null,null,3,"a",[["class","btn btn-sm teal darken-3  text-white r-20 btn-social"],["style","font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.OpenModifyDateCampaign()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,[" \n                                      "])),(t()(),i["\u0275eld"](17,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier les dates\n  \n                                    "])),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                    "]))],null,function(t,e){var n=e.component;t(e,6,0,n.startDateFrench),t(e,10,0,n.endDateFrench),t(e,14,0,n.dure_campagne)})}function Wf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Hf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,41,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](2,0,null,null,38,"div",[["style","display: inline-block; margin: auto"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](4,0,null,null,35,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](6,0,null,null,12,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"i",[["class","icon icon-hourglass-start text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Date de d\xe9but"])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](11,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](12,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,16777216,null,null,3,"ejs-datepicker",[["id","datepicker"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onStartDateChange(n)&&i),i},Sp,xp)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[lp]),i["\u0275did"](16,6537216,null,0,lp,[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector],{max:[0,"max"],min:[1,"min"]},{change:"change"}),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](20,0,null,null,11,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](21,0,null,null,0,"i",[["class","icon icon-hourglass-end text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](22,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Date de fin"])),(t()(),i["\u0275eld"](24,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](25,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](27,16777216,null,null,3,"ejs-datepicker",[["id","datepicker"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onEndDateChange(n)&&i),i},Sp,xp)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[lp]),i["\u0275did"](29,6537216,null,0,lp,[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector],{max:[0,"max"],min:[1,"min"]},{change:"change"}),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateCampaignDate()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Appliquer"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](37,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseUpdateCampaignDate()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n\n        "]))],function(t,e){var n=e.component;t(e,16,0,n.maxDate,n.minDate),t(e,29,0,n.maxDate,n.minDate)},function(t,e){var n=e.component;t(e,12,0,n.startDateFrench),t(e,25,0,n.endDateFrench)})}function zf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center bg-grey shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,["Budget plac\xe9: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](8,null,["Frais de service: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,function(t,e){var n=e.component;t(e,4,0,n.budget_to_place),t(e,8,0,n.my_gain)})}function Gf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"span",[["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Avec ce budget vos annonces contenues dans cette campagne peuvent \xeatre affich\xe9es jusqu'\xe0 "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","text-success"],["style","font-size: 14px; font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,[" fois"]))],null,function(t,e){t(e,3,0,e.component.number_of_impressions_simulated)})}function Yf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,24,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: Seul 80% du montant seront plac\xe9s les 20% pour les frais de service"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control"],["id","montant"],["min","10000"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 10000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleSimulatedImpressionsCount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 10000\n              FCA"])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275and"](16777216,null,null,1,null,zf)),i["\u0275did"](13,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](15,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                \n                                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Gf)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](21,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineBudget()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Placer le budget"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](24,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseBudgetOperation()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){var n=e.component;t(e,13,0,0!=n.budget_to_place&&0!=n.my_gain),t(e,18,0,0!=n.number_of_impressions_simulated)},null)}function Xf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Kf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,18,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: Cette op\xe9ration vous permettra dans la suite d'\xe9viter les paiments pour d\xe9marrer une nouvelle campagne"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control"],["id","montant"],["min","10000"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 20 000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleIfValide()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 20 000\n              FCA"])),(t()(),i["\u0275ted"](-1,null,["\n              \n               "])),(t()(),i["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineAmountAccountBeforeBudget()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Recharger mon compte"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseRechargeAccountOperation()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Xf)),i["\u0275did"](19,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){t(e,19,0,e.component.isRoller)},null)}function Qf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center bg-grey shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,["Budget plac\xe9: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](8,null,["Frais de service: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,function(t,e){var n=e.component;t(e,4,0,n.budget_to_place),t(e,8,0,n.my_gain)})}function Zf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"span",[["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Avec ce budget vos annonces contenues dans cette campagne peuvent \xeatre affich\xe9es jusqu'\xe0 "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","text-success"],["style","font-size: 14px; font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,[" fois"]))],null,function(t,e){t(e,3,0,e.component.number_of_impressions_simulated)})}function Jf(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,24,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: La valeur du budget doit \xeatre disponible dans votre compte et sup\xe9rieur ou \xe9gale \xe0 10 000 FCFA"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control"],["id","montant"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 10 000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleIfBudgetToPlaceFromAccountIsValid()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["La valeur du budget invalide"])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Qf)),i["\u0275did"](13,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](15,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                \n                                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Zf)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](21,0,null,null,1,"button",[["class","btn btn-sm teal lighten-1 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineBudgetFromAccount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Placer mon budget"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](24,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.ClosePlaceBudgetFromAccountValue()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){var n=e.component;t(e,13,0,0!=n.budget_to_place&&0!=n.my_gain),t(e,18,0,0!=n.number_of_impressions_simulated)},null)}function $f(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](2,0,null,null,1,"app-spinner-overlay",[],null,null,null,Ql,Xl)),i["\u0275did"](3,114688,null,0,Yl,[],{message:[0,"message"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n"]))],function(t,e){t(e,3,0,e.component.message)},null)}function tg(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](1,0,null,null,72,"header",[["class","white pt-3 relative shadow bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](3,0,null,null,69,"div",[["class","container-fluid text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](5,0,null,null,31,"div",[["class","row p-t-b-10 "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](7,0,null,null,28,"div",[["class","col"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](9,0,null,null,25,"div",[["class","card r-3 teal lighten-3 no-b shadow"],["style","margin-top: 10px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](11,0,null,null,22,"div",[["class","p-4"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](13,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](16,0,null,null,0,"img",[["class","img-responsive"],["src","assets/img/images/campaign.png"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](19,0,null,null,1,"div",[["class","sc-counter mt-3 text-white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Param\xe8tre de la campagne"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](22,0,null,null,1,"div",[["class","counter-title text-white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](23,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](25,0,null,null,7,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Hp)),i["\u0275did"](28,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,zp)),i["\u0275did"](31,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275eld"](38,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](40,0,null,null,30,"ul",[["class","nav nav-material responsive-tab"],["id","v-pills-tab"],["role","tablist"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](42,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](44,0,null,null,3,"a",[["aria-controls","v-pills-tab1"],["class","nav-link active"],["data-toggle","pill"],["href","#v-pills-tab1"],["id","v-pills-tab1-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](46,0,null,null,0,"i",[["class","icon icon-home2"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275ted"](47,null,["","\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](50,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](52,0,null,null,2,"a",[["aria-controls","v-pills-payments"],["aria-selected","false"],["class","nav-link"],["data-toggle","pill"],["href","#v-pills-payments"],["id","v-pills-timeline-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275eld"](53,0,null,null,0,"i",[["class","icon icon-budget"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Budget"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](57,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](59,0,null,null,2,"a",[["aria-controls","v-pills-timeline"],["aria-selected","false"],["class","nav-link"],["data-toggle","pill"],["href","#v-pills-timeline"],["id","v-pills-payments-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275eld"](60,0,null,null,0,"i",[["class","icon icon-location-arrow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ciblage de zone"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](64,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](66,0,null,null,2,"a",[["aria-controls","v-pills-settings"],["aria-selected","false"],["class","nav-link"],["data-toggle","pill"],["href","#v-pills-settings"],["id","v-pills-settings-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275eld"](67,0,null,null,0,"i",[["class","icon icon-cog"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](75,0,null,null,326,"div",[["class","container-fluid animatedParent animateOnce my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](77,0,null,null,323,"div",[["class",""]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](79,0,null,null,320,"div",[["class","tab-content"],["id","v-pills-tabContent"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](81,0,null,null,67,"div",[["aria-labelledby","v-pills-home-tab"],["class","tab-pane fade show active"],["id","v-pills-tab1"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](83,0,null,null,64,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](85,0,null,null,33,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](87,0,null,null,30,"div",[["class","card no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](89,0,null,null,27,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Gp)),i["\u0275did"](94,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Yp)),i["\u0275did"](97,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Xp)),i["\u0275did"](100,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Kp)),i["\u0275did"](103,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Qp)),i["\u0275did"](106,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Zp)),i["\u0275did"](109,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Jp)),i["\u0275did"](112,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n                 \n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            \n\n         \n   \n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](120,0,null,null,26,"div",[["class","col-md-9"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](122,0,null,null,23,"div",[["class","row my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](125,0,null,null,19,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,$p)),i["\u0275did"](128,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](130,0,null,null,13,"div",[["class","card my-3 my-3 no-b shadow no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,tf)),i["\u0275did"](134,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,af)),i["\u0275did"](137,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](0,[["noAdGroups",2]],null,0,null,uf)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,cf)),i["\u0275did"](142,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n               \n            \n\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            \n          \n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](150,0,null,null,85,"div",[["aria-labelledby","v-pills-payments-tab"],["class","tab-pane fade"],["id","v-pills-payments"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](152,0,null,null,82,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       \n          "])),(t()(),i["\u0275eld"](154,0,null,null,76,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](156,0,null,null,73,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](158,0,null,null,5,"div",[["class","card-header teal lighten-3 b-0 p-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](160,0,null,null,1,"h6",[["class","card-title text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Budget de la campagne"])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](165,0,null,null,48,"div",[["class","card-body no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](167,0,null,null,45,"div",[["class","card no-b"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                   "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](170,0,null,null,41,"div",[["class","card-body pt-0 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](172,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](174,0,null,null,6,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](176,0,null,null,3,"p",[["class","text-muted well well-sm shadow mt-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](177,null,["\n                          "," CFA dans le compte"])),(t()(),i["\u0275eld"](178,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](179,null,["\n                          Budget de la campagne: "," CFA \n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                       "])),(t()(),i["\u0275eld"](182,0,null,null,9,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](184,0,null,null,1,"a",[["class","btn-fab btn-fab-sm teal darken-1 text-white"],["style","float: right"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.OpenModifyDateCampaign()&&i),i},null,null)),(t()(),i["\u0275eld"](185,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](187,0,null,null,3,"p",[["class","text-muted well well-sm shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](188,null,["\n                           \n                           Date de d\xe9but de campagne: ",""])),(t()(),i["\u0275eld"](189,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](190,null,["\n                           Date de fin de campagne: ","\n                         "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      \n                     \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                       "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ff)),i["\u0275did"](195,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,gf)),i["\u0275did"](198,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        \n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,mf)),i["\u0275did"](201,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275and"](16777216,null,null,1,null,bf)),i["\u0275did"](204,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,_f)),i["\u0275did"](207,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Sf)),i["\u0275did"](210,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](215,0,null,null,13,"div",[["class","collapse show"],["id","invoiceCard"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](217,0,null,null,10,"div",[["class","card-body p-0 no-b "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](219,0,null,null,7,"div",[["class","col-md-12 text-center"],["style","text-align: center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](221,0,null,null,4,"div",[["class","text-center"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n         \n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n       \n     \n  \n\n \n\n              \n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275eld"](232,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      \n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](237,0,null,null,108,"div",[["aria-labelledby","v-pills-timeline-tab"],["class","tab-pane fade"],["id","v-pills-timeline"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](239,0,null,null,105,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](241,0,null,null,101,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](244,0,null,null,97,"ul",[["class","timeline"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](247,0,null,null,4,"li",[["class","time-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](249,0,null,null,1,"span",[["class","badge badge-danger r-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  Liste de vos types de ciblage\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](255,0,null,null,75,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](257,0,null,null,3,"a",[["aria-controls","collapseZone"],["aria-expanded","false"],["class","btn btn-sm btn-block teal lighten-3 text-white r-20 btn-social no-b"],["data-toggle","collapse"],["href","#collapseZone"],["role","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](259,0,null,null,0,"i",[["class","icon icon-location-arrow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ciblage de zone\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](262,0,null,null,67,"div",[["class","collapse"],["id","collapseZone"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](264,0,null,null,64,"div",[["class","card no-b shadow timeline-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](266,0,null,null,11,"div",[["class","card-header white b-0 p-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](268,0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Liste des zones cibl\xe9es"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](271,0,null,null,1,"small",[["class","card-subtitle mb-2 text-muted"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Visualiser ici vos zones cibl\xe9es et si n\xe9cessaire modifier les strat\xe9gies d'ench\xe8res."])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](274,0,null,null,2,"span",[["class","float-right"]],null,null,null,null,null)),(t()(),i["\u0275eld"](275,0,null,null,0,"i",[["class","ion icon-clock-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier le ciblage"])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](279,0,null,null,48,"div",[["class","collapse show"],["id","invoiceCard"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](281,0,null,null,30,"div",[["class","card-body p-0 no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](283,0,null,null,27,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](285,0,null,null,24,"table",[["class","table table-hover mb-0 ps-container ps-theme-default"],["id","recent-orders"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](287,0,null,null,9,"thead",[["class","bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](289,0,null,null,6,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](291,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),i["\u0275eld"](292,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Zones cibl\xe9es"])),(t()(),i["\u0275ted"](-1,null,["\n                         \n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](298,0,null,null,10,"tbody",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ef)),i["\u0275did"](301,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](303,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Tf)),i["\u0275did"](306,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](313,0,null,null,13,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,kf)),i["\u0275did"](316,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                   "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Af)),i["\u0275did"](319,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Rf)),i["\u0275did"](322,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n          \n           \n\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,jf)),i["\u0275did"](325,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](347,0,null,null,51,"div",[["aria-labelledby","v-pills-settings-tab"],["class","tab-pane fade"],["id","v-pills-settings"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](349,0,null,null,48,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](351,0,null,null,0,"input",[["class","form-control r-0 light s-12 "],["id","id"],["readonly",""],["style","display: none"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](353,0,null,null,4,"div",[["class","card-header teal lighten-3 text-white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](355,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Informations"])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](359,0,null,null,24,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](361,0,null,null,12,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](363,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom:"])),(t()(),i["\u0275ted"](365,null,[" ","\n              "])),(t()(),i["\u0275eld"](366,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Lf)),i["\u0275did"](369,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ff)),i["\u0275did"](372,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](375,0,null,null,7,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,377).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,377).onReset()&&r),r},null,null)),i["\u0275did"](376,16384,null,0,Tl,[],null,null),i["\u0275did"](377,4210688,null,0,sl,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,co,null,[sl]),i["\u0275did"](379,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n         \n        "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](385,0,null,null,11,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275eld"](387,0,null,null,3,"a",[["class","btn btn-sm btn-social teal darken-1 r-20 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateCampaign()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](389,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Modifier\n            "])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275eld"](392,0,null,null,3,"a",[["class","btn btn-sm btn-social btn-danger r-20 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.deleteCampaign()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](394,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Supprimer\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        \n\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](403,0,null,null,0,"button",[["data-target","#modalDefineBudget"],["data-toggle","modal"],["id","button_modal_define_budget"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](405,0,null,null,69,"div",[["aria-hidden","true"],["aria-smallledby","exampleModalsmall"],["class","modal fade no-b"],["id","modalDefineBudget"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](407,0,null,null,66,"div",[["class","modal-dialog no-b"],["role","document"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](409,0,null,null,63,"div",[["class","modal-content no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](411,0,null,null,10,"div",[["class","modal-header no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](413,0,null,null,1,"h6",[["class","modal-title"],["id","exampleModalsmall"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xe9finition du budget"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](416,0,null,null,4,"button",[["aria-small","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](418,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](423,0,null,null,48,"div",[["class","modal-body no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](425,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](427,0,null,null,21,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](429,0,null,null,18,"div",[["class","text-center"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](431,0,null,null,1,"h6",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](432,null,[""," CFA dans le compte"])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](434,0,null,null,1,"h6",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](435,null,["Budget de la campagne: "," CFA "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Vf)),i["\u0275did"](439,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Bf)),i["\u0275did"](442,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Uf)),i["\u0275did"](445,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](451,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          \n           "])),(t()(),i["\u0275and"](16777216,null,null,1,null,qf)),i["\u0275did"](454,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n     \n       "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Wf)),i["\u0275did"](458,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        \n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Hf)),i["\u0275did"](461,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n       "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Yf)),i["\u0275did"](464,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Kf)),i["\u0275did"](467,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Jf)),i["\u0275did"](470,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,$f)),i["\u0275did"](477,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,28,0,"ENABLED"===n.status),t(e,31,0,"PAUSED"===n.status),t(e,94,0,"PAUSED"==n.status),t(e,97,0,"ENABLED"==n.status),t(e,100,0,"SERVING"==n.servingStatus),t(e,103,0,"PENDING"==n.servingStatus),t(e,106,0,"SUSPENDED"==n.servingStatus),t(e,109,0,"None"==n.servingStatus),t(e,112,0,"ENDED"==n.servingStatus),t(e,128,0,n.isAdGroup),t(e,134,0,"0"!=n.number_ad_groups),t(e,137,0,0!=n.number_ad_groups,i["\u0275nov"](e,139)),t(e,142,0,0!=n.number_ad_groups),t(e,195,0,n.button_payments),t(e,198,0,n.isRoller),t(e,201,0,n.modifyDate),t(e,204,0,n.isSetBudget),t(e,207,0,n.isAccountRechargement),t(e,210,0,n.isPlacementBudgetFromAccount),t(e,301,0,""==n.zone),t(e,306,0,n.zone),t(e,316,0,!n.isCiblage&&""==n.zone),t(e,319,0,!n.isCiblage&&""!=n.zone),t(e,322,0,""==n.zone),t(e,325,0,""!=n.zone),t(e,369,0,"PAUSED"===n.status),t(e,372,0,"ENABLED"===n.status),t(e,439,0,0!=n.accountValue),t(e,442,0,0==n.accountValue),t(e,445,0,0==n.budget),t(e,454,0,0==n.budget),t(e,458,0,n.isRoller),t(e,461,0,n.modifyDate),t(e,464,0,n.isSetBudget),t(e,467,0,n.isAccountRechargement),t(e,470,0,n.isPlacementBudgetFromAccount),t(e,477,0,n.isCreating)},function(t,e){var n=e.component;t(e,23,0,n.name),t(e,47,0,n.generale),t(e,177,0,n.accountValue),t(e,179,0,n.budget),t(e,188,0,n.startDateFrench),t(e,190,0,n.endDateFrench),t(e,351,0,i["\u0275inlineInterpolate"](1,"",n.id_campagne,"")),t(e,365,0,n.name),t(e,375,0,i["\u0275nov"](e,379).ngClassUntouched,i["\u0275nov"](e,379).ngClassTouched,i["\u0275nov"](e,379).ngClassPristine,i["\u0275nov"](e,379).ngClassDirty,i["\u0275nov"](e,379).ngClassValid,i["\u0275nov"](e,379).ngClassInvalid,i["\u0275nov"](e,379).ngClassPending),t(e,432,0,n.accountValue),t(e,435,0,n.budget)})}var eg=function(){function t(t,e,n){var i=this;this.notesService=t,this.auth=e,this.location=n,this.isEditor=!1,this.isCampaignSettings=!0,this.title="Campaign Management",this.auth.user.forEach(function(t){i.uid=t.uid,i.email=t.email})}return t.prototype.toggleEditor=function(){},t.prototype.toggleCampaignSettings=function(){this.isEditor=!1,this.isCampaignSettings=!0},t.prototype.goBack=function(){this.location.back()},t.prototype.ngOnInit=function(){},t.prototype.createAdGroup=function(){},t}(),ng=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ig(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"div",[["class","flex-fill b-l height-full white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](2,0,null,null,2,"app-settings",[],null,null,null,tg,Wp)),i["\u0275did"](3,114688,null,0,qp,[ns,ro,Ma,pa,to,er,Ja],{id_campagne:[0,"id_campagne"],id:[1,"id"],name:[2,"name"],status:[3,"status"],ad_group_id:[4,"ad_group_id"],uid:[5,"uid"],budget:[6,"budget"],budgetId:[7,"budgetId"],dailyBudget:[8,"dailyBudget"],numberOfDays:[9,"numberOfDays"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,3,0,n.id_campagne,n.id,n.name,n.status,n.ad_group_id,n.uid,n.budget,n.budgetId,n.dailyBudget,n.numberOfDays)},null)}function rg(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ig)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,3,0,!e.component.isEditor)},null)}var og=i["\u0275ccf"]("app-campaign-settings",eg,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-campaign-settings",[],null,null,null,rg,ng)),i["\u0275did"](1,114688,null,0,eg,[ns,ro,h],null,null)],function(t,e){t(e,1,0)},null)},{id_campagne:"id_campagne",name:"name",id:"id",status:"status",ad_group_id:"ad_group_id",budget:"budget",budgetId:"budgetId",dailyBudget:"dailyBudget",numberOfDays:"numberOfDays",_showCamp:"_showCamp"},{},[]),lg=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},ag=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},sg=function(){function t(t,e,n,i){this.notesService=t,this.router=e,this.adgroup_service=n,this.auth=i,this.goCampaign=!1,this.title="Liste des campagnes",this._showCampaignSettings_=!1}return t.prototype.ngOnInit=function(){var t=this;this.auth.user.forEach(function(e){t.uid=e.uid,console.log(e.uid),t.notes=t.notesService.getListCampaign(e.uid)})},t.prototype.addHeartToNote=function(t){this.note.id?this.notesService.updateNote(this.note.id,{hearts:t+1}):console.error("Note missing ID!")},t.prototype.toggleSignleCampaign=function(t,e,n){},t.prototype.getDate=function(t){var e=parseInt(t);return new Date(e).getDate()+"/"+new Date(e).getMonth()+"/"+new Date(e).getFullYear()},t.prototype.goCampaignSettings=function(t,e,n,i,r,o,l,a,s){console.log(t+" "+e+" "+n+" "+i+" "+a+" "+s),this.id_campagne=e,this.id=t,this.name=n,this.status=i,this.ad_group_id=r,this.adgroup_service.campaign_id=e,this.budget=o,this.budgetId=l,this.dailyBudget=a,this.numberOfDays=s,this._showCampaignSettings_=!0},t.prototype.loadScript=function(t){return lg(this,void 0,void 0,function(){var e;return ag(this,function(n){return(e=document.createElement("script")).type="text/javascript",document.getElementsByTagName("body")[0].appendChild(e),e.src=t,oo("body").css("background-image","url('')"),[2]})})},t}(),ug=i["\u0275crt"]({encapsulation:0,styles:[[".basic-note[_ngcontent-%COMP%]{visibility:visible}"]],data:{}});function cg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,3,"div",[["class","d-lg-block"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-success"],["style","font-size: 14px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Activer"])),(t()(),i["\u0275ted"](-1,null,["\n                                        "]))],null,null)}function hg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,3,"div",[["class","d-lg-block"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-danger"],["style","font-size: 10px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xe9sactiver"])),(t()(),i["\u0275ted"](-1,null,["\n                                        "]))],null,null)}function dg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,50,"tr",[["class","no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                 \n                                        "])),(t()(),i["\u0275eld"](2,0,null,null,7,"td",[["class","table-img"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                            "])),(t()(),i["\u0275eld"](4,0,null,null,4,"div",[["class","avatar avatar-md mr-3 mb-2 mt-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                                        "])),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),i["\u0275ppd"](7,1),(t()(),i["\u0275ted"](-1,null,["\n                                                    "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275eld"](11,0,null,null,7,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                          "])),(t()(),i["\u0275ted"](-1,null,["\n                                                                          "])),(t()(),i["\u0275eld"](14,0,null,null,2,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](15,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](16,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                                           "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,cg)),i["\u0275did"](22,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,hg)),i["\u0275did"](25,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275eld"](27,0,null,null,13,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                            "])),(t()(),i["\u0275eld"](29,0,null,null,10,"div",[["class","d-none d-lg-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                            "])),(t()(),i["\u0275eld"](31,0,null,null,2,"span",[["style","font-size: 10px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](32,0,null,null,0,"i",[["class","icon icon-data_usage"]],null,null,null,null,null)),(t()(),i["\u0275ted"](33,null,[" Commence le ",""])),(t()(),i["\u0275eld"](34,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                            "])),(t()(),i["\u0275eld"](36,0,null,null,2,"span",[["style","font-size: 14px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](37,0,null,null,0,"i",[["class","icon icon-timer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](38,null,[" Se termine le ",""])),(t()(),i["\u0275ted"](-1,null,["\n                                            "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275eld"](42,0,null,null,5,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                            "])),(t()(),i["\u0275eld"](44,0,null,null,2,"a",[["class","btn btn-sm green accent-3 shadow text-white"],["style","margin-left: -40px; font-size: 10px"]],[[8,"id",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goCampaignSettings(null==t.context.$implicit?null:t.context.$implicit.id,null==t.context.$implicit?null:t.context.$implicit.id_campagne,null==t.context.$implicit?null:t.context.$implicit.name,null==t.context.$implicit?null:t.context.$implicit.status,null==t.context.$implicit?null:t.context.$implicit.ad_group_id,null==t.context.$implicit?null:t.context.$implicit.budget,null==t.context.$implicit?null:t.context.$implicit.budgetId,null==t.context.$implicit?null:t.context.$implicit.dailyBudget,null==t.context.$implicit?null:t.context.$implicit.numberOfDays)&&i),i},null,null)),(t()(),i["\u0275eld"](45,0,null,null,0,"i",[["class","icon-settings2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Configurer"])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275ted"](-1,null,["\n                                        "])),(t()(),i["\u0275eld"](49,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "]))],function(t,e){t(e,22,0,"ENABLED"==(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,25,0,"PAUSED"==(null==e.context.$implicit?null:e.context.$implicit.status))},function(t,e){t(e,6,0,i["\u0275inlineInterpolate"](1,"avatar-letter avatar-letter-",i["\u0275unv"](e,6,0,t(e,7,0,i["\u0275nov"](e.parent.parent,0),null==e.context.$implicit?null:e.context.$implicit.name.charAt(0)))," avatar-md circle")),t(e,16,0,null==e.context.$implicit?null:e.context.$implicit.name),t(e,33,0,null==e.context.$implicit?null:e.context.$implicit.startDateFrench),t(e,38,0,null==e.context.$implicit?null:e.context.$implicit.endDateFrench),t(e,44,0,null==e.context.$implicit?null:e.context.$implicit.id)})}function pg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,33,"div",[["class","row d-flex bd-highlight no-gutters"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](2,0,null,null,29,"div",[["class","col-md-12 text-center white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](6,0,null,null,1,"h5",[["style","color: #4db6ac"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Liste des campagnes"])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](9,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](11,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](13,0,null,null,17,"div",[["class","card no-b shadow teal lighten-3 text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](15,0,null,null,14,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](17,0,null,null,11,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](19,0,null,null,8,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275eld"](21,0,null,null,5,"tbody",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275and"](16777216,null,null,2,null,dg)),i["\u0275did"](24,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),i["\u0275pid"](131072,M,[i.ChangeDetectorRef]),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,24,0,i["\u0275unv"](e,24,0,i["\u0275nov"](e,25).transform(n.notes)))},null)}function fg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](2,0,null,null,1,"app-campaign-settings",[],null,null,null,rg,ng)),i["\u0275did"](3,114688,null,0,eg,[ns,ro,h],{id_campagne:[0,"id_campagne"],name:[1,"name"],id:[2,"id"],status:[3,"status"],ad_group_id:[4,"ad_group_id"],budget:[5,"budget"],budgetId:[6,"budgetId"],dailyBudget:[7,"dailyBudget"],numberOfDays:[8,"numberOfDays"],_showCamp:[9,"_showCamp"]},null),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,3,0,n.id_campagne,n.name,n.id,n.status,n.ad_group_id,n.budget,n.budgetId,n.dailyBudget,n.numberOfDays,n._showCampaignSettings_)},null)}function gg(t){return i["\u0275vid"](0,[i["\u0275pid"](0,N,[]),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","container relative animatedParent animateOnce p-0 bg-white text-center "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,pg)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,fg)),i["\u0275did"](9,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n                \n\n"]))],function(t,e){var n=e.component;t(e,5,0,!n._showCampaignSettings_),t(e,9,0,n._showCampaignSettings_)},null)}var mg=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},vg=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},yg=function(){function t(t,e,n,i,r){var o=this;this.notesService=t,this.auth=e,this.http=n,this.adgroup_service=i,this.route=r,this.icon_1="icon icon-inbox text-purple s-18",this.icon_2="icon icon-star-o lime-text s-18",this.icon_3="",this.icon_4="",this.icon_5="",this.text_1="Liste des camapagnes",this.text_2="Ajouter une campagne",this.text_3="",this.text_4="",this.text_5="",this.icon_retour="icon-long-arrow-left",this.btn_retour="btn-fab btn-fab-sm shadow btn-primary",this.action_2=function(){o.toggleAddCampaignBlock()},this.title="",this.isCampaign=!1,this.dure_campagne=0,this._addCampaign_=!1,this._init_campagne=!1,this.showList=!1,this._showCampaignSettings_=!1,this.isCreating=!1,this.numberOfNotifications=0,this.auth.user.forEach(function(t){o.uid=t.uid,o.email=t.email,o.accountValue=t.account_value,o.email_letter=t.email.charAt(0),o.notes=o.notesService.getListCampaign(t.uid),o.notes.forEach(function(t){console.log(t.length),t.length>0?(console.log(t.length),o.toggleListCampaign()):o.initCampagne()})}),this.auth.notificationAccount.forEach(function(t){""!=t.notification&&(o.numberOfNotifications=1,o.notificationAccountValue=t.notification)})}return t.prototype.ngAfterViewInit=function(){this._showCampaignSettings_=this.child._showCampaignSettings_},t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){"undefined"!=typeof e.money&&(t.isCreating=!0,t.auth.user.forEach(function(n){t.auth.updateUser(n.uid,{account_value:e.money}),t.auth.getInfos(n.uid).subscribe(function(e){t.auth.updateNotification(e[0].id,{notification:""}).then(function(){Oa.a.fire({title:"Service Rechargement!",text:"Compte mis \xe0 jour avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){e.value&&(window.history.pushState("","","/"),t.isCreating=!1)})})})})),"undefined"!=typeof e.money&&"undefined"!=typeof e.idC&&(t.isCreating=!0,t.auth.user.forEach(function(n){t.auth.updateUser(n.uid,{account_value:e.money}),t.auth.getInfos(n.uid).subscribe(function(n){t.auth.updateNotification(n[0].id,{notification:""}).then(function(){Oa.a.fire({title:"Service Rechargement!",text:"Compte mis \xe0 jour avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(n){n.value&&(window.history.pushState("","","/"),t.isCreating=!1,document.getElementById(e.idC).click(),setTimeout(function(){oo("#button_modal_define_budget").trigger("click")},2e3))})})})})),"undefined"!=typeof e.idC&&"undefined"!=e.budget&&"undefined"!=e.dailyBudget&&"undefined"!=e.numberOfDays&&(t.isCreating=!0,t.notesService.updateNote(e.idC,{budget:e.budget,dailyBudget:e.dailyBudget,numberOfDays:e.numberOfDays}).then(function(){Oa.a.fire({title:"Service Campagne!",text:"Budget mis \xe0 jour.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(n){n.value&&(window.history.pushState("","","/"),t.isCreating=!1,document.getElementById(e.idC).click())})}))})},t.prototype.initCampagne=function(){this._init_campagne=!0,this.title="Aucune campagne trouv\xc3\xa9e",this.showList=!0},t.prototype.toggleListCampaign=function(){this._addCampaign_=!1,this.showList=!1,this.child._showCampaignSettings_=!1},t.prototype.newCampaign=function(){this._addCampaign_=!0,this.title="Ajouter une nouvelle campagne"},t.prototype.showCampaign=function(){this._showCampaignSettings_=!0,this.showList=!1,this._addCampaign_=!1,this.title="Param\xe8tre de campagne"},t.prototype.toggleCampaign=function(){return this.isCampaign=!0,this.isCampaign},t.prototype.toggleAddCampaignBlock=function(){this._addCampaign_=!0,this.showList=!0,this.child._showCampaignSettings_=!1},t.prototype.goBack=function(){this._addCampaign_=!1},t.prototype.clickHandler=function(t,e,n,i,r,o,l,a,s){var u=this;console.log(this.uid),console.log(e),console.log(n),this.notesService.createCampaign(t,e,n,i,r,o,l,a,s).then(function(t){"ok"==t&&Oa.a.fire({title:"Service Campagne!",text:"Votre campagne a \xe9t\xe9 ajout\xe9 avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){u.name="",u.id_campagne="",u.isCreating=!1,u._init_campagne=!1})})},t.prototype.addCampaign=function(){var t=this;this.isCreating=!0;var e=oo("#campagne").val();this.http.post("http://127.0.0.1:5000/addCampaign",{email:this.email,campaign_name:e}).subscribe(function(n){console.log(n),console.log(n.budgetId),"ok"==n.status?(t.id_campagne=n.id,t.status=n.status_campaign,t.ad_group_id=n.ad_group_id,t.clickHandler(t.id_campagne,e,t.status,n.startDate,n.endDate,n.startDateFrench,n.endDateFrench,n.servingStatus,n.budgetId)):Oa.a.fire({title:"Service Campagne!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})},function(t){Oa.a.fire({title:"Service Campagne!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})},t.prototype.loadScript=function(t){return mg(this,void 0,void 0,function(){var e;return vg(this,function(n){return(e=document.createElement("script")).type="text/javascript",document.getElementsByTagName("body")[0].appendChild(e),e.src=t,oo("body").css("background-image","url('')"),[2]})})},t.prototype.defineAmountAccount=function(){var t=this;this.montant=oo("#montant").val(),this.montant<1e4?oo("#error_recharge").show():(oo("#closeModalRecharge").trigger("click"),t=this,this.isCreating=!0,setTimeout(function(){var e=document.getElementById("budgetSet"),n=pQuery(e);new PayExpresse({item_id:1}).withOption({requestTokenUrl:"http://127.0.0.1:5000/rechargeAmount/"+t.montant,method:"POST",headers:{Accept:"application/json"},prensentationMode:PayExpresse.OPEN_IN_POPUP,didPopupClosed:function(e,n,i){t.isCreating=!1,!0===e?alert(n):t.isCreating=!1},willGetToken:function(){console.log("Je me prepare a obtenir un token"),n.prop("disabled",!0)},didGetToken:function(t,e){console.log("Mon token est : "+t+" et url est "+e),n.prop("disabled",!1)},didReceiveError:function(t){alert("erreur inconnu"),n.prop("disabled",!1)},didReceiveNonSuccessResponse:function(t){console.log("non success response ",t),alert(t.errors),n.prop("disabled",!1)}}).send({pageBackgroundRadianStart:"#0178bc",pageBackgroundRadianEnd:"#00bdda",pageTextPrimaryColor:"#333",paymentFormBackground:"#fff",navControlNextBackgroundRadianStart:"#608d93",navControlNextBackgroundRadianEnd:"#28314e",navControlCancelBackgroundRadianStar:"#28314e",navControlCancelBackgroundRadianEnd:"#608d93",navControlTextColor:"#fff",paymentListItemTextColor:"#555",paymentListItemSelectedBackground:"#eee",commingIconBackgroundRadianStart:"#0178bc",commingIconBackgroundRadianEnd:"#00bdda",commingIconTextColor:"#fff",formInputBackgroundColor:"#eff1f2",formInputBorderTopColor:"#e3e7eb",formInputBorderLeftColor:"#7c7c7c",totalIconBackgroundRadianStart:"#0178bc",totalIconBackgroundRadianEnd:"#00bdda",formLabelTextColor:"#292b2c",alertDialogTextColor:"#333",alertDialogConfirmButtonBackgroundColor:"#0178bc",alertDialogConfirmButtonTextColor:"#fff"})},500))},t}(),bg=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function wg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,38,"li",[["class","treeview"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,9,"a",[["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](3,0,null,null,0,"i",[["class","icon icon icon-package s-24"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Options de ciblages"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](8,0,null,null,1,"span",[["class","badge r-3 badge-primary pull-right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["4"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](12,0,null,null,25,"ul",[["class","treeview-menu"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](14,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),i["\u0275eld"](15,0,null,null,2,"a",[["href",""]],null,null,null,null,null)),(t()(),i["\u0275eld"](16,0,null,null,0,"i",[["class","icon icon-circle-o"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleCiblageZone()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Zones"])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](20,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),i["\u0275eld"](21,0,null,null,2,"a",[["href",""]],null,null,null,null,null)),(t()(),i["\u0275eld"](22,0,null,null,0,"i",[["class","icon icon-add"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xc2ges"])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](26,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),i["\u0275eld"](27,0,null,null,2,"a",[["href",""]],null,null,null,null,null)),(t()(),i["\u0275eld"](28,0,null,null,0,"i",[["class","icon icon-add"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Genre"])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                                 "])),(t()(),i["\u0275eld"](32,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),i["\u0275eld"](33,0,null,null,2,"a",[["href",""]],null,null,null,null,null)),(t()(),i["\u0275eld"](34,0,null,null,0,"i",[["class","icon icon-add"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Appareils"])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                        "]))],null,null)}function _g(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"li",[["class","treeview"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"a",[["style","cursor: pointer"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-circle-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Statistiques de la campagne"])),(t()(),i["\u0275ted"](-1,null,["\n                        "]))],null,null)}function Cg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,97,"aside",[["class","main-sidebar fixed offcanvas b-r sidebar-tabs"],["data-toggle","offcanvas"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](2,0,null,null,94,"div",[["class","sidebar"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](4,0,null,null,91,"div",[["class","d-flex hv-100 align-items-stretch"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](6,0,null,null,24,"div",[["class","text-white teal lighten-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](8,0,null,null,21,"div",[["aria-orientation","vertical"],["class","nav mt-5 pt-5 flex-column nav-pills"],["id","v-pills-tab"],["role","tablist"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](10,0,null,null,1,"a",[["aria-controls","v-pills-home"],["aria-selected","true"],["class","nav-link teal lighten-3"],["data-toggle","pill"],["href","#v-pills-home"],["id","v-pills-home-tab"],["role","tab"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleListCampaign()&&i),i},null,null)),(t()(),i["\u0275eld"](11,0,null,null,0,"i",[["class","icon-inbox2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](13,0,null,null,1,"a",[["aria-controls","v-pills-profile"],["aria-selected","false"],["class","nav-link teal lighten-3"],["data-toggle","pill"],["href","#v-pills-profile"],["id","v-pills-profile-tab"],["role","tab"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.action_2()&&i),i},null,null)),(t()(),i["\u0275eld"](14,0,null,null,0,"i",[["class","icon-add"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](16,0,null,null,1,"a",[["class","nav-link blink skin_handle"],["href","#"]],null,null,null,null,null)),(t()(),i["\u0275eld"](17,0,null,null,0,"i",[["class","icon-lightbulb_outline"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](20,0,null,null,8,"a",[["href",""]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](22,0,null,null,5,"figure",[["class","avatar"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](24,0,null,null,0,"img",[["alt",""],["src","assets/img/adafri.png"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](26,0,null,null,0,"span",[["class","avatar-badge online"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](32,0,null,null,62,"div",[["class","tab-content flex-grow-1"],["id","v-pills-tabContent"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](34,0,null,null,41,"div",[["aria-labelledby","v-pills-home-tab"],["class","tab-pane fade show active"],["id","v-pills-home"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](36,0,null,null,13,"div",[["class","relative brand-wrapper sticky b-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](38,0,null,null,10,"div",[["class","d-flex justify-content-between align-items-center p-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](40,0,null,null,4,"div",[["class","text-xs-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](42,0,null,null,1,"span",[["class","font-weight-lighter s-18"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Menu"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](46,0,null,null,1,"div",[["class","badge badge-danger r-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Accueil campagne"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](51,0,null,null,23,"ul",[["class","sidebar-menu"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                       "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](55,0,null,null,4,"li",[["class","treeview"]],null,null,null,null,null)),(t()(),i["\u0275eld"](56,0,null,null,2,"a",[["style","cursor: pointer"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleListCampaign()&&i),i},null,null)),(t()(),i["\u0275eld"](57,0,null,null,0,"i",[["class","icon icon-circle-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Toutes les campagnes"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                            \n                        "])),(t()(),i["\u0275eld"](61,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),i["\u0275eld"](62,0,null,null,2,"a",[["class","treeview"],["style","cursor: pointer"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.action_2()&&i),i},null,null)),(t()(),i["\u0275eld"](63,0,null,null,0,"i",[["class","icon icon-add"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ajouter une nouvelle campagne"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,wg)),i["\u0275did"](68,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        \n                       "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,_g)),i["\u0275did"](72,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        \n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](77,0,null,null,16,"div",[["aria-labelledby","v-pills-profile-tab"],["class","tab-pane fade"],["id","v-pills-profile"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](79,0,null,null,4,"div",[["class","relative brand-wrapper sticky b-b p-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                       "])),(t()(),i["\u0275eld"](81,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Gallerie"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](85,0,null,null,7,"div",[["class","sticky slimScroll"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275eld"](87,0,null,null,4,"div",[["class","p-2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" \n                            "])),(t()(),i["\u0275eld"](89,0,null,null,1,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                \n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,68,0,!0===n._showCampaignSettings_),t(e,72,0,!0===n._showCampaignSettings_)},null)}function xg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","paper-nav-toggle left ml-2 fixed"],["data-toggle","push-menu"],["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-toggle-nav white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"]))],null,null)}function Sg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","text-danger"],["data-target","#modalRechargement"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-data_usage text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,[""," \n                            "]))],null,function(t,e){t(e,3,0,e.component.notificationAccountValue)})}function Eg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-data_usage text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Aucune Notification pour le moment \n                            "]))],null,null)}function Tg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,36,"li",[["class","dropdown custom-dropdown notifications-menu"],["style","margin-top: 5px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,6,"a",[["aria-expanded","false"],["class"," nav-link"],["data-toggle","dropdown"],["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","icon-notifications_none text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[["class","badge badge-danger badge-mini rounded-circle"]],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](10,0,null,null,25,"ul",[["class","dropdown-menu dropdown-menu-right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](12,0,null,null,1,"li",[["class","header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](13,null,["Vous avez "," notification(s)"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](15,0,null,null,15,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](18,0,null,null,11,"ul",[["class","menu"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](20,0,null,null,7,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Sg)),i["\u0275did"](23,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Eg)),i["\u0275did"](26,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                       "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](32,0,null,null,2,"li",[["class","footer p-2 text-center"]],null,null,null,null,null)),(t()(),i["\u0275eld"](33,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["View all"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n        "]))],function(t,e){var n=e.component;t(e,23,0,""!==n.notificationAccountValue),t(e,26,0,""===n.notificationAccountValue)},function(t,e){var n=e.component;t(e,7,0,n.numberOfNotifications),t(e,13,0,n.numberOfNotifications)})}function kg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[["style","position: relative"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](2,0,null,null,1,"app-create-campaign",[],null,null,null,ls,rs)),i["\u0275did"](3,114688,null,0,is,[er,ns,ro],null,null),(t()(),i["\u0275ted"](-1,null,["\n        \n\n    "]))],function(t,e){t(e,3,0)},null)}function Ag(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","container-fluid pt-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n   "])),(t()(),i["\u0275eld"](2,0,null,null,24,"div",[["class","text-center p-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","icon-note-important s-64 text-primary"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](6,0,null,null,1,"h4",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Aucune Campagne trouvees"])),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](9,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Vous devez creer une nouvelle campagne publicitaire pour commencer"])),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](12,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](14,0,null,null,5,"input",[["class","form-control"],["id","campagne"],["name","note"],["placeholder","Nom de la campagne"],["style","max-width: 200 px !important"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,15)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(o.name=n)&&r),r},null,null)),i["\u0275did"](15,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](17,671744,null,0,gl,[[8,null],[8,null],[8,null],[2,bo]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,ko,null,[gl]),i["\u0275did"](19,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](21,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](23,0,null,null,2,"button",[["class","btn teal darken3 text-white shadow btn-lg r-20"],["href","#"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addCampaign()&&i),i},null,null)),(t()(),i["\u0275eld"](24,0,null,null,0,"i",[["class","icon-plus-circle mr-2 "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nouvelle Campagne"])),(t()(),i["\u0275ted"](-1,null,["\n   "])),(t()(),i["\u0275ted"](-1,null,["\n   \n  \n"]))],function(t,e){t(e,17,0,"note",e.component.name)},function(t,e){var n=e.component;t(e,14,0,i["\u0275nov"](e,19).ngClassUntouched,i["\u0275nov"](e,19).ngClassTouched,i["\u0275nov"](e,19).ngClassPristine,i["\u0275nov"](e,19).ngClassDirty,i["\u0275nov"](e,19).ngClassValid,i["\u0275nov"](e,19).ngClassInvalid,i["\u0275nov"](e,19).ngClassPending),t(e,23,0,(null==n.name?null:n.name.length)<2||(null==n.name?null:n.name.length)>15)})}function Dg(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](3,0,null,null,1,"note-detail",[],null,null,null,gg,ug)),i["\u0275did"](4,114688,[[1,4]],0,sg,[ns,er,Ma,ro],null,null),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,4,0)},null)}function Og(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](2,0,null,null,1,"app-spinner-overlay",[],null,null,null,Ql,Xl)),i["\u0275did"](3,114688,null,0,Yl,[],{message:[0,"message"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n   "]))],function(t,e){t(e,3,0,e.component.message)},null)}function Ig(t){return i["\u0275vid"](0,[i["\u0275pid"](0,N,[]),i["\u0275qud"](671088640,1,{child:0}),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Cg)),i["\u0275did"](4,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,xg)),i["\u0275did"](7,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](9,0,null,null,93,"div",[["class","has-sidebar-left has-sidebar-tabs"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](12,0,null,null,79,"div",[["class","sticky"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275eld"](15,0,null,null,75,"div",[["class","navbar navbar-expand d-flex justify-content-between bd-navbar teal darken-1 shadow"],["style","height: 60px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](17,0,null,null,10,"div",[["class","relative"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](19,0,null,null,7,"div",[["class","d-flex"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](21,0,null,null,4,"div",[["class","d-none d-md-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](23,0,null,null,1,"h1",[["class","nav-title text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Adafri"])),(t()(),i["\u0275ted"](-1,null,["\n                       \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](30,0,null,null,59,"div",[["class","navbar-custom-menu"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](32,0,null,null,56,"ul",[["class","nav navbar-nav"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n       \n        "])),(t()(),i["\u0275ted"](-1,null,["\n         "])),(t()(),i["\u0275eld"](36,0,null,null,6,"li",[["style","margin-top: 3px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](38,0,null,null,3,"a",[["class","nav-link text-white"],["style","font-size: 12px"],["title","Argent disponible dans votre compte"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](40,0,null,null,0,"i",[["class","icon-money-bag text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](41,null,[" "," CFA\n            "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Tg)),i["\u0275did"](45,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n       \n\n       \n        "])),(t()(),i["\u0275ted"](-1,null,["\n       \n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](49,0,null,null,38,"li",[["class","dropdown custom-dropdown user user-menu "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](51,0,null,null,9,"a",[["class","nav-link text-white"],["data-toggle","dropdown"],["href","#"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](53,0,null,null,1,"p",[["class","text-white d-none"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](54,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n               \n                                                        "])),(t()(),i["\u0275eld"](56,0,null,null,1,"span",[["style","font-size: 12px"]],[[8,"className",0]],null,null,null,null)),i["\u0275ppd"](57,1),(t()(),i["\u0275ted"](-1,null,["\n                                                        "])),(t()(),i["\u0275eld"](59,0,null,null,0,"i",[["class","icon-more_vert"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                                  \n                                                        \n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](62,0,null,null,24,"div",[["class","dropdown-menu p-4 dropdown-menu-right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](64,0,null,null,21,"div",[["class","row box justify-content-between my-4"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](66,0,null,null,9,"div",[["class","col"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](68,0,null,null,6,"a",[],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.auth.signOut()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](70,0,null,null,0,"i",[["class","icon-apps purple lighten-2 avatar  r-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](72,0,null,null,1,"div",[["class","pt-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xc3\xa9connexion"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](77,0,null,null,7,"div",[["class","col"]],null,null,null,null,null)),(t()(),i["\u0275eld"](78,0,null,null,6,"a",[["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](80,0,null,null,0,"i",[["class","icon-beach_access pink lighten-1 avatar  r-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](82,0,null,null,1,"div",[["class","pt-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Profile"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                   \n               "])),(t()(),i["\u0275ted"](-1,null,["\n             \n            "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,kg)),i["\u0275did"](94,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    \n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ag)),i["\u0275did"](98,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n   \n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Dg)),i["\u0275did"](101,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Og)),i["\u0275did"](105,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n                                 "])),(t()(),i["\u0275eld"](110,0,null,null,61,"div",[["aria-hidden","true"],["aria-smallledby","exampleModalsmall"],["class","modal fade"],["id","modalRechargement"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](112,0,null,null,58,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](114,0,null,null,55,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](116,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](118,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalsmall"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Recharger mon compte pour mes campagnes"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](121,0,null,null,4,"button",[["aria-small","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](123,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](128,0,null,null,34,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](130,0,null,null,31,"div",[["class","card no-b shadow white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](132,0,null,null,22,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](134,0,null,null,18,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](136,0,null,null,15,"div",[["class","col-md-12 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](138,0,null,null,1,"h6",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Montant \xe0 recharger"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](141,0,null,null,0,"input",[["class","form-control"],["id","montant"],["min","10000"],["placeholder","Montant"],["required",""],["type","number"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](143,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 10000 FCA"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](146,0,null,null,4,"div",[["id","error_recharge"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](148,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Eurreur montant saisi invalide !"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                        \n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](156,0,null,null,4,"div",[["class","card-footer white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](158,0,null,null,1,"button",[["class","btn teal lighten-1 text-white"],["id","amountSet"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineAmountAccount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Recharger mon compte"])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](164,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](166,0,null,null,1,"button",[["class","btn btn-danger text-white"],["data-dismiss","modal"],["id","closeModalRecharge"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Close"])),(t()(),i["\u0275ted"](-1,null,["\n      \n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](173,0,null,null,0,"div",[["class","control-sidebar-bg shadow white fixed"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,4,0,!n._init_campagne),t(e,7,0,!n._init_campagne),t(e,45,0,!n._init_campagne),t(e,94,0,n._addCampaign_),t(e,98,0,n._init_campagne),t(e,101,0,!n.showList),t(e,105,0,n.isCreating)},function(t,e){var n=e.component;t(e,41,0,n.accountValue),t(e,54,0,n.email),t(e,56,0,i["\u0275inlineInterpolate"](1,"avatar-letter avatar-letter-",i["\u0275unv"](e,56,0,t(e,57,0,i["\u0275nov"](e,0),n.email_letter))," avatar-md circle"))})}var Rg=i["\u0275ccf"]("notes-list",yg,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"notes-list",[],null,null,null,Ig,bg)),i["\u0275prd"](4608,null,sg,sg,[ns,er,Ma,ro]),i["\u0275did"](2,4308992,null,0,yg,[ns,ro,pa,Ma,mi],null,null)],function(t,e){t(e,2,0)},null)},{icon_1:"icon_1",icon_2:"icon_2",icon_3:"icon_3",icon_4:"icon_4",icon_5:"icon_5",icon_retour:"icon_retour",btn_retour:"btn_retour",notes:"notes"},{},[]);function Pg(t){return void 0!==t&&null!==t}var Mg=function(t){this.name=t};Mg.COPY=new Mg("copy"),Mg.LINK=new Mg("link"),Mg.MOVE=new Mg("move"),Mg.NONE=new Mg("none");var Ng=function(){return function(){this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=Mg.MOVE,this.dropEffect=Mg.MOVE,this.dragCursor="move",this.defaultCursor="pointer"}}();function jg(){return new Lg}var Lg=function(){this.allowedDropZones=[]};function Fg(t){return new Bg(t)}var Vg,Bg=function(){function t(t){this._config=t}return Object.defineProperty(t.prototype,"elem",{get:function(){return this._elem},enumerable:!0,configurable:!0}),t.prototype.markSortable=function(t){Pg(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),Pg(t)&&(this._elem=t,this._elem.classList.add(this._config.onSortableDragClass))},t}(),Ug=function(){function t(t,e,n,i){var r=this;this._dragDropService=e,this._config=n,this._cdr=i,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._defaultCursor=n.defaultCursor,this._elem=t.nativeElement,this._elem.style.cursor=this._defaultCursor,this._elem.ondragenter=function(t){r._onDragEnter(t)},this._elem.ondragover=function(t){return r._onDragOver(t),null!=t.dataTransfer&&(t.dataTransfer.dropEffect=r._config.dropEffect.name),!1},this._elem.ondragleave=function(t){r._onDragLeave(t)},this._elem.ondrop=function(t){r._onDrop(t)},this._elem.onmousedown=function(t){r._target=t.target},this._elem.ondragstart=function(t){if(!r._dragHandle||r._dragHandle.contains(r._target)){if(r._onDragStart(t),null!=t.dataTransfer){if(t.dataTransfer.setData("text",""),t.dataTransfer.effectAllowed=r.effectAllowed||r._config.dragEffect.name,Pg(r.dragImage))if("string"==typeof r.dragImage)t.dataTransfer.setDragImage(function(t){var e=new HTMLImageElement;return e.src=t,e}(r.dragImage));else if("function"==typeof r.dragImage)t.dataTransfer.setDragImage((0,r.dragImage)());else{var e=r.dragImage;t.dataTransfer.setDragImage(e.imageElement,e.x_offset,e.y_offset)}else if(Pg(r._config.dragImage)){var n=r._config.dragImage;t.dataTransfer.setDragImage(n.imageElement,n.x_offset,n.y_offset)}else r.cloneItem&&(r._dragHelper=r._elem.cloneNode(!0),r._dragHelper.classList.add("dnd-drag-item"),r._dragHelper.style.position="absolute",r._dragHelper.style.top="0px",r._dragHelper.style.left="-1000px",r._elem.parentElement.appendChild(r._dragHelper),t.dataTransfer.setDragImage(r._dragHelper,t.offsetX,t.offsetY));(r._dragHandle?r._dragHandle:r._elem).style.cursor=r._dragEnabled?r.effectCursor?r.effectCursor:r._config.dragCursor:r._defaultCursor}}else t.preventDefault()},this._elem.ondragend=function(t){r._elem.parentElement&&r._dragHelper&&r._elem.parentElement.removeChild(r._dragHelper),r._onDragEnd(t),(r._dragHandle?r._dragHandle:r._elem).style.cursor=r._defaultCursor}}return Object.defineProperty(t.prototype,"dragEnabled",{get:function(){return this._dragEnabled},set:function(t){this._dragEnabled=!!t,this._elem.draggable=this._dragEnabled},enumerable:!0,configurable:!0}),t.prototype.setDragHandle=function(t){this._dragHandle=t},t.prototype.detectChanges=function(){var t=this;setTimeout(function(){t._cdr.detectChanges()},250)},t.prototype._onDragEnter=function(t){this._isDropAllowed(t)&&this._onDragEnterCallback(t)},t.prototype._onDragOver=function(t){this._isDropAllowed(t)&&(t.preventDefault&&t.preventDefault(),this._onDragOverCallback(t))},t.prototype._onDragLeave=function(t){this._isDropAllowed(t)&&this._onDragLeaveCallback(t)},t.prototype._onDrop=function(t){this._preventAndStop(t),this._isDropAllowed(t)&&(this._onDropCallback(t),this.detectChanges())},t.prototype._isDropAllowed=function(t){if((this._dragDropService.isDragged||t.dataTransfer&&t.dataTransfer.files)&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(var e=0;e<this._dragDropService.allowedDropZones.length;e++)if(-1!==this.dropZones.indexOf(this._dragDropService.allowedDropZones[e]))return!0}return!1},t.prototype._preventAndStop=function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},t.prototype._onDragStart=function(t){this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(t))},t.prototype._onDragEnd=function(t){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(t)},t.prototype._onDragEnterCallback=function(t){},t.prototype._onDragOverCallback=function(t){},t.prototype._onDragLeaveCallback=function(t){},t.prototype._onDropCallback=function(t){},t.prototype._onDragStartCallback=function(t){},t.prototype._onDragEndCallback=function(t){},t}(),qg=this&&this.__extends||(Vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}Vg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wg=function(t){function e(e,n,i,r,o){var l=t.call(this,e,n,i,r)||this;return l._sortableDataService=o,l._sortableData=[],l.dragEnabled=!1,l}return qg(e,t),Object.defineProperty(e.prototype,"draggable",{set:function(t){this.dragEnabled=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortableData",{get:function(){return this._sortableData},set:function(t){this._sortableData=t,this.dropEnabled=!!this._sortableData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropzones",{set:function(t){this.dropZones=t},enumerable:!0,configurable:!0}),e.prototype._onDragEnterCallback=function(t){if(this._sortableDataService.isDragged){var e=this._sortableDataService.sortableContainer._sortableData[this._sortableDataService.index];-1===this._sortableData.indexOf(e)&&(this._sortableDataService.sortableContainer._sortableData.splice(this._sortableDataService.index,1),0===this._sortableDataService.sortableContainer._sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this._sortableData.unshift(e),this._sortableDataService.sortableContainer=this,this._sortableDataService.index=0),this.detectChanges()}},e}(Ug),Hg=function(t){function e(e,n,r,o,l,a){var s=t.call(this,e,n,r,a)||this;return s._sortableContainer=o,s._sortableDataService=l,s.onDragSuccessCallback=new i.EventEmitter,s.onDragStartCallback=new i.EventEmitter,s.onDragOverCallback=new i.EventEmitter,s.onDragEndCallback=new i.EventEmitter,s.onDropSuccessCallback=new i.EventEmitter,s.dropZones=s._sortableContainer.dropZones,s.dragEnabled=!0,s.dropEnabled=!0,s}return qg(e,t),Object.defineProperty(e.prototype,"draggable",{set:function(t){this.dragEnabled=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"droppable",{set:function(t){this.dropEnabled=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectallowed",{set:function(t){this.effectAllowed=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectcursor",{set:function(t){this.effectCursor=t},enumerable:!0,configurable:!0}),e.prototype._onDragStartCallback=function(t){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)},e.prototype._onDragOverCallback=function(t){this._sortableDataService.isDragged&&this._elem!==this._sortableDataService.elem&&(this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))},e.prototype._onDragEndCallback=function(t){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableContainer=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)},e.prototype._onDragEnterCallback=function(t){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableContainer.sortableData!==this._sortableContainer.sortableData)){var e=this._sortableDataService.sortableContainer.sortableData[this._sortableDataService.index];this._sortableDataService.sortableContainer.sortableData.splice(this._sortableDataService.index,1),0===this._sortableDataService.sortableContainer.sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),this._sortableContainer.sortableData.splice(this.index,0,e),this._sortableContainer.dropEnabled&&(this._sortableContainer.dropEnabled=!1),this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index}},e.prototype._onDropCallback=function(t){this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit(this._dragDropService.dragData),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())},e}(Ug),zg=function(t,e,n,i){this.c=t,this.m=e,this.y=n,this.k=i},Gg=function(t,e,n,i){this.h=t,this.s=e,this.l=n,this.a=i},Yg=function(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i},Xg=function(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i},Kg=function(){function t(){this.newValue=new i.EventEmitter}return t.prototype.inputChange=function(t){var e=t.target.value;if(void 0===this.rg)this.newValue.emit(e);else{var n=parseFloat(e);!isNaN(n)&&n>=0&&n<=this.rg&&this.newValue.emit({v:n,rg:this.rg})}},t}(),Qg=function(){function t(t){var e=this;this.elRef=t,this.dragEnd=new i.EventEmitter,this.dragStart=new i.EventEmitter,this.newValue=new i.EventEmitter,this.listenerMove=function(t){return e.move(t)},this.listenerStop=function(){return e.stop()}}return t.prototype.mouseDown=function(t){this.start(t)},t.prototype.touchStart=function(t){this.start(t)},t.prototype.move=function(t){t.preventDefault(),this.setCursor(t)},t.prototype.start=function(t){this.setCursor(t),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()},t.prototype.stop=function(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()},t.prototype.getX=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-e.left-window.pageXOffset},t.prototype.getY=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-e.top-window.pageYOffset},t.prototype.setCursor=function(t){var e=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,i=Math.max(0,Math.min(this.getX(t),e)),r=Math.max(0,Math.min(this.getY(t),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:i/e,v:1-r/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:r/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:i/e,rgX:this.rgX})},t}(),Zg=function(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i},Jg=function(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i},$g=function(){function t(){this.active=null}return t.prototype.setActive=function(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeColorPicker(),this.active=t},t.prototype.hsva2hsla=function(t){var e=t.h,n=t.s,i=t.v,r=t.a;if(0===i)return new Gg(e,0,0,r);if(0===n&&1===i)return new Gg(e,1,1,r);var o=i*(2-n)/2;return new Gg(e,i*n/(1-Math.abs(2*o-1)),o,r)},t.prototype.hsla2hsva=function(t){var e=Math.min(t.h,1),n=Math.min(t.s,1),i=Math.min(t.l,1),r=Math.min(t.a,1);if(0===i)return new Yg(e,0,0,r);var o=i+n*(1-Math.abs(2*i-1))/2;return new Yg(e,2*(o-i)/o,o,r)},t.prototype.hsvaToRgba=function(t){var e,n,i,r=t.h,o=t.s,l=t.v,a=t.a,s=Math.floor(6*r),u=6*r-s,c=l*(1-o),h=l*(1-u*o),d=l*(1-(1-u)*o);switch(s%6){case 0:e=l,n=d,i=c;break;case 1:e=h,n=l,i=c;break;case 2:e=c,n=l,i=d;break;case 3:e=c,n=h,i=l;break;case 4:e=d,n=c,i=l;break;case 5:e=l,n=c,i=h}return new Xg(e,n,i,a)},t.prototype.rgbaToCmyk=function(t){var e=1-Math.max(t.r,t.g,t.b);return 1===e?new zg(0,0,0,1):new zg((1-t.r-e)/(1-e),(1-t.g-e)/(1-e),(1-t.b-e)/(1-e),e)},t.prototype.rgbaToHsva=function(t){var e,n,i=Math.min(t.r,1),r=Math.min(t.g,1),o=Math.min(t.b,1),l=Math.min(t.a,1),a=Math.max(i,r,o),s=Math.min(i,r,o),u=a,c=a-s;if(n=0===a?0:c/a,a===s)e=0;else{switch(a){case i:e=(r-o)/c+(r<o?6:0);break;case r:e=(o-i)/c+2;break;case o:e=(i-r)/c+4}e/=6}return new Yg(e,n,u,l)},t.prototype.rgbaToHex=function(t,e){var n="#"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return e&&(n+=(256|Math.round(255*t.a)).toString(16).substr(1)),n},t.prototype.denormalizeRGBA=function(t){return new Xg(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)},t.prototype.stringToHsva=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var n=null;t=(t||"").toLowerCase();var i=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new Xg(parseInt(t[2],10)/255,parseInt(t[3],10)/255,parseInt(t[4],10)/255,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new Gg(parseInt(t[2],10)/360,parseInt(t[3],10)/100,parseInt(t[4],10)/100,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}}];for(var r in e?i.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(t){return new Xg(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,parseInt(t[4]||"FF",16)/255)}}):i.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(t){return new Xg(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1)}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(t){return new Xg(parseInt(t[1]+t[1],16)/255,parseInt(t[2]+t[2],16)/255,parseInt(t[3]+t[3],16)/255,1)}}),i)if(i.hasOwnProperty(r)){var o=i[r],l=o.re.exec(t),a=l&&o.parse(l);if(a)return a instanceof Xg?n=this.rgbaToHsva(a):a instanceof Gg&&(n=this.hsla2hsva(a)),n}return n},t.prototype.outputFormat=function(t,e,n){switch(e){case"hsla":var i=this.hsva2hsla(t),r=new Gg(Math.round(360*i.h),Math.round(100*i.s),Math.round(100*i.l),Math.round(100*i.a)/100);return t.a<1||"always"===n?"hsla("+r.h+","+r.s+"%,"+r.l+"%,"+r.a+")":"hsl("+r.h+","+r.s+"%,"+r.l+"%)";case"rgba":var o=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===n?"rgba("+o.r+","+o.g+","+o.b+","+Math.round(100*o.a)/100+")":"rgb("+o.r+","+o.g+","+o.b+")";default:var l="always"===n||"hex8"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),l)}},t}(),tm=function(){function t(t,e,n){this.elRef=t,this.cdRef=e,this.service=n,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.useRootViewContainer=!1}return t.prototype.ngOnInit=function(){var t=this;this.slider=new Zg(0,0,0,0),this.sliderDimMax=new Jg(this.hueSlider.nativeElement.offsetWidth,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth),this.format="rgba"===this.cpOutputFormat?1:"hsla"===this.cpOutputFormat?2:0,this.listenerMouseDown=function(e){t.onMouseDown(e)},this.listenerResize=function(){t.onResize()},this.openDialog(this.initialColor,!1)},t.prototype.ngOnDestroy=function(){this.closeDialog()},t.prototype.ngAfterViewInit=function(){230!==this.cpWidth&&(this.sliderDimMax=new Jg(this.hueSlider.nativeElement.offsetWidth,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth),this.updateColorPicker(!1),this.cdRef.detectChanges())},t.prototype.openDialog=function(t,e){void 0===e&&(e=!0),this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,e),this.openColorPicker()},t.prototype.closeDialog=function(){this.closeColorPicker()},t.prototype.setupDialog=function(t,e,n,i,r,o,l,a,s,u,c,h,d,p,f,g,m,v,y,b,w,_,C,x,S,E,T,k,A,D,O){this.setInitialColor(n),this.isIE10=10===function(){var t="";"undefined"!=typeof navigator&&(t=navigator.userAgent.toLowerCase());var e=t.indexOf("msie ");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=e,this.cpDisableInput=u,this.cpAlphaChannel=a,this.cpOutputFormat=s,this.cpDialogDisplay=o,this.cpIgnoredElements=c,this.cpSaveClickOutside=h,this.useRootViewContainer=d,this.width=this.cpWidth=parseInt(i,10),this.height=this.cpHeight=parseInt(r,10),this.cpPosition=p,this.cpPositionOffset=parseInt(f,10),this.cpOKButton=_,this.cpOKButtonText=x,this.cpOKButtonClass=C,this.cpCancelButton=S,this.cpCancelButtonText=T,this.cpCancelButtonClass=E,this.fallbackColor=l||"#fff",this.setPresetConfig(m,v),this.cpMaxPresetColorsLength=y,this.cpPresetEmptyMessage=b,this.cpPresetEmptyMessageClass=w,this.cpAddColorButton=k,this.cpAddColorButtonText=D,this.cpAddColorButtonClass=A,this.cpRemoveColorButtonClass=O,g||(this.dialogArrowOffset=0),"inline"===this.cpDialogDisplay&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===s&&"always"!==a&&"hex8"!==a&&(this.cpAlphaChannel="disabled")},t.prototype.setInitialColor=function(t){this.initialColor=t},t.prototype.setPresetConfig=function(t,e){this.cpPresetLabel=t,this.cpPresetColors=e},t.prototype.setColorFromString=function(t,e,n){var i;void 0===e&&(e=!0),void 0===n&&(n=!0),("always"===this.cpAlphaChannel||"hex8"===this.cpAlphaChannel)&&((i=this.service.stringToHsva(t,!0))||this.hsva)||(i=this.service.stringToHsva(t,!1)),i||this.hsva||(i=this.service.stringToHsva(this.fallbackColor,!1)),i&&(this.hsva=i,this.sliderH=this.hsva.h,this.updateColorPicker(e,n))},t.prototype.onResize=function(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()},t.prototype.onDragEnd=function(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})},t.prototype.onDragStart=function(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})},t.prototype.onMouseDown=function(t){this.isIE10||"popup"!==this.cpDialogDisplay||t.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,t.target)||0!==this.cpIgnoredElements.filter(function(e){return e===t.target}).length||(this.cpSaveClickOutside||(this.setColorFromString(this.initialColor,!1),this.directiveInstance.colorChanged(this.initialColor)),this.closeColorPicker())},t.prototype.onAcceptColor=function(t){t.stopPropagation(),"popup"===this.cpDialogDisplay&&this.closeColorPicker(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor)},t.prototype.onCancelColor=function(t){t.stopPropagation(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker()),this.directiveInstance.colorCanceled()},t.prototype.onFormatToggle=function(){this.format=(this.format+1)%3},t.prototype.onColorChange=function(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})},t.prototype.onHueChange=function(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})},t.prototype.onAlphaChange=function(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})},t.prototype.onHexInput=function(t){null===t?this.updateColorPicker():(t&&"#"!==t[0]&&(t="#"+t),this.setColorFromString(t,!0,!1),this.directiveInstance.inputChanged({input:"hex",value:t,color:this.outputColor}))},t.prototype.onRedInput=function(t){var e=this.service.hsvaToRgba(this.hsva);e.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"red",value:e.r,color:this.outputColor})},t.prototype.onBlueInput=function(t){var e=this.service.hsvaToRgba(this.hsva);e.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"blue",value:e.b,color:this.outputColor})},t.prototype.onGreenInput=function(t){var e=this.service.hsvaToRgba(this.hsva);e.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"green",value:e.g,color:this.outputColor})},t.prototype.onAlphaInput=function(t){this.hsva.a=t.v/t.rg,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"alpha",value:this.hsva.a,color:this.outputColor})},t.prototype.onHueInput=function(t){this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"hue",value:this.hsva.h,color:this.outputColor})},t.prototype.onLightnessInput=function(t){var e=this.service.hsva2hsla(this.hsva);e.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"lightness",value:e.l,color:this.outputColor})},t.prototype.onSaturationInput=function(t){var e=this.service.hsva2hsla(this.hsva);e.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"saturation",value:e.s,color:this.outputColor})},t.prototype.onAddPresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors.filter(function(t){return t===e}).length||(this.cpPresetColors=this.cpPresetColors.concat(e),this.directiveInstance.presetColorsChanged(this.cpPresetColors))},t.prototype.onRemovePresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(function(t){return t!==e}),this.directiveInstance.presetColorsChanged(this.cpPresetColors)},t.prototype.openColorPicker=function(){var t=this;this.show||(this.show=!0,this.hidden=!0,setTimeout(function(){t.hidden=!1,t.setDialogPosition(),t.cdRef.detectChanges()},0),this.directiveInstance.toggle(!0),this.isIE10||document.addEventListener("mousedown",this.listenerMouseDown),window.addEventListener("resize",this.listenerResize))},t.prototype.closeColorPicker=function(){this.show&&(this.show=!1,this.directiveInstance.toggle(!1),this.isIE10||document.removeEventListener("mousedown",this.listenerMouseDown),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())},t.prototype.updateColorPicker=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!0),this.sliderDimMax){var n=this.outputColor,i=this.service.hsva2hsla(this.hsva),r=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(new Yg(this.sliderH||this.hsva.h,1,1,1)));e&&(this.hslaText=new Gg(Math.round(360*i.h),Math.round(100*i.s),Math.round(100*i.l),Math.round(100*i.a)/100),this.rgbaText=new Xg(r.r,r.g,r.b,Math.round(100*r.a)/100),this.hexText=this.service.rgbaToHex(r,"always"===this.cpAlphaChannel||"hex8"===this.cpAlphaChannel)),this.hueSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.alphaSliderColor="rgb("+r.r+","+r.g+","+r.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.slider=new Zg((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&n!==this.outputColor&&this.directiveInstance.colorChanged(this.outputColor)}},t.prototype.setDialogPosition=function(){if("inline"===this.cpDialogDisplay)this.position="relative";else{for(var t=this.dialogElement.nativeElement.offsetHeight,e="static",n="",i=null,r=null,o=null,l=this.directiveElementRef.nativeElement.parentNode;null!==l&&"HTML"!==l.tagName;){if(e=(i=window.getComputedStyle(l)).getPropertyValue("position"),n=i.getPropertyValue("transform"),"static"!==e&&null===r&&(r=l),n&&"none"!==n&&null===o&&(o=l),"fixed"===e){r=o;break}l=l.parentNode}var a=this.createBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&!r)this.top=a.top,this.left=a.left;else{null===r&&(r=l);var s=this.createBox(r,"fixed"!==e);this.top=a.top-s.top,this.left=a.left-s.left}"fixed"===e&&(this.position="fixed"),"left"===this.cpPosition?(this.top+=a.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):"top"===this.cpPosition?(this.arrowTop=t-1,this.top-=t+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*a.width-this.dialogArrowOffset):"bottom"===this.cpPosition?(this.top+=a.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*a.width-this.dialogArrowOffset):(this.top+=a.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=a.width+this.dialogArrowSize-2)}},t.prototype.createBox=function(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}},t.prototype.isDescendant=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},t}(),em=function(){function t(t,e,n,r,o,l){this.injector=t,this.cfr=e,this.appRef=n,this.vcRef=r,this.elRef=o,this._service=l,this.dialogCreated=!1,this.ignoreChanges=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpIgnoredElements=[],this.cpDisableInput=!1,this.cpAlphaChannel="enabled",this.cpOutputFormat="hex",this.cpFallbackColor="#fff",this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="right",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new i.EventEmitter(!0),this.cpToggleChange=new i.EventEmitter(!0),this.cpSliderChange=new i.EventEmitter(!0),this.cpSliderDragEnd=new i.EventEmitter(!0),this.cpSliderDragStart=new i.EventEmitter(!0),this.colorPickerOpen=new i.EventEmitter(!0),this.colorPickerClose=new i.EventEmitter(!0),this.colorPickerCancel=new i.EventEmitter(!0),this.colorPickerSelect=new i.EventEmitter(!0),this.colorPickerChange=new i.EventEmitter(!1),this.cpPresetColorsChange=new i.EventEmitter(!0)}return t.prototype.handleClick=function(t){this.inputFocus()},t.prototype.handleFocus=function(t){this.inputFocus()},t.prototype.handleInput=function(t){this.inputChange(t.target.value)},t.prototype.ngOnDestroy=function(){void 0!==this.cmpRef&&this.cmpRef.destroy()},t.prototype.ngOnChanges=function(t){t.cpToggle&&(!this.disabled&&t.cpToggle.currentValue?this.openDialog():this.dialog&&!t.cpToggle.currentValue&&this.dialog.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1)),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)},t.prototype.openDialog=function(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{var t=this.vcRef;if(this.dialogCreated=!0,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){var e=this.injector.get(this.appRef.componentTypes[0]);(t=e.vcRef||e.viewContainerRef||this.vcRef)===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")}var n=this.cfr.resolveComponentFactory(tm),r=i.ReflectiveInjector.fromResolvedProviders([],t.parentInjector);this.cmpRef=t.createComponent(n,0,r,[]),this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}},t.prototype.toggle=function(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)},t.prototype.colorChanged=function(t,e){void 0===e&&(e=!0),this.ignoreChanges=e,this.colorPickerChange.emit(t)},t.prototype.colorCanceled=function(){this.colorPickerCancel.emit()},t.prototype.colorSelected=function(t){this.colorPickerSelect.emit(t)},t.prototype.inputFocus=function(){var t=this.elRef.nativeElement,e=this.cpIgnoredElements.filter(function(e){return e===t});this.disabled||e.length||this.openDialog()},t.prototype.inputChange=function(t){this.dialog?this.dialog.setColorFromString(t,!0):(this.colorPicker=t,this.colorPickerChange.emit(this.colorPicker))},t.prototype.inputChanged=function(t){this.cpInputChange.emit(t)},t.prototype.sliderChanged=function(t){this.cpSliderChange.emit(t)},t.prototype.sliderDragEnd=function(t){this.cpSliderDragEnd.emit(t)},t.prototype.sliderDragStart=function(t){this.cpSliderDragStart.emit(t)},t.prototype.presetColorsChanged=function(t){this.cpPresetColorsChange.emit(t)},t}(),nm=function(){},im=(n("tsU9"),n("01M/"));function rm(t){return getComputedStyle(t)}function om(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i+="px"),t.style[n]=i}return t}function lm(t){var e=document.createElement("div");return e.className=t,e}var am="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function sm(t,e){if(!am)throw new Error("No element matching method supported");return am.call(t,e)}function um(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function cm(t,e){return Array.prototype.filter.call(t.children,function(t){return sm(t,e)})}var hm={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},dm={x:null,y:null};function pm(t,e){var n=t.element.classList,i=hm.state.scrolling(e);n.contains(i)?clearTimeout(dm[e]):n.add(i)}function fm(t,e){dm[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(hm.state.scrolling(e))},t.settings.scrollingThreshold)}var gm=function(t){this.element=t,this.handlers={}},mm={isEmpty:{configurable:!0}};gm.prototype.bind=function(t,e){"undefined"==typeof this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},gm.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(i){return!(!e||i===e)||(n.element.removeEventListener(t,i,!1),!1)})},gm.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},mm.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(gm.prototype,mm);var vm=function(){this.eventElements=[]};function ym(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}vm.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new gm(t),this.eventElements.push(e)),e},vm.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},vm.prototype.unbind=function(t,e,n){var i=this.eventElement(t);i.unbind(e,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},vm.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},vm.prototype.once=function(t,e,n){var i=this.eventElement(t),r=function(t){i.unbind(e,r),n(t)};i.bind(e,r)};var bm=function(t,e,n,i,r){var o;if(void 0===i&&(i=!0),void 0===r&&(r=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,i,r){var l=o[0],a=o[1],s=o[2],u=o[3],c=o[4],h=o[5];void 0===i&&(i=!0),void 0===r&&(r=!1);var d=t.element;t.reach[u]=null,d[s]<1&&(t.reach[u]="start"),d[s]>t[l]-t[a]-1&&(t.reach[u]="end"),e&&(d.dispatchEvent(ym("ps-scroll-"+u)),e<0?d.dispatchEvent(ym("ps-scroll-"+c)):e>0&&d.dispatchEvent(ym("ps-scroll-"+h)),i&&function(t,e){pm(t,e),fm(t,e)}(t,u)),t.reach[u]&&(e||r)&&d.dispatchEvent(ym("ps-"+u+"-reach-"+t.reach[u]))}(t,n,0,i,r)};function wm(t){return parseInt(t,10)||0}var _m={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},Cm=function(t){var e=t.element,n=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(cm(e,hm.element.rail("x")).forEach(function(t){return um(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(cm(e,hm.element.rail("y")).forEach(function(t){return um(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=xm(t,wm(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=wm((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=xm(t,wm(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=wm(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},i=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-i:n.top=e.scrollbarXTop+i,om(e.scrollbarXRail,n);var r={top:i,height:e.railYHeight};e.isScrollbarYUsingRight?r.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:e.scrollbarYRight-t.scrollLeft:r.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,om(e.scrollbarYRail,r),om(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),om(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(hm.state.active("x")):(e.classList.remove(hm.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(hm.state.active("y")):(e.classList.remove(hm.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function xm(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function Sm(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],l=e[5],a=e[6],s=e[7],u=e[8],c=t.element,h=null,d=null,p=null;function f(e){c[a]=h+p*(e[r]-d),pm(t,s),Cm(t),e.stopPropagation(),e.preventDefault()}function g(){fm(t,s),t[u].classList.remove(hm.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",f)}t.event.bind(t[e[4]],"mousedown",function(e){h=c[a],d=e[r],p=(t[i]-t[n])/(t[o]-t[l]),t.event.bind(t.ownerDocument,"mousemove",f),t.event.once(t.ownerDocument,"mouseup",g),t[u].classList.add(hm.state.clicking),e.stopPropagation(),e.preventDefault()})}var Em={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,Cm(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,Cm(t),e.stopPropagation()})},"drag-thumb":function(t){Sm(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Sm(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(sm(e,":hover")||sm(t.scrollbarX,":focus")||sm(t.scrollbarY,":focus"))){var i,r=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(sm(i=r,"input,[contenteditable]")||sm(i,"select,[contenteditable]")||sm(i,"textarea,[contenteditable]")||sm(i,"button,[contenteditable]"))return}var o=0,l=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:l=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:l=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:l=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:l=t.containerHeight;break;case 34:l=-t.containerHeight;break;case 36:l=t.contentHeight;break;case 35:l=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==l||(e.scrollTop-=l,e.scrollLeft+=o,Cm(t),function(n,i){var r=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,l)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var i=function(t){var e=t.deltaX,n=-1*t.deltaY;return"undefined"!=typeof e&&"undefined"!=typeof n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),r=i[0],o=i[1];if(!function(t,n,i){if(!_m.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var r=t;r&&r!==e;){if(r.classList.contains(hm.element.consuming))return!0;var o=rm(r);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var l=r.scrollHeight-r.clientHeight;if(l>0&&!(0===r.scrollTop&&i>0||r.scrollTop===l&&i<0))return!0;var a=r.scrollWidth-r.clientWidth;if(a>0&&!(0===r.scrollLeft&&n<0||r.scrollLeft===a&&n>0))return!0}r=r.parentNode}return!1}(n.target,r,o)){var l=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=r*t.settings.wheelSpeed,l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(r?e.scrollLeft+=r*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,l=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=r*t.settings.wheelSpeed),Cm(t),(l=l||function(n,i){var r=Math.floor(e.scrollTop),o=0===e.scrollTop,l=r+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,s=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(i)>Math.abs(n)?o||l:a||s)||!t.settings.wheelPropagation}(r,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",n):"undefined"!=typeof window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(_m.supportsTouch||_m.supportsIePointer){var e=t.element,n={},i=0,r={},o=null;_m.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",c),t.event.bind(e,"touchend",h)):_m.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",c),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",c),t.event.bind(e,"MSPointerUp",h)))}function l(n,i){e.scrollTop-=i,e.scrollLeft-=n,Cm(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function s(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(s(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,i=(new Date).getTime(),null!==o&&clearInterval(o)}}function c(o){if(s(o)){var u=a(o),c={pageX:u.pageX,pageY:u.pageY},h=c.pageX-n.pageX,d=c.pageY-n.pageY;if(function(t,n,i){if(!e.contains(t))return!1;for(var r=t;r&&r!==e;){if(r.classList.contains(hm.element.consuming))return!0;var o=rm(r);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var l=r.scrollHeight-r.clientHeight;if(l>0&&!(0===r.scrollTop&&i>0||r.scrollTop===l&&i<0))return!0;var a=r.scrollLeft-r.clientWidth;if(a>0&&!(0===r.scrollLeft&&n<0||r.scrollLeft===a&&n>0))return!0}r=r.parentNode}return!1}(o.target,h,d))return;l(h,d),n=c;var p=(new Date).getTime(),f=p-i;f>0&&(r.x=h/f,r.y=d/f,i=p),function(n,i){var r=Math.floor(e.scrollTop),o=e.scrollLeft,l=Math.abs(n),a=Math.abs(i);if(a>l){if(i<0&&r===t.contentHeight-t.containerHeight||i>0&&0===r)return 0===window.scrollY&&i>0&&_m.isChrome}else if(l>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,d)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){t.isInitialized?clearInterval(o):r.x||r.y?Math.abs(r.x)<.01&&Math.abs(r.y)<.01?clearInterval(o):(l(30*r.x,30*r.y),r.x*=.8,r.y*=.8):clearInterval(o)},10))}}},Tm=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in this.element=t,t.classList.add(hm.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)n.settings[i]=e[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var r,o,l=function(){return t.classList.add(hm.state.focus)},a=function(){return t.classList.remove(hm.state.focus)};this.isRtl="rtl"===rm(t).direction,this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,r=t.scrollLeft<0,t.scrollLeft=o,r),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new vm,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=lm(hm.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=lm(hm.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",l),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=rm(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=wm(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=wm(s.borderLeftWidth)+wm(s.borderRightWidth),om(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=wm(s.marginLeft)+wm(s.marginRight),om(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=lm(hm.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=lm(hm.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",l),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=rm(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=wm(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=rm(t);return wm(e.width)+wm(e.paddingLeft)+wm(e.paddingRight)+wm(e.borderLeftWidth)+wm(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=wm(u.borderTopWidth)+wm(u.borderBottomWidth),om(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=wm(u.marginTop)+wm(u.marginBottom),om(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return Em[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),Cm(this)};Tm.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,om(this.scrollbarXRail,{display:"block"}),om(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=wm(rm(this.scrollbarXRail).marginLeft)+wm(rm(this.scrollbarXRail).marginRight),this.railYMarginHeight=wm(rm(this.scrollbarYRail).marginTop)+wm(rm(this.scrollbarYRail).marginBottom),om(this.scrollbarXRail,{display:"none"}),om(this.scrollbarYRail,{display:"none"}),Cm(this),bm(this,"top",0,!1,!0),bm(this,"left",0,!1,!0),om(this.scrollbarXRail,{display:""}),om(this.scrollbarYRail,{display:""}))},Tm.prototype.onScroll=function(t){this.isAlive&&(Cm(this),bm(this,"top",this.element.scrollTop-this.lastScrollTop),bm(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Tm.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),um(this.scrollbarX),um(this.scrollbarY),um(this.scrollbarXRail),um(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Tm.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};var km=Tm,Am=n("z+gd"),Dm=new i.InjectionToken("PERFECT_SCROLLBAR_CONFIG"),Om=function(t,e){this.x=t,this.y=e},Im=function(){function t(t){void 0===t&&(t={}),this.assign(t)}return t.prototype.assign=function(t){for(var e in void 0===t&&(t={}),t)this[e]=t[e]},t}(),Rm=function(){function t(t,e,n,r,o){this.zone=t,this.differs=e,this.elementRef=n,this.platformId=r,this.defaults=o,this.disabled=!1,this.PS_SCROLL_Y=new i.EventEmitter,this.PS_SCROLL_X=new i.EventEmitter,this.PS_SCROLL_UP=new i.EventEmitter,this.PS_SCROLL_DOWN=new i.EventEmitter,this.PS_SCROLL_LEFT=new i.EventEmitter,this.PS_SCROLL_RIGHT=new i.EventEmitter,this.PS_Y_REACH_END=new i.EventEmitter,this.PS_Y_REACH_START=new i.EventEmitter,this.PS_X_REACH_END=new i.EventEmitter,this.PS_X_REACH_START=new i.EventEmitter}return t.prototype.emit=function(t){this[t.type.replace(/-/g,"_").toUpperCase()].emit(t)},t.prototype.psScrollY=function(t){this.emit(t)},t.prototype.psScrollX=function(t){this.emit(t)},t.prototype.psScrollUp=function(t){this.emit(t)},t.prototype.psScrollDown=function(t){this.emit(t)},t.prototype.psScrollLeft=function(t){this.emit(t)},t.prototype.psScrollRight=function(t){this.emit(t)},t.prototype.psReachEndY=function(t){this.emit(t)},t.prototype.psReachStartY=function(t){this.emit(t)},t.prototype.psReachEndX=function(t){this.emit(t)},t.prototype.psReachStartX=function(t){this.emit(t)},t.prototype.ngOnInit=function(){var t=this;if(!this.disabled&&B(this.platformId)){var e=new Im(this.defaults);e.assign(this.config),this.zone.runOutsideAngular(function(){t.instance=new km(t.elementRef.nativeElement,e)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(function(){t.ro=new Am.a(function(e,n){t.update()}),t.elementRef.nativeElement.children[0]&&t.ro.observe(t.elementRef.nativeElement.children[0]),t.ro.observe(t.elementRef.nativeElement)})}},t.prototype.ngOnDestroy=function(){var t=this;this.ro&&this.ro.disconnect(),this.timeout&&window.clearTimeout(this.timeout),this.instance&&(this.zone.runOutsideAngular(function(){t.instance.destroy()}),this.instance=null)},t.prototype.ngDoCheck=function(){!this.disabled&&this.configDiff&&B(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())},t.prototype.ngOnChanges=function(t){t.disabled&&!t.disabled.isFirstChange()&&t.disabled.currentValue!==t.disabled.previousValue&&(!0===t.disabled.currentValue?this.ngOnDestroy():!1===t.disabled.currentValue&&this.ngOnInit())},t.prototype.ps=function(){return this.instance},t.prototype.update=function(){var t=this;this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){if(!t.disabled&&t.configDiff)try{t.zone.runOutsideAngular(function(){t.instance&&t.instance.update()})}catch(t){}},0)},t.prototype.geometry=function(t){return void 0===t&&(t="scroll"),new function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}(this.elementRef.nativeElement[t+"Left"],this.elementRef.nativeElement[t+"Top"],this.elementRef.nativeElement[t+"Width"],this.elementRef.nativeElement[t+"Height"])},t.prototype.position=function(t){return void 0===t&&(t=!1),t?new Om(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop):new Om(this.instance.reach.x,this.instance.reach.y)},t.prototype.scrollable=function(t){void 0===t&&(t="any");var e=this.elementRef.nativeElement;return"any"===t?e.classList.contains("ps--active-x")||e.classList.contains("ps--active-y"):"both"===t?e.classList.contains("ps--active-x")&&e.classList.contains("ps--active-y"):e.classList.contains("ps--active-"+t)},t.prototype.scrollTo=function(t,e,n){this.disabled||(null==e&&null==n?this.animateScrolling("scrollTop",t,n):(null!=t&&this.animateScrolling("scrollLeft",t,n),null!=e&&this.animateScrolling("scrollTop",e,n)))},t.prototype.scrollToX=function(t,e){this.animateScrolling("scrollLeft",t,e)},t.prototype.scrollToY=function(t,e){this.animateScrolling("scrollTop",t,e)},t.prototype.scrollToTop=function(t,e){this.animateScrolling("scrollTop",t||0,e)},t.prototype.scrollToLeft=function(t,e){this.animateScrolling("scrollLeft",t||0,e)},t.prototype.scrollToRight=function(t,e){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(t||0),e)},t.prototype.scrollToBottom=function(t,e){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(t||0),e)},t.prototype.scrollToElement=function(t,e,n){var i=this.elementRef.nativeElement.querySelector(t);if(i){var r=i.getBoundingClientRect(),o=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",r.left-o.left+this.elementRef.nativeElement.scrollLeft+(e||0),n),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",r.top-o.top+this.elementRef.nativeElement.scrollTop+(e||0),n)}},t.prototype.animateScrolling=function(t,e,n){var i=this;if(n){if(e!==this.elementRef.nativeElement[t]){var r=0,o=0,l=performance.now(),a=this.elementRef.nativeElement[t],s=(a-e)/2,u=function(c){o+=Math.PI/(n/(c-l)),r=Math.round(e+s+s*Math.cos(o)),i.elementRef.nativeElement[t]===a&&(o>=Math.PI?i.animateScrolling(t,e,0):(i.elementRef.nativeElement[t]=r,a=i.elementRef.nativeElement[t],i.instance&&i.instance.update(),l=c,window.requestAnimationFrame(u)))};window.requestAnimationFrame(u)}}else{var c=this.elementRef.nativeElement[t];this.elementRef.nativeElement[t]=e,this.instance&&e!==c&&this.instance.update()}},t}(),Pm=function(){function t(t,e){this.cdRef=t,this.elementRef=e,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.stateTimeout=null,this.stateSub=null,this.scrollPositionX=null,this.scrollPositionY=null,this.scrollDirectionX=null,this.scrollDirectionY=null,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateUpdate=new Ee.a,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.PS_SCROLL_Y=new i.EventEmitter,this.PS_SCROLL_X=new i.EventEmitter,this.PS_SCROLL_UP=new i.EventEmitter,this.PS_SCROLL_DOWN=new i.EventEmitter,this.PS_SCROLL_LEFT=new i.EventEmitter,this.PS_SCROLL_RIGHT=new i.EventEmitter,this.PS_Y_REACH_END=new i.EventEmitter,this.PS_Y_REACH_START=new i.EventEmitter,this.PS_X_REACH_END=new i.EventEmitter,this.PS_X_REACH_START=new i.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.stateSub=this.stateUpdate.pipe(Object(Te.f)(function(e,n){return e===n&&!t.stateTimeout})).subscribe(function(e){t.stateTimeout&&(window.clearTimeout(t.stateTimeout),t.stateTimeout=null),"x"===e||"y"===e?(t.interaction=!1,"x"===e?(t.indicatorX=!1,t.states.left=!1,t.states.right=!1,t.autoPropagation&&t.usePropagationX&&(t.allowPropagationX=!1)):"y"===e&&(t.indicatorY=!1,t.states.top=!1,t.states.bottom=!1,t.autoPropagation&&t.usePropagationY&&(t.allowPropagationY=!1))):("left"===e||"right"===e?(t.states.left=!1,t.states.right=!1,t.states[e]=!0,t.autoPropagation&&t.usePropagationX&&(t.indicatorX=!0)):"top"!==e&&"bottom"!==e||(t.states.top=!1,t.states.bottom=!1,t.states[e]=!0,t.autoPropagation&&t.usePropagationY&&(t.indicatorY=!0)),t.autoPropagation&&(t.stateTimeout=window.setTimeout(function(){t.indicatorX=!1,t.indicatorY=!1,t.stateTimeout=null,t.interaction&&(t.states.left||t.states.right)&&(t.allowPropagationX=!0),t.interaction&&(t.states.top||t.states.bottom)&&(t.allowPropagationY=!0),t.cdRef.markForCheck()},500))),t.cdRef.markForCheck(),t.cdRef.detectChanges()})},t.prototype.ngOnDestroy=function(){this.stateSub&&this.stateSub.unsubscribe(),this.stateTimeout&&window.clearTimeout(this.stateTimeout)},t.prototype.ngDoCheck=function(){if(!this.disabled&&this.autoPropagation&&this.directiveRef){var t=this.directiveRef.elementRef.nativeElement;this.usePropagationX=t.classList.contains("ps--active-x"),this.usePropagationY=t.classList.contains("ps--active-y")}},t.prototype.checkPropagation=function(t,e,n){this.interaction=!0;var i=e<0?-1:1,r=n<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==i)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==r))&&(t.preventDefault(),t.stopPropagation()),e&&(this.scrollDirectionX=i),n&&(this.scrollDirectionY=r),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()},t.prototype.onWheelEvent=function(t){!this.disabled&&this.autoPropagation&&this.checkPropagation(t,t.deltaX,t.deltaY)},t.prototype.onTouchEvent=function(t){if(!this.disabled&&this.autoPropagation){var e=t.touches[0].clientX,n=t.touches[0].clientY;this.checkPropagation(t,e-this.scrollPositionX,n-this.scrollPositionY),this.scrollPositionX=e,this.scrollPositionY=n}},t.prototype.onScrollEvent=function(t,e){this.disabled||!this.autoPropagation&&!this.scrollIndicators||this.stateUpdate.next(e)},t}(),Mm=function(){},Nm=new i.InjectionToken("FONT_PICKER_CONFIG"),jm=function(){function t(t){this.size=null,this.style="regular",this.family="monospace",this.files=null,this.styles=["regular"],t&&(this.size=t.size||null,this.style=t.style||"regular",this.family=t.family||"monospace",this.files=t.files||null,this.styles=t.styles||["regular"])}return t.prototype.getStyles=function(){return{"font-size":this.size||"16px","font-style":this.style.includes("italic")?"italic":"normal","font-family":this.family||"monospace","font-weight":isNaN(Number(this.style.slice(0,3)))?"normal":this.style.slice(0,3)}},t}(),Lm=function(){function t(t,e){this.http=t,this.config=e,this.apiKey="",this.baseUrl="https://www.googleapis.com/webfonts/v1/webfonts",this.apiKey=e.apiKey}return t.prototype.loadFont=function(t){try{Object(im.load)({google:{families:[t.family+":"+t.style]}})}catch(e){console.warn("Failed to load the font:",t)}},t.prototype.getAllFonts=function(t){var e=this.baseUrl+"?key="+this.apiKey;return t&&(e=e.concat("&sort="+t)),this.http.get(e).pipe(Object(Te.a)(this.handleHttpError))},t.prototype.getRequestedFont=function(t){return this.http.get("https://fonts.googleapis.com/css?family="+t).pipe(Object(Te.a)(this.handleHttpError))},t.prototype.handleHttpError=function(t){console.error(t);var e=t.error instanceof Error?t.error.message:t.status||"Unknown error";return Object(Se.l)(e)},t}(),Fm=function(){function t(t,e,n){this.cdRef=t,this.elRef=e,this.service=n,this.arrowTop=null,this.fontAmount=10,this.loadedFonts=0,this.presetFonts=[],this.googleFonts=[],this.currentFonts=[],this.dialogArrowSize=10,this.dialogArrowOffset=15,this.searchTerm=new rl(""),this.renderMore=new Ee.a,this.config={suppressScrollX:!0,wheelPropagation:!1},this.loading=!0,this.selectedFont=!1,this.presetVisible=!0}return t.prototype.ngOnInit=function(){var t=this;this.renderMore.pipe(Object(Te.d)(150)).subscribe(function(){return t.loadMoreFonts()}),this.searchTerm.valueChanges.pipe(Object(Te.d)(500),Object(Te.f)()).subscribe(function(e){e?(t.presetVisible=!1,t.listLabel="Search results"):(t.presetVisible=!0,t.listLabel="Popular fonts"),t.searchGoogleFonts(e)}),this.testContainer=document.createElement("span"),this.testContainer.innerHTML=Array(100).join("wi"),this.testContainer.style.cssText=["position: absolute","left: -99999px","width: auto","font-size: 128px"].join(" !important;"),this.listenerResize=function(e){return t.onResize(e)},this.listenerMouseDown=function(e){return t.onMouseDown(e)},this.openFontPicker()},t.prototype.trackFont=function(t,e){return e.family},t.prototype.setDialog=function(t,e,n,i,r,o,l,a,s,u,c,h,d,p,f,g,m,v){var y=this;this.listLabel="Loading fonts...",this.directiveInstance=t,this.directiveElementRef=e,this.updateDialog(n,i,r,o,l,a,s,u,c,h,d,p,f,g,m,v),this.service.getAllFonts("popularity").subscribe(function(t){y.loading=!1,t.items&&(y.googleFonts=t.items.map(function(t){return new jm({family:t.family,styles:t.variants,files:t.files,style:null,size:null})}));var e=y.findFont(y.initialFont.family,!0);e&&(y.font.files=e.files,y.font.styles=e.styles,y.loadGoogleFonts([y.font]));var n=y.googleFonts.find(function(t){return"Open sans"===t.family});y.loadGoogleFonts([n]),y.setDisplayedFontSource()},function(t){return console.log(t)})},t.prototype.updateDialog=function(t,e,n,i,r,o,l,a,s,u,c,h,d,p,f,g){this.font=new jm(t),this.initialFont=new jm(t),this.fpPosition=e,this.fpPositionOffset=parseInt(n,10),i||(this.dialogArrowOffset=0),this.fpPresetLabel=r,this.fpPresetFonts=o,this.fpStyleSelect=u,this.fpSizeSelect=c,this.fpCancelButton=h,this.fpCancelButtonText=p,this.fpCancelButtonClass=d,this.fpUploadButton=l,this.fpUploadButtonText=s,this.fpUploadButtonClass=a,this.fpWidth=parseInt(g,10),this.fpHeight=parseInt(f,10),this.searchTerm.reset({disabled:this.fpPresetFonts.length>0})},t.prototype.openFontPicker=function(){this.open||(this.setDialogPosition(),this.searchTerm.setValue(""),window.addEventListener("resize",this.listenerResize),document.addEventListener("mousedown",this.listenerMouseDown),this.open=!0)},t.prototype.closeFontPicker=function(){this.open=!1,window.removeEventListener("resize",this.listenerResize),document.removeEventListener("mousedown",this.listenerMouseDown)},t.prototype.isFontAvailable=function(t){this.testWidth||(this.testContainer.style.fontFamily="monospace",document.body.appendChild(this.testContainer),this.testWidth=this.testContainer.clientWidth,document.body.removeChild(this.testContainer)),this.testContainer.style.fontFamily=t.family+", monospace",document.body.appendChild(this.testContainer);var e=this.testContainer.clientWidth;return document.body.removeChild(this.testContainer),e!==this.testWidth},t.prototype.getPresetFonts=function(){var t=this,e=[];if(this.googleFonts&&this.fpPresetFonts&&this.fpPresetFonts.length)return this.fpPresetFonts.forEach(function(n){var i=t.findFont(n,!0);i||(i=new jm({family:n,size:null,style:null,styles:["regular","italic"]})),e.push(i)}),this.presetFonts=e,e},t.prototype.setDisplayedFontSource=function(){this.setCurrentFonts(this.fpPresetFonts&&this.fpPresetFonts.length?this.getPresetFonts():this.googleFonts)},t.prototype.setCurrentFonts=function(t){var e=this;if(t!==this.currentFonts){this.currentFonts=t,this.loadedFonts=this.fontAmount;var n=this.currentFonts.slice(0,this.fontAmount);this.loadGoogleFonts(n),this.cdRef.markForCheck(),setTimeout(function(){e.scrollbar.directiveRef.scrollToY(0)},0)}},t.prototype.findFont=function(t,e){return void 0===e&&(e=!1),this.findFonts(t,e)[0]},t.prototype.findFonts=function(t,e){void 0===e&&(e=!1);var n=[],i=[];return t=t.toLowerCase(),this.googleFonts.forEach(function(r){t!==r.family.toLowerCase()?!e&&r.family.toLowerCase().indexOf(t)>-1&&i.push(r):n.push(r)}),n.concat(i)},t.prototype.loadMoreFonts=function(){var t=this;if(this.open&&!this.loading&&this.loadedFonts<this.currentFonts.length){var e=this.currentFonts.slice(this.loadedFonts,this.loadedFonts+this.fontAmount);this.loadGoogleFonts(e),this.loadedFonts+=e.length,setTimeout(function(){t.scrollbar.directiveRef.update()},0),this.cdRef.markForCheck()}},t.prototype.loadGoogleFonts=function(t){var e=this;t.slice(0,this.fontAmount).forEach(function(t){if(t&&t.files&&!e.isFontAvailable(t)){var n=t.styles.indexOf("regular")>-1?"":":"+t.styles.find(function(t){return!isNaN(t)});e.service.loadFont({family:t.family,style:n,size:t.size})}})},t.prototype.searchGoogleFonts=function(t){if(t){if(t=t.toLowerCase(),this.googleFonts){this.loadedFonts=this.fontAmount;var e=this.findFonts(t,!1);this.setCurrentFonts(e),this.cdRef.markForCheck()}}else this.searchTerm.setValue(""),this.setCurrentFonts(this.googleFonts)},t.prototype.isDescendant=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},t.prototype.createDialogBox=function(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}},t.prototype.setDialogPosition=function(){for(var t="static",e=null,n=null,i=this.directiveElementRef.nativeElement,r=this.dialogElement.nativeElement.offsetHeight;null!==i&&"HTML"!==i.tagName&&("static"!==(t=window.getComputedStyle(i).getPropertyValue("position"))&&null===e&&(e=i),"fixed"!==t);)i=i.parentNode;if("fixed"!==t){n=this.createDialogBox(this.directiveElementRef.nativeElement,!0),null===e&&(e=i);var o=this.createDialogBox(e,!0);this.top=n.top-o.top,this.left=n.left-o.left}else n=this.createDialogBox(this.directiveElementRef.nativeElement,!1),this.position="fixed",this.top=n.top,this.left=n.left;this.fpWidth||(this.fpWidth=n.width),this.fpHeight||(this.fpHeight=n.height),"left"===this.fpPosition?(this.top+=n.height*this.fpPositionOffset/100-this.dialogArrowOffset,this.left-=this.fpWidth+this.dialogArrowSize):"top"===this.fpPosition?(this.top-=r+this.dialogArrowSize,this.left+=this.fpPositionOffset/100*n.width-this.dialogArrowOffset-1,this.arrowTop=r-1):"bottom"===this.fpPosition?(this.top+=n.height+this.dialogArrowSize,this.left+=this.fpPositionOffset/100*n.width-this.dialogArrowOffset-1):(this.top+=n.height*this.fpPositionOffset/100-this.dialogArrowOffset,this.left+=n.width+this.dialogArrowSize)},t.prototype.onResize=function(t){"fixed"===this.position?this.setDialogPosition():this.closeFontPicker()},t.prototype.onMouseDown=function(t){this.isDescendant(this.elRef.nativeElement,t.target)||t.target===this.directiveElementRef.nativeElement||this.closeFontPicker()},t.prototype.onUploadFont=function(){this.directiveInstance.uploadFont()},t.prototype.onCancelSelect=function(){this.selectedFont=!1,this.font.size=this.initialFont.size,this.font.files=this.initialFont.files,this.font.style=this.initialFont.style,this.font.family=this.initialFont.family,this.font.styles=this.initialFont.styles,this.directiveInstance.fontChanged(this.font),this.closeFontPicker()},t.prototype.onSelectFont=function(t){this.selectedFont=!0,this.font.files=t.files,this.font.family=t.family,this.font.styles=t.styles,this.font.style=-1!==t.styles.indexOf("regular")?"regular":t.styles[0],this.directiveInstance.fontChanged(this.font)},t.prototype.onSearchReset=function(t){this.searchTerm.setValue(""),this.setCurrentFonts(this.googleFonts)},t.prototype.onFontSizeChange=function(t,e){this.font.size=t.target.value+"px",this.directiveInstance.fontChanged(this.font)},t.prototype.onFontStyleChange=function(t,e){var n=this.font.family+":"+t.target.value;e.files&&Object(im.load)({google:{families:[n]}}),this.directiveInstance.fontChanged(this.font)},t}(),Vm=function(){function t(){}return t.prototype.transform=function(t){return parseInt(t.replace(/[^-\d\.]/g,"")||"16",10)},t}(),Bm=function(){function t(){}return t.prototype.transform=function(t){var e={100:"Thin",200:"Extra-Light",300:"Light",400:"Regular",500:"Medium",600:"Semi-bold",700:"Bold",800:"Extra-bold",900:"Black"};for(var n in e)if(t.search(n)>=0){t=t.replace(n,e[n]+" ");break}return t},t}(),Um=function(){function t(){this.slicedArray=[],this.previousArrayRef=[],this.previousEndValue=null}return t.prototype.transform=function(t,e,n){return!t||this.previousEndValue===n&&this.previousArrayRef===t||(this.slicedArray=t.slice(e,n),this.previousArrayRef=t,this.previousEndValue=n),this.slicedArray||t},t}(),qm=function(){},Wm=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(l,a)}s((i=i.apply(t,e||[])).next())})},Hm=this&&this.__generator||function(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},zm=[{Jan:{name:"January",short:"Jan",number:"01",days:"31"},Feb:{name:"February",short:"Feb",number:"2",days:"28"},Mar:{name:"March",short:"Mar",number:"03",days:"31"},Apr:{name:"April",short:"Apr",number:"04",days:"30"},May:{name:"May",short:"May",number:"05",days:"31"},Jun:{name:"June",short:"Jun",number:"06",days:"30"},Jul:{name:"July",short:"Jul",number:"07",days:"31"},Aug:{name:"August",short:"Aug",number:"08",days:"31"},Sep:{name:"September",short:"Sep",number:"09",days:"30"},Oct:{name:"October",short:"Oct",number:"10",days:"31"},Nov:{name:"November",short:"Nov",number:"11",days:"30"},Dec:{name:"December",short:"Dec",number:"12",days:"31"}}],Gm=function(){function t(t,e,n,i,r,o,l,a){this.notesService=t,this.auth=e,this.route=n,this.http=i,this.adGroupService=r,this.adsService=o,this.cpService=l,this.fb=a,this.notificationAccountValue="",this.numberOfNotifications=0,this.url_errors=[],this.passReset=!1,this.formErrors={name:"",finalUrls:""},this.validationMessages={name:{required:"Nom de l'annonce obligatoire",name:"Saisissez un nom valide"},finalUrls:{required:"Url de redirection requise.",pattern:"L'url doit \xeatre sous la frome http://monsite.com",minlength:"Url trop courte",maxlength:"Url trop longue"}},this.button_modify_image_upload=!0,this.idOfDisplayUrlNotPublishUpload="display_url_modify_not_publish_upload",this.idOfAdNameNotPublishUpload="ad_name_modify_not_publish_upload",this.idOfDisplayUrlNotPublishCreatives="display_url_modify_not_publish_creatives",this.idOfAdNameNotPublishCreatives="ad_name_modify_not_publish_creatives",this.text_construire="Construire son annonce",this.currentIdInputName="",this.currentIdInputDisplay="",this.idOfAdNameCreateUpload="ad_name_create_upload",this.idOfDisplayUrlCreateUpload="displayUrl_create_upload",this.idOfAdNameCreateCreatives="ad_name_create_creatives",this.idOfDisplayUrlCreateCreatives="displayUrl_create_creatives",this.idOfAdNameModify="ad_name_modifed",this.idOfDisplayUrlModify="displayUrl_modify",this.idOfAdNameInitUpload="ad_name_init_upload",this.idOfDisplayUrlInitUpload="display_url_init_upload",this.idOfAdNameInitCreatives="ad_name_init_creatives",this.idOfDisplayUrlInitCreatives="display_url_init_creatives",this.text_modify="modifier",this.upload_modified=!1,this.init_choose_ad_size=!1,this.modifyPublishAd=!1,this.ad_type="",this.is_upload_way=!1,this.is_creative_way=!1,this.img_view_create_style={width:"100px",height:"100px"},this.canvas_style={width:"",height:"","border-color":"rgb(233, 216, 216); width: 300px !important; height: 250px !important; display: inline-block"},this.chooseBlock=!1,this.chooseAdSize=!0,this.isUpload=!1,this.handleCreateCanvas=!1,this.modifyDate=!1,this.dure_campagne=0,this.budget=0,this.isSetBudget=!1,this.isSimulation=!1,this.budget_to_place=0,this.my_gain=0,this.UpdatedStartDate="",this.UpdatedEndDate="",this.newStartDate="",this.newEndDate="",this.accountValue=0,this.montant=0,this.ages=[],this.sexes=[],this.zones=[],this.devices=[],this.nationals_websites=[],this.internationals_websites=[],this.ads_websites=[],this.currentAdStatus="",this.currentAdType="",this.apps=[],this.label_enabled="Actif",this.label_paused="Non Actif",this.text_create="Annonce",this.isEditor=!1,this._init_ad=!1,this.list_ad=!0,this.isAdBlock=!1,this.currentAdName="",this.currentFinalUrls="",this.tabCurrentFinalUrls=[],this.tabUpdatedCurrentFinalUrls=[],this.currentImageUrl="",this.number_of_impressions_simulated=0,this.isNull=!0,this.choose=!0,this.directBudget=!1,this.isAccountRechargement=!1,this.isPlacementBudgetFromAccount=!1,this.icon_toggle="icon-chevron-left",this.icon_toggle_options="icon-chevron-down",this.isCollapsed=!1,this.isOptions=!0,this.isPlacement=!0,this.isGender=!0,this.isAge=!0,this.isDevice=!0,this.basePath="/uploads",this.progress={percentage:0},this.globalEditor=!1,this.textEditor=!1,this.imageEditor=!1,this.figureEditor=!1,this.url="",this.size={width:300,height:250},this.dropdownListAges=[],this.dropdownListSexes=[],this.dropdownListZones=[],this.dropdownListDevices=[],this.dropdownListNationalsWebsites=[],this.dropdownListInternationalsWebsites=[],this.dropdownListAdsWebsites=[],this.dropdownListApps=[],this.selectedItems=[],this.dropdownSettingsAges={},this.dropdownSettingsSexes={},this.dropdownSettingsZones={},this.dropdownSettingsDevices={},this.dropdownSettingsNationalsWebsites={},this.dropdownSettingsInternationalsWebsites={},this.dropdownSettingsAdsWebsites={},this.dropdownSettingsApps={},this.text_visualise="Visualiser votre annonce",this.text_no_genre="Aucun genre cibl\xe9",this.text_no_age="Aucune tranche d'\xe2ge cibl\xe9e",this.text_no_devices="Aucun appareils cibl\xe9",this.text_cibled="Genre(s) cibl\xe9(s)",this.text_cibled_age="Tranches d'\xe2ges cibl\xe9es",this.text_cibled_devices="Appareils Cibl\xe9(s)",this.modify_gender_text="Modifier le ciblage des genres",this.modify_age_text="Modifier le ciblage des \xe2ges",this.modify_devices_text="Modifier le ciblage des appareils",this.text_option="Param\xe8tres du canvas",this.genres="",this.isCiblageGenre=!1,this.isCiblageAge=!1,this.isCiblageDevices=!1,this.isCreating=!1,this.isRoller=!1,this.isRechargement=!1,this.isPlacementBudget=!1,this.nationals_errors="",this._init_ad_list=!1,this.currentEditor=!1,this.element_checked="",this.illustration=!1,this.illustrationUrl="",this.AD_TYPES_1=[{name:"Medium Rectangle",width:"300",height:"250",id:"MediumRectangle",img:"https://dummyimage.com/300x250/000/fff"},{name:"Large Rectangle",width:"336",height:"280",id:"LargeRectangle",img:"https://dummyimage.com/336x280/000/fff"},{name:"Leaderboard",width:"728",height:"90",id:"Leaderboard",img:"https://dummyimage.com/728x90/000/fff"},{name:"Large Skyscraper",width:"300",height:"600",id:"LargeSkyscraper",img:"https://dummyimage.com/300x600/000/fff"},{name:"Large Leaderboard",width:"970",height:"90",id:"LargerLeaderboard",img:"https://dummyimage.com/970x90/000/fff"}],this.AD_TYPES_2=[{name:"Banner",width:"468",height:"60",id:"Banner",img:"https://dummyimage.com/468x60/000/fff"},{name:"Skyscraper",width:"120",height:"600",id:"Skyscraper",img:"https://dummyimage.com/120x600/000/fff"},{name:"Wideskyscraper",width:"160",height:"600",id:"Wideskyscraper",img:"https://dummyimage.com/160x600/000/fff"},{name:"Square",width:"250",height:"250",id:"Square",img:"https://dummyimage.com/250x250/000/fff"},{name:"Smallsquare",width:"200",height:"200",id:"Smallsquare",img:"https://dummyimage.com/200x100/000/fff"}],this.NATIONALS_WEBSITES=[[1,"infos","dakarbuzz.net","http://dakarbuzz.net"],[2,"infos","galsen221.com","http://galsen221.com"],[3,"infos","leral.net","http://leral.net"],[4,"infos","limametti.com","http://limametti.com"],[5,"infos","sanslimitesn.com","http://sanslimitesn.com"],[6,"infos","senego.com","http://senego.com"],[7,"infos","seneweb.com","http://seneweb.com"],[8,"infos","www.buzzsenegal.com","http://www.buzzsenegal.com"],[9,"infos","www.dakar7.com","http://www.dakar7.com"],[10,"infos","www.dakarflash.com","http://www.dakarflash.com"],[11,"infos","www.lequotidien.sn","http://www.lequotidien.sn"],[12,"infos","www.pressafrik.com","http://www.pressafrik.com"],[13,"infos","www.senenews.com","http://www.senenews.com"],[14,"infos","xalimasn.com","http://xalimasn.com"],[15,"infos","metrodakar.net","http://metrodakar.net"],[16,"infos","sunubuzzsn.com","http://sunubuzzsn.com"],[17,"infos","senegal7.com","http://senegal7.com"],[18,"infos","senescoop.net","http://senescoop.net"],[19,"infos","sunugal24.net","http://sunugal24.net"],[20,"infos","dakar92.com","http://dakar92.com"],[21,"infos","rumeurs221.com","http://rumeurs221.com"],[22,"infos","bonjourdakar.com","http://bonjourdakar.com"],[23,"infos","vipeoples.net","http://vipeoples.net"],[24,"infos","seneplus.com","http://seneplus.com"],[25,"infos","wiwsport.com","http://wiwsport.com"],[26,"infos","viberadio.sn","http://viberadio.sn"],[27,"infos","yerimpost.com","http://yerimpost.com"],[28,"infos","ndarinfo.com","http://ndarinfo.com"],[29,"infos","dakarposte.com","http://dakarposte.com"],[30,"infos","exclusif.net","http://exclusif.net"],[31,"infos","senegaldirect.net","http://senegaldirect.net"]],this.INTERNATIONALS_WEBSITES=[[1,"sport ","footmercato.net","http://www.footmercato.net"],[2,"infos","lexpress.fr","http://www.lexpress.fr"],[3,"sport ","mercatolive.fr","http://www.mercatolive.fr"],[4,"sport ","maxifoot.fr","http://maxifoot.fr"],[5,"sport ","livefoot.fr","http://livefoot.fr"],[6,"forum","01net.com","http://01net.com"],[7,"sport ","le10sport.com","http://le10sport.com"],[8,"sport ","maxifoot-live.com","http://maxifoot-live.com"],[9,"forum","01net.com","http://01net.com"],[10,"infos","bfmtv.com","http://bfmtv.com"],[11,"sport ","besoccer.com","http://besoccer.com"],[12,"sport ","foot01.com","http://foot01.com"],[13,"sport ","basketsession.com","http://basketsession.com"],[14,"sport ","basket-infos.com","http://basket-infos.com"],[15,"infos","skyrock.com","http://skyrock.com"],[16,"infos","leparisien.fr","http://leparisien.fr"]],this.SITES_ANNONCES=[[1,"annonces","deals.jumia.sn","http://deals.jumia.sn"],[2,"annonces","expat-dakar.com","http://expat-dakar.com"],[3,"annonces","coinafrique.com","http://coinafrique.com"]],this.APP_MOBILES=[[1,"App","Senego","https://play.google.com/store/apps/details?id=com.nextwebart.senego"],[2,"App","Super-Bright LED Flashlight ","https://play.google.com/store/apps/details?id=com.surpax.ledflashlight.panel"],[3,"App","CallApp: Caller ID","https://play.google.com/store/apps/details?id=com.callapp.contacts"],[4,"App","PhotoGrid: Video & Pic Collage Maker, ","https://play.google.com/store/apps/details?id=com.roidapp.photogrid"],[5,"App","Bubble Shooter ","https://play.google.com/store/apps/details?id=bubbleshooter.orig"],[6,"App"," MAX Cleaner - Antivirus, Phone Cleaner","https://play.google.com/store/apps/details?id=com.oneapp.max.cleaner.booster"],[7,"App","Block Puzzle ","https://play.google.com/store/apps/details?id=com.puzzlegamesclassic.tetris.blockpuzzle"],[8,"App","Bubble Breaker ","https://play.google.com/store/apps/details?id=com.faceplus.bubble.breaker"],[9,"App","Flashlight ","https://play.google.com/store/apps/details?id=com.splendapps.torch"],[10,"App","Photo Lock App ","https://play.google.com/store/apps/details?id=vault.gallery.lock"]],this.model={},this.Direction={LEFT:0,UP:1,RIGHT:2,DOWN:3},this.DirectionSteps={REGULAR:1,SHIFT:5},this.presetFonts=["Arial","Serif","Helvetica","Sans-Serif","Open Sans","Roboto Slab"],this.customColors=[],this.selectedLibrary="brands",this.palettes={selected:null,defaults:[{key:"#001f3f",value:"Navy",type:"default"},{key:"#0074D9",value:"Blue",type:"default"},{key:"#7FDBFF",value:"Aqua",type:"default"},{key:"#39CCCC",value:"Teal",type:"default"},{key:"#3D9970",value:"Olive",type:"default"},{key:"#2ECC40",value:"Green",type:"default"},{key:"#01FF70",value:"Lime",type:"default"},{key:"#FFDC00",value:"Yellow",type:"default"},{key:"#FF851B",value:"Orange",type:"default"},{key:"#FF4136",value:"Red",type:"default"},{key:"#85144b",value:"Maroon",type:"default"},{key:"#F012BE",value:"Fuchsia",type:"default"},{key:"#B10DC9",value:"Purple",type:"default"},{key:"#111111",value:"Black",type:"default"},{key:"#AAAAAA",value:"Gray",type:"default"},{key:"#DDDDDD",value:"Silver",type:"default"}],custom:[]},this.library={brands:[{name:"Audi",src:"assets/libraries/brands/audi-sd.png"},{name:"BMW",src:"assets/libraries/brands/bmw-sd.png"},{name:"Citroen",src:"assets/libraries/brands/citroen-sd.png"},{name:"Fiat",src:"assets/libraries/brands/fiat-sd.png"},{name:"Ford",src:"assets/libraries/brands/ford-sd.png"},{name:"General Motors",src:"assets/libraries/brands/generalmotors-sd.png"},{name:"Honda",src:"assets/libraries/brands/honda-sd.png"},{name:"Hyundai",src:"assets/libraries/brands/hyundai-sd.png"},{name:"Infiniti",src:"assets/libraries/brands/infiniti-sd.png"},{name:"Kia",src:"assets/libraries/brands/kia-sd.png"},{name:"Lexus",src:"assets/libraries/brands/lexus-sd.png"},{name:"Mazda",src:"assets/libraries/brands/mazda-sd.png"},{name:"Mercedes-Benz",src:"assets/libraries/brands/mercedesbenz-sd.png"},{name:"Mini",src:"assets/libraries/brands/mini-sd.png"},{name:"Nissan",src:"assets/libraries/brands/nissan-sd.png"},{name:"Peugeot",src:"assets/libraries/brands/peugeot-sd.png"},{name:"Porsche",src:"assets/libraries/brands/porsche-sd.png"},{name:"Renault",src:"assets/libraries/brands/renault-sd.png"},{name:"Seat",src:"assets/libraries/brands/seat-sd.png"},{name:"Skoda",src:"assets/libraries/brands/skoda-sd.png"},{name:"Tesla",src:"assets/libraries/brands/tesla-sd.png"},{name:"Toyota",src:"assets/libraries/brands/toyota-sd.png"},{name:"Volkswagen",src:"assets/libraries/brands/volkswagen-sd.png"},{name:"Volvo",src:"assets/libraries/brands/volvo-sd.png"}]},this.font=new jm({family:"Roboto",size:"14px",style:"regular",styles:["regular"]}),this.props={canvasFill:"#ffffff",canvasImage:"",id:null,opacity:null,fill:null,stroke:null,strokeWidth:null,fontSize:null,lineHeight:null,charSpacing:null,fontWeight:null,fontStyle:null,textAlign:null,fontFamily:"Open Sans",TextDecoration:"",scale:1,angle:0},this.elementTypes={image:{key:"image",text:"Image",icon:"icon-image"},"i-text":{key:"i-text",text:"Texte",icon:"icon-text_format"},rect:{key:"rect",text:"Rectangle",icon:"icon-aspect_ratio"},triangle:{key:"triangle",text:"triangle",icon:"icon-change_history"},circle:{key:"circle",text:"Cercle",icon:"icon-radio_button_unchecked"},polygon:{key:"polygon",text:"Polygone",icon:"icon-crop_square"}},this.urlName="",this.selectedSize=null,this.sizes=[{width:640,height:480},{width:1024,height:768},{width:1920,height:1080}],this.sliderConfig={pips:{mode:"range",density:5}},this.shapeEditor=!1,this.layers=[],this.canva_state=!1}return t.prototype.handleCanvas=function(t,e){var n=this;this.canvas="",this.canvas=new fabric.Canvas("canvas",{hoverCursor:"pointer",selection:!0,selectionBorderColor:"blue",preserveObjectStacking:!0}),this.loadPalette(),fabric.util.addListener(document.body,"keydown",function(t){"INPUT"!==t.target.tagName&&n.handleKeyPress(t.which||t.keyCode,t)}),this.canvas.on({"object:moving":function(t){},"object:modified":function(t){},"object:selected":function(t){var e=t.target;if(n.selected=e,e.hasRotatingPoint=!0,e.transparentCorners=!1,e.cornerColor="rgba(255, 87, 34, 0.7)",n.resetPanels(),"group"!==e.type&&e)switch(n.getId(),n.getOpacity(),n.getTitle(),e.type){case"polygon":case"rect":case"circle":case"triangle":n.shapeEditor=!0,n.getFill(),n.getStroke(),n.getStrokeWidth();break;case"i-text":n.textEditor=!0,n.getLineHeight(),n.getCharSpacing(),n.getBold(),n.getFontStyle(),n.getFontSize(),n.getFill(),n.getStroke(),n.getStrokeWidth(),n.getTextDecoration(),n.getTextAlign(),n.getFontFamily()}},"selection:cleared":function(t){n.selected=null,n.resetPanels()}}),this.canvas_style.width=t,this.canvas_style.height=e,this.canvas.setWidth(t),this.canvas.setHeight(e),this.canva_state=!0,console.log("handled")},t.prototype.ngAfterViewInit=function(){var t=this,e=document.getElementById("v-pills-add-ad-tab");document.querySelector(".img-check"),this.isEditor=!1,this.isAdBlock=!1,this.ads=this.adsService.getListAd(this.ad_group_id),this.ads.forEach(function(e){e.length>0?(t.number_ads=e.length,t.isNull=!0):(t.list_ad=!1,t._init_ad=!0,t.number_ads="0",t.isNull=!1),!1===t.isNull&&("UPLOAD"===t.ad_type?(t.currentIdInputDisplay=t.idOfDisplayUrlInitUpload,t.currentIdInputName=t.idOfAdNameCreateUpload):(t.currentIdInputDisplay=t.idOfDisplayUrlInitCreatives,t.currentIdInputName=t.idOfAdNameInitCreatives))}),e.addEventListener("click",function(){oo("#block").css("display","none")})},t.prototype.toggleModifyUploadImage=function(){this.button_modify_image_upload=!1,oo("#button_modify_image_upload").show()},t.prototype.closeModifyUploadImage=function(){oo("#button_modify_image_upload").hide(),this.button_modify_image_upload=!0},t.prototype.checkAdType=function(t,e,n,i){console.log("click on img"),console.log(t),""==this.element_checked?(oo("#"+t).toggleClass("check"),this.element_checked="#"+t,this.selectedWidth=e,this.selectedHeight=n,this.illustration=!0,this.illustrationUrl=i):(this.illustration=!1,oo(this.element_checked).toggleClass("check"),oo("#"+t).toggleClass("check"),this.element_checked="#"+t,this.selectedWidth=e,this.selectedHeight=n,this.illustration=!0,this.illustrationUrl=i)},t.prototype.loadScript=function(t){for(var e=!1,n=document.getElementsByTagName("script"),i=0;i<n.length;++i)null!=n[i].getAttribute("src")&&n[i].getAttribute("src").includes("loader")&&(e=!0);if(!e){var r=[t];for(i=0;i<r.length;i++){var o=document.createElement("script");o.src=r[i],o.type="text/javascript",o.async=!1,o.charset="utf-8",document.getElementsByTagName("body")[0].appendChild(o)}}},t.prototype.goBackSelectSize=function(){this.chooseBlock=!1,this.chooseAdSize=!0},t.prototype.handleUploadBanner=function(){return Wm(this,void 0,void 0,function(){return Hm(this,function(t){return this.chooseBlock=!1,this.chooseAdSize=!1,this.is_upload_way=!0,this.ad_type="UPLOAD",!0===this.isNull?(oo("#block1").css("display","block"),this.currentIdInputName=this.idOfAdNameCreateUpload,this.currentIdInputDisplay=this.idOfDisplayUrlCreateUpload):(oo("#block").css("display","block"),this.currentIdInputName=this.idOfAdNameInitUpload,this.currentIdInputDisplay=this.idOfDisplayUrlInitUpload),setTimeout(function(){},2e3),[2]})})},t.prototype.goBackFromUpload=function(){this.isUpload=!1,this.is_upload_way=!1,this.ad_type="",this.currentIdInputName="",this.currentIdInputDisplay="",!0===this.isNull?oo("#block1").css("display","none"):oo("#block").css("display","none"),this.chooseBlock=!0},t.prototype.goBackFromCreatives=function(){this.handleCreateCanvas=!1,this.chooseBlock=!0,this.ad_type="",this.currentIdInputName="",this.currentIdInputDisplay=""},t.prototype.handleCreatives=function(){var t=this;this.ad_type="CREATIVE",this.chooseBlock=!1,!0===this.isNull?(this.currentIdInputName=this.idOfAdNameCreateCreatives,this.currentIdInputDisplay=this.idOfDisplayUrlCreateCreatives):(this.currentIdInputName=this.idOfAdNameInitCreatives,this.currentIdInputDisplay=this.idOfDisplayUrlInitCreatives),0==this.handleCreateCanvas?(this.handleCreateCanvas=!0,0==this.canva_state?(this.isCreating=!0,setTimeout(function(){t.handleCanvas(parseInt(t.selectedWidth),parseInt(t.selectedHeight)),t.isCreating=!1},2e3)):(t.isCreating=!0,setTimeout(function(){t.canvas.clear()},2e3),setTimeout(function(){t.handleCanvas(parseInt(t.selectedWidth),parseInt(t.selectedHeight)),t.isCreating=!1},2e3))):this.handleCreateCanvas=!1},t.prototype.chooseAdType=function(){this.chooseAdSize=!1,this.chooseBlock=!0},t.prototype.ngOnInit=function(){var t=this;this.auth.notificationAccount.forEach(function(e){""!=e.notification&&(t.numberOfNotifications=1,t.notificationAccountValue=e.notification)}),this.route.params.subscribe(function(e){"undefined"==typeof e.budget?(t.ad_group_name=e.name,t.campagne_id=e.campaign_id,t.ad_group_id=e.ad_group_id,t.idC=e.idC,t.idA=e.idA,t.auth.user.subscribe(function(e){t.uid=e.uid,t.email=e.email,t.email_letter=e.email.charAt(0),t.accountValue=e.account_value,t.notesService.getSingleCampaignWithId(e.uid,t.campagne_id).then(function(e){console.log(e),t.startDateFrench=e.startDateFrench,t.endDateFrench=e.endDateFrench,t.startDate=e.startDate,t.endDate=e.endDate,t.budget=e.budget,t.budgetId=e.budgetId,t.dure_campagne=t.datediff(t.parseDate(e.startDateFrench),t.parseDate(e.endDateFrench))})})):(console.log(e),t.id_ad_firebase=e.id_ad_firebase,t.ad_group_name=e.name,t.campagne_id=e.campaign_id,t.ad_group_id=e.ad_group_id,t.idC=e.idC,t.idA=e.idA,t.isCreating=!0,t.notesService.updateNote(e.idC,{budget:parseInt(e.budget),dailyBudget:parseInt(e.dailyBudget),numberOfDays:parseInt(e.numberOfDays)}).then(function(){Oa.a.fire({title:"Service Campagne!",text:"Budget mis \xe0 jour.",type:"success",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(n){n.value&&(window.history.pushState("","","/ads/"+e.name+"/"+e.idC+"/"+e.idA+"/"+e.ad_group_id+"/"+e.campaign_id),t.isCreating=!1,t.auth.user.subscribe(function(e){t.uid=e.uid,t.email=e.email,t.email_letter=e.email.charAt(0),t.accountValue=e.account_value,t.notesService.getSingleCampaignWithId(e.uid,t.campagne_id).then(function(e){console.log(e),t.startDateFrench=e.startDateFrench,t.endDateFrench=e.endDateFrench,t.startDate=e.startDate,t.endDate=e.endDate,t.budget=e.budget,t.budgetId=e.budgetId,t.dure_campagne=t.datediff(t.parseDate(e.startDateFrench),t.parseDate(e.endDateFrench))})}),document.getElementById(t.id_ad_firebase).click(),t.isCreating=!0,setTimeout(function(){document.getElementById("publish").click()},2e3),t.isCreating=!1)})})),"undefined"!=typeof e.money&&"undefined"!=typeof e.id_ad_firebase&&(t.isCreating=!0,t.auth.user.forEach(function(n){t.auth.updateUser(n.uid,{account_value:e.money}),t.auth.getInfos(n.uid).subscribe(function(n){t.auth.updateNotification(n[0].id,{notification:""}).then(function(){Oa.a.fire({title:"Service Rechargement!",text:"Compte mis \xe0 jour avec succ\xe8s.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(n){n.value&&(t.isCreating=!1,setTimeout(function(){document.getElementById(e.id_ad_firebase).click()},2e3),window.history.pushState("","","/ads/"+e.name+"/"+e.idC+"/"+e.idA+"/"+e.ad_group_id+"/"+e.campaign_id),setTimeout(function(){document.getElementById("publish").click()},2e3))})})})}))}),this.adgroups=this.adGroupService.getAdGroup(this.idA).valueChanges().subscribe(function(e){t.status=e.status,t.genres=e.sexes,t.populations=e.ages,t.appareils=e.devices,t.placement=e.placement,console.log("populations"),console.log(t.populations)}),this.dropdownListAges=[{item_id:503999,item_text:"ind\xe9termin\xe9"},{item_id:503001,item_text:"18-24 ans"},{item_id:503002,item_text:"25-34 ans"},{item_id:503003,item_text:"35-44 ans"},{item_id:503004,item_text:"45-54 ans"},{item_id:503005,item_text:"55-64 ans"},{item_id:503006,item_text:"+64 ans"}],this.dropdownListSexes=[{item_id:20,item_text:"ind\xe9termin\xe9"},{item_id:10,item_text:"Hommes"},{item_id:11,item_text:"Femmes"}],this.dropdownListDevices=[{item_id:3e4,item_text:"Ordinateurs"},{item_id:30001,item_text:"Mobiles"},{item_id:30002,item_text:"Tablettes"},{item_id:30004,item_text:"Tv Connect\xe9e"}],this.dropdownListZones=[{item_id:9070424,item_text:"Dakar"}];for(var e=0;e<this.NATIONALS_WEBSITES.length;e++)console.log(this.NATIONALS_WEBSITES[e][2]),this.dropdownListNationalsWebsites.push({item_id:this.NATIONALS_WEBSITES[e][3],item_text:this.NATIONALS_WEBSITES[e][2]});for(e=0;e<this.INTERNATIONALS_WEBSITES.length;e++)this.dropdownListInternationalsWebsites.push({item_id:this.INTERNATIONALS_WEBSITES[e][3],item_text:this.INTERNATIONALS_WEBSITES[e][2]});for(e=0;e<this.SITES_ANNONCES.length;e++)this.dropdownListAdsWebsites.push({item_id:this.SITES_ANNONCES[e][3],item_text:this.SITES_ANNONCES[e][2]});for(e=0;e<this.APP_MOBILES.length;e++)this.dropdownListApps.push({item_id:this.APP_MOBILES[e][3],item_text:this.APP_MOBILES[e][2]});this.dropdownSettingsAges={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:8,allowSearchFilter:!1,searchPlaceholderText:"Rechercher"},this.dropdownSettingsSexes={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsZones={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsDevices={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:3,allowSearchFilter:!1,searchPlaceholderText:"Rechercher"},this.dropdownSettingsNationalsWebsites={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsInternationalsWebsites={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.dropdownSettingsAdsWebsites={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!1,searchPlaceholderText:"Rechercher"},this.dropdownSettingsApps={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Tout s\xe9lectionner",unSelectAllText:"annuler",itemsShowLimit:10,allowSearchFilter:!0,searchPlaceholderText:"Rechercher"},this.ads=this.adsService.getListAd(this.ad_group_id),this.ads.forEach(function(e){e.length>0?(t.number_ads=e.length,t.isNull=!0):(t.list_ad=!1,t._init_ad=!0,t.number_ads="0",t.isNull=!1)}),setTimeout(function(){oo("#block1").css("display","none")},2e3)},t.prototype.buildForm=function(){var t=this;this.adForm=this.fb.group({name:["",[go.required,go.name]],finalUrls:["",[go.pattern("https?://.+"),go.minLength(6),go.maxLength(45)]]}),this.adForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.editorTrue=function(){var t=this;return new Promise(function(e){return Wm(t,void 0,void 0,function(){return Hm(this,function(t){return this.buildForm(),e(!0),[2]})})})},t.prototype.onValueChanged=function(t){if(this.adForm){var e=this.adForm;for(var n in this.formErrors)if(Object.prototype.hasOwnProperty.call(this.formErrors,n)&&("name"===n||"finalUrls"===n)){this.formErrors[n]="";var i=e.get(n);if(i&&i.dirty&&!i.valid){var r=this.validationMessages[n];if(i.errors)for(var o in i.errors)Object.prototype.hasOwnProperty.call(i.errors,o)&&(this.formErrors[n]+=r[o]+" ")}}}},t.prototype.handleToggleAdGroupSettings=function(){0==this.isCollapsed?(this.isCollapsed=!0,this.icon_toggle="icon-chevron-right"):(this.isCollapsed=!1,this.icon_toggle="icon-chevron-left")},t.prototype.handleToggleOptions=function(){0==this.isOptions?(this.isOptions=!0,this.icon_toggle_options="icon-chevron-up"):(this.isOptions=!1,this.icon_toggle_options="icon-chevron-down")},t.prototype.handleTogglePlacement=function(){this.isGender=!0,this.isAge=!0,this.isDevice=!0,this.isPlacement=0==this.isPlacement},t.prototype.handleToggleGender=function(){this.isAge=!0,this.isPlacement=!0,this.isDevice=!0,this.isGender=0==this.isGender},t.prototype.handleToggleAge=function(){this.isGender=!0,this.isPlacement=!0,this.isDevice=!0,this.isAge=0==this.isAge},t.prototype.handleToggleDevice=function(){this.isGender=!0,this.isAge=!0,this.isPlacement=!0,this.isDevice=0==this.isDevice},t.prototype.popperClick=function(){oo("#popper").trigger("click")},t.prototype.toggleListAd=function(){return Wm(this,void 0,void 0,function(){return Hm(this,function(t){return this.isEditor=!1,this.ads=this.adsService.getListAd(this.ad_group_id),this.list_ad=!0,this.currentEditor=!1,this.isAdBlock=!1,oo("#blockUploadModified").css({display:"none"}),[2]})})},t.prototype.toggleEditor=function(){var t=this;this.currentEditor=!1,this.isAdBlock=!1,this.list_ad=!1,0==this.isEditor?(this.isEditor=!0,0==this.canva_state?(this.isCreating=!0,setTimeout(function(){t.handleCanvas(parseInt(t.selectedWidth),parseInt(t.selectedHeight)),t.isCreating=!1},2e3)):(t.isCreating=!0,setTimeout(function(){t.canvas.clear()},2e3),setTimeout(function(){t.handleCanvas(parseInt(t.selectedWidth),parseInt(t.selectedHeight)),t.isCreating=!1},2e3))):this.isEditor=!1},t.prototype.openAddCiblageGenre=function(){this.isCiblageGenre=!0},t.prototype.openAddCiblageDevices=function(){this.isCiblageDevices=!0},t.prototype.targetGender=function(){var t=this;console.log(this.sexes),this.isCreating=!0,0==this.sexes.length?(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"Aucun genre s\xe9l\xe9ctionn\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})):this.adGroupService.targetGenre(this.idA,this.campagne_id,this.ad_group_id,this.sexes).then(function(e){t.sexes=[]}).then(function(e){t.isCiblageGenre=!1,t.isCreating=!1})},t.prototype.removePlacement=function(t,e){var n=this;Oa.a.fire({title:"Emplacement",text:"Vous allez supprimer l'emplacement "+t+" ?",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, Supprimer"}).then(function(t){t.value?(n.isCreating=!0,n.adGroupService.removePlacement(n.idA,n.campagne_id,n.ad_group_id,e).then(function(t){"error"!=t?Oa.a.fire({title:"Emplacement",text:"Emplacement suprim\xe9 avec succ\xe8s",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){n.isCreating=!1}):n.isCreating=!1})):n.isCreating=!1})},t.prototype.targetPlacement=function(){var t=this,e=[];console.log(this.ads_websites),console.log(this.nationals_websites),console.log(this.internationals_websites),this.isCreating=!0,0==this.nationals_websites.length?(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"S\xe9l\xe9ctionner au moins un site national",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})):(e.push(this.nationals_websites,this.internationals_websites,this.ads_websites),this.adGroupService.targetPlacement(this.idA,this.campagne_id,this.ad_group_id,e).then(function(e){t.sexes=[]}).then(function(e){t.isCiblageGenre=!1,t.isCreating=!1}))},t.prototype.targetDevices=function(){var t=this;console.log(this.devices),this.isCreating=!0,0==this.devices.length?(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"Aucun appareil s\xe9l\xe9ctionn\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})):this.adGroupService.targetDevices(this.idA,this.campagne_id,this.ad_group_id,this.devices).then(function(e){t.devices=[]}).then(function(e){t.isCreating=!1,t.isCiblageDevices=!1})},t.prototype.closeAddCiblageGenre=function(){this.isCiblageGenre=!1},t.prototype.closeAddCiblageDevices=function(){this.isCiblageDevices=!1},t.prototype.closeAddPlacement=function(){this.isPlacement=0==this.isPlacement},t.prototype.openAddCiblageAge=function(){this.isCiblageAge=!0},t.prototype.targetAge=function(){var t=this;console.log(this.ages),this.isCreating=!0,0==this.ages.length?(this.isCreating=!1,Oa.a.fire({title:"Ciblage",text:"Aucun genre s\xe9l\xe9ctionn\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})):this.adGroupService.targetAge(this.idA,this.campagne_id,this.ad_group_id,this.ages).then(function(e){t.ages=[]}).then(function(e){t.isCiblageAge=!1,t.isCreating=!1})},t.prototype.closeAddCiblageAges=function(){this.isCiblageAge=!1},t.prototype.onAgeSelect=function(t){this.ages.push(t),console.log(this.ages)},t.prototype.onAgeSelectAll=function(t){console.log(t),this.ages=[],this.ages=t},t.prototype.onAgeDeSelect=function(t){console.log(t);for(var e=0;e<this.ages.length;e++)this.ages[e].item_id==t.item_id&&this.ages.splice(e,1);console.log(this.ages)},t.prototype.onDeSelectAllAge=function(){this.ages=[],console.log(this.ages)},t.prototype.onNationalsWebsitesSelect=function(t){this.nationals_errors="",this.nationals_websites.push(t),console.log(this.nationals_websites)},t.prototype.onNationalsWebsitesSelectAll=function(t){this.nationals_errors="",this.nationals_websites=[],this.nationals_websites=t,console.log(this.nationals_websites)},t.prototype.onNationalsWebsitesDeSelect=function(t){console.log(t);for(var e=0;e<this.nationals_websites.length;e++)this.nationals_websites[e].item_id==t.item_id&&this.nationals_websites.splice(e,1);console.log(this.nationals_websites)},t.prototype.onNationalsWebsitesDeSelectAll=function(){this.nationals_websites=[],console.log(this.nationals_websites)},t.prototype.onInternationalsWebsitesSelect=function(t){this.internationals_websites.push(t),console.log(this.internationals_websites)},t.prototype.onInternationalsWebsitesSelectAll=function(t){this.internationals_websites=[],this.internationals_websites=t,console.log(this.internationals_websites)},t.prototype.onInternationalsWebsitesDeSelect=function(t){console.log(t);for(var e=0;e<this.internationals_websites.length;e++)this.internationals_websites[e].item_id==t.item_id&&this.internationals_websites.splice(e,1)},t.prototype.onInternationalsWebsitesDeSelectAll=function(){this.internationals_websites=[]},t.prototype.onAdsWebsitesSelect=function(t){this.ads_websites.push(t),console.log(this.ads_websites)},t.prototype.onAdsWebsitesSelectAll=function(t){this.ads_websites=[],this.ads_websites=t,console.log(this.ads_websites)},t.prototype.onAdsWebsitesDeSelect=function(t){console.log(t);for(var e=0;e<this.ads_websites.length;e++)this.ads_websites[e].item_id==t.item_id&&this.ads_websites.splice(e,1);console.log(this.ads_websites)},t.prototype.onAdsWebsitesDeSelectAll=function(){this.ads_websites=[],console.log(this.ads_websites)},t.prototype.onAppsSelect=function(t){this.apps.push(t),console.log(this.apps)},t.prototype.onAppsSelectAll=function(t){this.apps=[],this.apps=t,console.log(this.apps)},t.prototype.onAppsDeSelect=function(t){console.log(t);for(var e=0;e<this.apps.length;e++)this.apps[e].item_id==t.item_id&&this.apps.splice(e,1);console.log(this.apps)},t.prototype.onAppsDeSelectAll=function(){this.apps=[],console.log(this.apps)},t.prototype.onDevicesSelect=function(t){this.devices.push(t),console.log(this.devices)},t.prototype.onDevicesSelectAll=function(t){console.log(t),this.devices=[],this.devices=t},t.prototype.onDevicesDeSelect=function(t){console.log(t);for(var e=0;e<this.devices.length;e++)this.devices[e].item_id==t.item_id&&this.devices.splice(e,1);console.log(this.devices)},t.prototype.onDeSelectAllDevices=function(){this.devices=[],console.log(this.devices)},t.prototype.onSexeSelect=function(t){this.sexes.push(t),console.log(this.sexes)},t.prototype.onSexeSelectAll=function(t){console.log(t),this.sexes=[],this.sexes=t},t.prototype.onSexeDeSelect=function(t){console.log(t);for(var e=0;e<this.sexes.length;e++)this.sexes[e].item_id==t.item_id&&this.sexes.splice(e,1);console.log(this.sexes)},t.prototype.onDeSelectAllSexe=function(){this.sexes=[],console.log(this.sexes)},t.prototype.onZoneSelect=function(t){this.zones.push(t),console.log(this.zones)},t.prototype.onZoneSelectAll=function(t){console.log(t)},t.prototype.onZoneDeSelect=function(t){console.log(t);for(var e=0;e<this.zones.length;e++)this.zones[e].item_id==t.item_id&&this.zones.splice(e,1);console.log(this.zones)},t.prototype.onDeSelectAllZone=function(){this.zones=[],console.log(this.zones)},t.prototype.addText=function(){var t=new fabric.IText("Double cliquez ici",{left:10,top:10,fontFamily:"helvetica",angle:0,fill:"#000000",scaleX:.5,scaleY:.5,fontWeight:"",hasRotatingPoint:!0});this.extend(t,this.randomId()),this.canvas.add(t),this.selectItemAfterAdded(t),this.textString="",this.updateLayers()},t.prototype.readUrl=function(t){var e=this;if(t.target.files&&t.target.files[0]){var n=new FileReader;n.onload=function(t){e.url=t.target.result,e.addImageOnCanvas(t.target.result)},n.readAsDataURL(t.target.files[0])}},t.prototype.handleErrorUrl=function(){this.url_errors=[]},t.prototype.handleNationals=function(){this.nationals_errors=""},t.prototype.handleImageModal=function(){var t=this;console.log(this.canvas.toDataURL("png")),this.getWebsites(this.currentIdInputDisplay).then(function(e){"error"!=e&&(oo("#button_modal_init").trigger("click"),oo("#ad_image").attr("src",t.canvas.toDataURL("png")))})},t.prototype.handleImageUploadModal=function(){var t=this;this.getWebsites(this.currentIdInputDisplay).then(function(e){if("error"!=e){var n=document.querySelector(".dz-image").getElementsByTagName("img");console.log(n),n[0].naturalWidth!=parseInt(t.selectedWidth)||n[0].naturalHeight!=parseInt(t.selectedHeight)?Oa.a.fire({title:"Service Groupe d'annonce!",text:"Image invalide",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):(t.img_view_create_style.width=t.selectedWidth+"px",t.img_view_create_style.height=t.selectedHeight+"px",oo("#button_modal_init").trigger("click"),oo("#ad_image").attr("src",oo(".dz-image").find("img").attr("src")),t.ad_name=oo("#"+t.currentIdInputName).val())}})},t.prototype.handleModifiedImage=function(){var t=this;"CREATIVE"===this.currentAdType?(this.new_image_content="",this.new_image_content=JSON.stringify(this.canvas),console.log(this.canvas.toDataURL("png")),this.getWebsites(this.currentIdInputDisplay).then(function(e){"error"!=e&&(oo("#button_modal_modified").trigger("click"),oo("#ad_image_modified").attr("src",t.canvas.toDataURL("png")),oo("#modified_name").text(oo("#"+t.currentIdInputName).val()))})):this.getWebsites(this.currentIdInputDisplay).then(function(e){if("error"!=e)if(alert(t.button_modify_image_upload),!0===t.button_modify_image_upload)t.img_view_create_style.width=t.selectedWidth+"px",t.img_view_create_style.height=t.selectedHeight+"px",oo("#button_modal_modified").trigger("click"),oo("#ad_image_modified").attr("src",t.currentImageUrl),oo("#modified_name").text(oo("#"+t.currentIdInputName).val());else{var n=document.querySelector(".dz-image").getElementsByTagName("img");console.log(n),n[0].naturalWidth!=parseInt(t.currentAdSize[0].width)||n[0].naturalHeight!=parseInt(t.currentAdSize[0].height)?Oa.a.fire({title:"Service Groupe d'annonce!",text:"Image invalide",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):(t.img_view_create_style.width=t.selectedWidth+"px",t.img_view_create_style.height=t.selectedHeight+"px",oo("#button_modal_modified").trigger("click"),oo("#ad_image_modified").attr("src",oo(".dz-image").find("img").attr("src")),oo("#modified_name").text(oo("#"+t.currentIdInputName).val()))}})},t.prototype.saveAdOnFirebase=function(){var t=this;this.isRoller=!0,this.getWebsites(this.currentIdInputDisplay).then(function(e){if(console.log(e),"error"!=e){var n=[{width:t.selectedWidth,height:t.selectedHeight}],i=r.app().storage("gs://comparez.appspot.com/"),o=i.ref(),l=t.uid+"/"+t.ad_name+(new Date).getTime().toString()+".png",a=o.child(l),s={contentType:"image/png"};if(fabric.Canvas.supports("toDataURL")){var u=t;(new Date).getTime().toString(),!0===t.is_upload_way?a.putString(oo("#ad_image").attr("src").replace("data:image/png;base64,",""),"base64",s).then(function(t){console.log("ok"),i.ref().child(l).getDownloadURL().then(function(t){var e=new XMLHttpRequest;e.responseType="blob",e.onload=function(t){},e.open("GET",t),e.send(),console.log(u.FINAL_ARRAY_TO_SEND),u.adsService.saveAdOnFirebase(u.ad_group_id,u.ad_name,u.uid,t,"",u.FINAL_ARRAY_TO_SEND,n,u.ad_type).then(function(t){console.log("success"),console.log(t),u.isRoller=!1})})}):a.putString(t.canvas.toDataURL("png").replace("data:image/png;base64,",""),"base64",s).then(function(t){console.log("ok"),i.ref().child(l).getDownloadURL().then(function(t){var e=new XMLHttpRequest;e.responseType="blob",e.onload=function(t){},e.open("GET",t),e.send();var i=JSON.stringify(u.canvas);console.log(u.FINAL_ARRAY_TO_SEND),u.adsService.saveAdOnFirebase(u.ad_group_id,u.ad_name,u.uid,t,i,u.FINAL_ARRAY_TO_SEND,n,u.ad_type).then(function(t){console.log("success"),console.log(t),u.isRoller=!1})})})}else alert("This browser doesn't provide means to serialize canvas to an image")}})},t.prototype.defineBudgetFromAccount=function(){var t=this,e=parseInt(oo("#montant").val()),n=this.accountValue-e;e>this.accountValue||e<1e4?oo("#error_recharge").show():null==e?oo("#error_recharge").show():(this.isRoller=!0,this.isPlacementBudgetFromAccount=!1,this.montant=e,this.http.post("http://127.0.0.1:5000/setBudgetFromAccount",{budgetId:this.budgetId,amount:this.budget_to_place,dure:this.dure_campagne}).subscribe(function(e){console.log(e),t.notesService.updateNote(t.idC,{budget:t.budget_to_place,dailyBudget:e[0].dailyBudget}).then(function(){t.auth.updateUser(t.uid,{account_value:n}).then(function(e){Oa.a.fire({title:"Service Campagne!",text:"Budget mis \xe0 jour.",type:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){t.isRoller=!1})})})},function(t){Oa.a.fire({title:"Service Campagne!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})}))},t.prototype.defineAmountAccountBeforeBudget=function(){oo("#button_modal_define_budget").trigger("click");var t=this;this.montant=oo("#montant").val(),this.montant<2e4?oo("#error_recharge").show():(oo("#closeModalRecharge").trigger("click"),t=this,this.isCreating=!0,setTimeout(function(){var e=document.getElementById("budgetSet"),n=pQuery(e);new PayExpresse({item_id:1}).withOption({requestTokenUrl:"http://127.0.0.1:5000/rechargeAmountBeforeBudgetFromAd/"+t.ad_group_name+"/"+t.idC+"/"+t.idA+"/"+t.ad_group_id+"/"+t.campagne_id+"/"+t.montant+"/"+t.id_ad_firebase,method:"POST",headers:{Accept:"application/json"},prensentationMode:PayExpresse.OPEN_IN_POPUP,didPopupClosed:function(e,n,i){t.isCreating=!1,!0===e?alert(n):t.isCreating=!1},willGetToken:function(){console.log("Je me prepare a obtenir un token"),n.prop("disabled",!0)},didGetToken:function(t,e){console.log("Mon token est : "+t+" et url est "+e),n.prop("disabled",!1)},didReceiveError:function(t){alert("erreur inconnu"),n.prop("disabled",!1)},didReceiveNonSuccessResponse:function(t){console.log("non success response ",t),alert(t.errors),n.prop("disabled",!1)}}).send({pageBackgroundRadianStart:"#0178bc",pageBackgroundRadianEnd:"#00bdda",pageTextPrimaryColor:"#333",paymentFormBackground:"#fff",navControlNextBackgroundRadianStart:"#608d93",navControlNextBackgroundRadianEnd:"#28314e",navControlCancelBackgroundRadianStar:"#28314e",navControlCancelBackgroundRadianEnd:"#608d93",navControlTextColor:"#fff",paymentListItemTextColor:"#555",paymentListItemSelectedBackground:"#eee",commingIconBackgroundRadianStart:"#0178bc",commingIconBackgroundRadianEnd:"#00bdda",commingIconTextColor:"#fff",formInputBackgroundColor:"#eff1f2",formInputBorderTopColor:"#e3e7eb",formInputBorderLeftColor:"#7c7c7c",totalIconBackgroundRadianStart:"#0178bc",totalIconBackgroundRadianEnd:"#00bdda",formLabelTextColor:"#292b2c",alertDialogTextColor:"#333",alertDialogConfirmButtonBackgroundColor:"#0178bc",alertDialogConfirmButtonTextColor:"#fff"})},500))},t.prototype.updateAdOnFirebase=function(){var t=this;if(""==this.currentAdStatus){this.isRoller=!0;for(var e=[],n=[],i=[],o=oo("#"+this.currentIdInputName).val(),l=r.app().storage("gs://comparez.appspot.com/"),a=l.ref(),s=this.uid+"/"+this.ad_name+(new Date).getTime().toString()+".png",u=a.child(s),c={contentType:"image/png"},h=this,d=0;d<this.FINAL_ARRAY_TO_SEND.length;d++)"finalUrls"==this.FINAL_ARRAY_TO_SEND[d].lib&&e.push(this.FINAL_ARRAY_TO_SEND[d].content);"UPLOAD"===this.currentAdType?u.putString(oo("#ad_image_modified").attr("src").replace("data:image/png;base64,",""),"base64",c).then(function(t){console.log("ok"),l.ref().child(s).getDownloadURL().then(function(t){var l=new XMLHttpRequest;l.responseType="blob",l.onload=function(t){},l.open("GET",t),l.send(),h.currentImageUrl=t,JSON.stringify(h.canvas),h.adsService.updateAd(h.id_ad_firebase,{ad_name:o,url_image:t,displayUrl:e[0],finalUrls:e[0],finalMobileUrls:n,finalAppUrls:i,createdAt:r.firestore.FieldValue.serverTimestamp()}).then(function(t){console.log("success"),console.log(t),Oa.a.fire({title:"Modification annonce",text:"Annonce modifi\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){t.value&&(h.isRoller=!1,document.getElementById("closeModalViewModified").click())})}).catch(function(t){Oa.a.fire({title:"Modification annonce",text:"Erreur Service !",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})}):fabric.Canvas.supports("toDataURL")?(this.canvas.toDataURL("png").replace("data:image/png;base64,",""),u.putString(this.canvas.toDataURL("png").replace("data:image/png;base64,",""),"base64",c).then(function(t){console.log("ok"),l.ref().child(s).getDownloadURL().then(function(t){var l=new XMLHttpRequest;l.responseType="blob",l.onload=function(t){},l.open("GET",t),l.send(),h.currentImageUrl=t;var a=JSON.stringify(h.canvas);h.adsService.updateAd(h.id_ad_firebase,{ad_name:o,url_image:t,image_content:a,displayUrl:e[0],finalUrls:e[0],finalMobileUrls:n,finalAppUrls:i,createdAt:r.firestore.FieldValue.serverTimestamp()}).then(function(t){console.log("success"),console.log(t),Oa.a.fire({title:"Modification annonce",text:"Annonce modifi\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){t.value&&(h.isRoller=!1,document.getElementById("closeModalViewModified").click())})}).catch(function(t){Oa.a.fire({title:"Modification annonce",text:"Erreur Service !",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})})})})):alert("This browser doesn't provide means to serialize canvas to an image")}else{o=oo("#ad_name_modify").val();var p=[];this.getModifiedWebsites().then(function(e){if(console.log(e),"error"!=e){console.log(t.compareObjectsUrls(t.tabUpdatedCurrentFinalUrls,t.finalUrls)),console.log(t.tabUpdatedCurrentFinalUrls),console.log(t.finalUrls);var n=t.compareObjectsUrls(t.newfinalUrls,t.finalUrls);!0===n&&o===t.ad_name?Oa.a.fire({title:"Modification annonce",text:"Aucun changement n'a \xe9t\xe9 d\xe9tect\xe9",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):!1===n&&o===t.ad_name?Oa.a.fire({title:"Modification annonce",text:"Seul les urls de destination seront modifi\xe9es",type:"warning",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, Modifier"}).then(function(e){e.value?(t.isRoller=!0,p.push({field:"finalUrls",fieldFirebase:"finalUrls",content:t.newfinalUrls},{field:"name",fieldFirebase:"ad_name",content:t.currentAdName}),t.removeAdBeforeUpdate(t.id_ad_firebase,t.ad_group_id,t.ad_id).then(function(e){"error"!=e&&t.adsService.addAd(t.id_ad_firebase,t.ad_group_id,t.currentAdName,t.currentImageUrl,t.tabUpdatedCurrentFinalUrls,[],[],t.currentAdSize).then(function(e){"error"!=e?Oa.a.fire({title:"Modification annonce",text:"Annonce modifi\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){t.isRoller=!1}):Oa.a.fire({title:"Modification annonce",text:"Erreur service",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"r\xe9essayer"}).then(function(e){t.isRoller=!1})})})):t.isRoller=!1}):!0===n&&o!==t.ad_name?Oa.a.fire({title:"Modification annonce",text:"Seul le nom de l'annonce sera modifi\xe9",type:"warning",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, Modifier"}).then(function(e){e.value?(t.isRoller=!0,p.push({field:"name",fieldFirebase:"ad_name",content:o},{field:"finalUrls",fieldFirebase:"finalUrls",content:t.finalUrls}),t.removeAdBeforeUpdate(t.id_ad_firebase,t.ad_group_id,t.ad_id).then(function(e){"error"!=e&&t.adsService.addAd(t.id_ad_firebase,t.ad_group_id,o,t.currentImageUrl,t.finalUrls,[],[],t.currentAdSize).then(function(e){"error"!=e?Oa.a.fire({title:"Modification annonce",text:"Annonce modifi\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){t.isRoller=!1}):Oa.a.fire({title:"Modification annonce",text:"Erreur service",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"r\xe9essayer"}).then(function(e){t.isRoller=!1})})})):t.isRoller=!1}):Oa.a.fire({title:"Modification annonce",text:"Le nom ainsi que les urls de redirections de l'annonce seront modif\xe9s !",type:"warning",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, Modidifier"}).then(function(e){e.value?(t.isRoller=!0,p.push({field:"name",fieldFirebase:"ad_name",content:o},{field:"finalUrls",fieldFirebase:"finalUrls",content:t.newfinalUrls}),t.removeAdBeforeUpdate(t.id_ad_firebase,t.ad_group_id,t.ad_id).then(function(e){"error"!=e&&t.adsService.addAd(t.id_ad_firebase,t.ad_group_id,o,t.currentImageUrl,t.tabUpdatedCurrentFinalUrls,[],[],t.currentAdSize).then(function(e){"error"!=e?Oa.a.fire({title:"Modification annonce",text:"Annonce modifi\xe9e avec succ\xe8s",type:"success",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){t.isRoller=!1}):Oa.a.fire({title:"Modification annonce",text:"Erreur service",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"r\xe9essayer"}).then(function(e){t.isRoller=!1})})})):t.isRoller=!1})}})}},t.prototype.uploadFileOnFirebase=function(t){var e=this;return new Promise(function(n){var i=r.app().storage("gs://comparez.appspot.com/"),o=i.ref(),l=e.uid+"/"+t+(new Date).getTime().toString()+".png",a=o.child(l);if(fabric.Canvas.supports("toDataURL")){var s=e;(new Date).getTime().toString(),e.canvas.toDataURL("png").replace("data:image/png;base64,",""),a.putString(e.canvas.toDataURL("png").replace("data:image/png;base64,",""),"base64",{contentType:"image/png"}).then(function(t){console.log("ok"),i.ref().child(l).getDownloadURL().then(function(t){var e=new XMLHttpRequest;e.responseType="blob",e.onload=function(t){},e.open("GET",t),e.send(),s.currentImageUrl=t,n("ok")})})}else alert("This browser doesn't provide means to serialize canvas to an image"),n("error")})},t.prototype.compareObjects=function(t,e){var n=Object.prototype.toString.call(t);if(n!==Object.prototype.toString.call(e))return!1;if(["[object Array]","[object Object]"].indexOf(n)<0)return!1;var i="[object Array]"===n?t.length:Object.keys(t).length;if("[object Array]"===n||Object.keys(e),t.objects.length!==e.objects.length)return!1;var r=function(t,e){var o=Object.prototype.toString.call(t);if(["[object Array]","[object Object]"].indexOf(o)>=0){if(!function(t,e){if("[object Array]"===n){for(var o=0;o<i;o++)if(!1===r(t[o],e[o]))return!1}else for(var l in t)if(t.hasOwnProperty(l)&&!1===r(t[l],e[l]))return!1;return!0}(t,e))return!1}else{if(o!==Object.prototype.toString.call(e))return!1;if("[object Function]"===o){if(t.toString()!==e.toString())return!1}else if(t!==e)return!1}};if("[object Array]"===n){for(var o=0;o<i;o++)if(!1===r(t[o],e[o]))return!1}else for(var l in t)if(t.hasOwnProperty(l)&&!1===r(t[l],e[l]))return!1;return!0},t.prototype.compareObjectsUrls=function(t,e){var n=Object.prototype.toString.call(t);if(n!==Object.prototype.toString.call(e))return!1;if(["[object Array]","[object Object]"].indexOf(n)<0)return!1;var i="[object Array]"===n?t.length:Object.keys(t).length;if("[object Array]"===n||Object.keys(e),t.length!==e.length)return!1;var r=function(t,e){var o=Object.prototype.toString.call(t);if(["[object Array]","[object Object]"].indexOf(o)>=0){if(!function(t,e){if("[object Array]"===n){for(var o=0;o<i;o++)if(!1===r(t[o],e[o]))return!1}else for(var l in t)if(t.hasOwnProperty(l)&&!1===r(t[l],e[l]))return!1;return!0}(t,e))return!1}else{if(o!==Object.prototype.toString.call(e))return!1;if("[object Function]"===o){if(t.toString()!==e.toString())return!1}else if(t!==e)return!1}};if("[object Array]"===n){for(var o=0;o<i;o++)if(!1===r(t[o],e[o]))return!1}else for(var l in t)if(t.hasOwnProperty(l)&&!1===r(t[l],e[l]))return!1;return!0},t.prototype.buildAd=function(){var t=this;this.isRoller=!0,this.adsService.addAd(this.id_ad_firebase,this.ad_group_id,this.ad_name,this.image_url,this.finalUrls,this.finalAppUrls,this.finalMobileUrls,this.currentAdSize).then(function(e){console.log("success"),console.log(e),t.isRoller=!1})},t.prototype.setHttp=function(t){return-1==t.search(/^http[s]?\:\/\//)&&(t="https://"+t),t},t.prototype.checkIfIsEmptyFinalUrls=function(t){var e=this;return new Promise(function(n){var i=[],r=oo("#"+t).val();if(""!=r.toString())if(!0===e.validURL(r)){console.log(r+" valide");var o=e.setHttp(r);i.push(o),e.FINAL_ARRAY_TO_SEND.push({lib:"finalUrls",content:i}),n("ok")}else e.url_errors.push({url:r,text:"est une url invalide"}),console.log(r+" invalide, v\xe9rifier les urls renseign\xe9es"),n("error");else alert(r),e.url_errors.push({url:"",text:"Url de destination ne peut \xeatre vide"})})},t.prototype.checkIfIsEmptyModifiedFinalUrls=function(){var t=this;return new Promise(function(e){var n=[],i=oo("#finalUrlsmodify").val();if(alert(i),""!==i)if(!0===t.validURL(i)){console.log(i+" valide");var r=t.setHttp(i);n.push(r),t.newfinalUrls=n,t.tabUpdatedCurrentFinalUrls.push(r),t.FINAL_ARRAY_TO_SEND.push({lib:"finalUrls",content:n}),e("ok")}else t.url_errors.push({url:i,text:"est une url invalide"}),console.log(i+" invalide, v\xe9rifier les urls renseign\xe9es"),e("error");else t.url_errors.push({url:"",text:"Url de destination ne peut \xeatre vide"})})},t.prototype.getWebsites=function(t){var e=this;return new Promise(function(n){e.FINAL_ARRAY_TO_SEND=[],""==oo("#"+e.currentIdInputName).val()?alert("nom de l'annonce ne peut \xeatre vide"):(e.ad_name=oo("#"+e.currentIdInputName).val(),e.checkIfIsEmptyFinalUrls(t).then(function(t){n("error"!=t?t:"error")}))})},t.prototype.getModifiedWebsites=function(){var t=this;return new Promise(function(e){t.FINAL_ARRAY_TO_SEND=[],t.checkIfIsEmptyModifiedFinalUrls().then(function(t){e("error"!=t?t:"error")})})},t.prototype.onSubmitCustomer=function(){alert("Your information has been submitted successfully. :-)\n\n"+JSON.stringify(this.model))},t.prototype.handleKeyPress=function(t,e){switch(t){case 37:this.moveSelectedObject(this.Direction.LEFT,e.shiftKey?this.DirectionSteps.SHIFT:this.DirectionSteps.REGULAR),e.preventDefault();break;case 38:this.moveSelectedObject(this.Direction.UP,e.shiftKey?this.DirectionSteps.SHIFT:this.DirectionSteps.REGULAR),e.preventDefault();break;case 39:this.moveSelectedObject(this.Direction.RIGHT,e.shiftKey?this.DirectionSteps.SHIFT:this.DirectionSteps.REGULAR),e.preventDefault();break;case 40:this.moveSelectedObject(this.Direction.DOWN,e.shiftKey?this.DirectionSteps.SHIFT:this.DirectionSteps.REGULAR),e.preventDefault();break;case 46:this.removeSelected(),e.preventDefault();break;case 65:e.ctrlKey&&this.selectAllObjects(),e.preventDefault()}},t.prototype.selectAllObjects=function(){var t=this.canvas.getObjects().map(function(t){return t.set("active",!0)}),e=new fabric.Group(t,{originX:"center",originY:"center"});this.canvas._activeObject=null,this.canvas.setActiveGroup(e.setCoords()).renderAll()},t.prototype.moveSelectedObject=function(t,e){var n=this.canvas.getActiveGroup(),i=this.canvas.getActiveObject();if(i){switch(t){case this.Direction.LEFT:i.setLeft(i.getLeft()-e);break;case this.Direction.UP:i.setTop(i.getTop()-e);break;case this.Direction.RIGHT:i.setLeft(i.getLeft()+e);break;case this.Direction.DOWN:i.setTop(i.getTop()+e)}i.setCoords(),this.canvas.renderAll()}else if(n){switch(t){case this.Direction.LEFT:n.setLeft(n.getLeft()-e);break;case this.Direction.UP:n.setTop(n.getTop()-e);break;case this.Direction.RIGHT:n.setLeft(n.getLeft()+e);break;case this.Direction.DOWN:n.setTop(n.getTop()+e)}n.setCoords(),this.canvas.renderAll()}},t.prototype.updateLayers=function(){this.layers=this.canvas.getObjects()},t.prototype.selectLayer=function(t){this.canvas.setActiveObject(t)},t.prototype.toggleLayer=function(t){t.visible=!t.visible},t.prototype.lockLayer=function(){var t=this.canvas.getActiveObject();t.evented=!t.evented,t.selectable=!t.selectable},t.prototype.updateLayerSort=function(){var t=this;this.layers.forEach(function(e,n){t.canvas.moveTo(e,n)})},t.prototype.changeSize=function(t){this.canvas.setWidth(this.size.width),this.canvas.setHeight(this.size.height)},t.prototype.oppendCurrentEditor=function(){var t=this;return new Promise(function(e){!0===t.currentEditor?(t.currentEditor=!1,t.iconEditor="icon-chevron-up",t.text_modify="annuler la modification"):(t.currentEditor=!0,t.iconEditor="icon-chevron-down",t.text_modify="modifier",e("ok"))})},t.prototype.toggleCurrentUploadBlock=function(){""===this.currentAdStatus.toString()?"none"===oo("#blockUploadModified").css("display")?(oo("#blockUploadModified").css({display:"block"}),this.iconEditor="icon-chevron-up",this.text_modify="Annuler la modification",this.currentIdInputName=this.idOfAdNameNotPublishUpload,this.currentIdInputDisplay=this.idOfDisplayUrlNotPublishUpload):(oo("#blockUploadModified").css({display:"none"}),this.iconEditor="icon-chevron-down",this.text_modify="modifier",this.currentIdInputName="",this.currentIdInputDisplay=""):!1===this.modifyPublishAd?(this.modifyPublishAd=!0,this.iconEditor="icon-chevron-up",this.text_modify="Annuler la modification"):(this.modifyPublishAd=!0,this.iconEditor="icon-chevron-down",this.text_modify="modifier")},t.prototype.toggleCurrentEditor=function(){return Wm(this,void 0,void 0,function(){var t;return Hm(this,function(e){return(t=this).isEditor=!1,1==this.currentEditor?(this.currentEditor=!1,this.iconEditor="icon-chevron-down",this.text_modify="modifier",this.currentIdInputName="",this.currentIdInputDisplay=""):(this.currentEditor=!0,this.iconEditor="icon-chevron-up",this.text_modify="annuler la modification",0==this.canva_state?(t.isCreating=!0,setTimeout(function(){t.handleCanvas(parseInt(t.currentAdSize[0].width),parseInt(t.currentAdSize[0].height))},2e3),setTimeout(function(){t.loadCanvasFromJSON(),t.isCreating=!1},2e3),this.currentIdInputName=this.idOfAdNameNotPublishCreatives,this.currentIdInputDisplay=this.idOfDisplayUrlNotPublishCreatives):(t.isCreating=!0,setTimeout(function(){t.canvas.clear()},2e3),setTimeout(function(){t.handleCanvas(parseInt(t.currentAdSize[0].width),parseInt(t.currentAdSize[0].height))},2e3),setTimeout(function(){t.loadCanvasFromJSON(),t.isCreating=!1},2e3),this.currentIdInputName=this.idOfAdNameNotPublishCreatives,this.currentIdInputDisplay=this.idOfDisplayUrlNotPublishCreatives)),[2]})})},t.prototype.changeToPreset=function(t){this.size.width=this.selectedSize.width,this.size.height=this.selectedSize.height,this.changeSize(t)},t.prototype.getImgPolaroid=function(t){var e=this,n=t.target;fabric.Image.fromURL(n.src,function(t){t.set({left:10,top:10,angle:0,padding:10,cornersize:10,hasRotatingPoint:!0,title:n.title,lockUniScaling:!0}),t.scaleToWidth(150),t.scaleToHeight(150),e.extend(t,e.randomId()),e.canvas.add(t),e.selectItemAfterAdded(t)}),this.updateLayers()},t.prototype.addImageOnCanvas=function(t){var e=this;t&&(fabric.Image.fromURL(t,function(t){t.set({left:10,top:10,angle:0,padding:10,cornersize:10,hasRotatingPoint:!0,title:e.urlName}),t.scaleToWidth(Math.round(e.size.width/2)),e.extend(t,e.randomId()),e.canvas.add(t),e.selectItemAfterAdded(t)}),this.updateLayers())},t.prototype.removeWhite=function(t){this.url=""},t.prototype.addFigure=function(t){var e;switch(t){case"rectangle":e=new fabric.Rect({width:200,height:100,left:10,top:10,angle:0,fill:"#3f51b5",title:"Rectangle"});break;case"square":e=new fabric.Rect({width:100,height:100,left:10,top:10,angle:0,fill:"#4caf50",title:"Carr\xe9e"});break;case"triangle":e=new fabric.Triangle({width:100,height:100,left:10,top:10,fill:"#2196f3",title:"triangle"});break;case"circle":e=new fabric.Circle({radius:50,left:10,top:10,fill:"#ff5722",title:"Cercle"});break;case"star":e=new fabric.Polygon([{x:350,y:75},{x:380,y:160},{x:470,y:160},{x:400,y:215},{x:423,y:301},{x:350,y:250},{x:277,y:301},{x:303,y:215},{x:231,y:161},{x:321,y:161}],{top:10,left:10,fill:"#ff5722",stroke:"#ff5722",strokeWidth:2,title:"Polygone"})}this.extend(e,this.randomId()),this.canvas.add(e),this.selectItemAfterAdded(e),this.updateLayers()},t.prototype.cleanSelect=function(){this.canvas.deactivateAllWithDispatch().renderAll(),this.updateLayers()},t.prototype.selectItemAfterAdded=function(t){this.canvas.deactivateAllWithDispatch().renderAll(),this.canvas.setActiveObject(t)},t.prototype.setCanvasFill=function(){this.props.canvasImage||(this.canvas.backgroundColor=this.props.canvasFill,this.canvas.renderAll())},t.prototype.extend=function(t,e){var n;t.toObject=(n=t.toObject,function(){return fabric.util.object.extend(n.call(this),{id:e})})},t.prototype.setCanvasImage=function(){var t=this;this.props.canvasImage&&this.canvas.setBackgroundColor({source:this.props.canvasImage,repeat:"repeat"},function(){t.canvas.renderAll()}),this.updateLayers()},t.prototype.randomId=function(){return Math.floor(999999*Math.random())+1},t.prototype.getActiveStyle=function(t,e){return(e=e||this.canvas.getActiveObject())?e.getSelectionStyles&&e.isEditing?e.getSelectionStyles()[t]||"":e[t]||"":""},t.prototype.setActiveStyle=function(t,e,n){if(n=n||this.canvas.getActiveObject()){if(n.setSelectionStyles&&n.isEditing){var i={};i[t]=e,n.setSelectionStyles(i),n.setCoords()}else n.set(t,e);n.setCoords(),this.canvas.renderAll()}},t.prototype.getActiveProp=function(t){var e=this.canvas.getActiveObject();return e&&e[t]||""},t.prototype.setActiveProp=function(t,e){var n=this.canvas.getActiveObject();n&&(n.set(t,e).setCoords(),this.canvas.renderAll())},t.prototype.clone=function(){var t=this.canvas.getActiveObject();if(this.canvas.getActiveGroup(),t){var e=void 0;switch(t.type){case"rect":e=new fabric.Rect(t.toObject());break;case"circle":e=new fabric.Circle(t.toObject());break;case"triangle":e=new fabric.Triangle(t.toObject());break;case"polygon":e=new fabric.Polygon(t.toObject());break;case"i-text":e=new fabric.IText("",t.toObject());break;case"image":e=fabric.util.object.clone(t)}e&&(e.set({left:10,top:10,title:"Element clon\xe9 "+t.title}),this.canvas.add(e),this.selectItemAfterAdded(e)),this.updateLayers()}},t.prototype.getId=function(){this.props.id=this.canvas.getActiveObject().toObject().id},t.prototype.setId=function(){var t=this.props.id,e=this.canvas.getActiveObject().toObject();this.canvas.getActiveObject().toObject=function(){return e.id=t,e}},t.prototype.getTitle=function(){this.props.title=this.getActiveProp("title")},t.prototype.setTitle=function(){this.setActiveProp("title",this.props.title)},t.prototype.getOpacity=function(){this.props.opacity=100*this.getActiveStyle("opacity",null)},t.prototype.setOpacity=function(){this.setActiveStyle("opacity",parseInt(this.props.opacity,10)/100,null)},t.prototype.getFill=function(){this.props.fill=this.getActiveStyle("fill",null)},t.prototype.setFill=function(){this.setActiveStyle("fill",this.props.fill,null)},t.prototype.getStroke=function(){this.props.stroke=this.getActiveStyle("stroke",null)},t.prototype.setStroke=function(){this.setActiveStyle("stroke",this.props.stroke,null)},t.prototype.getStrokeWidth=function(){this.props.strokeWidth=this.getActiveStyle("strokeWidth",null)},t.prototype.setStrokeWidth=function(){this.setActiveStyle("strokeWidth",this.props.strokeWidth,null)},t.prototype.getLineHeight=function(){this.props.lineHeight=this.getActiveStyle("lineHeight",null)},t.prototype.setLineHeight=function(){this.setActiveStyle("lineHeight",parseFloat(this.props.lineHeight),null)},t.prototype.getCharSpacing=function(){this.props.charSpacing=this.getActiveStyle("charSpacing",null)},t.prototype.setCharSpacing=function(){this.setActiveStyle("charSpacing",this.props.charSpacing,null)},t.prototype.getFontSize=function(){this.props.fontSize=this.getActiveStyle("fontSize",null)},t.prototype.setFontSize=function(){this.setActiveStyle("fontSize",parseInt(this.props.fontSize,10),null)},t.prototype.getBold=function(){this.props.fontWeight=this.getActiveStyle("fontWeight",null)},t.prototype.setBold=function(){this.props.fontWeight=!this.props.fontWeight,this.setActiveStyle("fontWeight",this.props.fontWeight?"bold":"",null)},t.prototype.getFontStyle=function(){this.props.fontStyle=this.getActiveStyle("fontStyle",null)},t.prototype.setFontStyle=function(){this.props.fontStyle=!this.props.fontStyle,this.setActiveStyle("fontStyle",this.props.fontStyle?"italic":"",null)},t.prototype.setWebfont=function(){this.props.fontSize=this.font.size,this.setActiveStyle("fontSize",parseInt(this.props.fontSize,10),null),this.props.fontFamily=this.font.family,this.setActiveProp("fontFamily",this.props.fontFamily)},t.prototype.getTextDecoration=function(){this.props.TextDecoration=this.getActiveStyle("textDecoration",null)},t.prototype.setTextDecoration=function(t){var e=this.props.TextDecoration;e.includes(t)?e=e.replace(RegExp(t,"g"),""):e+=" "+t,this.props.TextDecoration=e,this.setActiveStyle("textDecoration",this.props.TextDecoration,null)},t.prototype.hasTextDecoration=function(t){return this.props.TextDecoration.includes(t)},t.prototype.getTextAlign=function(){this.props.textAlign=this.getActiveProp("textAlign")},t.prototype.setTextAlign=function(t){this.props.textAlign=t,this.setActiveProp("textAlign",this.props.textAlign)},t.prototype.getFontFamily=function(){this.props.fontFamily=this.getActiveProp("fontFamily")},t.prototype.setFontFamily=function(){this.setActiveProp("fontFamily",this.props.fontFamily)},t.prototype.setFillColor=function(t){this.palettes.selected=t,this.props.fill=t.key,this.setFill()},t.prototype.removeSelected=function(){var t=this.canvas.getActiveObject(),e=this.canvas.getActiveGroup();if(t)this.canvas.remove(t);else if(e){var n=e.getObjects();this.canvas.discardActiveGroup();var i=this;n.forEach(function(t){i.canvas.remove(t)})}this.updateLayers()},t.prototype.bringToFront=function(){var t=this.canvas.getActiveObject(),e=this.canvas.getActiveGroup();if(t)t.bringToFront();else if(e){var n=e.getObjects();this.canvas.discardActiveGroup(),n.forEach(function(t){t.bringToFront()})}},t.prototype.sendToBack=function(){var t=this.canvas.getActiveObject(),e=this.canvas.getActiveGroup();if(t)t.sendToBack();else if(e){var n=e.getObjects();this.canvas.discardActiveGroup(),n.forEach(function(t){t.sendToBack()})}},t.prototype.confirmClear=function(){confirm("Voulez vous vraiment tout \xe9ffacer ?")&&this.canvas.clear()},t.prototype.handleDragStart=function(t){return this.dragObject=t.target,!1},t.prototype.handleDragOverCanvas=function(t){return t.stopPropagation(),!1},t.prototype.handleDropOnCanvas=function(t){var e=this;t.stopPropagation&&t.stopPropagation();var n=this.dragObject;return fabric.Image.fromURL(n.src,function(i){i.set({originX:"center",originY:"center",left:t.layerX,top:t.layerY,angle:0,padding:10,cornersize:10,hasRotatingPoint:!0,title:n.title,lockUniScaling:!0}),i.scaleToWidth(150),i.scaleToHeight(150),e.extend(i,e.randomId()),e.canvas.add(i),e.selectItemAfterAdded(i)}),this.updateLayers(),this.dragObject=null,!1},t.prototype.rasterize=function(){fabric.Canvas.supports("toDataURL")?window.open().document.write('<iframe src="'+this.canvas.toDataURL("png")+'" frameborder="0" style="border:0; top:0; left:0; bottom:0; right:0; width:100%; height:100%;"allowfullscreen></iframe>'):alert("Votre navigateur ne supporte pas cette op\xe9ration.")},t.prototype.rasterizeSVG=function(){window.open().document.write('<iframe src="data:image/svg+xml;utf8,'+encodeURIComponent(this.canvas.toSVG())+'" frameborder="0" style="border:0; top:0; left:0; bottom:0; right:0; width:100%; height:100%;" allowfullscreen></iframe>')},t.prototype.saveCanvasToJSON=function(){var t=JSON.stringify(this.canvas);localStorage.setItem("ffFabricQuicksave",t)},t.prototype.loadCanvasFromJSON=function(){var t=this,e=localStorage.getItem("ffFabricQuicksave");console.log(typeof e),console.log(typeof this.currentCanvasContent),this.canvas.loadFromJSON(this.currentCanvasContent,function(){t.canvas.renderAll(),console.log(t.canvas)})},t.prototype.rasterizeJSON=function(){this.json=JSON.stringify(this.canvas,null,2)},t.prototype.removeSelectedColorSwatch=function(){if(void 0===this.palettes.selected.type){var t=this.palettes.selected.id;this.palettes.custom=this.palettes.custom.filter(function(e){return e.id!==t}),this.savePalette()}},t.prototype.addToCustomPalette=function(t){switch(t){case"fill":this.palettes.custom.push({key:this.props.fill,value:this.props.fill,id:this.palettes.custom.length});break;case"stroke":this.palettes.custom.push({key:this.props.stroke,value:this.props.stroke,id:this.palettes.custom.length})}this.savePalette()},t.prototype.savePalette=function(){var t=JSON.stringify(this.palettes.custom);localStorage.setItem("ffFabricCP",t)},t.prototype.loadPalette=function(){var t=localStorage.getItem("ffFabricCP");this.palettes.custom=null===t?[]:JSON.parse(t)},t.prototype.updateColorPresets=function(t){},t.prototype.resetPanels=function(){this.textEditor=!1,this.imageEditor=!1,this.shapeEditor=!1},t.prototype.componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.rgbToHex=function(t,e,n){return"#"+this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(n)},t.prototype.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},t.prototype.triggerText=function(){this.addText(),oo(".text-block").css("display","block"),oo(".tools").css("display","block")},t.prototype.triggerImage=function(){oo("#image").trigger("click"),oo(".tools").css("display","block")},t.prototype.triggerFigure=function(){oo(".figure-block").css("display","block"),oo(".tools").css("display","block")},t.prototype.closeFigure=function(){oo(".figure-block").css("display","none")},t.prototype.textRemove=function(){oo(".text-block").css("display","none")},t.prototype.calculateAspectRatio=function(t,e){var n,i,r,o,l=t.width/t.height,a=e.width/e.height,s=[];return l<a?(r=(e.width-(i=t.width*((n=e.height)/t.height)))/2,o=0):l>a?(r=0,o=(e.width-(n=t.height*((i=e.width)/t.width)))/2):(n=e.height,i=e.width,r=0,o=0),s.push({renderableHeight:n,renderableWidth:i,startX:r,startY:o}),s},Object.defineProperty(t.prototype,"pattern",{get:function(){return this.adForm.get("pattern")},enumerable:!0,configurable:!0}),t.prototype.onChangePattern=function(){this.pattern.patchValue(this.pattern.value)},t.prototype.validURL=function(t){return!!new RegExp("^(https:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)},t.prototype.isUrl=function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)},t.prototype.changeAdStatus=function(t,e,n,i){var r=this;Oa.a.fire({title:"Status annonce",text:"Voulez vous modifier le status de votre annonce ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, modifier!"}).then(function(o){o.value&&(r.isCreating=!0,r.http.post("http://127.0.0.1:5000/changeAdStatus",{ad_group_id:e,ad_id:n,last_status:i}).subscribe(function(e){console.log(e),r.adsService.updateAd(t,{status:e[0].status}).then(function(t){Oa.a.fire("Modifier!","Status de l'annonce modifi\xe9.","success").then(function(t){r.isCreating=!1})})},function(t){r.isCreating=!1,Oa.a.fire({title:"Service annonce!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})}))})},t.prototype.removeAdFirebase=function(t){var e=this;Oa.a.fire({title:"Service annonce",text:"Voulez vous supprimer cette annonce ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(function(n){n.value&&(e.isCreating=!0,e.adsService.deleteAd(t).then(function(t){e.isCreating=!1}))})},t.prototype.removeAd=function(t,e,n){var i=this;Oa.a.fire({title:"Service annonce",text:"Voulez vous supprimer cette annonce ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(function(r){r.value&&(i.isCreating=!0,i.http.post("http://127.0.0.1:5000/removeAd",{ad_group_id:e,ad_id:n}).subscribe(function(e){console.log(e),i.adsService.deleteAd(t).then(function(t){Oa.a.fire("Supprimer!","Annonce supprim\xe9e avec succ\xe8s!","success").then(function(t){i.isCreating=!1})})},function(t){i.isCreating=!1,Oa.a.fire({title:"Service Annonce!",text:"Erreur.",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})}))})},t.prototype.removeAdBeforeUpdate=function(t,e,n){var i=this;return new Promise(function(t){i.http.post("http://127.0.0.1:5000/removeAd",{ad_group_id:e,ad_id:n}).subscribe(function(e){console.log(e),"ok"==e[0].status&&t("ok")})})},t.prototype.goAdSettings=function(t,e,n,i,r,o,l,a,s,u,c,h,d){if(this.isAdBlock=!0,this.isEditor=!1,this.list_ad=!1,this.currentAdName=e,this.currentImageUrl=o,this.currentCanvasContent=u,this.ad_group_id=n,this.id_ad_firebase=t,this.image_url=o,this.image_content=u,this.ad_id=i,this.currentAdStatus=r,this.finalUrls=l,this.finalAppUrls=a,this.ad_name=e,this.finalMobileUrls=s,this.referenceId=c,this.currentAdSize=h,this.currentAdType=d,this.currentIdInputName=this.idOfAdNameModify,this.currentIdInputDisplay=this.idOfDisplayUrlModify,this.iconEditor="icon-chevron-down",console.log(l.length),0==l.length)this.currentFinalUrls="";else if(1==l.length)this.currentFinalUrls=l[0].toString();else for(var p=0;p<l.length-1;p++)console.log(l),console.log(l[p]),this.currentFinalUrls+=l[p].toString()+","},t.prototype.publish=function(){var t=oo;0===this.budget?Oa.a.fire({title:"Service annonce",text:"Le budget de votre campagne est insuffisant d\xe9finissez le pour comment \xe0 diffuser",type:"warning",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"D\xe9finir mon budget "}).then(function(e){e.value&&t("#button_modal_define_budget").trigger("click")}):t("#button_modal_define_budget").trigger("click")},t.prototype.defineAmountAccount=function(){var t=this;this.montant=oo("#montant").val(),this.montant<1e4?oo("#error_recharge").show():(oo("#closeModalRecharge").trigger("click"),t=this,this.isCreating=!0,setTimeout(function(){var e=document.getElementById("budgetSet"),n=pQuery(e);new PayExpresse({item_id:1}).withOption({requestTokenUrl:"http://127.0.0.1:5000/rechargeAmount/"+t.montant,method:"POST",headers:{Accept:"application/json"},prensentationMode:PayExpresse.OPEN_IN_POPUP,didPopupClosed:function(e,n,i){t.isCreating=!1,!0===e?alert(n):t.isCreating=!1},willGetToken:function(){console.log("Je me prepare a obtenir un token"),n.prop("disabled",!0)},didGetToken:function(t,e){console.log("Mon token est : "+t+" et url est "+e),n.prop("disabled",!1)},didReceiveError:function(t){alert("erreur inconnu"),n.prop("disabled",!1)},didReceiveNonSuccessResponse:function(t){console.log("non success response ",t),alert(t.errors),n.prop("disabled",!1)}}).send({pageBackgroundRadianStart:"#0178bc",pageBackgroundRadianEnd:"#00bdda",pageTextPrimaryColor:"#333",paymentFormBackground:"#fff",navControlNextBackgroundRadianStart:"#608d93",navControlNextBackgroundRadianEnd:"#28314e",navControlCancelBackgroundRadianStar:"#28314e",navControlCancelBackgroundRadianEnd:"#608d93",navControlTextColor:"#fff",paymentListItemTextColor:"#555",paymentListItemSelectedBackground:"#eee",commingIconBackgroundRadianStart:"#0178bc",commingIconBackgroundRadianEnd:"#00bdda",commingIconTextColor:"#fff",formInputBackgroundColor:"#eff1f2",formInputBorderTopColor:"#e3e7eb",formInputBorderLeftColor:"#7c7c7c",totalIconBackgroundRadianStart:"#0178bc",totalIconBackgroundRadianEnd:"#00bdda",formLabelTextColor:"#292b2c",alertDialogTextColor:"#333",alertDialogConfirmButtonBackgroundColor:"#0178bc",alertDialogConfirmButtonTextColor:"#fff"})},500))},t.prototype.defineBudget=function(){oo("#button_modal_define_budget").trigger("click");var t=this;this.isCreating=!0;var e="http://127.0.0.1:5000/payBudget/"+t.montant+"/"+t.budget_to_place+"/"+t.budgetId+"/"+t.idC+"/"+t.dure_campagne+"/"+t.ad_group_name+"/"+t.idA+"/"+t.ad_group_id+"/"+t.campagne_id+"/"+t.id_ad_firebase;alert(e),setTimeout(function(){var n=document.getElementById("budgetSet"),i=pQuery(n);new PayExpresse({item_id:1}).withOption({requestTokenUrl:e,method:"POST",headers:{Accept:"application/json"},prensentationMode:PayExpresse.OPEN_IN_POPUP,didPopupClosed:function(e,n,i){t.isCreating=!1,!0===e?alert(n):t.isCreating=!1},willGetToken:function(){console.log("Je me prepare a obtenir un token"),i.prop("disabled",!0)},didGetToken:function(t,e){console.log("Mon token est : "+t+" et url est "+e),i.prop("disabled",!1)},didReceiveError:function(e){alert("erreur inconnu"),t.isCreating=!1,i.prop("disabled",!1)},didReceiveNonSuccessResponse:function(t){console.log("non success response ",t),alert(t.errors),i.prop("disabled",!1)}}).send({pageBackgroundRadianStart:"#0178bc",pageBackgroundRadianEnd:"#00bdda",pageTextPrimaryColor:"#333",paymentFormBackground:"#fff",navControlNextBackgroundRadianStart:"#608d93",navControlNextBackgroundRadianEnd:"#28314e",navControlCancelBackgroundRadianStar:"#28314e",navControlCancelBackgroundRadianEnd:"#608d93",navControlTextColor:"#fff",paymentListItemTextColor:"#555",paymentListItemSelectedBackground:"#eee",commingIconBackgroundRadianStart:"#0178bc",commingIconBackgroundRadianEnd:"#00bdda",commingIconTextColor:"#fff",formInputBackgroundColor:"#eff1f2",formInputBorderTopColor:"#e3e7eb",formInputBorderLeftColor:"#7c7c7c",totalIconBackgroundRadianStart:"#0178bc",totalIconBackgroundRadianEnd:"#00bdda",formLabelTextColor:"#292b2c",alertDialogTextColor:"#333",alertDialogConfirmButtonBackgroundColor:"#0178bc",alertDialogConfirmButtonTextColor:"#fff"})},500)},t.prototype.handleIfValide=function(){console.log("keyup"),oo("#error_recharge").hide();var t=oo("#montant").val();t<2e4?(this.montant=0,oo("#error_recharge").show()):""==t?(this.montant=0,oo("#error_recharge").show()):this.montant=t},t.prototype.handleIfBudgetToPlaceFromAccountIsValid=function(){oo("#error_recharge").hide();var t=parseInt(oo("#montant").val());t>this.accountValue?(this.montant=0,this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):null==t?(this.montant=0,this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):t<1e4?(this.montant=0,this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):(this.my_gain=20*t/100,this.budget_to_place=t-this.my_gain,this.number_of_impressions_simulated=1e3*this.budget_to_place/33.3,this.montant=t)},t.prototype.handleBudgetPlacement=function(){var t=this;this.isAccountRechargement=!1,this.isPlacementBudgetFromAccount=!1,Oa.a.fire({title:"Service Campagne",text:"Vous allez placer un budget pour votre campagne, veuillez vous assurez que les dates de d\xe9but et de fins sont d\xe9finies aux dates voulues",type:"info",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, Je confirme ces dates"}).then(function(e){e.value&&(t.modifyDate=!1,t.isSetBudget=!0)})},t.prototype.handlePlaceBudgetFromSolde=function(){var t=this;this.isAccountRechargement=!1,this.isSetBudget=!1,Oa.a.fire({title:"Service Campagne",text:"Vous allez placer un budget pour votre campagne, veuillez vous assurez que les dates de d\xe9but et de fins sont d\xe9finies aux dates voulues",type:"info",showCancelButton:!0,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, Je confirme ces dates"}).then(function(e){e.value&&(t.modifyDate=!1,t.isPlacementBudgetFromAccount=!0)})},t.prototype.handleAccountRechargement=function(){this.modifyDate=!1,this.isSetBudget=!1,this.isPlacementBudgetFromAccount=!1,this.isAccountRechargement=!0},t.prototype.parseDate=function(t){var e=t.split("/");return new Date(e[2],e[1],e[0])},t.prototype.datediff=function(t,e){return Math.round((e-t)/864e5)},t.prototype.OpenModifyDateCampaign=function(){this.modifyDate=!0,this.isSetBudget=!1,this.isAccountRechargement=!1,this.isPlacementBudgetFromAccount=!1,oo("#finalButtonPublier").hide(),oo("#dateBlock").hide()},t.prototype.CloseUpdateCampaignDate=function(){this.modifyDate=!1,oo("#finalButtonPublier").show(),oo("#dateBlock").show()},t.prototype.CloseBudgetOperation=function(){this.isSetBudget=!1},t.prototype.ClosePlaceBudgetFromAccountValue=function(){this.isPlacementBudgetFromAccount=!1},t.prototype.CloseRechargeAccountOperation=function(){this.isAccountRechargement=!1},t.prototype.onEndDateChange=function(t){console.log(t.value),this.newEndDate=void 0!=t.value?t.value.toString():""},t.prototype.onStartDateChange=function(t){console.log(t.value),void 0!=t.value?(this.newStartDate=t.value.toString(),console.log(this.newStartDate)):this.newStartDate=""},t.prototype.updateCampaignDate=function(){var t=this,e=JSON.parse(JSON.stringify(zm)),n=this.startDateFrench.split("/"),i=this.endDateFrench.split("/"),r=n[2]+"-"+n[1]+"-"+n[0],o=i[2]+"-"+i[1]+"-"+i[0];console.log(u),console.log(new Date(r)),console.log(new Date(o));var l=(new Date).getDate(),a=((new Date).getDay(),(new Date).getFullYear()),s=(new Date).getMonth()+1;(new Date).valueOf(),this.today=s<10&&l<10?a.toString()+"-0"+s.toString()+"-0"+l.toString():s<10&&l>10?a.toString()+"-0"+s.toString()+"-"+l.toString():s>10&&l<10?a.toString()+s.toString()+"-0"+l.toString():a.toString()+"-"+s.toString()+"-"+l.toString();var u=new Date;if(""==this.newEndDate&&""==this.newStartDate)Oa.a.fire({title:"Service Campagne",text:"Renseigner au moins une date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){});else if(""==this.newEndDate&&""!=this.newStartDate){var c=this.newStartDate.split(" ");this.UpdatedStartDate=(m=c[2])+"/"+(v=e[0][c[1]].number)+"/"+(y=c[3]);var h=""+y+v+m,d=y+"-"+v+"-"+m;Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but de campagne uniquement changer",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Confirmer"}).then(function(e){e.value&&(new Date(r)<u?Oa.a.fire({title:"Service Campagne",text:"campagne d\xe9j\xe0 commenc\xe9 Vous ne pouver plus modifier la date de d\xe9but",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Confirmer"}).then(function(t){}):new Date(o)<u?Oa.a.fire({title:"Service Campagne",text:"Campagne d\xe9j\xe0 arriv\xe9e \xe0 terme",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(r)==u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne \xe0 d\xe9j\xe0 commencer \xe0 diffuser vous pouver uniquement modifier la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(o)==u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne se termine aujourd'hui vous pouver uniquement modifier la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(d)>new Date?Oa.a.fire({title:"Service Campagne",text:"Date valide",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, confirmer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateStartDate(t.idC,t.campagne_id,h,t.UpdatedStartDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):d==t.today?Oa.a.fire({title:"Service Campagne",text:"Campagne commence aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, confirmer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateStartDate(t.idC,t.campagne_id,h,t.UpdatedStartDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(d)>new Date(o)?Oa.a.fire({title:"Service Campagne",text:"date de d\xe9but ne peut \xeatre apr\xe8s la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):d==o?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but et date de fin ne peuvent \xeatre d\xe9finies \xe0 la m\xeame date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):(alert(d+" "+t.today),Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but"+new Date(d)+" ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){})))})}else if(""==this.newStartDate&&""!=this.newEndDate){var p=this.newEndDate.split(" ");this.UpdatedEndDate=(b=p[2])+"/"+(w=e[0][p[1]].number)+"/"+(_=p[3]);var f=""+_+w+b,g=_+"-"+w+"-"+b;Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but inchang\xe9, date de fin chang\xe9e",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Confirmer"}).then(function(e){e.value&&(new Date(o)<u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne est d\xe9j\xe0 arriv\xe9e \xe0 terme",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(o)==u?Oa.a.fire({title:"Service Campagne",text:"Cette campagne se termine aujourd'hui, vous voulez prolonger sa date de fin",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, prolonger"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.idC,t.campagne_id,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(g)<new Date?Oa.a.fire({title:"Service Campagne",text:"Date de fin ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):g==t.today?Oa.a.fire({title:"Service Campagne",text:"Date de fin d\xe9finie \xe0 la date d'aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.idC,t.campagne_id,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(g)<new Date(r)?Oa.a.fire({title:"Service Campagne",text:"Date de fin ne peut \xeatre d\xe9finie avant la date de d\xe9but",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):g==r?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but et date de fin ne peuvent \xeatre d\xe9finies \xe0 la m\xeame date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):Oa.a.fire({title:"Service Campagne",text:"Vous \xeates sur des donn\xe9es saisies ?",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, s\xfbr!"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.idC,t.campagne_id,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}))})}else{var m,v,y,b,w,_;c=this.newStartDate.split(" "),this.UpdatedStartDate=(m=c[2])+"/"+(v=e[0][c[1]].number)+"/"+(y=c[3]),h=""+y+v+m,d=y+"-"+v+"-"+m,p=this.newEndDate.split(" "),this.UpdatedEndDate=(b=p[2])+"/"+(w=e[0][p[1]].number)+"/"+(_=p[3]),f=""+_+w+b,g=_+"-"+w+"-"+b,r==this.today?Oa.a.fire({title:"Service Campagne",text:"Cette campagne Commence aujourd'hui vous pouver uniquement modifier la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(o)<new Date?Oa.a.fire({title:"Service Campagne",text:"Cette campagne est arriv\xe9e \xe0 terme",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(r)<new Date?Oa.a.fire({title:"Service Campagne",text:"Cette campagne \xe0 d\xe9j\xe0 commenc\xe9 \xe0 diffuser, seul sa date de fin sera chang\xe9e",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, changer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.idC,t.campagne_id,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):o==this.today?Oa.a.fire({title:"Service Campagne",text:"Cette campagne se termine aujourd'hui, vous pouvez prolonger sa date de fin",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, prolonger"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateEndDate(t.idC,t.campagne_id,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):d==this.today&&new Date(g)>new Date?Oa.a.fire({title:"Service Campagne",text:"La campagne va commencer aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, confirmer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateDates(t.idC,t.campagne_id,h,t.UpdatedStartDate,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):new Date(d)<new Date&&new Date(g)>new Date?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(g)<new Date?Oa.a.fire({title:"Service Campagne",text:"Date de fin ne peut \xeatre d\xe9finie dans le pass\xe9",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):new Date(d)>new Date(g)?Oa.a.fire({title:"Service Campagne",text:"date de d\xe9but ne peut \xeatre apr\xe8s la date de fin",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):d==this.today&&g!=this.today?Oa.a.fire({title:"Service Campagne",text:"Campagne va commencer aujourd'hui",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok, commencer"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateDates(t.idC,t.campagne_id,h,t.UpdatedStartDate,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})}):g==this.today?Oa.a.fire({title:"Service Campagne",text:"Impossible de finir une campagne qui n'a pas commenc\xe9 \xe0 diffuser",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):g==d?Oa.a.fire({title:"Service Campagne",text:"Date de d\xe9but et date de fin ne peuvent \xeatre d\xe9finies \xe0 la m\xeame date",type:"error",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(t){}):Oa.a.fire({title:"Service Campagne",text:"Vous \xeates sur des donn\xe9es saisies ?",type:"warning",showCancelButton:!1,confirmButtonColor:"#26a69a",cancelButtonColor:"#d33",confirmButtonText:"Oui, s\xfbr!"}).then(function(e){t.modifyDate=!1,t.isRoller=!0,e.value&&t.notesService.updateDates(t.idC,t.campagne_id,h,t.UpdatedStartDate,f,t.UpdatedEndDate).then(function(e){"error"!=e&&(t.isRoller=!1,t.modifyDate=!0)})})}},t.prototype.setStartDate=function(){var t=this;return new Promise(function(e){var n=t.newStartDate.split(" "),i=JSON.parse(JSON.stringify(zm)),r=n[2],o=i[0][n[1]].number,l=n[3];t.UpdatedStartDate=r+"/"+o+"/"+l;var a=""+l+o+r;t.isCreating=!0,t.startDate==a||t.endDate==a?e("error"):(t.notesService.updateStartDate(t.idC,t.campagne_id,a,t.UpdatedStartDate),console.log(t.idC),e("ok"))})},t.prototype.setEndDate=function(){var t=this;return new Promise(function(e){var n=t.newEndDate.split(" "),i=JSON.parse(JSON.stringify(zm)),r=n[2],o=i[0][n[1]].number,l=n[3];t.UpdatedEndDate=r+"/"+o+"/"+l;var a=""+l+o+r;t.isCreating=!0,t.endDate==a||t.startDate==a?e("error"):(t.notesService.updateEndDate(t.idC,t.campagne_id,a,t.UpdatedEndDate),e("ok"))})},t.prototype.retourRechargement=function(){this.directBudget=!1,this.choose=!0},t.prototype.initAdd=function(){this.init_choose_ad_size=!0},t.prototype.handleSimulatedImpressionsCount=function(){console.log("keyup"),oo("#error_recharge").hide(),this.isSimulation=!0;var t=oo("#montant").val();t<1e4?(this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):""==t?(this.number_of_impressions_simulated=0,this.my_gain=0,this.budget_to_place=0,oo("#error_recharge").show()):(this.my_gain=20*t/100,this.budget_to_place=t-this.my_gain,this.number_of_impressions_simulated=1e3*this.budget_to_place/33.3,this.montant=t)},t}(),Ym=i["\u0275crt"]({encapsulation:0,styles:[['#canvas[_ngcontent-%COMP%]{border:2px dashed #ccc;-webkit-box-shadow:0 0 10px rgba(0,0,0,.2);box-shadow:0 0 10px rgba(0,0,0,.2)}div.font-select[_ngcontent-%COMP%]{-webkit-box-shadow:inset 0 -1px 0 #ddd;box-shadow:inset 0 -1px 0 #ddd;font-size:16px;cursor:pointer}.images-item[_ngcontent-%COMP%]{width:49%;cursor:pointer;-webkit-transition:.5s;padding:3px;max-width:120px;-webkit-filter:grayscale(100%);filter:grayscale(100%)}.images-item[_ngcontent-%COMP%]:hover{-webkit-filter:none;filter:none}.images-item-upload[_ngcontent-%COMP%]{width:80%;cursor:pointer;padding-bottom:10px}.panel-library[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]:last-child{margin-bottom:-15px}.custom-item[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin-left:-15px;margin-right:-15px;padding:10px 15px}.custom-item[_ngcontent-%COMP%]:first-child{padding-top:0;border-top:0}.custom-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.custom-item[_ngcontent-%COMP%]   .custom-item-title[_ngcontent-%COMP%]{color:#666;font-weight:600}.custom-item[_ngcontent-%COMP%]   .custom-item-body[_ngcontent-%COMP%]{padding:10px 0;margin-bottom:15px}.custom-item[_ngcontent-%COMP%]   .custom-item-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:0}.file-container[_ngcontent-%COMP%]{overflow:hidden;position:relative}.file-container[_ngcontent-%COMP%]   [type=file][_ngcontent-%COMP%]{cursor:inherit;display:block;font-size:999px;filter:alpha(opacity=0);min-height:100%;min-width:100%;opacity:0;position:absolute;right:0;text-align:right;top:0}.max-height[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.input-group-title[_ngcontent-%COMP%]{display:block}.input-group-title[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{font-size:30px;font-weight:700;margin-bottom:15px}.layer-list[_ngcontent-%COMP%]{min-height:200px;padding:0;overflow-y:scroll}.layer-list[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{margin-bottom:0}.layer-list[_ngcontent-%COMP%]   .layer-title[_ngcontent-%COMP%], .layer-list[_ngcontent-%COMP%]   .layer-type[_ngcontent-%COMP%], .layer-list[_ngcontent-%COMP%]   .layer-visibility-toggle[_ngcontent-%COMP%]{display:inline-block}.layer-list[_ngcontent-%COMP%]   .layer-title[_ngcontent-%COMP%]{position:absolute;margin-left:5px;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;width:50%}.layer-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{padding:5px 10px 5px 5px}.layer-list[_ngcontent-%COMP%]   .list-group-item.active[_ngcontent-%COMP%]{color:#fff;border-color:#26a69a;background-color:#26a69a}.layer-list[_ngcontent-%COMP%]   .list-group-item.active[_ngcontent-%COMP%]   .layer-title[_ngcontent-%COMP%]{font-weight:600}.layer-list[_ngcontent-%COMP%]   .layer-visibility-toggle[_ngcontent-%COMP%]{cursor:pointer}.layer-list[_ngcontent-%COMP%]   .layer-visibility-toggle[_ngcontent-%COMP%]   i.fa-eye-slash[_ngcontent-%COMP%]{opacity:.5}.list-group-item[_ngcontent-%COMP%]:first-child{border-top-right-radius:0;border-top-left-radius:0}.list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group.btn-group-disabled[_ngcontent-%COMP%]{opacity:.4}.dnd-drag-start[_ngcontent-%COMP%]{-webkit-transform:scale(.8);transform:scale(.8);opacity:.7;border:1px dashed #000}.dnd-drag-enter[_ngcontent-%COMP%]{opacity:.7;border:1px dashed #000}.dnd-drag-over[_ngcontent-%COMP%]{border:1px dashed #000}.dnd-sortable-drag[_ngcontent-%COMP%]{-webkit-transform:scale(.9);transform:scale(.9);opacity:.7;border:1px dashed #000;margin:5px 0}.panel-palettes[_ngcontent-%COMP%]   ul.list-inline[_ngcontent-%COMP%]{margin-bottom:0}.panel-palettes[_ngcontent-%COMP%]   ul.list-inline[_ngcontent-%COMP%]:not(:first-child){margin-top:5px;padding-top:5px;border-top:1px solid #ccc}.color-swatch[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:5px;cursor:pointer;border:1px solid #fff}.color-swatch.selected[_ngcontent-%COMP%]{border:1px dotted #333}.lds-roller[_ngcontent-%COMP%]{position:relative;width:64px;height:64px;margin-left:40%}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-roller;animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-roller;-webkit-transform-origin:32px 32px;transform-origin:32px 32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:6px;height:6px;border-radius:50%;background:#2ec46c;margin:-3px 0 0 -3px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-36ms;animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:50px;left:50px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-72ms;animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:54px;left:45px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-108ms;animation-delay:-108ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:57px;left:39px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-144ms;animation-delay:-144ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:58px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.18s;animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:57px;left:25px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-216ms;animation-delay:-216ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:54px;left:19px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-252ms;animation-delay:-252ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:50px;left:14px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-288ms;animation-delay:-288ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:45px;left:10px}@-webkit-keyframes lds-roller{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes lds-roller{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.check[_ngcontent-%COMP%]{opacity:.5;color:#fff}']],data:{}});function Xm(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","text-danger"],["data-target","#modalRechargement"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-data_usage text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["","\n                      "]))],null,function(t,e){t(e,3,0,e.component.notificationAccountValue)})}function Km(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-data_usage text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Aucune Notification pour le moment\n                      "]))],null,null)}function Qm(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[["class","badge bg-white text-success"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"span",[["class","blink"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-circle mr-2"],["style","color: green"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Groupe d'annonce actif"]))],null,null)}function Zm(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[["class","badge badge-danger pink"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"span",[["class","blink"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-circle mr-2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Groupe d'annonces en veille"]))],null,null)}function Jm(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["aria-controls","v-pills-add-ad"],["aria-selected","false"],["class","nav-link"],["data-toggle","pill"],["href","#v-pills-add-ad"],["id","v-pills-add-ad-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon icon-yelp"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Cr\xe9er une annonce"]))],null,null)}function $m(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["style","cursor: pointer"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleListAd()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon icon-send-o indigo-text s-18"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["retour \xe0 la liste des annonces"]))],null,null)}function tv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](3,0,null,null,2,"span",[["class","text-white"],["style","font-size: 14px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Annonce activ\xe9e"])),(t()(),i["\u0275ted"](-1,null,["\n\n                            "]))],null,null)}function ev(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275eld"](3,0,null,null,2,"span",[["class","text-white"],["style","font-size: 14px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Annonce en veille"])),(t()(),i["\u0275ted"](-1,null,["\n\n                            "]))],null,null)}function nv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"small",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Activer/Supprimer"]))],null,null)}function iv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"small",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xe9sactiver/Supprimer"]))],null,null)}function rv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","text-danger"],["style","cursor: pointer"],["title","d\xe9sactiver"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changeAdStatus(null==t.parent.context.$implicit?null:t.parent.context.$implicit.id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_group_id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.status)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-stop text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,null)}function ov(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","text-white"],["style","cursor: pointer"],["title",""]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changeAdStatus(null==t.parent.context.$implicit?null:t.parent.context.$implicit.id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_group_id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.status)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-play text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,null)}function lv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["style","cursor: pointer; margin-left: 5px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275eld"](2,0,null,null,3,"a",[["class","text-danger"],["style","cursor: pointer; float: right"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removeAd(null==t.parent.context.$implicit?null:t.parent.context.$implicit.id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_group_id,null==t.parent.context.$implicit?null:t.parent.context.$implicit.ad_id)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","icon-close2 text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n                                "]))],null,null)}function av(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["style","cursor: pointer; margin-left: 5px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275eld"](2,0,null,null,3,"a",[["class","text-danger"],["style","cursor: pointer; float: right"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removeAdFirebase(null==t.parent.context.$implicit?null:t.parent.context.$implicit.id)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","icon-close2 text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n                                "]))],null,null)}function sv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,58,"tr",[["class","no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n                            "])),(t()(),i["\u0275eld"](2,0,null,null,3,"td",[["class","table-img"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](4,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](7,0,null,null,6,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275ted"](-1,null,["\n                               "])),(t()(),i["\u0275eld"](10,0,null,null,2,"span",[["class","text-white"],["style","font-size: 14px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](12,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,tv)),i["\u0275did"](17,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ev)),i["\u0275did"](20,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](23,0,null,null,25,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](25,0,null,null,7,"div",[["class","row text-center d-none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,nv)),i["\u0275did"](28,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,iv)),i["\u0275did"](31,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                              "])),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](34,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,rv)),i["\u0275did"](37,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ov)),i["\u0275did"](40,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,lv)),i["\u0275did"](43,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,av)),i["\u0275did"](46,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275ted"](-1,null,["\n\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](50,0,null,null,5,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](52,0,null,null,2,"a",[["class","btn btn-sm green accent-3 shadow text-white r-20"]],[[8,"id",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goAdSettings(null==t.context.$implicit?null:t.context.$implicit.id,null==t.context.$implicit?null:t.context.$implicit.ad_name,null==t.context.$implicit?null:t.context.$implicit.ad_group_id,null==t.context.$implicit?null:t.context.$implicit.ad_id,null==t.context.$implicit?null:t.context.$implicit.status,null==t.context.$implicit?null:t.context.$implicit.url_image,null==t.context.$implicit?null:t.context.$implicit.finalUrls,null==t.context.$implicit?null:t.context.$implicit.finalAppUrls,null==t.context.$implicit?null:t.context.$implicit.finalMobileUrls,null==t.context.$implicit?null:t.context.$implicit.image_content,null==t.context.$implicit?null:t.context.$implicit.referenceId,null==t.context.$implicit?null:t.context.$implicit.size,null==t.context.$implicit?null:t.context.$implicit.ad_type)&&i),i},null,null)),(t()(),i["\u0275eld"](53,0,null,null,0,"i",[["class","icon-settings2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Voir"])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](57,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "]))],function(t,e){t(e,17,0,"ENABLED"==(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,20,0,"PAUSED"==(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,28,0,"PAUSED"===(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,31,0,"ENABLED"===(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,37,0,"ENABLED"===(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,40,0,"PAUSED"===(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,43,0,""!==(null==e.context.$implicit?null:e.context.$implicit.status)),t(e,46,0,""===(null==e.context.$implicit?null:e.context.$implicit.status))},function(t,e){t(e,4,0,i["\u0275inlineInterpolate"](1,"",null==e.context.$implicit?null:e.context.$implicit.url_image,"")),t(e,12,0,null==e.context.$implicit?null:e.context.$implicit.ad_name),t(e,52,0,null==e.context.$implicit?null:e.context.$implicit.id)})}function uv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                          "])),(t()(),i["\u0275and"](16777216,null,null,2,null,sv)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),i["\u0275pid"](131072,M,[i.ChangeDetectorRef]),(t()(),i["\u0275ted"](-1,null,["\n                        "]))],function(t,e){var n=e.component;t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform(n.ads)))},null)}function cv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,29,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n            "])),(t()(),i["\u0275eld"](2,0,null,null,26,"div",[["class","container-fluid text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](6,0,null,null,1,"h5",[["style","color: #4db6ac"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Liste des annonces"])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](9,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](11,0,null,null,16,"div",[["class","card no-b shadow teal lighten-2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](13,0,null,null,13,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](15,0,null,null,10,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](17,0,null,null,7,"table",[["class","table table-hover text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](19,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,uv)),i["\u0275did"](22,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n\n          "]))],function(t,e){var n=e.component;t(e,22,0,n.ads.toString().length>0,n.noAds)},null)}function hv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,19,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,16,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](4,0,null,null,13,"div",[["class","text-center p-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](6,0,null,null,0,"i",[["class","icon-note-important s-64 text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](8,0,null,null,1,"h4",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Aucune annonce trouv\xe9e"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Vous devez creer une nouvelle annonce pour commencer"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,0,null,null,2,"button",[["class","btn teal darken-1 text-white btn-sm btn-social r-20 shadow btn-sm r-20"],["href","#"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.initAdd()&&i),i},null,null)),(t()(),i["\u0275eld"](15,0,null,null,0,"i",[["class","icon-plus-circle mr-2 "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Cr\xe9er une annonce"])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "]))],null,null)}function dv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","col"],["style","cursor: pointer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-dark img-check"]],[[8,"id",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.checkAdType(t.context.$implicit.id,t.context.$implicit.width,t.context.$implicit.height,t.context.$implicit.img)&&i),i},null,null)),(t()(),i["\u0275ted"](3,null,["","x",""])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" ",""]))],null,function(t,e){t(e,2,0,e.context.$implicit.id),t(e,3,0,e.context.$implicit.width,e.context.$implicit.height),t(e,6,0,e.context.$implicit.name)})}function pv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","col"],["style","cursor: pointer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-dark img-check"]],[[8,"id",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.checkAdType(t.context.$implicit.id,t.context.$implicit.width,t.context.$implicit.height,t.context.$implicit.img)&&i),i},null,null)),(t()(),i["\u0275ted"](3,null,["","x",""])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" ",""]))],null,function(t,e){t(e,2,0,e.context.$implicit.id),t(e,3,0,e.context.$implicit.width,e.context.$implicit.height),t(e,6,0,e.context.$implicit.name)})}function fv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,22,"div",[["class","card no-b shadow"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","card-header teal lighten-3 text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"h6",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Format annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](8,0,null,null,6,"div",[["class","card-body white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](10,0,null,null,3,"div",[["class","card-img no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](12,0,null,null,0,"img",[["class","img-responsive"]],[[8,"src",4]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](16,0,null,null,5,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](18,0,null,null,2,"button",[["class","btn shadow teal lighten-3 text-white r-20 btn-social"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.chooseAdType()&&i),i},null,null)),(t()(),i["\u0275eld"](19,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["choisir"])),(t()(),i["\u0275ted"](-1,null,["\n                           \n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                        "]))],null,function(t,e){t(e,12,0,e.component.illustrationUrl)})}function gv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,25,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](2,0,null,null,1,"div",[["class","card-header no-b white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        Type d'annonces\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](5,0,null,null,13,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        \t"])),(t()(),i["\u0275eld"](7,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\t\n\n\t\t\t"])),(t()(),i["\u0275and"](16777216,null,null,1,null,dv)),i["\u0275did"](10,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n             \n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](13,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\t\n\n\t\t"])),(t()(),i["\u0275and"](16777216,null,null,1,null,pv)),i["\u0275did"](16,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n             \n    "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](20,0,null,null,4,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,fv)),i["\u0275did"](23,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n       \n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,10,0,n.AD_TYPES_1),t(e,16,0,n.AD_TYPES_2),t(e,23,0,n.illustration)},null)}function mv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,29,"div",[["class","card no-b shadow"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","card-header teal lighten-3 text-white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"h6",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,["Format: ","x",""])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](8,0,null,null,13,"div",[["class","card-body text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](10,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleUploadBanner()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](12,0,null,null,0,"i",[["class","icon-cloud_upload text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Charger une banni\xe8re\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](15,0,null,null,0,"hr",[["class","invisible"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](17,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleCreatives()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](19,0,null,null,0,"i",[["class","icon-creativity text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Construire une banni\xe8re\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](23,0,null,null,5,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](25,0,null,null,2,"button",[["class","btn btn-danger btn-sm text-white r-20"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goBackSelectSize()&&i),i},null,null)),(t()(),i["\u0275eld"](26,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Changer le format"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],null,function(t,e){var n=e.component;t(e,5,0,n.selectedWidth,n.selectedHeight)})}function vv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          ","\n                        "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function yv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                            "," ","\n                          "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function bv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,yv)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                        "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function wv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning r-20 blink"],["data-toggle","control-sidebar"],["id","popper"],["style","float: left !important; height: 40px; margin-top: -35px; margin-left: -40px"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-settings2"]],null,null,null,null,null))],null,null)}function _v(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-success"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.clone()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-clone"]],null,null,null,null,null))],null,null)}function Cv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-danger"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removeSelected()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-delete_forever"]],null,null,null,null,null))],null,null)}function xv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,126,"div",[["class","container-fluid text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      \n              "])),(t()(),i["\u0275eld"](2,0,null,null,54,"div",[["class","card mb-3 shadow no-b r-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](4,0,null,null,8,"div",[["class","card-header teal lighten-3 text-center text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](6,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Construire son annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](9,0,null,null,2,"span",[["style","float: right; font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](10,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](11,null,["Format: ","x",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,0,null,null,41,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](16,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,18).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,18).onReset()&&r),r},null,null)),i["\u0275did"](17,16384,null,0,Tl,[],null,null),i["\u0275did"](18,540672,null,0,yl,[[8,null],[8,null]],{form:[0,"form"]},null),i["\u0275prd"](2048,null,co,null,[yl]),i["\u0275did"](20,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](22,0,null,null,31,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](24,0,null,null,16,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](26,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](29,0,null,null,7,"input",[["class","form-control"],["formControlName","name"],["placeholder","Nom"],["required",""],["type","text"]],[[8,"id",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==i["\u0275nov"](t,30)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,30).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,30)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,30)._compositionEnd(n.target.value)&&r),r},null,null)),i["\u0275did"](30,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275did"](31,16384,null,0,xl,[],{required:[0,"required"]},null),i["\u0275prd"](1024,null,po,function(t){return[t]},[xl]),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](34,671744,null,0,Cl,[[3,co],[2,po],[8,null],[2,bo]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,ko,null,[Cl]),i["\u0275did"](36,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,vv)),i["\u0275did"](39,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](43,0,null,null,9,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](45,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](48,0,null,null,0,"input",[["autocomplete","off"],["class","form-control"],["id","redirect"],["placeholder","Url de redirection"],["required",""],["type","text"]],[[8,"id",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,bv)),i["\u0275did"](51,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n     \n\n\n\n\n\n\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n\n\n\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](58,0,null,null,67,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](60,0,null,null,17,"div",[["class","card-header white text-center b-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](62,0,null,null,1,"a",[["class","btn-fab btn-fab-md shadow teal lighten-1 text-white"],["title","Ajouter une image"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.triggerImage()&&i),i},null,null)),(t()(),i["\u0275eld"](63,0,null,null,0,"i",[["class","icon-image"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](65,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.triggerText()&&i),i},null,null)),(t()(),i["\u0275eld"](66,0,null,null,0,"i",[["class","icon-title"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](69,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("circle")&&i),i},null,null)),(t()(),i["\u0275eld"](70,0,null,null,0,"i",[["class","icon-circle-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](72,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("triangle")&&i),i},null,null)),(t()(),i["\u0275eld"](73,0,null,null,0,"i",[["class","icon-toggle-up"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](75,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("rectangle")&&i),i},null,null)),(t()(),i["\u0275eld"](76,0,null,null,0,"i",[["class","icon-border_horizontal"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](79,0,null,null,19,"div",[["class","card-body white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](81,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](83,0,null,null,13,"div",[["class","col-md-12"],["style","text-align: center;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](85,0,null,null,10,"div",[["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,wv)),i["\u0275did"](88,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275eld"](90,0,null,null,4,"div",[["class","canvas-container"],["placeholder","canvas"],["style","margin-left: -18px"]],null,[[null,"drop"],[null,"dragover"]],function(t,e,n){var i=!0,r=t.component;return"drop"===e&&(i=!1!==r.handleDropOnCanvas(n)&&i),"dragover"===e&&(i=!1!==r.handleDragOverCanvas(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](92,0,null,null,1,"canvas",[["id","canvas"]],null,null,null,null,null)),i["\u0275did"](93,278528,null,0,A,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n                "])),(t()(),i["\u0275eld"](100,0,null,null,24,"div",[["class","card-footer border-0 white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](102,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"],["title","Revenir \xe0 l'\xe9l\xe9ment pr\xe9c\xe9dent"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.sendToBack()&&i),i},null,null)),(t()(),i["\u0275eld"](103,0,null,null,0,"i",[["class","icon-undo2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](105,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"],["title","Aller \xe0 l'\xe9l\xe9ment suivant"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.bringToFront()&&i),i},null,null)),(t()(),i["\u0275eld"](106,0,null,null,0,"i",[["class","icon-redo"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,_v)),i["\u0275did"](109,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Cv)),i["\u0275did"](112,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](113,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275eld"](114,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](116,0,null,null,3,"button",[["class","btn btn-sm r-20 btn-social teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleImageModal()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](118,0,null,null,0,"i",[["class","icon-paper-plane"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Visualiser l'annonce\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                   "])),(t()(),i["\u0275eld"](121,0,null,null,2,"button",[["class","btn btn-danger btn-sm text-white r-20"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goBackFromCreatives()&&i),i},null,null)),(t()(),i["\u0275eld"](122,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Retour"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "]))],function(t,e){var n=e.component;t(e,18,0,n.adForm),t(e,31,0,""),t(e,34,0,"name"),t(e,39,0,n.formErrors.name),t(e,51,0,""!=n.url_errors),t(e,88,0,n.selected),t(e,93,0,n.canvas_style),t(e,109,0,n.selected),t(e,112,0,n.selected)},function(t,e){var n=e.component;t(e,11,0,n.selectedWidth,n.selectedHeight),t(e,16,0,i["\u0275nov"](e,20).ngClassUntouched,i["\u0275nov"](e,20).ngClassTouched,i["\u0275nov"](e,20).ngClassPristine,i["\u0275nov"](e,20).ngClassDirty,i["\u0275nov"](e,20).ngClassValid,i["\u0275nov"](e,20).ngClassInvalid,i["\u0275nov"](e,20).ngClassPending),t(e,29,0,n.idOfAdNameInitCreatives,i["\u0275nov"](e,31).required?"":null,i["\u0275nov"](e,36).ngClassUntouched,i["\u0275nov"](e,36).ngClassTouched,i["\u0275nov"](e,36).ngClassPristine,i["\u0275nov"](e,36).ngClassDirty,i["\u0275nov"](e,36).ngClassValid,i["\u0275nov"](e,36).ngClassInvalid,i["\u0275nov"](e,36).ngClassPending),t(e,48,0,n.idOfDisplayUrlInitCreatives)})}function Sv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,16,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,gv)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](5,0,null,null,7,"div",[["class","row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n     "])),(t()(),i["\u0275eld"](7,0,null,null,4,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,mv)),i["\u0275did"](10,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n     "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n     "])),(t()(),i["\u0275and"](16777216,null,null,1,null,xv)),i["\u0275did"](15,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "]))],function(t,e){var n=e.component;t(e,3,0,n.chooseAdSize),t(e,10,0,n.chooseBlock),t(e,15,0,n.handleCreateCanvas&&"0"===n.number_ads)},null)}function Ev(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          ","\n                        "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function Tv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                            "," ","\n                          "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function kv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Tv)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  \n                        "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function Av(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","btn shadow teal lighten-3 text-white r-20"],["title","modifier"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleCurrentEditor()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,n.iconEditor),t(e,2,0,n.text_modify)})}function Dv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","btn shadow teal lighten-3 text-white r-20"],["title","modifier"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleCurrentUploadBlock()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,n.iconEditor),t(e,2,0,n.text_modify)})}function Ov(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-sm btn-social btn-warning blink text-white r-20"],["style","font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.buildAd()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-pay-point text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Publier\n          "]))],null,null)}function Iv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          ","\n                        "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function Rv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                            "," ","\n                          "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function Pv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Rv)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  \n                        "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function Mv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning r-20 blink"],["data-toggle","control-sidebar"],["id","popper"],["style","float: left !important; height: 40px; margin-top: -35px; margin-left: -40px"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-settings2"],["title","options"]],null,null,null,null,null))],null,null)}function Nv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-success"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.clone()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-clone"]],null,null,null,null,null))],null,null)}function jv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-danger"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removeSelected()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-delete_forever"]],null,null,null,null,null))],null,null)}function Lv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,113,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](2,0,null,null,110,"div",[["class","card no-b white shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](4,0,null,null,4,"div",[["class","card-header teal darken-1 text-white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](10,0,null,null,93,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      \n                          "])),(t()(),i["\u0275eld"](12,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,14).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,14).onReset()&&r),r},null,null)),i["\u0275did"](13,16384,null,0,Tl,[],null,null),i["\u0275did"](14,4210688,null,0,sl,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,co,null,[sl]),i["\u0275did"](16,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](18,0,null,null,25,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](20,0,null,null,9,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](22,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](25,0,null,null,0,"input",[["class","form-control"],["placeholder","Nom"],["required",""],["type","text"]],[[8,"id",0],[8,"value",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Iv)),i["\u0275did"](28,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](32,0,null,null,10,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](34,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](37,0,null,null,0,"input",[["autocomplete","off"],["class","form-control"],["id","redirect"],["placeholder","Url de redirection"],["required",""],["type","text"]],[[8,"id",0],[8,"value",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Pv)),i["\u0275did"](40,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n                      "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n  \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                      \n                      "])),(t()(),i["\u0275eld"](46,0,null,null,56,"div",[["class","container"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](48,0,null,null,53,"div",[["class","card shadow no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                     "])),(t()(),i["\u0275eld"](50,0,null,null,17,"div",[["class","card-header white text-center b-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](52,0,null,null,1,"a",[["class","btn-fab btn-fab-md shadow teal lighten-1 text-white"],["title","Ajouter une image"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.triggerImage()&&i),i},null,null)),(t()(),i["\u0275eld"](53,0,null,null,0,"i",[["class","icon-image"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" \n                  "])),(t()(),i["\u0275eld"](55,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.triggerText()&&i),i},null,null)),(t()(),i["\u0275eld"](56,0,null,null,0,"i",[["class","icon-title"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](59,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("circle")&&i),i},null,null)),(t()(),i["\u0275eld"](60,0,null,null,0,"i",[["class","icon-circle-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](62,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("triangle")&&i),i},null,null)),(t()(),i["\u0275eld"](63,0,null,null,0,"i",[["class","icon-toggle-up"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](65,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("rectangle")&&i),i},null,null)),(t()(),i["\u0275eld"](66,0,null,null,0,"i",[["class","icon-border_horizontal"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](69,0,null,null,16,"div",[["class","card-body white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                 \n                  "])),(t()(),i["\u0275eld"](71,0,null,null,13,"div",[["class","col-sm-12"],["style","text-align: center;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](73,0,null,null,10,"div",[["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Mv)),i["\u0275did"](76,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275eld"](78,0,null,null,4,"div",[["class","canvas-container"],["placeholder","canvas"],["style","margin-left: -18px"]],null,[[null,"drop"],[null,"dragover"]],function(t,e,n){var i=!0,r=t.component;return"drop"===e&&(i=!1!==r.handleDropOnCanvas(n)&&i),"dragover"===e&&(i=!1!==r.handleDragOverCanvas(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](80,0,null,null,1,"canvas",[["id","canvas"]],null,null,null,null,null)),i["\u0275did"](81,278528,null,0,A,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                \n\n\n\n\n\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n                "])),(t()(),i["\u0275eld"](87,0,null,null,13,"div",[["class","card-footer border-0 white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](89,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"],["title","Revenir \xe0 l'\xe9l\xe9ment pr\xe9c\xe9dent"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.sendToBack()&&i),i},null,null)),(t()(),i["\u0275eld"](90,0,null,null,0,"i",[["class","icon-undo2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](92,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-1 text-white"],["title","Aller \xe0 l'\xe9l\xe9ment suivant"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.bringToFront()&&i),i},null,null)),(t()(),i["\u0275eld"](93,0,null,null,0,"i",[["class","icon-redo"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Nv)),i["\u0275did"](96,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,jv)),i["\u0275did"](99,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                  \n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](105,0,null,null,6,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](107,0,null,null,3,"button",[["class","btn btn-sm btn-social teal lighten-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleModifiedImage()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](109,0,null,null,0,"i",[["class","icon-paper-plane"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Visualiser\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                \n     \n\n              "]))],function(t,e){var n=e.component;t(e,28,0,n.formErrors.name),t(e,40,0,""!=n.url_errors),t(e,76,0,n.selected),t(e,81,0,n.canvas_style),t(e,96,0,n.selected),t(e,99,0,n.selected)},function(t,e){var n=e.component;t(e,12,0,i["\u0275nov"](e,16).ngClassUntouched,i["\u0275nov"](e,16).ngClassTouched,i["\u0275nov"](e,16).ngClassPristine,i["\u0275nov"](e,16).ngClassDirty,i["\u0275nov"](e,16).ngClassValid,i["\u0275nov"](e,16).ngClassInvalid,i["\u0275nov"](e,16).ngClassPending),t(e,25,0,n.idOfAdNameNotPublishCreatives,n.currentAdName),t(e,37,0,n.idOfDisplayUrlNotPublishCreatives,n.currentFinalUrls)})}function Fv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,89,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,86,"div",[["class","container-fluid text-center"],["style","margin-top: 15px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](4,0,null,null,80,"div",[["class","card mb-3 shadow no-b r-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](6,0,null,null,4,"div",[["class","card-header teal lighten-3 text-center text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](8,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Param\xe8tre annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](12,0,null,null,71,"div",[["class","card-body text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](14,0,null,null,68,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,16).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,16).onReset()&&r),r},null,null)),i["\u0275did"](15,16384,null,0,Tl,[],null,null),i["\u0275did"](16,4210688,null,0,sl,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,co,null,[sl]),i["\u0275did"](18,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](20,0,null,null,25,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](22,0,null,null,9,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](24,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](27,0,null,null,0,"input",[["class","form-control no-b teal lighten-3 text-white"],["placeholder","Nom"],["readonly",""],["type","text"]],[[8,"id",0],[8,"value",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ev)),i["\u0275did"](30,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](34,0,null,null,10,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](36,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](39,0,null,null,0,"input",[["autocomplete","off"],["class","form-control no-b teal lighten-3 text-white"],["id","redirect"],["placeholder","Url de redirection"],["readonly",""],["required",""],["type","text"]],[[8,"id",0],[8,"value",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,kv)),i["\u0275did"](42,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n                      "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n  \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](47,0,null,null,34,"div",[["class","row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](49,0,null,null,31,"div",[["class","col text-center"],["style","text-align: center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](51,0,null,null,28,"div",[["class","card no-b shadow"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](53,0,null,null,4,"div",[["class","card-header teal lighten-3 text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](55,0,null,null,1,"h6",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Image"])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](59,0,null,null,6,"div",[["class","card-body white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](61,0,null,null,3,"div",[["class","card-img no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](63,0,null,null,0,"img",[["class","img-responsive"]],[[8,"src",4]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](67,0,null,null,11,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Av)),i["\u0275did"](70,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Dv)),i["\u0275did"](73,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                           "])),(t()(),i["\u0275ted"](-1,null,["\n                               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ov)),i["\u0275did"](77,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n  \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Lv)),i["\u0275did"](87,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n              \n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "]))],function(t,e){var n=e.component;t(e,30,0,n.formErrors.name),t(e,42,0,""!=n.url_errors),t(e,70,0,"CREATIVE"===n.currentAdType),t(e,73,0,"UPLOAD"===n.currentAdType&&!n.isRoller),t(e,77,0,""==n.currentAdStatus),t(e,87,0,n.currentEditor&&""===n.currentAdStatus)},function(t,e){var n=e.component;t(e,14,0,i["\u0275nov"](e,18).ngClassUntouched,i["\u0275nov"](e,18).ngClassTouched,i["\u0275nov"](e,18).ngClassPristine,i["\u0275nov"](e,18).ngClassDirty,i["\u0275nov"](e,18).ngClassValid,i["\u0275nov"](e,18).ngClassInvalid,i["\u0275nov"](e,18).ngClassPending),t(e,27,0,n.idOfAdNameModify,n.currentAdName),t(e,39,0,n.idOfDisplayUrlModify,n.currentFinalUrls),t(e,63,0,n.currentImageUrl)})}function Vv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          ","\n                        "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function Bv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                            "," ","\n                          "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function Uv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Bv)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  \n                        "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function qv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"a",[["class","btn btn-sm teal lighten-3 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleModifyUploadImage()&&i),i},null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Modifier l'image"]))],null,null)}function Wv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          ","\n                        "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function Hv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                            "," ","\n                          "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function zv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Hv)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  \n                        "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function Gv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,35,"div",[["class","card-body text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,4).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,4).onReset()&&r),r},null,null)),i["\u0275did"](3,16384,null,0,Tl,[],null,null),i["\u0275did"](4,4210688,null,0,sl,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,co,null,[sl]),i["\u0275did"](6,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](8,0,null,null,25,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](10,0,null,null,9,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](12,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](15,0,null,null,0,"input",[["class","form-control"],["id","ad_name_modify"],["placeholder","Nom"],["required",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Wv)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](22,0,null,null,10,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](24,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](27,0,null,null,0,"input",[["autocomplete","off"],["class","form-control"],["id","finalUrlsmodify"],["placeholder","Url de redirection"],["required",""],["type","text"]],[[8,"value",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,zv)),i["\u0275did"](30,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n                      "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n  \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n\n                "]))],function(t,e){var n=e.component;t(e,18,0,n.formErrors.name),t(e,30,0,""!=n.url_errors)},function(t,e){var n=e.component;t(e,2,0,i["\u0275nov"](e,6).ngClassUntouched,i["\u0275nov"](e,6).ngClassTouched,i["\u0275nov"](e,6).ngClassPristine,i["\u0275nov"](e,6).ngClassDirty,i["\u0275nov"](e,6).ngClassValid,i["\u0275nov"](e,6).ngClassInvalid,i["\u0275nov"](e,6).ngClassPending),t(e,15,0,n.currentAdName),t(e,27,0,n.currentFinalUrls)})}function Yv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Xv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-sm btn-block btn-social teal lighten-3 text-white r-20 btn social"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateAdOnFirebase()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Enregistrer "]))],null,null)}function Kv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,19,"div",[["class","card mb-3 shadow no-b r-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","card-header teal lighten-3 text-center text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](4,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Gv)),i["\u0275did"](9,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Yv)),i["\u0275did"](12,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,0,null,null,4,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Xv)),i["\u0275did"](17,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "]))],function(t,e){var n=e.component;t(e,9,0,!n.isRoller),t(e,12,0,n.isRoller),t(e,17,0,!n.isRoller)},null)}function Qv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                        ","\n                      "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function Zv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          "," ","\n                        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function Jv(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Zv)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  \n                      "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function $v(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"tr",[["class","text-center white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            Aucun emplacement pour le moment\n                        "]))],null,null)}function ty(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                      \n                           "])),(t()(),i["\u0275eld"](5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,1,"a",[],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removePlacement(null==t.context.$implicit?null:t.context.$implicit.item_text,null==t.context.$implicit?null:t.context.$implicit.criterion_id)&&i),i},null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"i",[["class","icon-delete text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "]))],null,function(t,e){t(e,3,0,e.context.$implicit.item_text)})}function ey(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-sm shadow teal lighten-3 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleTogglePlacement()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-add_location"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xe9finir un emplacement"]))],null,null)}function ny(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-sm shadow teal lighten-3 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleTogglePlacement()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-edit_location"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier les emplacement"]))],null,null)}function iy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,51,"div",[["class","card no-b white shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","card-header no-b teal lighten-3 text-white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Sites webs o\xf9 les annonces de ce groupe seront affich\xe9es"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](8,0,null,null,33,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                     "])),(t()(),i["\u0275eld"](10,0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](12,0,null,null,27,"table",[["class","table table-hover mb-0 ps-container ps-theme-default"],["id","recent-orders"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](14,0,null,null,12,"thead",[["class","white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](16,0,null,null,9,"tr",[["class","text-center white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](18,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),i["\u0275eld"](19,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Sites webs"])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](22,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),i["\u0275eld"](23,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["supprimer le site"])),(t()(),i["\u0275ted"](-1,null,[" \n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](28,0,null,null,10,"tbody",[["class","white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,$v)),i["\u0275did"](31,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](33,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ty)),i["\u0275did"](36,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](43,0,null,null,7,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ey)),i["\u0275did"](46,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ny)),i["\u0275did"](49,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n              "]))],function(t,e){var n=e.component;t(e,31,0,""==n.placement),t(e,36,0,n.placement),t(e,46,0,""==n.placement),t(e,49,0,""!=n.placement)},null)}function ry(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](2,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["\n                      ","\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                  "]))],null,function(t,e){t(e,3,0,e.component.nationals_errors)})}function oy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,66,"div",[["class","card white no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" \n                  "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","card-header white no-b teal lighten-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,1,"span",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xe9finissez ici les sites o\xf9 les annonces de ce groupe seront affich\xe9es"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](8,0,null,null,46,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](10,0,null,null,43,"ul",[["class","sidebar-menu text-center"],["style","margin-top: 10px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](12,0,null,null,14,"li",[["class","treeview"]],null,null,null,null,null)),(t()(),i["\u0275eld"](13,0,null,null,4,"a",[],null,null,null,null,null)),(t()(),i["\u0275eld"](14,0,null,null,0,"i",[["class","icon icon-male indigo-text s-18"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](16,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Placement Sites Nationnaux"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](19,0,null,null,3,"ng-multiselect-dropdown",[["style","background-color: white"]],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,21).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onNationalsWebsitesSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onNationalsWebsitesSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onNationalsWebsitesDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onNationalsWebsitesDeSelectAll()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](21,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ry)),i["\u0275did"](25,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](28,0,null,null,11,"li",[["class","treeview"]],null,null,null,null,null)),(t()(),i["\u0275eld"](29,0,null,null,4,"a",[],null,null,null,null,null)),(t()(),i["\u0275eld"](30,0,null,null,0,"i",[["class","icon icon-male indigo-text s-18"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](32,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Placement Sites Internationnaux"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](35,0,null,null,3,"ng-multiselect-dropdown",[["style","background-color: white"]],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,37).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onInternationalsWebsitesSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onInternationalsWebsitesSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onInternationalsWebsitesDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onInternationalesWebsitesDeSelectAll()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](37,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](41,0,null,null,10,"li",[["class","treeview"]],null,null,null,null,null)),(t()(),i["\u0275eld"](42,0,null,null,3,"a",[],null,null,null,null,null)),(t()(),i["\u0275eld"](43,0,null,null,0,"i",[["class","icon icon-male indigo-text s-18"]],null,null,null,null,null)),(t()(),i["\u0275eld"](44,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Placement Sites d'annonces"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](47,0,null,null,3,"ng-multiselect-dropdown",[["style","background-color: white"]],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,49).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onAdsWebsitesSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onAdsWebsitesSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onAdsWebsitesDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onAdsWebsitesDeSelectAll()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](49,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                 \n               "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](56,0,null,null,9,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](58,0,null,null,2,"a",[["class","btn btn-sm shadow teal lighten-3 text-white r-20 btn-social"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.targetPlacement()&&i),i},null,null)),(t()(),i["\u0275eld"](59,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Cibler"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](62,0,null,null,2,"a",[["class","btn btn-sm btn-social shadow btn-danger text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeAddPlacement()&&i),i},null,null)),(t()(),i["\u0275eld"](63,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "]))],function(t,e){var n=e.component;t(e,21,0,"Sites Nationnaux",n.dropdownSettingsNationalsWebsites,n.dropdownListNationalsWebsites),t(e,25,0,""!=n.nationals_errors),t(e,37,0,"Sites Internationnaux",n.dropdownSettingsInternationalsWebsites,n.dropdownListInternationalsWebsites),t(e,49,0,"Sites annonces",n.dropdownSettingsAdsWebsites,n.dropdownListAdsWebsites)},null)}function ly(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            Aucune tranche d'\xe2ge cibl\xe9e\n                        "]))],null,null)}function ay(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                           \n                          "]))],null,function(t,e){t(e,3,0,e.context.$implicit.item_text)})}function sy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddCiblageAge()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-add_location"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ajouter une tranche d'\xe2ge"]))],null,null)}function uy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddCiblageAge()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-add_location"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier le ciblage"]))],null,null)}function cy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.targetAge()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ajouter"]))],null,null)}function hy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm btn-danger text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeAddCiblageAges()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Fermer"]))],null,null)}function dy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","card mt-3 mb-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      \n                "])),(t()(),i["\u0275eld"](2,0,null,null,9,"ul",[["class","no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](4,0,null,null,6,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](6,0,null,null,3,"ng-multiselect-dropdown",[["style","background-color: white"]],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,8).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onAgeSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onAgeSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onAgeDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onDeSelectAllAge()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](8,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](13,0,null,null,7,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,cy)),i["\u0275did"](16,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,hy)),i["\u0275did"](19,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "]))],function(t,e){var n=e.component;t(e,8,0,"\xc2ges",n.dropdownSettingsAges,n.dropdownListAges),t(e,16,0,n.isCiblageAge),t(e,19,0,n.isCiblageAge)},null)}function py(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            Aucun genre cibl\xe9\n                        "]))],null,null)}function fy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                           \n                          "]))],null,function(t,e){t(e,3,0,e.context.$implicit.item_text)})}function gy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddCiblageGenre()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Cibler un genre"]))],null,null)}function my(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddCiblageGenre()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier le ciblage"]))],null,null)}function vy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.targetGender()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ajouter"]))],null,null)}function yy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm btn-danger text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeAddCiblageGenre()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Fermer"]))],null,null)}function by(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","card mt-3 mb-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n           \n                "])),(t()(),i["\u0275eld"](2,0,null,null,9,"ul",[["class","no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](4,0,null,null,6,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](6,0,null,null,3,"ng-multiselect-dropdown",[["style","background-color: white"]],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,8).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onSexeSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onSexeSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onSexeDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onDeSelectAllSexe()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](8,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](13,0,null,null,7,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,vy)),i["\u0275did"](16,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,yy)),i["\u0275did"](19,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "]))],function(t,e){var n=e.component;t(e,8,0,"Genres",n.dropdownSettingsSexes,n.dropdownListSexes),t(e,16,0,n.isCiblageGenre),t(e,19,0,n.isCiblageGenre)},null)}function wy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"tr",[["class","text-center white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            Aucun appareil\n                        "]))],null,null)}function _y(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                           "])),(t()(),i["\u0275ted"](-1,null,["\n                          "]))],null,function(t,e){t(e,3,0,e.context.$implicit.item_text)})}function Cy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddCiblageDevices()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Cibler un appareil"]))],null,null)}function xy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openAddCiblageDevices()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier le ciblage"]))],null,null)}function Sy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm teal darken-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.targetDevices()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ajouter"]))],null,null)}function Ey(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-social shadow btn-sm btn-danger text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeAddCiblageDevices()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Fermer"]))],null,null)}function Ty(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","card mt-3 mb-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n           \n                "])),(t()(),i["\u0275eld"](2,0,null,null,9,"ul",[["class","no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](4,0,null,null,6,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](6,0,null,null,3,"ng-multiselect-dropdown",[["style","background-color: white"]],null,[[null,"onSelect"],[null,"onSelectAll"],[null,"onDeSelect"],[null,"onDeSelectAll"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"blur"===e&&(r=!1!==i["\u0275nov"](t,8).onTouched()&&r),"onSelect"===e&&(r=!1!==o.onDevicesSelect(n)&&r),"onSelectAll"===e&&(r=!1!==o.onDevicesSelectAll(n)&&r),"onDeSelect"===e&&(r=!1!==o.onDevicesDeSelect(n)&&r),"onDeSelectAll"===e&&(r=!1!==o.onDeSelectAllDevices()&&r),r},Vp,Ip)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[kp]),i["\u0275did"](8,49152,null,0,kp,[i.ChangeDetectorRef],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"}),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](13,0,null,null,7,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Sy)),i["\u0275did"](16,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ey)),i["\u0275did"](19,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "]))],function(t,e){var n=e.component;t(e,8,0,"Appareils",n.dropdownSettingsDevices,n.dropdownListDevices),t(e,16,0,n.isCiblageDevices),t(e,19,0,n.isCiblageDevices)},null)}function ky(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","col"],["style","cursor: pointer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-dark img-check"]],[[8,"id",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.checkAdType(t.context.$implicit.id,t.context.$implicit.width,t.context.$implicit.height,t.context.$implicit.img)&&i),i},null,null)),(t()(),i["\u0275ted"](3,null,["","x",""])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" ",""]))],null,function(t,e){t(e,2,0,e.context.$implicit.id),t(e,3,0,e.context.$implicit.width,e.context.$implicit.height),t(e,6,0,e.context.$implicit.name)})}function Ay(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","col"],["style","cursor: pointer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-dark img-check"]],[[8,"id",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.checkAdType(t.context.$implicit.id,t.context.$implicit.width,t.context.$implicit.height,t.context.$implicit.img)&&i),i},null,null)),(t()(),i["\u0275ted"](3,null,["","x",""])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" ",""]))],null,function(t,e){t(e,2,0,e.context.$implicit.id),t(e,3,0,e.context.$implicit.width,e.context.$implicit.height),t(e,6,0,e.context.$implicit.name)})}function Dy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,22,"div",[["class","card no-b shadow"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","card-header teal lighten-3 text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"h6",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Format annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](8,0,null,null,6,"div",[["class","card-body white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](10,0,null,null,3,"div",[["class","card-img no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](12,0,null,null,0,"img",[["class","img-responsive"]],[[8,"src",4]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](16,0,null,null,5,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](18,0,null,null,2,"button",[["class","btn btn-sm shadow teal lighten-3 text-white r-20 btn-social"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.chooseAdType()&&i),i},null,null)),(t()(),i["\u0275eld"](19,0,null,null,0,"i",[["class","icon-check"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["choisir"])),(t()(),i["\u0275ted"](-1,null,["\n                           \n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                        "]))],null,function(t,e){t(e,12,0,e.component.illustrationUrl)})}function Oy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,25,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](2,0,null,null,1,"div",[["class","card-header no-b white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        Type d'annonces\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](5,0,null,null,13,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        \t"])),(t()(),i["\u0275eld"](7,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\t\n\n\t\t\t"])),(t()(),i["\u0275and"](16777216,null,null,1,null,ky)),i["\u0275did"](10,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n             \n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](13,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\t\n\n\t\t"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ay)),i["\u0275did"](16,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n             \n    "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](20,0,null,null,4,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Dy)),i["\u0275did"](23,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n       \n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,10,0,n.AD_TYPES_1),t(e,16,0,n.AD_TYPES_2),t(e,23,0,n.illustration)},null)}function Iy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,30,"div",[["class","card no-b shadow"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n       "])),(t()(),i["\u0275eld"](2,0,null,null,5,"div",[["class","card-header teal lighten-3 text-white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](4,0,null,null,2,"h6",[["class","text-white"]],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,["Format: ","x",""])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](9,0,null,null,13,"div",[["class","card-body text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](11,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleUploadBanner()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](13,0,null,null,0,"i",[["class","icon-cloud_upload text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Charger une banni\xe8re\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](16,0,null,null,0,"hr",[["class","invisible"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](18,0,null,null,3,"a",[["class","btn btn-sm btn-social teal lighten-3 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleCreatives()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](20,0,null,null,0,"i",[["class","icon-creativity text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Construire une banni\xe8re\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                        \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](24,0,null,null,5,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](26,0,null,null,2,"button",[["class","btn btn-danger btn-sm text-white r-20"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goBackSelectSize()&&i),i},null,null)),(t()(),i["\u0275eld"](27,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Changer le format"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],null,function(t,e){var n=e.component;t(e,6,0,n.selectedWidth,n.selectedHeight)})}function Ry(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          ","\n                        "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function Py(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                            "," ","\n                          "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function My(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Py)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                        "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function Ny(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning r-20 blink"],["data-toggle","control-sidebar"],["id","popper"],["style","float: left !important; height: 40px; margin-top: -35px; margin-left: -40px"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-settings2"]],null,null,null,null,null))],null,null)}function jy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-success"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.clone()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-clone"]],null,null,null,null,null))],null,null)}function Ly(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow btn-danger"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removeSelected()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-delete_forever"]],null,null,null,null,null))],null,null)}function Fy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,126,"div",[["class","container-fluid text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      \n              "])),(t()(),i["\u0275eld"](2,0,null,null,54,"div",[["class","card mb-3 shadow no-b r-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](4,0,null,null,8,"div",[["class","card-header teal lighten-3 text-center text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](6,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Construire son annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](9,0,null,null,2,"span",[["style","float: right; font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](10,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](11,null,["Format: ","x",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,0,null,null,41,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](16,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,18).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,18).onReset()&&r),r},null,null)),i["\u0275did"](17,16384,null,0,Tl,[],null,null),i["\u0275did"](18,540672,null,0,yl,[[8,null],[8,null]],{form:[0,"form"]},null),i["\u0275prd"](2048,null,co,null,[yl]),i["\u0275did"](20,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](22,0,null,null,31,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](24,0,null,null,16,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](26,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](29,0,null,null,7,"input",[["class","form-control"],["formControlName","name"],["placeholder","Nom"],["required",""],["type","text"]],[[8,"id",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==i["\u0275nov"](t,30)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,30).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,30)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,30)._compositionEnd(n.target.value)&&r),r},null,null)),i["\u0275did"](30,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275did"](31,16384,null,0,xl,[],{required:[0,"required"]},null),i["\u0275prd"](1024,null,po,function(t){return[t]},[xl]),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](34,671744,null,0,Cl,[[3,co],[2,po],[8,null],[2,bo]],{name:[0,"name"]},null),i["\u0275prd"](2048,null,ko,null,[Cl]),i["\u0275did"](36,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ry)),i["\u0275did"](39,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](43,0,null,null,9,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](45,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](48,0,null,null,0,"input",[["autocomplete","off"],["class","form-control"],["id","redirect"],["placeholder","Url de redirection"],["required",""],["type","text"]],[[8,"id",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,My)),i["\u0275did"](51,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n     \n\n\n\n\n\n\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n\n\n\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](58,0,null,null,67,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](60,0,null,null,17,"div",[["class","card-header white text-center b-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](62,0,null,null,1,"a",[["class","btn-fab btn-fab-md shadow teal lighten-3 text-white"],["title","Ajouter une image"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.triggerImage()&&i),i},null,null)),(t()(),i["\u0275eld"](63,0,null,null,0,"i",[["class","icon-image"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](65,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-3 text-white"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.triggerText()&&i),i},null,null)),(t()(),i["\u0275eld"](66,0,null,null,0,"i",[["class","icon-title"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](69,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-3 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("circle")&&i),i},null,null)),(t()(),i["\u0275eld"](70,0,null,null,0,"i",[["class","icon-circle-o"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](72,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-3 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("triangle")&&i),i},null,null)),(t()(),i["\u0275eld"](73,0,null,null,0,"i",[["class","icon-toggle-up"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](75,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-3 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addFigure("rectangle")&&i),i},null,null)),(t()(),i["\u0275eld"](76,0,null,null,0,"i",[["class","icon-border_horizontal"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](79,0,null,null,19,"div",[["class","card-body white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](81,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](83,0,null,null,13,"div",[["class","col-md-12"],["style","text-align: center;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](85,0,null,null,10,"div",[["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ny)),i["\u0275did"](88,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                      "])),(t()(),i["\u0275eld"](90,0,null,null,4,"div",[["class","canvas-container"],["placeholder","canvas"],["style","margin-left: -18px"]],null,[[null,"drop"],[null,"dragover"]],function(t,e,n){var i=!0,r=t.component;return"drop"===e&&(i=!1!==r.handleDropOnCanvas(n)&&i),"dragover"===e&&(i=!1!==r.handleDragOverCanvas(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](92,0,null,null,1,"canvas",[["id","canvas"]],null,null,null,null,null)),i["\u0275did"](93,278528,null,0,A,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n\n\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n                "])),(t()(),i["\u0275eld"](100,0,null,null,24,"div",[["class","card-footer border-0 white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](102,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-3 text-white"],["title","Revenir \xe0 l'\xe9l\xe9ment pr\xe9c\xe9dent"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.sendToBack()&&i),i},null,null)),(t()(),i["\u0275eld"](103,0,null,null,0,"i",[["class","icon-undo2"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](105,0,null,null,1,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-3 text-white"],["title","Aller \xe0 l'\xe9l\xe9ment suivant"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.bringToFront()&&i),i},null,null)),(t()(),i["\u0275eld"](106,0,null,null,0,"i",[["class","icon-redo"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,jy)),i["\u0275did"](109,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ly)),i["\u0275did"](112,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](113,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275eld"](114,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](116,0,null,null,3,"button",[["class","btn btn-sm r-20 btn-social teal lighten-3 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleImageModal()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](118,0,null,null,0,"i",[["class","icon-paper-plane"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Visualiser l'annonce\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                   "])),(t()(),i["\u0275eld"](121,0,null,null,2,"button",[["class","btn btn-danger btn-sm text-white r-20"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goBackFromCreatives()&&i),i},null,null)),(t()(),i["\u0275eld"](122,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Retour"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "]))],function(t,e){var n=e.component;t(e,18,0,n.adForm),t(e,31,0,""),t(e,34,0,"name"),t(e,39,0,n.formErrors.name),t(e,51,0,""!=n.url_errors),t(e,88,0,n.selected),t(e,93,0,n.canvas_style),t(e,109,0,n.selected),t(e,112,0,n.selected)},function(t,e){var n=e.component;t(e,11,0,n.selectedWidth,n.selectedHeight),t(e,16,0,i["\u0275nov"](e,20).ngClassUntouched,i["\u0275nov"](e,20).ngClassTouched,i["\u0275nov"](e,20).ngClassPristine,i["\u0275nov"](e,20).ngClassDirty,i["\u0275nov"](e,20).ngClassValid,i["\u0275nov"](e,20).ngClassInvalid,i["\u0275nov"](e,20).ngClassPending),t(e,29,0,n.idOfAdNameCreateCreatives,i["\u0275nov"](e,31).required?"":null,i["\u0275nov"](e,36).ngClassUntouched,i["\u0275nov"](e,36).ngClassTouched,i["\u0275nov"](e,36).ngClassPristine,i["\u0275nov"](e,36).ngClassDirty,i["\u0275nov"](e,36).ngClassValid,i["\u0275nov"](e,36).ngClassInvalid,i["\u0275nov"](e,36).ngClassPending),t(e,48,0,n.idOfDisplayUrlCreateCreatives)})}function Vy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                        ","\n                      "]))],null,function(t,e){t(e,1,0,e.component.formErrors.name)})}function By(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n                          "," ","\n                        "]))],null,function(t,e){t(e,1,0,e.context.$implicit.url,e.context.$implicit.text)})}function Uy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,By)),i["\u0275did"](3,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  \n                      "]))],function(t,e){t(e,3,0,e.component.url_errors)},null)}function qy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](2,0,null,null,1,"app-spinner-overlay",[],null,null,null,Ql,Xl)),i["\u0275did"](3,114688,null,0,Yl,[],{message:[0,"message"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n  "]))],function(t,e){t(e,3,0,e.component.message)},null)}function Wy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"li",[["class","list-inline-item r-20"],["dnd-sortable",""]],null,[[null,"click"],[null,"onDropSuccess"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.selectLayer(t.context.$implicit)&&i),"onDropSuccess"===e&&(i=!1!==r.updateLayerSort()&&i),i},null,null)),i["\u0275did"](1,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{active:0}),i["\u0275did"](3,16384,null,0,Hg,[i.ElementRef,Lg,Ng,Wg,Bg,i.ChangeDetectorRef],{index:[0,"index"],draggable:[1,"draggable"]},{onDropSuccessCallback:"onDropSuccess"}),(t()(),i["\u0275eld"](4,0,null,null,3,"a",[["class","btn-fab btn-fab-sm shadow teal lighten-3 text-white"]],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,2,"i",[],null,null,null,null,null)),i["\u0275did"](6,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](7,{"text-muted":0}),(t()(),i["\u0275ted"](-1,null,["\n            "]))],function(t,e){var n=e.component;t(e,1,0,"list-inline-item r-20",t(e,2,0,e.context.$implicit.active)),t(e,3,0,n.layers.length-e.context.index-1,e.context.$implicit.selectable),t(e,6,0,i["\u0275inlineInterpolate"](1,"text-white ",n.elementTypes[e.context.$implicit.type].icon,""),t(e,7,0,!e.context.$implicit.active))},null)}function Hy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,17,"li",[["class","list-group-item d-flex align-items-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","icon icon-opacity purple-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](7,0,null,null,9,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](9,0,null,null,6,"input",[["class","range-slider form-control"],["style","width: 150px !important;"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,10)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,10).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,10)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,10)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==i["\u0275nov"](t,11).onChange(n.target.value)&&r),"input"===e&&(r=!1!==i["\u0275nov"](t,11).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,11).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.props.opacity=n)&&r),"change"===e&&(r=!1!==o.setOpacity()&&r),r},null,null)),i["\u0275did"](10,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275did"](11,16384,null,0,Oo,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,bo,function(t,e){return[t,e]},[Co,Oo]),i["\u0275did"](13,671744,null,0,gl,[[8,null],[8,null],[8,null],[2,bo]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,ko,null,[gl]),i["\u0275did"](15,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],function(t,e){t(e,13,0,e.component.props.opacity)},function(t,e){t(e,9,0,i["\u0275nov"](e,15).ngClassUntouched,i["\u0275nov"](e,15).ngClassTouched,i["\u0275nov"](e,15).ngClassPristine,i["\u0275nov"](e,15).ngClassDirty,i["\u0275nov"](e,15).ngClassValid,i["\u0275nov"](e,15).ngClassInvalid,i["\u0275nov"](e,15).ngClassPending)})}function zy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"li",[["class","list-group-item d-flex align-items-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon icon-palette text-blue"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n                  "])),(t()(),i["\u0275eld"](4,16777216,null,null,1,"input",[["class","form-control"],["style","width: 150px !important;"],["type","text"]],[[4,"background",null],[8,"value",0]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==i["\u0275nov"](t,5).handleClick(n)&&r),"focus"===e&&(r=!1!==i["\u0275nov"](t,5).handleFocus(n)&&r),"input"===e&&(r=!1!==i["\u0275nov"](t,5).handleInput(n)&&r),"colorPickerChange"===e&&(r=!1!==(o.props.fill=n)&&r),"colorPickerChange"===e&&(r=!1!==o.setFill()&&r),r},null,null)),i["\u0275did"](5,671744,null,0,em,[i.Injector,i.ComponentFactoryResolver,i.ApplicationRef,i.ViewContainerRef,i.ElementRef,$g],{colorPicker:[0,"colorPicker"],cpPosition:[1,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(t()(),i["\u0275ted"](-1,null,["\n\n\n                "]))],function(t,e){t(e,5,0,e.component.props.fill,"bottom")},function(t,e){var n=e.component;t(e,4,0,n.props.fill,n.props.fill)})}function Gy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,104,"li",[["class","list-group-item d-flex align-items-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","icon icon-format_size pink-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](7,0,null,null,96,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](9,0,null,null,93,"select",[["class","custom-select select2"],["required",""],["style","width: 150px !important;"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==i["\u0275nov"](t,10).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,10).onTouched()&&r),"ngModelChange"===e&&(r=!1!==(o.props.fontFamily=n)&&r),"change"===e&&(r=!1!==o.setFontFamily()&&r),r},null,null)),i["\u0275did"](10,16384,null,0,Ro,[i.Renderer2,i.ElementRef],null,null),i["\u0275did"](11,16384,null,0,xl,[],{required:[0,"required"]},null),i["\u0275prd"](1024,null,po,function(t){return[t]},[xl]),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Ro]),i["\u0275did"](14,671744,null,0,gl,[[8,null],[2,po],[8,null],[2,bo]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,ko,null,[gl]),i["\u0275did"](16,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](18,0,null,null,3,"option",[["value","arial"]],null,null,null,null,null)),i["\u0275did"](19,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](20,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Arial"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](23,0,null,null,3,"option",[["selected",""],["value","helvetica"]],null,null,null,null,null)),i["\u0275did"](24,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](25,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Helvetica"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](28,0,null,null,3,"option",[["value","verdana"]],null,null,null,null,null)),i["\u0275did"](29,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](30,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Verdana"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](33,0,null,null,3,"option",[["value","courier"]],null,null,null,null,null)),i["\u0275did"](34,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](35,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Courier"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](38,0,null,null,3,"option",[["value","Roboto"]],null,null,null,null,null)),i["\u0275did"](39,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](40,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Roboto"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](43,0,null,null,3,"option",[["value","Open Sans"]],null,null,null,null,null)),i["\u0275did"](44,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](45,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Open Sans"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](48,0,null,null,3,"option",[["value","Zilla Slab"]],null,null,null,null,null)),i["\u0275did"](49,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](50,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Zilla Slab"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](53,0,null,null,3,"option",[["value","Lato"]],null,null,null,null,null)),i["\u0275did"](54,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](55,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Lato"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](58,0,null,null,3,"option",[["value","Bellefair"]],null,null,null,null,null)),i["\u0275did"](59,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](60,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Bellefair"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](63,0,null,null,3,"option",[["value","Fresca"]],null,null,null,null,null)),i["\u0275did"](64,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](65,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Fresca"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](68,0,null,null,3,"option",[["value","Raleway"]],null,null,null,null,null)),i["\u0275did"](69,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](70,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Raleway"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](73,0,null,null,3,"option",[["value","Open Sans Condensed"]],null,null,null,null,null)),i["\u0275did"](74,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](75,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Open Sans Condensed"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](78,0,null,null,3,"option",[["value","Indie Flower"]],null,null,null,null,null)),i["\u0275did"](79,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](80,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Indie Flower"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](83,0,null,null,3,"option",[["value","Josefin Sans"]],null,null,null,null,null)),i["\u0275did"](84,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](85,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Josefin Sans"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](88,0,null,null,3,"option",[["value","Inconsolata"]],null,null,null,null,null)),i["\u0275did"](89,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](90,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Inconsolata"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](93,0,null,null,3,"option",[["value","Pacifico"]],null,null,null,null,null)),i["\u0275did"](94,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](95,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Pacifico"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](98,0,null,null,3,"option",[["value","Gloria Hallelujah"]],null,null,null,null,null)),i["\u0275did"](99,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](100,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](-1,null,["Gloria Hallelujah"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "]))],function(t,e){var n=e.component;t(e,11,0,""),t(e,14,0,n.props.fontFamily),t(e,19,0,"arial"),t(e,20,0,"arial"),t(e,24,0,"helvetica"),t(e,25,0,"helvetica"),t(e,29,0,"verdana"),t(e,30,0,"verdana"),t(e,34,0,"courier"),t(e,35,0,"courier"),t(e,39,0,"Roboto"),t(e,40,0,"Roboto"),t(e,44,0,"Open Sans"),t(e,45,0,"Open Sans"),t(e,49,0,"Zilla Slab"),t(e,50,0,"Zilla Slab"),t(e,54,0,"Lato"),t(e,55,0,"Lato"),t(e,59,0,"Bellefair"),t(e,60,0,"Bellefair"),t(e,64,0,"Fresca"),t(e,65,0,"Fresca"),t(e,69,0,"Raleway"),t(e,70,0,"Raleway"),t(e,74,0,"Open Sans Condensed"),t(e,75,0,"Open Sans Condensed"),t(e,79,0,"Indie Flower"),t(e,80,0,"Indie Flower"),t(e,84,0,"Josefin Sans"),t(e,85,0,"Josefin Sans"),t(e,89,0,"Inconsolata"),t(e,90,0,"Inconsolata"),t(e,94,0,"Pacifico"),t(e,95,0,"Pacifico"),t(e,99,0,"Gloria Hallelujah"),t(e,100,0,"Gloria Hallelujah")},function(t,e){t(e,9,0,i["\u0275nov"](e,11).required?"":null,i["\u0275nov"](e,16).ngClassUntouched,i["\u0275nov"](e,16).ngClassTouched,i["\u0275nov"](e,16).ngClassPristine,i["\u0275nov"](e,16).ngClassDirty,i["\u0275nov"](e,16).ngClassValid,i["\u0275nov"](e,16).ngClassInvalid,i["\u0275nov"](e,16).ngClassPending)})}function Yy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,31,"li",[["class","list-group-item d-flex align-items-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](2,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](4,0,null,null,0,"i",[["class","icon icon-line_style text-green"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](7,0,null,null,23,"div",[["style","display: flex; flex-direction: row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n                "])),(t()(),i["\u0275eld"](9,0,null,null,5,"li",[["class","list-inline-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](11,0,null,null,3,"a",[["class","btn-fab btn-fab-sm shadow btn-info"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.setFontStyle()&&i),i},null,null)),i["\u0275did"](12,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](13,{active:0}),(t()(),i["\u0275eld"](14,0,null,null,0,"i",[["class","icon-format_italic"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](16,0,null,null,6,"li",[["class","list-inline-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](18,0,null,null,3,"a",[["class","btn-fab btn-fab-sm shadow btn-info"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.setTextDecoration("underline")&&i),i},null,null)),i["\u0275did"](19,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](20,{active:0}),(t()(),i["\u0275eld"](21,0,null,null,0,"i",[["class","icon-underline"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](24,0,null,null,5,"li",[["class","list-inline-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](26,0,null,null,3,"a",[["class","btn-fab btn-fab-sm shadow btn-info"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.setBold()&&i),i},null,null)),i["\u0275did"](27,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](28,{active:0}),(t()(),i["\u0275eld"](29,0,null,null,0,"i",[["class","icon-bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "]))],function(t,e){var n=e.component;t(e,12,0,"btn-fab btn-fab-sm shadow btn-info",t(e,13,0,n.props.fontStyle)),t(e,19,0,"btn-fab btn-fab-sm shadow btn-info",t(e,20,0,n.hasTextDecoration("underline"))),t(e,27,0,"btn-fab btn-fab-sm shadow btn-info",t(e,28,0,n.props.fontWeight))},null)}function Xy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"img",[["class","images-item-upload"],["id","testImage"]],[[8,"src",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.addImageOnCanvas(r.url)&&i),i},null,null))],null,function(t,e){t(e,0,0,e.component.url)})}function Ky(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-danger text-white btn-sm r-20"],["data-dismiss","modal"],["id","button_close_ad"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Fermer"]))],null,null)}function Qy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn teal darken-1 text-white btn-sm btn-social r-20"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.saveAdOnFirebase()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Sauvegarder"]))],null,null)}function Zy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Jy(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-danger btn-sm text-white r-20 btn-social"],["data-dismiss","modal"],["id","closeModalViewModified"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-arrow_back"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Revenir"]))],null,null)}function $y(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"button",[["class","btn teal lighten-3 text-white btn-sm r-20 btn-social"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateAdOnFirebase()&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"i",[["class","icon-send"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Enregistrer"]))],null,null)}function tb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function eb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-lg btn-block btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handlePlaceBudgetFromSolde()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-payment text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Placement depuis mon solde \n          "]))],null,null)}function nb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-lg btn-block btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleAccountRechargement()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-payment text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Recharger mon compte d'abord\n          "]))],null,null)}function ib(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-lg btn-block btn-social teal lighten-3 text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleBudgetPlacement()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-pay-point text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Placer directement un budget\n          "]))],null,null)}function rb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","btn btn-lg btn-block btn-social btn-warning blink text-white r-20"],["style","width: 250px; font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.buildAd()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","icon-pay-point text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Publier l'annonce\n          "]))],null,null)}function ob(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","col-md-12"],["id","dateBlock"],["style","margin: auto"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](2,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](4,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,["Date de d\xe9but: ",""])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](8,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](9,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](10,null,["Date de fin: ",""])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](13,0,null,null,6,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](14,null,["\n                                  Cette campagne dure "," jours\n                                    "])),(t()(),i["\u0275eld"](15,0,null,null,3,"a",[["class","btn btn-sm teal darken-3  text-white r-20 btn-social"],["style","font-size: 12px"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.OpenModifyDateCampaign()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,[" \n                                      "])),(t()(),i["\u0275eld"](17,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier les dates\n  \n                                    "])),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n                    "]))],null,function(t,e){var n=e.component;t(e,6,0,n.startDateFrench),t(e,10,0,n.endDateFrench),t(e,14,0,n.dure_campagne)})}function lb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function ab(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,41,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](2,0,null,null,38,"div",[["style","display: inline-block; margin: auto"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](4,0,null,null,35,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](6,0,null,null,12,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"i",[["class","icon icon-hourglass-start text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Date de d\xe9but"])),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](11,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](12,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](14,16777216,null,null,3,"ejs-datepicker",[["id","datepicker"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onStartDateChange(n)&&i),i},Sp,xp)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[lp]),i["\u0275did"](16,6537216,null,0,lp,[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector],{max:[0,"max"],min:[1,"min"]},{change:"change"}),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](20,0,null,null,11,"li",[["class","list-group-item"]],null,null,null,null,null)),(t()(),i["\u0275eld"](21,0,null,null,0,"i",[["class","icon icon-hourglass-end text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](22,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Date de fin"])),(t()(),i["\u0275eld"](24,0,null,null,1,"strong",[["class","s-12 text-info"],["style","float: left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](25,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](27,16777216,null,null,3,"ejs-datepicker",[["id","datepicker"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onEndDateChange(n)&&i),i},Sp,xp)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[lp]),i["\u0275did"](29,6537216,null,0,lp,[i.ElementRef,i.Renderer2,i.ViewContainerRef,i.Injector],{max:[0,"max"],min:[1,"min"]},{change:"change"}),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-sm teal lighten-3 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateCampaignDate()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Appliquer"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](37,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseUpdateCampaignDate()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n\n        "]))],function(t,e){var n=e.component;t(e,16,0,n.maxDate,n.minDate),t(e,29,0,n.maxDate,n.minDate)},function(t,e){var n=e.component;t(e,12,0,n.startDateFrench),t(e,25,0,n.endDateFrench)})}function sb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center bg-grey shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,["Budget plac\xe9: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](8,null,["Frais de service: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,function(t,e){var n=e.component;t(e,4,0,n.budget_to_place),t(e,8,0,n.my_gain)})}function ub(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"span",[["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Avec ce budget vos annonces contenues dans cette campagne peuvent \xeatre affich\xe9es jusqu'\xe0 "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","text-success"],["style","font-size: 14px; font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,[" fois"]))],null,function(t,e){t(e,3,0,e.component.number_of_impressions_simulated)})}function cb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,27,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,24,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: Seul 80% du montant seront plac\xe9s les 20% pour les frais de service"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control grey lighten-4"],["id","montant"],["min","10000"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 10000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleSimulatedImpressionsCount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 10000\n              FCA"])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275and"](16777216,null,null,1,null,sb)),i["\u0275did"](13,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](15,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                \n                                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ub)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](21,0,null,null,1,"button",[["class","btn btn-sm teal lighten-3 text-white btn-social r-20"],["id","budgetSet"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineBudget()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Placer le budget"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](24,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseBudgetOperation()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){var n=e.component;t(e,13,0,0!=n.budget_to_place&&0!=n.my_gain),t(e,18,0,0!=n.number_of_impressions_simulated)},null)}function hb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function db(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,18,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: Cette op\xe9ration vous permettra dans la suite d'\xe9viter les paiments pour d\xe9marrer une nouvelle campagne"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control"],["id","montant"],["min","10000"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 20 000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleIfValide()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 20 000\n              FCA"])),(t()(),i["\u0275ted"](-1,null,["\n              \n               "])),(t()(),i["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-sm teal lighten-3 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineAmountAccountBeforeBudget()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Recharger mon compte"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.CloseRechargeAccountOperation()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"])),(t()(),i["\u0275ted"](-1,null,["\n\n                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,hb)),i["\u0275did"](19,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){t(e,19,0,e.component.isRoller)},null)}function pb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","d-flex justify-content-between align-items-center bg-grey shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,["Budget plac\xe9: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                    "])),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,1,"span",[["class","text-white"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](8,null,["Frais de service: "," CFA"])),(t()(),i["\u0275ted"](-1,null,["\n                                "]))],null,function(t,e){var n=e.component;t(e,4,0,n.budget_to_place),t(e,8,0,n.my_gain)})}function fb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"span",[["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Avec ce budget vos annonces contenues dans cette campagne peuvent \xeatre affich\xe9es jusqu'\xe0 "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","text-success"],["style","font-size: 14px; font-weight: bold"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275ted"](-1,null,[" fois"]))],null,function(t,e){t(e,3,0,e.component.number_of_impressions_simulated)})}function gb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-sm teal lighten-3 text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineBudgetFromAccount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Placer mon budget"]))],null,null)}function mb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-sm bg-danger text-white btn-social r-20"],["style","height: 30px; display: inline-block; margin-top: 30px"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.ClosePlaceBudgetFromAccountValue()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Annuler"]))],null,null)}function vb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,0,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function yb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,30,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](2,0,null,null,27,"div",[["class","col-md-12 mb-3 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            \n            "])),(t()(),i["\u0275eld"](4,0,null,null,1,"small",[["class","text-success"],["style","font-size: 12px; margin-top: -5px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["NB: La valeur du budget doit \xeatre disponible dans votre compte et sup\xe9rieur ou \xe9gale \xe0 10 000 FCFA"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](7,0,null,null,0,"input",[["class","form-control"],["id","montant"],["placeholder","Montant sup\xe9rieur ou \xe9gal \xe0 10 000 FCA"],["required",""],["type","number"]],null,[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleIfBudgetToPlaceFromAccountIsValid()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](9,0,null,null,1,"small",[["class","text-danger"],["id","error_recharge"],["style","font-size: 12px; display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["La valeur du budget invalide"])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,pb)),i["\u0275did"](13,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                "])),(t()(),i["\u0275eld"](15,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                \n                                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,fb)),i["\u0275did"](18,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                                  \n                                "])),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,gb)),i["\u0275did"](22,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,mb)),i["\u0275did"](25,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,vb)),i["\u0275did"](28,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          \n\n        "]))],function(t,e){var n=e.component;t(e,13,0,0!=n.budget_to_place&&0!=n.my_gain),t(e,18,0,0!=n.number_of_impressions_simulated),t(e,22,0,!n.isRoller),t(e,25,0,!n.isRoller),t(e,28,0,n.isRoller)},null)}function bb(t){return i["\u0275vid"](0,[i["\u0275pid"](0,N,[]),(t()(),i["\u0275eld"](1,0,null,null,983,"div",[["id","app"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](7,0,null,null,728,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](9,0,null,null,114,"div",[["class","sticky"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](12,0,null,null,110,"div",[["class","navbar navbar-expand d-flex justify-content-between bd-navbar teal darken-1 shadow"],["style","height: 60px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](14,0,null,null,10,"div",[["class","relative"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](16,0,null,null,7,"div",[["class","d-flex"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](18,0,null,null,4,"div",[["class","d-none d-md-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](20,0,null,null,1,"h1",[["class","nav-title text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Adafri"])),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](27,0,null,null,94,"div",[["class","navbar-custom-menu"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](29,0,null,null,91,"ul",[["class","nav navbar-nav"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](33,0,null,null,6,"li",[["style","margin-top: 3px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](35,0,null,null,3,"a",[["class","nav-link text-white"],["style","font-size: 12px"],["title","Argent disponible dans votre compte"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](37,0,null,null,0,"i",[["class","icon-money-bag text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](38,null,[" "," CFA\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](41,0,null,null,36,"li",[["class","dropdown custom-dropdown notifications-menu"],["style","margin-top: 5px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](43,0,null,null,6,"a",[["aria-expanded","false"],["class"," nav-link"],["data-toggle","dropdown"],["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](45,0,null,null,0,"i",[["class","icon-notifications_none text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](47,0,null,null,1,"span",[["class","badge badge-danger badge-mini rounded-circle"]],null,null,null,null,null)),(t()(),i["\u0275ted"](48,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](51,0,null,null,25,"ul",[["class","dropdown-menu dropdown-menu-right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](53,0,null,null,1,"li",[["class","header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](54,null,["Vous avez "," notification(s)"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](56,0,null,null,15,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](59,0,null,null,11,"ul",[["class","menu"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](61,0,null,null,7,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Xm)),i["\u0275did"](64,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Km)),i["\u0275did"](67,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](73,0,null,null,2,"li",[["class","footer p-2 text-center"]],null,null,null,null,null)),(t()(),i["\u0275eld"](74,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["View all"])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](81,0,null,null,38,"li",[["class","dropdown custom-dropdown user user-menu "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](83,0,null,null,6,"a",[["class","nav-link text-white"],["data-toggle","dropdown"],["href","#"],["style","font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275eld"](85,0,null,null,1,"span",[["style","font-size: 12px"]],[[8,"className",0]],null,null,null,null)),i["\u0275ppd"](86,1),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](88,0,null,null,0,"i",[["class","icon-more_vert"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](91,0,null,null,27,"div",[["class","dropdown-menu p-4 dropdown-menu-right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](93,0,null,null,24,"div",[["class","row box justify-content-between my-4"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](95,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](96,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](98,0,null,null,9,"div",[["class","col"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](100,0,null,null,6,"a",[],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.auth.signOut()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](102,0,null,null,0,"i",[["class","icon-apps purple lighten-2 avatar  r-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](104,0,null,null,1,"div",[["class","pt-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xe9connexion"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](109,0,null,null,7,"div",[["class","col"]],null,null,null,null,null)),(t()(),i["\u0275eld"](110,0,null,null,6,"a",[["href","#"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](112,0,null,null,0,"i",[["class","icon-beach_access pink lighten-1 avatar  r-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](114,0,null,null,1,"div",[["class","pt-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Profile"])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    \n    "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](126,0,null,null,71,"header",[["class","white pt-3 relative shadow bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](128,0,null,null,68,"div",[["class","container-fluid text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](130,0,null,null,31,"div",[["class","row p-t-b-10 "]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](132,0,null,null,28,"div",[["class","col"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](134,0,null,null,25,"div",[["class","card r-3 teal lighten-3 no-b shadow"],["style","margin-top: 10px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](136,0,null,null,22,"div",[["class","p-4"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](138,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](141,0,null,null,0,"img",[["class","img-responsive"],["src","assets/img/images/groupe d'annonces.png"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](144,0,null,null,1,"div",[["class","sc-counter mt-3 text-white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Param\xe8tre groupe d'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](147,0,null,null,1,"div",[["class","counter-title text-white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](148,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](150,0,null,null,7,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Qm)),i["\u0275did"](153,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Zm)),i["\u0275did"](156,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275eld"](163,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](165,0,null,null,29,"ul",[["class","nav nav-material responsive-tab"],["id","v-pills-tab"],["role","tablist"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](167,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](169,0,null,null,3,"a",[["aria-controls","v-pills-tab1"],["class","nav-link active"],["data-toggle","pill"],["href","#v-pills-tab1"],["id","v-pills-tab1-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](171,0,null,null,0,"i",[["class","icon icon-view_list"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Liste des annonces \n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](175,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](177,0,null,null,2,"a",[["aria-controls","v-pills-placement"],["aria-selected","false"],["class","nav-link"],["data-toggle","pill"],["href","#v-pills-placement"],["id","v-pills-placement-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275eld"](178,0,null,null,0,"i",[["class","icon icon-placeholder"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Emplacement"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](182,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](184,0,null,null,2,"a",[["aria-controls","v-pills-ciblage-ads"],["aria-selected","false"],["class","nav-link"],["data-toggle","pill"],["href","#v-pills-ciblage-ads"],["id","v-pills-ciblage-ads-tab"],["role","tab"],["style","color: #009688"]],null,null,null,null,null)),(t()(),i["\u0275eld"](185,0,null,null,0,"i",[["class","icon icon-target"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Ciblage"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](189,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Jm)),i["\u0275did"](192,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](199,0,null,null,534,"div",[["class","container-fluid animatedParent animateOnce my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](201,0,null,null,531,"div",[["class",""]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](203,0,null,null,528,"div",[["class","tab-content"],["id","v-pills-tabContent"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](205,0,null,null,194,"div",[["aria-labelledby","v-pills-home-tab"],["class","tab-pane fade show active"],["id","v-pills-tab1"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n     \n\n          "])),(t()(),i["\u0275eld"](207,0,null,null,7,"ul",[["class","sidebar-menu teal lighten-3 text-white shadow text-center"],["style","margin-top: 10px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](209,0,null,null,3,"li",[["class","treeview text-center"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,$m)),i["\u0275did"](211,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275ted"](-1,null,["        \n  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,cv)),i["\u0275did"](217,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,hv)),i["\u0275did"](220,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Sv)),i["\u0275did"](223,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Fv)),i["\u0275did"](226,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](228,0,null,null,81,"div",[["class","card no-b shadow"],["id","blockUploadModified"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](230,0,null,null,4,"div",[["class","card-header no-b white teal lighten-3 text-center text-white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](232,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Modifier l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](236,0,null,null,64,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275eld"](238,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,240).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,240).onReset()&&r),r},null,null)),i["\u0275did"](239,16384,null,0,Tl,[],null,null),i["\u0275did"](240,4210688,null,0,sl,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,co,null,[sl]),i["\u0275did"](242,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n\n                    "])),(t()(),i["\u0275eld"](244,0,null,null,25,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](246,0,null,null,9,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](248,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](251,0,null,null,0,"input",[["class","form-control"],["placeholder","Nom"],["required",""],["type","text"]],[[8,"id",0],[8,"value",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Vv)),i["\u0275did"](254,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](258,0,null,null,10,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](260,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](263,0,null,null,0,"input",[["autocomplete","off"],["class","form-control"],["id","redirect"],["placeholder","Url de redirection"],["required",""],["type","text"]],[[8,"id",0],[8,"value",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Uv)),i["\u0275did"](266,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n                      "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n  \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,qv)),i["\u0275did"](273,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](275,0,null,null,24,"div",[["class","card no-b shadow"],["id","button_modify_image_upload"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                       \n                          "])),(t()(),i["\u0275eld"](277,0,null,null,0,"div",[["class","b-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](279,0,null,null,0,"input",[["hidden",""],["id","file"],["name","file"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](281,0,null,null,10,"div",[["class","dropzone dropzone-file-area p-3 m-3 bg-light"],["id","fileUpload"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275eld"](283,0,null,null,7,"div",[["class","dz-default dz-message"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275eld"](285,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Glisser ici une image "])),(t()(),i["\u0275ted"](-1,null,["\n                                  "])),(t()(),i["\u0275eld"](288,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Vous pouvez aussi cliquer pour choisir une image"])),(t()(),i["\u0275ted"](-1,null,["\n                              "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](293,0,null,null,5,"div",[["class","card-footer white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](295,0,null,null,2,"a",[["class","btn btn-sm btn-danger text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeModifyUploadImage()&&i),i},null,null)),(t()(),i["\u0275eld"](296,0,null,null,0,"i",[["class","icon-close"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ne pas modifier l'image"])),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275ted"](-1,null,["\n                         \n      \n                     \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](302,0,null,null,6,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              \n                            "])),(t()(),i["\u0275eld"](304,0,null,null,3,"button",[["class","btn btn-sm r-20 btn-social teal lighten-1 text-white r-20"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleModifiedImage()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275eld"](306,0,null,null,0,"i",[["class","icon-paper-plane"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Visualiser\n               "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n                 \n              "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](311,0,null,null,87,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n               "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Kv)),i["\u0275did"](314,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](316,0,null,null,81,"div",[["class","col-md-12 text-center"],["id","block"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](318,0,null,null,47,"div",[["class","card mb-3 shadow no-b r-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](320,0,null,null,8,"div",[["class","card-header teal lighten-3 text-center text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](322,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Construire son annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](325,0,null,null,2,"span",[["style","float: right; font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](326,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](327,null,["Format: ","x",""])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](330,0,null,null,34,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](332,0,null,null,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,334).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,334).onReset()&&r),r},null,null)),i["\u0275did"](333,16384,null,0,Tl,[],null,null),i["\u0275did"](334,4210688,null,0,sl,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,co,null,[sl]),i["\u0275did"](336,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](338,0,null,null,24,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](340,0,null,null,9,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](342,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](345,0,null,null,0,"input",[["class","form-control"],["placeholder","Nom"],["required",""],["type","text"]],[[8,"id",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Qv)),i["\u0275did"](348,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](352,0,null,null,9,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](354,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](357,0,null,null,0,"input",[["autocomplete","off"],["class","form-control"],["id","redirect"],["placeholder","Url de redirection"],["required",""],["type","text"]],[[8,"id",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Jv)),i["\u0275did"](360,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n   \n  \n  \n  \n  \n  \n  \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n  \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n  \n                "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275eld"](367,0,null,null,29,"div",[["class","card b-0 r-0 shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      \n                         "])),(t()(),i["\u0275eld"](369,0,null,null,0,"div",[["class","b-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](371,0,null,null,0,"input",[["hidden",""],["id","file"],["name","file"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](373,0,null,null,10,"div",[["class","dropzone dropzone-file-area p-3 m-3 bg-light"],["id","fileUpload"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275eld"](375,0,null,null,7,"div",[["class","dz-default dz-message"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                 "])),(t()(),i["\u0275eld"](377,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Glisser ici une image "])),(t()(),i["\u0275ted"](-1,null,["\n                                 "])),(t()(),i["\u0275eld"](380,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Vous pouvez aussi cliquer pour choisir une image"])),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](385,0,null,null,10,"div",[["class","card-footer white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  \n                             "])),(t()(),i["\u0275eld"](387,0,null,null,3,"button",[["class","btn btn-sm r-20 btn-social teal lighten-1 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleImageUploadModal()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](389,0,null,null,0,"i",[["class","icon-paper-plane"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Visualiser\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275eld"](392,0,null,null,2,"button",[["class","btn btn-danger btn-sm text-white r-20"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goBackFromUpload()&&i),i},null,null)),(t()(),i["\u0275eld"](393,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Retour"])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275ted"](-1,null,["\n  \n                    \n                 "])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](401,0,null,null,8,"div",[["aria-labelledby","v-pills-add-ad-tab"],["class","tab-pane fade"],["id","v-pills-placement"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,iy)),i["\u0275did"](405,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n            \n\n              "])),(t()(),i["\u0275and"](16777216,null,null,1,null,oy)),i["\u0275did"](408,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n            \n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](411,0,null,null,215,"div",[["aria-labelledby","v-pills-add-ad-tab"],["class","tab-pane fade"],["id","v-pills-ciblage-ads"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n   "])),(t()(),i["\u0275eld"](413,0,null,null,212,"ul",[["class","timeline"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n     "])),(t()(),i["\u0275eld"](415,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n       "])),(t()(),i["\u0275eld"](417,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Tous les ciblages qui seront fait ici concerneront uniquement les annonces de ce groupe"])),(t()(),i["\u0275ted"](-1,null,["\n     "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](421,0,null,null,4,"li",[["class","time-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](423,0,null,null,1,"span",[["class","badge badge-warning r-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  Liste de vos types de ciblage\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](427,0,null,null,64,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](429,0,null,null,3,"a",[["aria-controls","collapseAge"],["aria-expanded","false"],["class","btn btn-sm btn-block btn-social teal lighten-3 text-white r-20"],["data-toggle","collapse"],["href","#collapseAge"],["role","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](431,0,null,null,0,"i",[["class","ion icon-group"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ciblage des \xe2ges\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](434,0,null,null,56,"div",[["class","collapse"],["id","collapseAge"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](436,0,null,null,53,"div",[["class","card no-b shadow timeline-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](438,0,null,null,5,"div",[["class","card-header white b-0 p-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](441,0,null,null,1,"small",[["class","card-subtitle mb-2 text-muted"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Visualiser ici vos tranches d'\xe2ges cibl\xe9es."])),(t()(),i["\u0275ted"](-1,null,["\n                \n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](445,0,null,null,43,"div",[["class","collapse show"],["id","invoiceCard"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](447,0,null,null,28,"div",[["class","card-body p-0 no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](449,0,null,null,25,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](451,0,null,null,22,"table",[["class","table table-hover mb-0 ps-container ps-theme-default"],["id","recent-orders"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](453,0,null,null,7,"thead",[["class","bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](455,0,null,null,4,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](457,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xc2ges cibl\xe9s"])),(t()(),i["\u0275ted"](-1,null,["\n                         \n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](462,0,null,null,10,"tbody",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ly)),i["\u0275did"](465,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](467,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ay)),i["\u0275did"](470,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](477,0,null,null,10,"div",[["class","card-footer white no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                     "])),(t()(),i["\u0275and"](16777216,null,null,1,null,sy)),i["\u0275did"](480,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                   "])),(t()(),i["\u0275and"](16777216,null,null,1,null,uy)),i["\u0275did"](483,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        \n                                 "])),(t()(),i["\u0275and"](16777216,null,null,1,null,dy)),i["\u0275did"](486,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n             \n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n               "])),(t()(),i["\u0275eld"](492,0,null,null,64,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](494,0,null,null,3,"a",[["aria-controls","collapseGenre"],["aria-expanded","false"],["class","btn btn-sm btn-block btn-social teal lighten-3 text-white r-20"],["data-toggle","collapse"],["href","#collapseGenre"],["role","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](496,0,null,null,0,"i",[["class","ion icon-intersex"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ciblage des genres\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](499,0,null,null,56,"div",[["class","collapse"],["id","collapseGenre"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](501,0,null,null,53,"div",[["class","card no-b shadow timeline-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](503,0,null,null,5,"div",[["class","card-header white b-0 p-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](506,0,null,null,1,"small",[["class","card-subtitle mb-2 text-muted"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Visualiser ici vos genres cibl\xe9s."])),(t()(),i["\u0275ted"](-1,null,["\n                \n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](510,0,null,null,43,"div",[["class","collapse show"],["id","invoiceCard"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](512,0,null,null,28,"div",[["class","card-body p-0 no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](514,0,null,null,25,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](516,0,null,null,22,"table",[["class","table table-hover mb-0 ps-container ps-theme-default"],["id","recent-orders"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](518,0,null,null,7,"thead",[["class","bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](520,0,null,null,4,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](522,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Genres cibl\xe9s"])),(t()(),i["\u0275ted"](-1,null,[" \n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](527,0,null,null,10,"tbody",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,py)),i["\u0275did"](530,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](532,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,fy)),i["\u0275did"](535,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275eld"](542,0,null,null,10,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,gy)),i["\u0275did"](545,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,my)),i["\u0275did"](548,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                     "])),(t()(),i["\u0275and"](16777216,null,null,1,null,by)),i["\u0275did"](551,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n             \n              "])),(t()(),i["\u0275eld"](558,0,null,null,66,"li",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](560,0,null,null,3,"a",[["aria-controls","collapseAppareil"],["aria-expanded","false"],["class","btn btn-sm btn-block btn-social teal lighten-3 text-white r-20"],["data-toggle","collapse"],["href","#collapseAppareil"],["role","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275eld"](562,0,null,null,0,"i",[["class","icon icon-devices_other"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Ciblage d'appareils\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](565,0,null,null,58,"div",[["class","collapse"],["id","collapseAppareil"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" \n                           "])),(t()(),i["\u0275eld"](567,0,null,null,55,"div",[["class","card no-b shadow timeline-item"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](569,0,null,null,5,"div",[["class","card-header white b-0 p-3 text-center no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](572,0,null,null,1,"small",[["class","card-subtitle mb-2 text-muted"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Visualiser ici vos appareils cibl\xe9es"])),(t()(),i["\u0275ted"](-1,null,["\n                \n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](576,0,null,null,45,"div",[["class","collapse show"],["id","invoiceCard"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](578,0,null,null,30,"div",[["class","card-body p-0 no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](580,0,null,null,27,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](582,0,null,null,24,"table",[["class","table table-hover mb-0 ps-container ps-theme-default"],["id","recent-orders"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](584,0,null,null,9,"thead",[["class","white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](586,0,null,null,6,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](588,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),i["\u0275eld"](589,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Appareils"])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](595,0,null,null,10,"tbody",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,wy)),i["\u0275did"](598,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](600,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,_y)),i["\u0275did"](603,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                        "])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                            "])),(t()(),i["\u0275eld"](610,0,null,null,10,"div",[["class","card-footer text-center white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Cy)),i["\u0275did"](613,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,xy)),i["\u0275did"](616,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                     "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ty)),i["\u0275did"](619,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n           \n        "])),(t()(),i["\u0275ted"](-1,null,["\n\n        \n        \n        \n        \n        "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](628,0,null,null,102,"div",[["aria-labelledby","v-pills-add-ad-tab"],["class","tab-pane fade"],["id","v-pills-add-ad"],["role","tabpanel"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Oy)),i["\u0275did"](631,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](633,0,null,null,7,"div",[["class","row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n     "])),(t()(),i["\u0275eld"](635,0,null,null,4,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Iy)),i["\u0275did"](638,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n     "])),(t()(),i["\u0275ted"](-1,null,["\n     \n"])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n     "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Fy)),i["\u0275did"](643,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275eld"](645,0,null,null,84,"div",[["class","row"],["id","block1"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n "])),(t()(),i["\u0275eld"](647,0,null,null,81,"div",[["class","col-md-12 text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](649,0,null,null,47,"div",[["class","card mb-3 shadow no-b r-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](651,0,null,null,8,"div",[["class","card-header teal lighten-3 text-center text-white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](653,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),i["\u0275ted"](654,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](656,0,null,null,2,"span",[["style","float: right; font-size: 12px"]],null,null,null,null,null)),(t()(),i["\u0275eld"](657,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](658,null,["Format: ","x",""])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](661,0,null,null,34,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](663,0,null,null,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i["\u0275nov"](t,665).onSubmit(n)&&r),"reset"===e&&(r=!1!==i["\u0275nov"](t,665).onReset()&&r),r},null,null)),i["\u0275did"](664,16384,null,0,Tl,[],null,null),i["\u0275did"](665,4210688,null,0,sl,[[8,null],[8,null]],null,null),i["\u0275prd"](2048,null,co,null,[sl]),i["\u0275did"](667,16384,null,0,$o,[co],null,null),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](669,0,null,null,24,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](671,0,null,null,9,"div",[["class","col-md-6 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](673,0,null,null,1,"small",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom de l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](676,0,null,null,0,"input",[["class","form-control"],["placeholder","Nom"],["required",""],["type","text"]],[[8,"id",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Vy)),i["\u0275did"](679,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](683,0,null,null,9,"div",[["class","form-group col-md-6 mb-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](685,0,null,null,1,"small",[["for","pattern"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Url de redirection"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](688,0,null,null,0,"input",[["autocomplete","off"],["class","form-control"],["id","redirect"],["placeholder","Url de redirection"],["required",""],["type","text"]],[[8,"id",0]],[[null,"keyup"]],function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.handleErrorUrl()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Uy)),i["\u0275did"](691,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n   \n  \n  \n  \n  \n  \n  \n                    "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n  \n  \n  \n  \n                  "])),(t()(),i["\u0275ted"](-1,null,["\n  \n                "])),(t()(),i["\u0275ted"](-1,null,["\n  \n  \n  \n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n                 "])),(t()(),i["\u0275eld"](698,0,null,null,29,"div",[["class","card b-0 r-0 shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      \n                         "])),(t()(),i["\u0275eld"](700,0,null,null,0,"div",[["class","b-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](702,0,null,null,0,"input",[["hidden",""],["id","file"],["name","file"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](704,0,null,null,10,"div",[["class","dropzone dropzone-file-area p-3 m-3 bg-light"],["id","fileUpload"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275eld"](706,0,null,null,7,"div",[["class","dz-default dz-message"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                                 "])),(t()(),i["\u0275eld"](708,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Glisser ici une image "])),(t()(),i["\u0275ted"](-1,null,["\n                                 "])),(t()(),i["\u0275eld"](711,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Vous pouvez aussi cliquer pour choisir une image"])),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275eld"](716,0,null,null,10,"div",[["class","card-footer white text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  \n                             "])),(t()(),i["\u0275eld"](718,0,null,null,3,"button",[["class","btn btn-sm r-20 btn-social teal lighten-3 text-white"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.handleImageUploadModal()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](720,0,null,null,0,"i",[["class","icon-paper-plane"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Visualiser l'annonce\n                "])),(t()(),i["\u0275ted"](-1,null,["\n                             "])),(t()(),i["\u0275eld"](723,0,null,null,2,"button",[["class","btn btn-danger btn-sm text-white r-20"],["title","Ajouter un texte"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goBackFromUpload()&&i),i},null,null)),(t()(),i["\u0275eld"](724,0,null,null,0,"i",[["class","icon-edit"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Retour"])),(t()(),i["\u0275ted"](-1,null,["\n                         "])),(t()(),i["\u0275ted"](-1,null,["\n  \n                    \n                 "])),(t()(),i["\u0275ted"](-1,null,["\n             "])),(t()(),i["\u0275ted"](-1,null,["\n\n "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n  "])),(t()(),i["\u0275and"](16777216,null,null,1,null,qy)),i["\u0275did"](738,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](740,0,null,null,100,"aside",[["class","control-sidebar fixed white"],["style","height: 400px; margin-top: 20% !important"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](742,0,null,null,97,"div",[["class","slimScroll"],["style","height: 400px;"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](744,0,null,null,7,"div",[["class","sidebar-header bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](746,0,null,null,1,"h6",[["class","text-warning"]],null,null,null,null,null)),(t()(),i["\u0275ted"](747,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](749,0,null,null,1,"a",[["class","paper-nav-toggle active"],["data-toggle","control-sidebar"],["href","#"]],null,null,null,null,null)),(t()(),i["\u0275eld"](750,0,null,null,0,"i",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n      "])),(t()(),i["\u0275eld"](753,0,null,null,17,"div",[["class","card"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](755,0,null,null,4,"div",[["class","card-header white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](757,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["El\xe9ment sur le canvas"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](761,0,null,null,8,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](763,0,null,null,5,"ul",[["class","social social list-inline"],["dnd-sortable-container",""]],null,null,null,null,null)),i["\u0275did"](764,16384,null,0,Wg,[i.ElementRef,Lg,Ng,i.ChangeDetectorRef,Bg],{sortableData:[0,"sortableData"]},null),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Wy)),i["\u0275did"](767,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n\n      "])),(t()(),i["\u0275eld"](772,0,null,null,66,"div",[["class","card-body text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n        "])),(t()(),i["\u0275eld"](774,0,null,null,63,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275eld"](776,0,null,null,60,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](778,0,null,null,16,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n              "])),(t()(),i["\u0275eld"](780,0,null,null,13,"ul",[["class","list-group no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Hy)),i["\u0275did"](783,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,zy)),i["\u0275did"](786,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Gy)),i["\u0275did"](789,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Yy)),i["\u0275did"](792,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](796,0,null,null,1,"div",[["class","col-md-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n\n\n          "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](799,0,null,null,36,"div",[["class","col image-block draggable"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](801,0,null,null,33,"div",[["class","card b-0"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](803,0,null,null,30,"div",[["class","card-body p-5"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](805,0,null,null,27,"div",[["class","card"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](807,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Upload image"])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](810,0,null,null,21,"div",[["class","card-body text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Xy)),i["\u0275did"](813,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](815,0,null,null,0,"input",[["id","image"],["type","file"]],null,[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.readUrl(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](817,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](819,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275eld"](821,0,null,null,9,"div",[["aria-small","..."],["class","btn-group btn-group-justified"],["role","group"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275eld"](823,0,null,null,6,"div",[["class","btn-group"],["role","group"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                        "])),(t()(),i["\u0275eld"](825,0,null,null,3,"button",[["class","btn btn-outline-danger btn-sm"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.removeWhite(r.url)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                          "])),(t()(),i["\u0275eld"](827,0,null,null,0,"i",[["aria-d-none","true"],["class","fa fa-times"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,[" Remove"])),(t()(),i["\u0275ted"](-1,null,["\n                      "])),(t()(),i["\u0275ted"](-1,null,["\n                    "])),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](843,0,null,null,0,"div",[["class","control-sidebar-bg shadow white fixed draggable"],["style","height: 300px; margin-top: 20% !important"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](845,0,null,null,46,"div",[["aria-d-none","true"],["aria-smallledby","exampleModalsmall"],["class","modal fade no-b"],["id","modalViewInit"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](847,0,null,null,43,"div",[["class","modal-dialog no-b"],["role","document"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](849,0,null,null,40,"div",[["class","modal-content no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](851,0,null,null,10,"div",[["class","modal-header no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](853,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalsmall"]],null,null,null,null,null)),(t()(),i["\u0275ted"](854,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](856,0,null,null,4,"button",[["aria-small","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](858,0,null,null,1,"span",[["aria-d-none","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](863,0,null,null,13,"div",[["class","modal-body no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](865,0,null,null,10,"div",[["class","card no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](867,0,null,null,1,"img",[["class","img-responsive"],["id","ad_image"],["src","assets/img/demo/portfolio/p6.jpg"]],[[8,"alt",0]],null,null,null,null)),i["\u0275did"](868,278528,null,0,A,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](870,0,null,null,4,"div",[["class","card-footer no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](872,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(t()(),i["\u0275ted"](873,null,["Nom: ",""])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](878,0,null,null,10,"div",[["class","modal-footer white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ky)),i["\u0275did"](881,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Qy)),i["\u0275did"](884,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Zy)),i["\u0275did"](887,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](893,0,null,null,47,"div",[["aria-d-none","true"],["aria-smallledby","exampleModalsmall"],["class","modal fade"],["id","modalViewModified"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](895,0,null,null,44,"div",[["class","modal-dialog no-b"],["role","document"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](897,0,null,null,41,"div",[["class","modal-content no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](899,0,null,null,10,"div",[["class","modal-header no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](901,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalsmall"]],null,null,null,null,null)),(t()(),i["\u0275ted"](902,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](904,0,null,null,4,"button",[["aria-small","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](906,0,null,null,1,"span",[["aria-d-none","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](911,0,null,null,14,"div",[["class","modal-body no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](913,0,null,null,11,"div",[["class","card white no-b shadow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](915,0,null,null,0,"img",[["alt","card my-3 image cap"],["class","card-img-top"],["id","ad_image_modified"],["src","assets/img/demo/portfolio/p6.jpg"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](917,0,null,null,6,"div",[["class","card-footer no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](919,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Nom: "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](922,0,null,null,0,"small",[["class","text-muted"],["id","modified_name"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](927,0,null,null,10,"div",[["class","modal-footer whtite no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Jy)),i["\u0275did"](930,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,$y)),i["\u0275did"](933,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,tb)),i["\u0275did"](936,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](942,0,null,null,41,"div",[["aria-d-none","true"],["aria-smallledby","exampleModalsmall"],["class","modal fade"],["id","modalPayment"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](944,0,null,null,38,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](946,0,null,null,35,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](948,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](950,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalsmall"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Publier l'annonce"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](953,0,null,null,4,"button",[["aria-small","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](955,0,null,null,1,"span",[["aria-d-none","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](960,0,null,null,11,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](962,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](964,0,null,null,0,"img",[["alt","card my-3 image cap"],["class","card-img-top"],["id","ad_image_modified"],["src","assets/img/demo/portfolio/p6.jpg"],["style","width: 250px; height: 300px"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](966,0,null,null,3,"div",[["class","card-footer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](968,0,null,null,0,"small",[["class","text-muted"],["id","modified_name"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](973,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](975,0,null,null,1,"button",[["class","btn btn-danger text-white btn-sm r-20"],["data-dismiss","modal"],["id","closeModalViewModified"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Close"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](978,0,null,null,1,"button",[["class","btn teal lighten-3 text-white"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateAdOnFirebase()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Enregistrer les\n          modification"])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](986,0,null,null,0,"button",[["data-target","#modalViewInit"],["data-toggle","modal"],["id","button_modal_init"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](988,0,null,null,0,"button",[["data-target","#modalViewModified"],["data-toggle","modal"],["id","button_modal_modified"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](990,0,null,null,0,"button",[["data-target","#modalDefineBudget"],["data-toggle","modal"],["id","button_modal_define_budget"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](993,0,null,null,70,"div",[["aria-d-none","true"],["aria-smallledby","exampleModalsmall"],["class","modal fade no-b"],["id","modalDefineBudget"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](995,0,null,null,67,"div",[["class","modal-dialog no-b"],["role","document"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](997,0,null,null,64,"div",[["class","modal-content no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](999,0,null,null,10,"div",[["class","modal-header no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1001,0,null,null,1,"h6",[["class","modal-title"],["id","exampleModalsmall"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["D\xe9finition du budget"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1004,0,null,null,4,"button",[["aria-small","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](1006,0,null,null,1,"span",[["aria-d-none","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](1011,0,null,null,49,"div",[["class","modal-body no-b text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1013,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](1015,0,null,null,22,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n               "])),(t()(),i["\u0275eld"](1017,0,null,null,19,"div",[["class","text-center"],["style","display: inline-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](1019,0,null,null,1,"h6",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1020,null,[""," CFA dans le compte"])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](1022,0,null,null,1,"h6",[["class","my-3"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1023,null,["Budget de la campagne: "," CFA "])),(t()(),i["\u0275ted"](-1,null,["\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,eb)),i["\u0275did"](1026,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,nb)),i["\u0275did"](1029,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ib)),i["\u0275did"](1032,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n           "])),(t()(),i["\u0275and"](16777216,null,null,1,null,rb)),i["\u0275did"](1035,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1040,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          \n           "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ob)),i["\u0275did"](1043,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n     \n       "])),(t()(),i["\u0275and"](16777216,null,null,1,null,lb)),i["\u0275did"](1047,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        \n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ab)),i["\u0275did"](1050,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n       "])),(t()(),i["\u0275and"](16777216,null,null,1,null,cb)),i["\u0275did"](1053,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n                       "])),(t()(),i["\u0275and"](16777216,null,null,1,null,db)),i["\u0275did"](1056,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n         "])),(t()(),i["\u0275and"](16777216,null,null,1,null,yb)),i["\u0275did"](1059,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275eld"](1065,0,null,null,61,"div",[["aria-d-none","true"],["aria-smallledby","exampleModalsmall"],["class","modal fade"],["id","modalRechargement"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](1067,0,null,null,58,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](1069,0,null,null,55,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](1071,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1073,0,null,null,1,"h5",[["class","modal-title"],["id","exampleModalsmall"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Recharger mon compte pour mes campagnes"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1076,0,null,null,4,"button",[["aria-small","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](1078,0,null,null,1,"span",[["aria-d-none","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](1083,0,null,null,34,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1085,0,null,null,31,"div",[["class","card no-b shadow white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](1087,0,null,null,22,"div",[["class","card-body no-b white"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](1089,0,null,null,18,"div",[["class","form-row text-center"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275eld"](1091,0,null,null,15,"div",[["class","col-md-12 mb-3 text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](1093,0,null,null,1,"h6",[["for","validationCustom01"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Montant \xe0 recharger"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](1096,0,null,null,0,"input",[["class","form-control"],["id","montant"],["min","10000"],["placeholder","Montant"],["required",""],["type","number"]],null,[[null,"onkeyup"]],function(t,e,n){var i=!0;return"onkeyup"===e&&(i=!1!==t.component.handleSimulatedImpressionsCount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](1098,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Saisir un montant sup\xe9rieur ou \xe9gal \xe0 10000 FCA"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275eld"](1101,0,null,null,4,"div",[["id","error_recharge"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n                  "])),(t()(),i["\u0275eld"](1103,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Erreur montant saisi invalide !"])),(t()(),i["\u0275ted"](-1,null,["\n                "])),(t()(),i["\u0275ted"](-1,null,["\n              "])),(t()(),i["\u0275ted"](-1,null,["\n\n\n            "])),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n\n          "])),(t()(),i["\u0275eld"](1111,0,null,null,4,"div",[["class","card-footer white no-b"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](1113,0,null,null,1,"button",[["class","btn teal lighten-3 text-white"],["id","amountSet"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.defineAmountAccount()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["Recharger mon compte"])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](1119,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1121,0,null,null,1,"button",[["class","btn btn-danger text-white btn-sm r-20"],["data-dismiss","modal"],["id","closeModalRecharge"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Close"])),(t()(),i["\u0275ted"](-1,null,["\n\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](1128,0,null,null,0,"img",[["id","_ad_image"],["src","#"],["style","display: none"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,64,0,""!==n.notificationAccountValue),t(e,67,0,""===n.notificationAccountValue),t(e,153,0,"ENABLED"===n.status),t(e,156,0,"PAUSED"===n.status),t(e,192,0,"0"!==n.number_ads),t(e,211,0,!n.list_ad&&0!=n.number_ads),t(e,217,0,0!=n.number_ads&&n.list_ad),t(e,220,0,"0"===n.number_ads&&!0!==n.init_choose_ad_size),t(e,223,0,n.init_choose_ad_size&&"0"===n.number_ads),t(e,226,0,n.isAdBlock),t(e,254,0,n.formErrors.name),t(e,266,0,n.url_errors!=i["\u0275EMPTY_ARRAY"]),t(e,273,0,n.button_modify_image_upload),t(e,314,0,n.modifyPublishAd),t(e,348,0,n.formErrors.name),t(e,360,0,n.url_errors!=i["\u0275EMPTY_ARRAY"]),t(e,405,0,n.isPlacement),t(e,408,0,!n.isPlacement),t(e,465,0,""==n.populations),t(e,470,0,n.populations),t(e,480,0,!n.isCiblageAge&&""==n.populations),t(e,483,0,!n.isCiblageAge&&""!=n.populations),t(e,486,0,n.isCiblageAge),t(e,530,0,""==n.genres),t(e,535,0,n.genres),t(e,545,0,!n.isCiblageGenre&&""==n.genres),t(e,548,0,!n.isCiblageGenre&&""!=n.genres),t(e,551,0,n.isCiblageGenre),t(e,598,0,""==n.appareils),t(e,603,0,n.appareils),t(e,613,0,!n.isCiblageDevices&&""==n.appareils),t(e,616,0,!n.isCiblageDevices&&""!=n.appareils),t(e,619,0,n.isCiblageDevices),t(e,631,0,n.chooseAdSize),t(e,638,0,n.chooseBlock),t(e,643,0,n.handleCreateCanvas),t(e,679,0,n.formErrors.name),t(e,691,0,n.url_errors!=i["\u0275EMPTY_ARRAY"]),t(e,738,0,n.isCreating),t(e,764,0,n.layers.reverse()),t(e,767,0,n.layers),t(e,783,0,n.selected&&"group"!=n.selected.type),t(e,786,0,n.selected&&n.textEditor||n.selected&&n.figureEditor),t(e,789,0,n.selected&&n.textEditor),t(e,792,0,n.selected&&n.textEditor),t(e,813,0,n.url),t(e,868,0,n.img_view_create_style),t(e,881,0,!n.isRoller),t(e,884,0,!n.isRoller),t(e,887,0,n.isRoller),t(e,930,0,!n.isRoller),t(e,933,0,!n.isRoller),t(e,936,0,n.isRoller),t(e,1026,0,0!=n.accountValue&&0==n.budget),t(e,1029,0,0==n.accountValue),t(e,1032,0,0==n.budget),t(e,1035,0,0!=n.budget),t(e,1043,0,0==n.budget),t(e,1047,0,n.isRoller),t(e,1050,0,n.modifyDate),t(e,1053,0,n.isSetBudget),t(e,1056,0,n.isAccountRechargement),t(e,1059,0,n.isPlacementBudgetFromAccount)},function(t,e){var n=e.component;t(e,38,0,n.accountValue),t(e,48,0,n.numberOfNotifications),t(e,54,0,n.numberOfNotifications),t(e,85,0,i["\u0275inlineInterpolate"](1,"avatar-letter avatar-letter-",i["\u0275unv"](e,85,0,t(e,86,0,i["\u0275nov"](e,0),n.email_letter))," avatar-md circle")),t(e,96,0,n.email),t(e,148,0,n.ad_group_name),t(e,238,0,i["\u0275nov"](e,242).ngClassUntouched,i["\u0275nov"](e,242).ngClassTouched,i["\u0275nov"](e,242).ngClassPristine,i["\u0275nov"](e,242).ngClassDirty,i["\u0275nov"](e,242).ngClassValid,i["\u0275nov"](e,242).ngClassInvalid,i["\u0275nov"](e,242).ngClassPending),t(e,251,0,n.idOfAdNameNotPublishUpload,n.currentAdName),t(e,263,0,n.idOfDisplayUrlNotPublishUpload,n.currentFinalUrls),t(e,327,0,n.selectedWidth,n.selectedHeight),t(e,332,0,i["\u0275nov"](e,336).ngClassUntouched,i["\u0275nov"](e,336).ngClassTouched,i["\u0275nov"](e,336).ngClassPristine,i["\u0275nov"](e,336).ngClassDirty,i["\u0275nov"](e,336).ngClassValid,i["\u0275nov"](e,336).ngClassInvalid,i["\u0275nov"](e,336).ngClassPending),t(e,345,0,n.idOfAdNameInitUpload),t(e,357,0,n.idOfDisplayUrlInitUpload),t(e,654,0,n.text_construire),t(e,658,0,n.selectedWidth,n.selectedHeight),t(e,663,0,i["\u0275nov"](e,667).ngClassUntouched,i["\u0275nov"](e,667).ngClassTouched,i["\u0275nov"](e,667).ngClassPristine,i["\u0275nov"](e,667).ngClassDirty,i["\u0275nov"](e,667).ngClassValid,i["\u0275nov"](e,667).ngClassInvalid,i["\u0275nov"](e,667).ngClassPending),t(e,676,0,n.idOfAdNameCreateUpload),t(e,688,0,n.idOfDisplayUrlCreateUpload),t(e,747,0,n.text_option),t(e,854,0,n.text_visualise),t(e,867,0,i["\u0275inlineInterpolate"](1,"",n.ad_name,"")),t(e,873,0,n.ad_name),t(e,902,0,n.text_visualise),t(e,1020,0,n.accountValue),t(e,1023,0,n.budget)})}var wb=i["\u0275ccf"]("app-annonces",Gm,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-annonces",[],null,null,null,bb,Ym)),i["\u0275did"](1,4308992,null,0,Gm,[ns,ro,mi,pa,Ma,Ja,$g,El],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),_b=function(){function t(t,e,n,i){this.afs=t,this.meta=e,this.titleService=n,this.state=i}return t.prototype.ngOnInit=function(){var t=this;this.setMetaTags();var e=this.afs.collection("animals").valueChanges(),n=this.state.get("animals",[]);n.length?this.animals=n:e.pipe(Object(Te.v)(function(e){t.state.set("animals",e),t.animals=e})).subscribe()},t.prototype.setMetaTags=function(){this.titleService.setTitle("Angular Firebase Animals"),this.meta.updateTag({name:"twitter:card",content:"summary"}),this.meta.updateTag({name:"twitter:site",content:"@angularfirebase"}),this.meta.updateTag({name:"twitter:title",content:"Angular Firebase Animals"}),this.meta.updateTag({name:"twitter:description",content:"A server-rendered list of animals from Cloud Firestore in Angular"}),this.meta.updateTag({name:"twitter:image",content:"https://goo.gl/MzskMe"})},t}(),Cb=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function xb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,26,"div",[["class","box"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](2,0,null,null,23,"article",[["class","media"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](4,0,null,null,6,"div",[["class","media-left"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](6,0,null,null,3,"figure",[["class","image is-128x128"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](8,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](12,0,null,null,12,"div",[["class","media-content"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](14,0,null,null,9,"div",[["class","content"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](16,0,null,null,6,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](18,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),i["\u0275ted"](19,null,["",""])),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](21,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),i["\u0275ted"](22,null,[" ","\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n"]))],null,function(t,e){t(e,8,0,e.context.$implicit.imgURL,i["\u0275inlineInterpolate"](1,"",e.context.$implicit.bio,"")),t(e,19,0,e.context.$implicit.name),t(e,22,0,e.context.$implicit.bio)})}function Sb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Angular Universal Server Rendered Page"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](3,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n  This page is prerendered with Angular Universal and is 100% search engine and linkbot friedly - and highly performant. Give this URL a whirl in the\n  "])),(t()(),i["\u0275eld"](5,0,null,null,1,"a",[["href","https://cards-dev.twitter.com/validator"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["twitter-card validator"])),(t()(),i["\u0275ted"](-1,null,["\n"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](9,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Learn all about "])),(t()(),i["\u0275eld"](11,0,null,null,1,"a",[["href","https://angularfirebase.com/tag/ssr/"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["server-side rendering strategies in Angular"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](14,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Dynamic Firebase Data"])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275eld"](17,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Need SSR with dynamic Firebase data? No problem. Here are some animals I retrieved from Cloud Firestore."])),(t()(),i["\u0275ted"](-1,null,["\n\n"])),(t()(),i["\u0275and"](16777216,null,null,1,null,xb)),i["\u0275did"](21,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,21,0,e.component.animals)},null)}var Eb=i["\u0275ccf"]("ssr-page",_b,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ssr-page",[],null,null,null,Sb,Cb)),i["\u0275did"](1,114688,null,0,_b,[to,tt,ot,_e],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Tb=i["\u0275crt"]({encapsulation:2,styles:[".color-picker{position:absolute;z-index:100000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff}.color-picker *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin:0;font-size:11px}.color-picker input{height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid{box-shadow:none}.color-picker input:-moz-ui-invalid{box-shadow:none}.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 transparent transparent transparent}.color-picker .arrow.arrow-left{top:8px;left:100%;border-width:5px 10px;border-color:transparent transparent transparent #777}.color-picker .arrow.arrow-right{top:8px;left:-20px;border-width:5px 10px;border-color:transparent #777 transparent transparent}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:transparent transparent #777 transparent}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .box .left{position:relative;padding:16px 8px}.color-picker .box .right{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{width:100%;padding:4px;font-size:11px;text-align:left;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hsla-text,.color-picker .rgba-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .hsla-text .box div,.color-picker .rgba-text .box div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child{margin-right:0}.color-picker .hsla-text .box input,.color-picker .rgba-text .box input{float:left;-webkit-flex:1;-ms-flex:1;flex:1;min-width:0;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{margin-bottom:3px}.color-picker .hue{width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .alpha{width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{width:100%;height:130px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:0 0}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class::before{content:'x';position:relative;bottom:3.5px;display:inline-block;font-size:10px}"],data:{}});function kb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[],[[8,"className",0],[4,"top","px"]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275inlineInterpolate"](1,"arrow arrow-",n.cpPosition,""),n.arrowTop)})}function Ab(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[],[[8,"className",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.onAddPresetColor(n,r.selectedColor)&&i),i},null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275inlineInterpolate"](1,"",n.cpAddColorButtonClass,""),n.cpPresetColors&&n.cpPresetColors.length>=n.cpMaxPresetColorsLength),t(e,1,0,n.cpAddColorButtonText)})}function Db(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["style","height: 16px;"]],null,null,null,null,null))],null,null)}function Ob(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,1).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onAlphaInput(n)&&r),r},null,null)),i["\u0275did"](1,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var n=e.component;t(e,0,0,null==n.hslaText?null:n.hslaText.a)})}function Ib(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["A"]))],null,null)}function Rb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","hsla-text"]],[[4,"display",null]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,11,"div",[["class","box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"input",[["max","360"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,3).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onHueInput(n)&&r),r},null,null)),i["\u0275did"](3,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](5,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,6).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onSaturationInput(n)&&r),r},null,null)),i["\u0275did"](6,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](8,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,9).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onLightnessInput(n)&&r),r},null,null)),i["\u0275did"](9,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ob)),i["\u0275did"](12,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](13,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](14,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["H"])),(t()(),i["\u0275eld"](16,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["S"])),(t()(),i["\u0275eld"](18,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["L"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ib)),i["\u0275did"](21,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,360),t(e,6,0,100),t(e,9,0,100),t(e,12,0,"disabled"!==n.cpAlphaChannel),t(e,21,0,"disabled"!==n.cpAlphaChannel)},function(t,e){var n=e.component;t(e,0,0,2!==n.format?"none":"block"),t(e,2,0,null==n.hslaText?null:n.hslaText.h),t(e,5,0,null==n.hslaText?null:n.hslaText.s),t(e,8,0,null==n.hslaText?null:n.hslaText.l)})}function Pb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,1).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onAlphaInput(n)&&r),r},null,null)),i["\u0275did"](1,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var n=e.component;t(e,0,0,null==n.rgbaText?null:n.rgbaText.a)})}function Mb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["A"]))],null,null)}function Nb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,21,"div",[["class","rgba-text"]],[[4,"display",null]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,11,"div",[["class","box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,3).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onRedInput(n)&&r),r},null,null)),i["\u0275did"](3,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](5,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,6).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onGreenInput(n)&&r),r},null,null)),i["\u0275did"](6,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275eld"](8,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,9).inputChange(n)&&r),"newValue"===e&&(r=!1!==o.onBlueInput(n)&&r),r},null,null)),i["\u0275did"](9,16384,null,0,Kg,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Pb)),i["\u0275did"](12,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](13,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](14,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["R"])),(t()(),i["\u0275eld"](16,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["G"])),(t()(),i["\u0275eld"](18,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["B"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Mb)),i["\u0275did"](21,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,255),t(e,6,0,255),t(e,9,0,255),t(e,12,0,"disabled"!==n.cpAlphaChannel),t(e,21,0,"disabled"!==n.cpAlphaChannel)},function(t,e){var n=e.component;t(e,0,0,1!==n.format?"none":"block"),t(e,2,0,null==n.rgbaText?null:n.rgbaText.r),t(e,5,0,null==n.rgbaText?null:n.rgbaText.g),t(e,8,0,null==n.rgbaText?null:n.rgbaText.b)})}function jb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","hex-text"]],[[4,"display",null]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"div",[["class","box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"input",[],[[8,"value",0]],[[null,"blur"],[null,"newValue"],[null,"input"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,3).inputChange(n)&&r),"blur"===e&&(r=!1!==o.onHexInput(null)&&r),"newValue"===e&&(r=!1!==o.onHexInput(n)&&r),r},null,null)),i["\u0275did"](3,16384,null,0,Kg,[],null,{newValue:"newValue"}),(t()(),i["\u0275eld"](4,0,null,null,2,"div",[["class","box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Hex"]))],null,function(t,e){var n=e.component;t(e,0,0,0!==n.format?"none":"block"),t(e,2,0,n.hexText)})}function Lb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","type-policy"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onFormatToggle()&&i),i},null,null))],null,null)}function Fb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"span",[],[[8,"className",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onRemovePresetColor(n,t.parent.context.$implicit)&&i),i},null,null))],null,function(t,e){t(e,0,0,i["\u0275inlineInterpolate"](1,"",e.component.cpRemoveColorButtonClass,""))})}function Vb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","preset-color"]],[[4,"backgroundColor",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.setColorFromString(t.context.$implicit)&&i),i},null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Fb)),i["\u0275did"](2,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.cpAddColorButton)},function(t,e){t(e,0,0,e.context.$implicit)})}function Bb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Vb)),i["\u0275did"](2,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.cpPresetColors)},null)}function Ub(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275inlineInterpolate"](1,"",n.cpPresetEmptyMessageClass,"")),t(e,1,0,n.cpPresetEmptyMessage)})}function qb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","preset-area"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"div",[["class","preset-label"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275and"](16777216,null,null,1,null,Bb)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ub)),i["\u0275did"](7,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,null==n.cpPresetColors?null:n.cpPresetColors.length),t(e,7,0,!(null!=n.cpPresetColors&&n.cpPresetColors.length)&&n.cpAddColorButton)},function(t,e){t(e,3,0,e.component.cpPresetLabel)})}function Wb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onAcceptColor(n)&&i),i},null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275inlineInterpolate"](1,"",n.cpOKButtonClass,"")),t(e,1,0,n.cpOKButtonText)})}function Hb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCancelColor(n)&&i),i},null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275inlineInterpolate"](1,"",n.cpCancelButtonClass,"")),t(e,1,0,n.cpCancelButtonText)})}function zb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"div",[["class","button-area"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Wb)),i["\u0275did"](2,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Hb)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.cpOKButton),t(e,5,0,n.cpCancelButton)},null)}function Gb(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{hueSlider:0}),i["\u0275qud"](402653184,2,{alphaSlider:0}),i["\u0275qud"](402653184,3,{dialogElement:0}),(t()(),i["\u0275eld"](3,0,[[3,0],["dialogPopup",1]],null,32,"div",[["class","color-picker"]],[[4,"visibility",null],[4,"top","px"],[4,"left","px"],[4,"position",null],[4,"height","px"],[4,"width","px"]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,kb)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[["class","saturation-lightness"]],[[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,n){var r=!0,o=t.component;return"mousedown"===e&&(r=!1!==i["\u0275nov"](t,7).mouseDown(n)&&r),"touchstart"===e&&(r=!1!==i["\u0275nov"](t,7).touchStart(n)&&r),"newValue"===e&&(r=!1!==o.onColorChange(n)&&r),"dragStart"===e&&(r=!1!==o.onDragStart("saturation-lightness")&&r),"dragEnd"===e&&(r=!1!==o.onDragEnd("saturation-lightness")&&r),r},null,null)),i["\u0275did"](7,16384,null,0,Qg,[i.ElementRef],{rgX:[0,"rgX"],rgY:[1,"rgY"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),i["\u0275eld"](8,0,null,null,0,"div",[["class","cursor"]],[[4,"top","px"],[4,"left","px"]],null,null,null,null)),(t()(),i["\u0275eld"](9,0,null,null,14,"div",[["class","hue-alpha box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](10,0,null,null,4,"div",[["class","left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](11,0,null,null,0,"div",[["class","selected-color-background"]],null,null,null,null,null)),(t()(),i["\u0275eld"](12,0,null,null,0,"div",[["class","selected-color"]],[[4,"background-color",null]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Ab)),i["\u0275did"](14,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](15,0,null,null,8,"div",[["class","right"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Db)),i["\u0275did"](17,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](18,0,[[1,0],["hueSlider",1]],null,2,"div",[["class","hue"]],null,[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,n){var r=!0,o=t.component;return"mousedown"===e&&(r=!1!==i["\u0275nov"](t,19).mouseDown(n)&&r),"touchstart"===e&&(r=!1!==i["\u0275nov"](t,19).touchStart(n)&&r),"newValue"===e&&(r=!1!==o.onHueChange(n)&&r),"dragStart"===e&&(r=!1!==o.onDragStart("hue")&&r),"dragEnd"===e&&(r=!1!==o.onDragEnd("hue")&&r),r},null,null)),i["\u0275did"](19,16384,null,0,Qg,[i.ElementRef],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),i["\u0275eld"](20,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),i["\u0275eld"](21,0,[[2,0],["alphaSlider",1]],null,2,"div",[["class","alpha"]],[[4,"display",null],[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,n){var r=!0,o=t.component;return"mousedown"===e&&(r=!1!==i["\u0275nov"](t,22).mouseDown(n)&&r),"touchstart"===e&&(r=!1!==i["\u0275nov"](t,22).touchStart(n)&&r),"newValue"===e&&(r=!1!==o.onAlphaChange(n)&&r),"dragStart"===e&&(r=!1!==o.onDragStart("alpha")&&r),"dragEnd"===e&&(r=!1!==o.onDragEnd("alpha")&&r),r},null,null)),i["\u0275did"](22,16384,null,0,Qg,[i.ElementRef],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),i["\u0275eld"](23,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Rb)),i["\u0275did"](25,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Nb)),i["\u0275did"](27,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,jb)),i["\u0275did"](29,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Lb)),i["\u0275did"](31,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,qb)),i["\u0275did"](33,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,zb)),i["\u0275did"](35,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,"popup"==n.cpDialogDisplay),t(e,7,0,1,1),t(e,14,0,n.cpAddColorButton),t(e,17,0,"disabled"===n.cpAlphaChannel),t(e,19,0,1),t(e,22,0,1),t(e,25,0,!n.cpDisableInput),t(e,27,0,!n.cpDisableInput),t(e,29,0,!n.cpDisableInput),t(e,31,0,!n.cpDisableInput),t(e,33,0,(null==n.cpPresetColors?null:n.cpPresetColors.length)||n.cpAddColorButton),t(e,35,0,n.cpOKButton||n.cpCancelButton)},function(t,e){var n=e.component;t(e,3,0,n.hidden||!n.show?"hidden":"visible",n.top,n.left,n.position,n.cpHeight,n.cpWidth),t(e,6,0,n.hueSliderColor),t(e,8,0,n.slider.v,n.slider.s),t(e,12,0,n.selectedColor),t(e,20,0,n.slider.h),t(e,21,0,"disabled"===n.cpAlphaChannel?"none":"block",n.alphaSliderColor),t(e,23,0,n.slider.a)})}var Yb=i["\u0275ccf"]("color-picker",tm,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"color-picker",[],null,null,null,Gb,Tb)),i["\u0275did"](1,4440064,null,0,tm,[i.ElementRef,i.ChangeDetectorRef,$g],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Xb=function(){this.dismissible=!0,this.type="warning"},Kb=function(){function t(t){this.close=new i.EventEmitter,this.dismissible=t.dismissible,this.type=t.type}return t.prototype.closeHandler=function(){this.close.emit(null)},t}(),Qb=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Zb(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeHandler()&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275ted"](-1,null,["\n      "]))],null,null)}function Jb(t){return i["\u0275vid"](2,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["role","alert"]],[[8,"className",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Zb)),i["\u0275did"](4,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),i["\u0275ncd"](null,0),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,4,0,e.component.dismissible)},function(t,e){var n=e.component;t(e,1,0,"alert alert-"+n.type+(n.dismissible?" alert-dismissible":""))})}var $b=i["\u0275ccf"]("ngb-alert",Kb,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngb-alert",[],null,null,null,Jb,Qb)),i["\u0275did"](1,49152,null,0,Kb,[Xb],null,null)],null,null)},{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),tw=function(){function t(){}return t.prototype.isMuted=function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)},t}(),ew=i["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      text-align: center;\n      width: 2rem;\n      height: 2rem;\n      line-height: 2rem;\n      border-radius: 0.25rem;\n      background: transparent;\n    }\n    .outside[_nghost-%COMP%] {\n      opacity: 0.5;\n    }"],data:{}});function nw(t){return i["\u0275vid"](2,[(t()(),i["\u0275ted"](0,null,["",""]))],null,function(t,e){t(e,0,0,e.component.date.day)})}var iw=function(){function t(t,e,n){this.year=t,this.month=e,this.day=n}return t.from=function(e){return e?new t(e.year,e.month,e.day?e.day:1):null},t.prototype.equals=function(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day},t.prototype.before=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)},t.prototype.after=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)},t.prototype.toStruct=function(){return{year:this.year,month:this.month,day:this.day}},t.prototype.toString=function(){return this.year+"-"+this.month+"-"+this.day},t}();function rw(t){return parseInt(""+t,10)}function ow(t){return void 0!==t&&null!==t?""+t:""}function lw(t){return!isNaN(rw(t))}function aw(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function sw(t){return void 0!==t&&null!==t}function uw(t){return lw(t)?("0"+t).slice(-2):""}var cw,hw=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dw=["Mo","Tu","We","Th","Fr","Sa","Su"],pw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fw=["January","February","March","April","May","June","July","August","September","October","November","December"],gw=function(){},mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hw(e,t),e.prototype.getWeekdayShortName=function(t){return dw[t-1]},e.prototype.getMonthShortName=function(t){return pw[t-1]},e.prototype.getMonthFullName=function(t){return fw[t-1]},e}(gw),vw=function(){function t(t){this.i18n=t,this.select=new i.EventEmitter}return t.prototype.changeMonth=function(t){this.select.emit(new iw(this.date.year,rw(t),1))},t.prototype.changeYear=function(t){this.select.emit(new iw(rw(t),this.date.month,1))},t}(),yw=i["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] > select[_ngcontent-%COMP%] {\n      \n      padding: 0.25rem 0.5rem;\n      font-size: 0.875rem;\n      line-height: 1.25;\n      \n      height: inherit;\n      width: 50%;\n      display: inline-block;\n    }"],data:{}});function bw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),i["\u0275did"](1,147456,null,0,Po,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),i["\u0275did"](2,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.component.i18n.getMonthShortName(e.context.$implicit))})}function ww(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),i["\u0275did"](1,147456,null,0,Po,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),i["\u0275did"](2,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.context.$implicit)})}function _w(t){return i["\u0275vid"](2,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](1,0,null,null,4,"select",[["class","custom-select"],["tabindex","-1"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeMonth(n.target.value)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,bw)),i["\u0275did"](4,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](6,0,null,null,4,"select",[["class","custom-select"],["tabindex","-1"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeYear(n.target.value)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,ww)),i["\u0275did"](9,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,4,0,n.months),t(e,9,0,n.years)},function(t,e){var n=e.component;t(e,1,0,n.disabled,null==n.date?null:n.date.month),t(e,6,0,n.disabled,null==n.date?null:n.date.year)})}!function(t){t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT"}(cw||(cw={}));var Cw=function(){return function(t){this.i18n=t,this.navigation=cw,this.months=[],this.navigate=new i.EventEmitter,this.select=new i.EventEmitter}}(),xw=i["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      height: 2rem;\n      line-height: 1.85rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n    }\n    .ngb-dp-navigation-chevron[_ngcontent-%COMP%]::before {\n      border-style: solid;\n      border-width: 0.2em 0.2em 0 0;\n      content: '';\n      display: inline-block;\n      width: 0.75em;\n      height: 0.75em;\n      transform: rotate(-135deg);\n      -webkit-transform: rotate(-135deg);\n      -ms-transform: rotate(-135deg);\n    }\n    .right[_ngcontent-%COMP%]   .ngb-dp-navigation-chevron[_ngcontent-%COMP%]:before {\n      -webkit-transform: rotate(45deg);\n      -ms-transform: rotate(45deg);\n      transform: rotate(45deg);\n    }\n    .ngb-dp-arrow[_ngcontent-%COMP%] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-flex: 1 1 auto;\n      -ms-flex: 1 1 auto;\n      flex-basis: auto;\n      flex-grow: 1;\n      padding-right: 0px;\n      padding-left: 0px;\n      margin: 0px;\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-arrow.right[_ngcontent-%COMP%] {\n      -webkit-box-pack: end;\n      -ms-flex-pack: end;\n      justify-content: flex-end;\n    }\n    .ngb-dp-arrow-btn[_ngcontent-%COMP%] {\n      padding: 0rem 1rem;\n    }\n    .ngb-dp-month-name[_ngcontent-%COMP%] {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n    }\n    .ngb-dp-navigation-select[_ngcontent-%COMP%] {\n      -webkit-box-flex: 1 1 9rem;\n      -ms-flex:  1 1 9rem;\n      flex-grow: 1;\n      flex-basis: 9rem;\n    }"],data:{}});function Sw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"ngb-datepicker-navigation-select",[["class","d-block ngb-dp-navigation-select"]],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.select.emit(n)&&i),i},_w,yw)),i["\u0275did"](1,49152,null,0,vw,[gw],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"}),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)},null)}function Ew(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Tw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function kw(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Ew)),i["\u0275did"](2,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](4,0,null,null,1,"div",[["class","ngb-dp-month-name d-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,["\n        "," ","\n      "])),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Tw)),i["\u0275did"](8,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,2,0,e.context.index>0),t(e,8,0,e.context.index!==n.months.length-1)},function(t,e){t(e,5,0,e.component.i18n.getMonthFullName(e.context.$implicit.number),e.context.$implicit.year)})}function Aw(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,kw)),i["\u0275did"](1,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.component.months)},null)}function Dw(t){return i["\u0275vid"](2,[(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](3,0,null,null,3,"button",[["class","btn btn-link ngb-dp-arrow-btn"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=0!=!!r.navigate.emit(r.navigation.PREV)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](5,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Sw)),i["\u0275did"](10,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Aw)),i["\u0275did"](13,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](15,0,null,null,6,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](17,0,null,null,3,"button",[["class","btn btn-link ngb-dp-arrow-btn"],["tabindex","-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=0!=!!r.navigate.emit(r.navigation.NEXT)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](19,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,10,0,n.showSelect),t(e,13,0,!n.showSelect)},function(t,e){var n=e.component;t(e,3,0,n.prevDisabled),t(e,17,0,n.nextDisabled)})}var Ow=function(){function t(t){this.i18n=t,this.select=new i.EventEmitter}return t.prototype.doSelect=function(t){t.context.disabled||this.isHidden(t)||this.select.emit(iw.from(t.date))},t.prototype.isCollapsed=function(t){return"collapsed"===this.outsideDays&&t.days[0].date.month!==this.month.number&&t.days[t.days.length-1].date.month!==this.month.number},t.prototype.isHidden=function(t){return("hidden"===this.outsideDays||"collapsed"===this.outsideDays)&&this.month.number!==t.date.month},t}(),Iw=i["\u0275crt"]({encapsulation:0,styles:[".ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      line-height: 2rem;\n    }\n    .ngb-dp-weekday[_ngcontent-%COMP%] {\n      color: #5bc0de;\n    }\n    .ngb-dp-week[_ngcontent-%COMP%] {\n        border-radius: 0.25rem;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n    }\n    .ngb-dp-weekdays[_ngcontent-%COMP%] {\n      border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n      border-radius: 0rem;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%], .ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }\n    .ngb-dp-day.disabled[_ngcontent-%COMP%], .ngb-dp-day.hidden[_ngcontent-%COMP%] {\n      cursor: default;\n    }"],data:{}});function Rw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function Pw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-weekday small text-center font-italic"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n        ","\n      "]))],null,function(t,e){t(e,1,0,e.component.i18n.getWeekdayShortName(e.context.$implicit))})}function Mw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","ngb-dp-week ngb-dp-weekdays bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Rw)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Pw)),i["\u0275did"](6,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,3,0,n.showWeekNumbers),t(e,6,0,n.month.weekdays)},null)}function Nw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-center font-italic text-muted"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.number)})}function jw(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](0,null,null,0))],null,null)}function Lw(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n            "])),(t()(),i["\u0275and"](16777216,null,null,1,null,jw)),i["\u0275did"](2,540672,null,0,D,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "]))],function(t,e){t(e,2,0,e.parent.context.$implicit.context,e.component.dayTemplate)},null)}function Fw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","ngb-dp-day"]],[[2,"disabled",null],[2,"hidden",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.doSelect(t.context.$implicit)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Lw)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "]))],function(t,e){t(e,3,0,!e.component.isHidden(e.context.$implicit))},function(t,e){t(e,0,0,e.context.$implicit.context.disabled,e.component.isHidden(e.context.$implicit))})}function Vw(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","ngb-dp-week"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Nw)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Fw)),i["\u0275did"](6,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "]))],function(t,e){t(e,3,0,e.component.showWeekNumbers),t(e,6,0,e.parent.context.$implicit.days)},null)}function Bw(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Vw)),i["\u0275did"](2,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,2,0,!e.component.isCollapsed(e.context.$implicit))},null)}function Uw(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Mw)),i["\u0275did"](2,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,Bw)),i["\u0275did"](5,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,2,0,n.showWeekdays),t(e,5,0,n.month.weeks)},null)}var qw=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ww(t){return new iw(t.getFullYear(),t.getMonth()+1,t.getDate())}function Hw(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}var zw=function(){},Gw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qw(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.getNext=function(t,e,n){void 0===e&&(e="d"),void 0===n&&(n=1);var i=Hw(t);switch(e){case"y":return new iw(t.year+n,1,1);case"m":i=new Date(t.year,t.month+n-1,1,12);break;case"d":i.setDate(i.getDate()+n);break;default:return t}return Ww(i)},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=Hw(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=Hw(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var i=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return Ww(new Date)},e.prototype.isValid=function(t){if(!(t&&aw(t.year)&&aw(t.month)&&aw(t.day)))return!1;var e=Hw(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day},e}(zw);function Yw(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function Xw(t,e,n){return t&&e&&t.before(e)?iw.from(e):t&&n&&t.after(n)?iw.from(n):t}function Kw(t,e){var n=e.minDate,i=e.maxDate,r=e.disabled,o=e.markDisabled;return!(!sw(t)||r||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||i&&t.after(i))}var Qw,Zw=function(){function t(t){this._calendar=t,this._model$=new Ee.a,this._select$=new Ee.a,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}return Object.defineProperty(t.prototype,"model$",{get:function(){return nn.a.call(this._model$.asObservable(),function(t){return t.months.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select$",{get:function(){return nn.a.call(this._select$.asObservable(),function(t){return null!==t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{set:function(t){this._state.disabled!==t&&this._nextState({disabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonths",{set:function(t){aw(t=rw(t))&&t>0&&this._state.displayMonths!==t&&this._nextState({displayMonths:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{set:function(t){aw(t=rw(t))&&t>=0&&this._state.firstDayOfWeek!==t&&this._nextState({firstDayOfWeek:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusVisible",{set:function(t){this._state.focusVisible===t||this._state.disabled||this._nextState({focusVisible:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{set:function(t){var e=this.toValidDate(t,null);Yw(this._state.maxDate,e)&&this._nextState({maxDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markDisabled",{set:function(t){this._state.markDisabled!==t&&this._nextState({markDisabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{set:function(t){var e=this.toValidDate(t,null);Yw(this._state.minDate,e)&&this._nextState({minDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"navigation",{set:function(t){this._state.navigation!==t&&this._nextState({navigation:t})},enumerable:!0,configurable:!0}),t.prototype.focus=function(t){!this._state.disabled&&this._calendar.isValid(t)&&Yw(this._state.focusDate,t)&&this._nextState({focusDate:t})},t.prototype.focusMove=function(t,e){this.focus(this._calendar.getNext(this._state.focusDate,t,e))},t.prototype.focusSelect=function(){Kw(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})},t.prototype.open=function(t){var e=this.toValidDate(t,this._calendar.getToday());this._state.disabled||this._nextState({firstDate:e})},t.prototype.select=function(t,e){void 0===e&&(e={});var n=this.toValidDate(t,null);this._state.disabled||(Yw(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&Kw(n,this._state)&&this._select$.next(n))},t.prototype.toValidDate=function(t,e){var n=iw.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e},t.prototype._nextState=function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)},t.prototype._patchContexts=function(t){t.months.forEach(function(e){e.weeks.forEach(function(e){e.days.forEach(function(e){t.focusDate&&(e.context.focused=t.focusDate.equals(e.date)&&t.focusVisible),!0===t.disabled&&(e.context.disabled=!0),void 0!==t.selectedDate&&(e.context.selected=null!==t.selectedDate&&t.selectedDate.equals(e.date))})})})},t.prototype._updateState=function(t){var e,n,i=Object.assign({},this._state,t),r=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' "+e+" should be greater than 'minDate' "+t)}(i.minDate,i.maxDate),i.focusDate=Xw(i.focusDate,i.minDate,i.maxDate),i.firstDate=Xw(i.firstDate,i.minDate,i.maxDate),r=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(r=i.selectedDate),"focusDate"in t&&(i.focusDate=Xw(i.focusDate,i.minDate,i.maxDate),r=i.focusDate,0!==i.months.length&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=Xw(i.firstDate,i.minDate,i.maxDate),r=i.firstDate),r){var o=function(t,e,n,i){for(var r=n.displayMonths,o=n.months,l=[],a=function(r){var a=t.getNext(e,"m",r),s=o.findIndex(function(t){return t.firstDate.equals(a)});l.push(i||-1===s?function(t,e,n){var i=n.minDate,r=n.maxDate,o=n.firstDayOfWeek,l=n.markDisabled,a={firstDate:null,lastDate:null,number:e.month,year:e.year,weeks:[],weekdays:[]};e=function(t,e,n){var i=t.getDaysPerWeek(),r=new iw(e.year,e.month,1),o=t.getWeekday(r)%i;return t.getPrev(r,"d",(i+o-n)%i)}(t,e,o);for(var s=0;s<t.getWeeksPerMonth();s++){for(var u=[],c=0;c<t.getDaysPerWeek();c++){0===s&&a.weekdays.push(t.getWeekday(e));var h=new iw(e.year,e.month,e.day),d=t.getNext(h),p=!!(i&&h.before(i)||r&&h.after(r));!p&&l&&(p=l(h,{month:a.number,year:a.year})),null===a.firstDate&&h.month===a.number&&(a.firstDate=h),h.month===a.number&&d.month!==a.number&&(a.lastDate=h),u.push({date:h,context:{date:{year:h.year,month:h.month,day:h.day},currentMonth:a.number,disabled:p,focused:!1,selected:!1}}),e=d}a.weeks.push({number:t.getWeekNumber(u.map(function(t){return iw.from(t.date)}),o),days:u})}return a}(t,a,n):o[s])},s=0;s<r;s++)a(s);return l}(this._calendar,r,i,"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t);i.months=o,i.firstDate=o.length>0?o[0].firstDate:void 0,i.lastDate=o.length>0?o[o.length-1].lastDate:void 0,"selectedDate"in t&&!Kw(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(void 0===i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=r);var l=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,a=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in t||"maxDate"in t||0===i.selectBoxes.years.length||l)&&(i.selectBoxes.years=function(t,e,n){if(!t)return[];var i=e&&e.year||t.year-10;return Array.from({length:(n&&n.year||t.year+10)-i+1},function(t,e){return i+e})}(i.focusDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||0===i.selectBoxes.months.length||l)&&(i.selectBoxes.months=function(t,e,n,i){if(!e)return[];var r=t.getMonths();if(n&&e.year===n.year){var o=r.findIndex(function(t){return t===n.month});r=r.slice(o)}return i&&e.year===i.year&&(o=r.findIndex(function(t){return t===i.month}),r=r.slice(0,o+1)),r}(this._calendar,i.focusDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},"arrows"!==i.navigation&&"select"!==i.navigation||!(a||l||"minDate"in t||"maxDate"in t||"disabled"in t)||(i.prevDisabled=i.disabled||(e=i.minDate,n=this._calendar.getPrev(i.firstDate,"m"),e&&(n.year===e.year&&n.month<e.month||n.year<e.year&&1===e.month)),i.nextDisabled=i.disabled||function(t,e,n){return n&&t.getNext(i.lastDate,"m").after(n)}(this._calendar,0,i.maxDate))}return i},t}();!function(t){t[t.Enter=13]="Enter",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(Qw||(Qw={}));var Jw=function(){function t(t,e){var n=this;this._service=t,this._calendar=e,t.model$.subscribe(function(t){n._minDate=t.minDate,n._maxDate=t.maxDate,n._firstViewDate=t.firstDate,n._lastViewDate=t.lastDate})}return t.prototype.processKey=function(t){if(Qw[ow(t.which)]){switch(t.which){case Qw.PageUp:this._service.focusMove(t.shiftKey?"y":"m",-1);break;case Qw.PageDown:this._service.focusMove(t.shiftKey?"y":"m",1);break;case Qw.End:this._service.focus(t.shiftKey?this._maxDate:this._lastViewDate);break;case Qw.Home:this._service.focus(t.shiftKey?this._minDate:this._firstViewDate);break;case Qw.ArrowLeft:this._service.focusMove("d",-1);break;case Qw.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case Qw.ArrowRight:this._service.focusMove("d",1);break;case Qw.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case Qw.Enter:case Qw.Space:this._service.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}},t}(),$w=function(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1},t_=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e_=function(){},n_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return t_(e,t),e.prototype.fromModel=function(t){return t&&t.year&&t.month&&t.day?{year:t.year,month:t.month,day:t.day}:null},e.prototype.toModel=function(t){return t&&t.year&&t.month&&t.day?{year:t.year,month:t.month,day:t.day}:null},e}(e_),i_=(Object(i.forwardRef)(function(){return i_}),function(){function t(t,e,n,r,o,l,a,s){var u=this;this._keyMapService=t,this._service=e,this._calendar=n,this.i18n=r,this._cd=l,this._elementRef=a,this._ngbDateAdapter=s,this.navigate=new i.EventEmitter,this.select=new i.EventEmitter,this.onChange=function(t){},this.onTouched=function(){},["dayTemplate","displayMonths","firstDayOfWeek","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(function(t){return u[t]=o[t]}),this._selectSubscription=e.select$.subscribe(function(t){u.select.emit(t.toStruct())}),this._subscription=e.model$.subscribe(function(t){var e=t.firstDate,n=u.model?u.model.firstDate:null,i=t.selectedDate,r=u.model?u.model.selectedDate:null;u.model=t,Yw(i,r)&&(u.onTouched(),u.onChange(u._ngbDateAdapter.toModel(i))),e.equals(n)||u.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month}}),l.markForCheck()})}return t.prototype.focus=function(){this._elementRef.nativeElement.focus()},t.prototype.navigateTo=function(t){this._service.open(iw.from(t))},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe(),this._selectSubscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;void 0===this.model&&(["displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate"].forEach(function(e){return t._service[e]=t[e]}),this.navigateTo(this.startDate))},t.prototype.ngOnChanges=function(t){var e=this;["displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate"].filter(function(e){return e in t}).forEach(function(t){return e._service[t]=e[t]}),"startDate"in t&&this.navigateTo(this.startDate)},t.prototype.onDateSelect=function(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})},t.prototype.onKeyDown=function(t){this._keyMapService.processKey(t)},t.prototype.onNavigateDateSelect=function(t){this._service.open(t)},t.prototype.onNavigateEvent=function(t){switch(t){case cw.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case cw.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._service.disabled=t},t.prototype.showFocus=function(t){this._service.focusVisible=t},t.prototype.writeValue=function(t){this._service.select(iw.from(this._ngbDateAdapter.fromModel(t)))},t}()),r_=i["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      border: 1px solid rgba(0, 0, 0, 0.125);\n      border-radius: 0.25rem;\n      display: inline-block;\n    }\n    .ngb-dp-month[_ngcontent-%COMP%] {\n      pointer-events: none;\n    }\n    .ngb-dp-header[_ngcontent-%COMP%] {\n      border-bottom: 0px;\n      border-radius: .25rem 0.25rem 0rem 0rem;\n      padding-top: 0.25rem;\n    }\n    ngb-datepicker-month-view[_ngcontent-%COMP%] {\n      pointer-events: auto;\n    }\n    .ngb-dp-month-name[_ngcontent-%COMP%] {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n    }\n      .ngb-dp-month + .ngb-dp-month > ngb-datepicker-month-view > .ngb-dp-week {\n      padding-left: 1rem;\n    }\n      .ngb-dp-month + .ngb-dp-month > .ngb-dp-month-name {\n      padding-left: 1rem;\n    }\n      .ngb-dp-month:last-child .ngb-dp-week {\n      padding-right: .25rem;\n    }\n      .ngb-dp-month:first-child .ngb-dp-week {\n      padding-left: .25rem;\n    }\n      .ngb-dp-month > ngb-datepicker-month-view > .ngb-dp-week:last-child {\n      padding-bottom: .25rem;\n    }\n    .ngb-dp-months[_ngcontent-%COMP%] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n    }"],data:{}});function o_(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](1,0,null,null,2,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,nw,ew)),i["\u0275did"](2,49152,null,0,tw,[],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,2,0,e.context.currentMonth,e.context.date,e.context.disabled,e.context.focused,e.context.selected)},function(t,e){t(e,1,0,i["\u0275nov"](e,2).selected,i["\u0275nov"](e,2).selected,i["\u0275nov"](e,2).isMuted(),i["\u0275nov"](e,2).isMuted(),i["\u0275nov"](e,2).focused)})}function l_(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],function(t,e,n){var i=!0,r=t.component;return"navigate"===e&&(i=!1!==r.onNavigateEvent(n)&&i),"select"===e&&(i=!1!==r.onNavigateDateSelect(n)&&i),i},Dw,xw)),i["\u0275did"](1,49152,null,0,Cw,[gw],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"}),(t()(),i["\u0275ted"](-1,null,["\n      "]))],function(t,e){var n=e.component;t(e,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)},null)}function a_(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","ngb-dp-month-name bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["\n            "," ","\n          "]))],null,function(t,e){t(e,1,0,e.component.i18n.getMonthFullName(e.parent.context.$implicit.number),e.parent.context.$implicit.year)})}function s_(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](1,0,null,null,8,"div",[["class","ngb-dp-month d-block"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,1,null,a_)),i["\u0275did"](4,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275eld"](6,0,null,null,2,"ngb-datepicker-month-view",[["class","d-block"]],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.onDateSelect(n)&&i),i},Uw,Iw)),i["\u0275did"](7,49152,null,0,Ow,[gw],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],outsideDays:[2,"outsideDays"],showWeekdays:[3,"showWeekdays"],showWeekNumbers:[4,"showWeekNumbers"]},{select:"select"}),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275ted"](-1,null,["\n      "]))],function(t,e){var n=e.component;t(e,4,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),t(e,7,0,n.dayTemplate||i["\u0275nov"](e.parent,1),e.context.$implicit,1===n.displayMonths?n.outsideDays:"hidden",n.showWeekdays,n.showWeekNumbers)},null)}function u_(t){return i["\u0275vid"](2,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](0,[["dt",2]],null,0,null,o_)),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275eld"](3,0,null,null,4,"div",[["class","ngb-dp-header bg-light"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,l_)),i["\u0275did"](6,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n\n    "])),(t()(),i["\u0275eld"](9,0,null,null,4,"div",[["class","ngb-dp-months"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275and"](16777216,null,null,1,null,s_)),i["\u0275did"](12,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,6,0,"none"!==n.navigation),t(e,12,0,n.model.months)},null)}var c_=i["\u0275ccf"]("ngb-datepicker",i_,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"ngb-datepicker",[["tabindex","0"]],[[1,"tabindex",0]],[[null,"blur"],[null,"focus"],[null,"keydown"]],function(t,e,n){var r=!0;return"blur"===e&&(r=!1!==i["\u0275nov"](t,4).showFocus(!1)&&r),"focus"===e&&(r=!1!==i["\u0275nov"](t,4).showFocus(!0)&&r),"keydown"===e&&(r=!1!==i["\u0275nov"](t,4).onKeyDown(n)&&r),r},u_,r_)),i["\u0275prd"](5120,null,bo,function(t){return[t]},[i_]),i["\u0275prd"](512,null,Zw,Zw,[zw]),i["\u0275prd"](512,null,Jw,Jw,[Zw,zw]),i["\u0275did"](4,770048,null,0,i_,[Jw,Zw,zw,gw,$w,i.ChangeDetectorRef,i.ElementRef,e_],null,null)],function(t,e){t(e,4,0)},function(t,e){t(e,0,0,i["\u0275nov"](e,4).model.disabled?void 0:"0")})},{dayTemplate:"dayTemplate",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),h_=function(){},d_=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function p_(t){return i["\u0275vid"](0,[],null,null)}var f_=i["\u0275ccf"]("ngb-modal-backdrop",h_,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngb-modal-backdrop",[],[[8,"className",0]],null,null,p_,d_)),i["\u0275did"](1,49152,null,0,h_,[],null,null)],null,function(t,e){t(e,0,0,"modal-backdrop fade show"+(i["\u0275nov"](e,1).backdropClass?" "+i["\u0275nov"](e,1).backdropClass:""))})},{backdropClass:"backdropClass"},{},[]),g_=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),m_=function(){function t(t,e,n){this._elRef=e,this._renderer=n,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.EventEmitter,this._document=t}return t.prototype.backdropClick=function(t){!0===this.backdrop&&this._elRef.nativeElement===t.target&&this.dismiss(g_.BACKDROP_CLICK)},t.prototype.escKey=function(t){this.keyboard&&!t.defaultPrevented&&this.dismiss(g_.ESC)},t.prototype.dismiss=function(t){this.dismissEvent.emit(t)},t.prototype.ngOnInit=function(){this._elWithFocus=this._document.activeElement,this._renderer.addClass(this._document.body,"modal-open")},t.prototype.ngAfterViewInit=function(){this._elRef.nativeElement.contains(document.activeElement)||this._elRef.nativeElement.focus.apply(this._elRef.nativeElement,[])},t.prototype.ngOnDestroy=function(){var t,e=this._document.body,n=this._elWithFocus;(t=n&&n.focus&&e.contains(n)?n:e).focus.apply(t,[]),this._elWithFocus=null,this._renderer.removeClass(e,"modal-open")},t}(),v_=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function y_(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](1,0,null,null,4,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n        "])),(t()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),i["\u0275ncd"](null,0),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],null,function(t,e){var n=e.component;t(e,1,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":""))})}var b_=i["\u0275ccf"]("ngb-modal-window",m_,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0]],[[null,"keyup.esc"],[null,"click"]],function(t,e,n){var r=!0;return"keyup.esc"===e&&(r=!1!==i["\u0275nov"](t,1).escKey(n)&&r),"click"===e&&(r=!1!==i["\u0275nov"](t,1).backdropClick(n)&&r),r},y_,v_)),i["\u0275did"](1,4440064,null,0,m_,[L,i.ElementRef,i.Renderer2],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"modal fade show d-block"+(i["\u0275nov"](e,1).windowClass?" "+i["\u0275nov"](e,1).windowClass:""))})},{backdrop:"backdrop",centered:"centered",keyboard:"keyboard",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),w_=new(function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect();else{var r=this.offsetParent(t);n=this.offset(t,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,i){var r=i?this.offset(t,!1):this.position(t,!1),o=this.getAllStyles(e),l=e.getBoundingClientRect(),a=n.split("-")[0]||"top",s=n.split("-")[1]||"center",u={height:l.height||e.offsetHeight,width:l.width||e.offsetWidth,top:0,bottom:l.height||e.offsetHeight,left:0,right:l.width||e.offsetWidth};switch(a){case"top":u.top=r.top-(e.offsetHeight+parseFloat(o.marginBottom));break;case"bottom":u.top=r.top+r.height;break;case"left":u.left=r.left-(e.offsetWidth+parseFloat(o.marginRight));break;case"right":u.left=r.left+r.width}switch(s){case"top":u.top=r.top;break;case"bottom":u.top=r.top+r.height-e.offsetHeight;break;case"left":u.left=r.left;break;case"right":u.left=r.left+r.width-e.offsetWidth;break;case"center":"top"===a||"bottom"===a?u.left=r.left+r.width/2-e.offsetWidth/2:u.top=r.top+r.height/2-e.offsetHeight/2}return u.top=Math.round(u.top),u.bottom=Math.round(u.bottom),u.left=Math.round(u.left),u.right=Math.round(u.right),u},t.prototype.getAvailablePlacements=function(t,e){var n=[],i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=document.documentElement;return r.width<i.left&&(i.top+i.height/2-e.offsetHeight/2>0&&n.splice(n.length,1,"left"),this.setSecondaryPlacementForLeftRight(i,r,"left",n)),r.height<i.top&&(n.splice(n.length,1,"top"),this.setSecondaryPlacementForTopBottom(i,r,"top",n)),(window.innerWidth||o.clientWidth)-i.right>r.width&&(i.top+i.height/2-e.offsetHeight/2>0&&n.splice(n.length,1,"right"),this.setSecondaryPlacementForLeftRight(i,r,"right",n)),(window.innerHeight||o.clientHeight)-i.bottom>r.height&&(n.splice(n.length,1,"bottom"),this.setSecondaryPlacementForTopBottom(i,r,"bottom",n)),n},t.prototype.setSecondaryPlacementForLeftRight=function(t,e,n,i){var r=document.documentElement;e.height<=t.bottom&&i.splice(i.length,1,n+"-bottom"),(window.innerHeight||r.clientHeight)-t.top>=e.height&&i.splice(i.length,1,n+"-top")},t.prototype.setSecondaryPlacementForTopBottom=function(t,e,n,i){var r=document.documentElement;(window.innerWidth||r.clientWidth)-t.left>=e.width&&i.splice(i.length,1,n+"-left"),e.width<=t.right&&i.splice(i.length,1,n+"-right")},t}());function __(t,e,n,i){var r=Array.isArray(n)?n:[n],o=r.findIndex(function(t){return"auto"===t});o>=0&&["top","right","bottom","left"].forEach(function(t){null==r.find(function(e){return-1!==e.search("^"+t+"|^"+t+"-")})&&r.splice(o++,1,t)});for(var l,a=0,s=0,u=w_.getAvailablePlacements(t,e),c=function(n,o){if(null!=u.find(function(t){return t===n})||r.length===o+1){l=n;var c=w_.positionElements(t,e,n,i);return a=c.top,s=c.left,"break"}},h=0,d=r.map(function(t,e){return{item:t,index:e}});h<d.length;h++){var p=d[h];if("break"===c(p.item,p.index))break}return e.style.top=a+"px",e.style.left=s+"px",l}var C_=function(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n},x_=function(){function t(t,e,n,i,r){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=i,this._componentFactoryResolver=r}return t.prototype.open=function(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef},t.prototype.close=function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef=null))},t.prototype._getContentRef=function(t,e){if(t){if(t instanceof i.TemplateRef){var n=this._viewContainerRef.createEmbeddedView(t,e);return new C_([n.rootNodes],n)}return new C_([[this._renderer.createText(""+t)]])}return new C_([])},t}(),S_=function(){this.placement="top",this.triggers="click",this.disablePopover=!1},E_=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString())},t}(),T_=i["\u0275crt"]({encapsulation:0,styles:[".bs-popover-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 50%;\n      margin-left: -5px;\n    }\n\n    .bs-popover-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 2em;\n    }\n\n    .bs-popover-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 2em;\n    }\n\n    .bs-popover-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 50%;\n      margin-top: -5px;\n    }\n    \n    .bs-popover-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.7em;\n    }\n\n    .bs-popover-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.7em;\n    }"],data:{}});function k_(t){return i["\u0275vid"](2,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275eld"](3,0,null,null,1,"h3",[["class","popover-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,["",""])),(t()(),i["\u0275eld"](5,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),i["\u0275ncd"](null,0)],null,function(t,e){t(e,4,0,e.component.title)})}var A_=i["\u0275ccf"]("ngb-popover-window",E_,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,k_,T_)),i["\u0275did"](1,49152,null,0,E_,[i.ElementRef,i.Renderer2],null,null)],null,function(t,e){t(e,0,0,"popover bs-popover-"+i["\u0275nov"](e,1).placement.split("-")[0]+" bs-popover-"+i["\u0275nov"](e,1).placement,i["\u0275nov"](e,1).id)})},{placement:"placement",title:"title",id:"id"},{},["*"]),D_=function(){this.placement="top",this.triggers="hover",this.disableTooltip=!1},O_=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString())},t}(),I_=i["\u0275crt"]({encapsulation:0,styles:[".bs-tooltip-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: calc(50% - 0.4rem);\n    }\n\n    .bs-tooltip-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 1em;\n    }\n\n    .bs-tooltip-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 0.8rem;\n    }\n\n    .bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: calc(50% - 0.4rem);\n    }\n    \n    .bs-tooltip-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.4rem;\n    }\n\n    .bs-tooltip-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.4rem;\n    }"],data:{}});function R_(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),i["\u0275ncd"](null,0)],null,null)}var P_=i["\u0275ccf"]("ngb-tooltip-window",O_,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,R_,I_)),i["\u0275did"](1,49152,null,0,O_,[i.ElementRef,i.Renderer2],null,null)],null,function(t,e){t(e,0,0,"tooltip show bs-tooltip-"+i["\u0275nov"](e,1).placement.split("-")[0]+" bs-tooltip-"+i["\u0275nov"](e,1).placement,i["\u0275nov"](e,1).id)})},{placement:"placement",id:"id"},{},["*"]),M_=function(){function t(){this.highlightClass="ngb-highlight"}return t.prototype.ngOnChanges=function(t){var e,n=ow(this.result),i=n.toLowerCase(),r=ow(this.term).toLowerCase(),o=0;this.parts=r.length>0?i.split(new RegExp("("+(e=r,e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))+")")).map(function(t){var e=n.substr(o,t.length);return o+=t.length,e}):[n]},t}(),N_=i["\u0275crt"]({encapsulation:0,styles:[".ngb-highlight[_ngcontent-%COMP%] {\n      font-weight: bold;\n    }"],data:{}});function j_(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,0,0,i["\u0275inlineInterpolate"](1,"",e.component.highlightClass,"")),t(e,1,0,e.parent.context.$implicit)})}function L_(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](0,null,["",""]))],null,function(t,e){t(e,0,0,e.parent.context.$implicit)})}function F_(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,j_)),i["\u0275did"](1,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,L_)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.context.odd),t(e,3,0,!e.context.odd)},null)}function V_(t){return i["\u0275vid"](2,[(t()(),i["\u0275and"](16777216,null,null,1,null,F_)),i["\u0275did"](1,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.parts)},null)}var B_=function(){function t(){this.activeIdx=0,this.focusFirst=!0,this.formatter=ow,this.selectEvent=new i.EventEmitter,this.activeChangeEvent=new i.EventEmitter}return t.prototype.hasActive=function(){return this.activeIdx>-1&&this.activeIdx<this.results.length},t.prototype.getActive=function(){return this.results[this.activeIdx]},t.prototype.markActive=function(t){this.activeIdx=t,this._activeChanged()},t.prototype.next=function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()},t.prototype.prev=function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()},t.prototype.resetActive=function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()},t.prototype.select=function(t){this.selectEvent.emit(t)},t.prototype.ngOnInit=function(){this.resetActive()},t.prototype._activeChanged=function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)},t}(),U_=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function q_(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](1,0,null,null,1,"ngb-highlight",[],null,null,null,V_,N_)),i["\u0275did"](2,573440,null,0,M_,[],{result:[0,"result"],term:[1,"term"]},null),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,2,0,e.context.formatter(e.context.result),e.context.term)},null)}function W_(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](0,null,null,0))],null,null)}function H_(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275eld"](1,0,null,null,5,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"mouseenter"===e&&(i=!1!==r.markActive(t.context.index)&&i),"click"===e&&(i=!1!==r.select(t.context.$implicit)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\n          "])),(t()(),i["\u0275and"](16777216,null,null,2,null,W_)),i["\u0275did"](4,540672,null,0,D,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](5,{result:0,term:1,formatter:2}),(t()(),i["\u0275ted"](-1,null,["\n      "])),(t()(),i["\u0275ted"](-1,null,["\n    "]))],function(t,e){var n=e.component;t(e,4,0,t(e,5,0,e.context.$implicit,n.term,n.formatter),n.resultTemplate||i["\u0275nov"](e.parent,1))},function(t,e){var n=e.component;t(e,1,0,n.id+"-"+e.context.index,e.context.index===n.activeIdx)})}function z_(t){return i["\u0275vid"](0,[(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](0,[["rt",2]],null,0,null,q_)),(t()(),i["\u0275ted"](-1,null,["\n    "])),(t()(),i["\u0275and"](16777216,null,null,1,null,H_)),i["\u0275did"](4,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275ted"](-1,null,["\n  "]))],function(t,e){t(e,4,0,e.component.results)},null)}var G_=i["\u0275ccf"]("ngb-typeahead-window",B_,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],null,null,z_,U_)),i["\u0275did"](1,114688,null,0,B_,[],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,i["\u0275nov"](e,1).id)})},{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),Y_=i["\u0275crt"]({encapsulation:2,styles:[".ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;height:15px;bottom:0;position:absolute}.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;width:15px;right:0;position:absolute}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps__rail-x:focus,.ps__rail-x:hover,.ps__rail-y:focus,.ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px;position:absolute}.ps__thumb-y{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px;position:absolute}.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}}perfect-scrollbar{position:relative;display:block;overflow:hidden;width:100%;height:100%;max-width:100%;max-height:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;-webkit-box-orient:column;-webkit-box-direction:column;height:auto;min-width:0;min-height:0}perfect-scrollbar[fxflex]>.ps{flex:1 1 auto;-ms-flex:1 1 auto;-webkit-box-flex:1;width:auto;height:auto;min-width:0;min-height:0}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{display:flex;flex:1 1 auto;-ms-flex:1 1 auto;-webkit-box-flex:1;align-item:inherit;place-content:inherit;-webkit-box-pack:inherit;-webkit-box-align:inherit;flex-direction:inherit;-webkit-box-orient:inherit;-webkit-box-direction:inherit;width:100%;height:100%}perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important;-webkit-box-orient:row!important;-webkit-box-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important;-webkit-box-orient:column!important;-webkit-box-direction:column!important}perfect-scrollbar>.ps{position:static;display:block;width:inherit;height:inherit;max-width:inherit;max-height:inherit}perfect-scrollbar>.ps>.ps-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:block;overflow:hidden;pointer-events:none}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{position:absolute;opacity:0;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-width:100%;min-height:24px}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{top:0;min-width:24px;min-height:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{top:0!important;right:0!important;left:auto!important;width:10px;cursor:default;transition:width .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{top:auto!important;bottom:0!important;left:0!important;height:10px;cursor:default;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{opacity:.9;background-color:#eee}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x{opacity:.9;background-color:#eee}perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{opacity:1;background:linear-gradient(to bottom,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{opacity:1;background:linear-gradient(to top,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{opacity:1;background:linear-gradient(to right,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{opacity:1;background:linear-gradient(to left,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(to bottom,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(to top,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show{opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(to right,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show{opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(to left,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show{opacity:1}"],data:{}});function X_(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","ps-overlay"]],[[2,"ps-at-top",null],[2,"ps-at-left",null],[2,"ps-at-right",null],[2,"ps-at-bottom",null]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"div",[["class","ps-indicator-top"]],[[2,"ps-indicator-show",null]],null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,0,"div",[["class","ps-indicator-left"]],[[2,"ps-indicator-show",null]],null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,0,"div",[["class","ps-indicator-right"]],[[2,"ps-indicator-show",null]],null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[["class","ps-indicator-bottom"]],[[2,"ps-indicator-show",null]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.states.top,n.states.left,n.states.right,n.states.bottom),t(e,1,0,n.indicatorY&&n.interaction),t(e,2,0,n.indicatorX&&n.interaction),t(e,3,0,n.indicatorX&&n.interaction),t(e,4,0,n.indicatorY&&n.interaction)})}function K_(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{directiveRef:0}),(t()(),i["\u0275eld"](1,0,null,null,5,"div",[["style","position: static;"]],[[2,"ps",null]],[[null,"wheel"],[null,"touchmove"],[null,"ps-scroll-x"],[null,"ps-scroll-y"],[null,"ps-x-reach-end"],[null,"ps-y-reach-end"],[null,"ps-x-reach-start"],[null,"ps-y-reach-start"],[null,"psScrollY"],[null,"psScrollX"],[null,"psScrollUp"],[null,"psScrollDown"],[null,"psScrollLeft"],[null,"psScrollRight"],[null,"psYReachEnd"],[null,"psYReachStart"],[null,"psXReachEnd"],[null,"psXReachStart"],[null,"ps-scroll-up"],[null,"ps-scroll-down"],[null,"ps-scroll-left"],[null,"ps-scroll-right"]],function(t,e,n){var r=!0,o=t.component;return"ps-scroll-y"===e&&(r=!1!==i["\u0275nov"](t,2).psScrollY(n)&&r),"ps-scroll-x"===e&&(r=!1!==i["\u0275nov"](t,2).psScrollX(n)&&r),"ps-scroll-up"===e&&(r=!1!==i["\u0275nov"](t,2).psScrollUp(n)&&r),"ps-scroll-down"===e&&(r=!1!==i["\u0275nov"](t,2).psScrollDown(n)&&r),"ps-scroll-left"===e&&(r=!1!==i["\u0275nov"](t,2).psScrollLeft(n)&&r),"ps-scroll-right"===e&&(r=!1!==i["\u0275nov"](t,2).psScrollRight(n)&&r),"ps-y-reach-end"===e&&(r=!1!==i["\u0275nov"](t,2).psReachEndY(n)&&r),"ps-y-reach-start"===e&&(r=!1!==i["\u0275nov"](t,2).psReachStartY(n)&&r),"ps-x-reach-end"===e&&(r=!1!==i["\u0275nov"](t,2).psReachEndX(n)&&r),"ps-x-reach-start"===e&&(r=!1!==i["\u0275nov"](t,2).psReachStartX(n)&&r),"wheel"===e&&(r=!1!==o.onWheelEvent(n)&&r),"touchmove"===e&&(r=!1!==o.onTouchEvent(n)&&r),"ps-scroll-x"===e&&(r=!1!==o.onScrollEvent(n,"x")&&r),"ps-scroll-y"===e&&(r=!1!==o.onScrollEvent(n,"y")&&r),"ps-x-reach-end"===e&&(r=!1!==o.onScrollEvent(n,"right")&&r),"ps-y-reach-end"===e&&(r=!1!==o.onScrollEvent(n,"bottom")&&r),"ps-x-reach-start"===e&&(r=!1!==o.onScrollEvent(n,"left")&&r),"ps-y-reach-start"===e&&(r=!1!==o.onScrollEvent(n,"top")&&r),"psScrollY"===e&&(r=!1!==o.PS_SCROLL_Y.emit(n)&&r),"psScrollX"===e&&(r=!1!==o.PS_SCROLL_X.emit(n)&&r),"psScrollUp"===e&&(r=!1!==o.PS_SCROLL_UP.emit(n)&&r),"psScrollDown"===e&&(r=!1!==o.PS_SCROLL_DOWN.emit(n)&&r),"psScrollLeft"===e&&(r=!1!==o.PS_SCROLL_LEFT.emit(n)&&r),"psScrollRight"===e&&(r=!1!==o.PS_SCROLL_RIGHT.emit(n)&&r),"psYReachEnd"===e&&(r=!1!==o.PS_Y_REACH_END.emit(n)&&r),"psYReachStart"===e&&(r=!1!==o.PS_Y_REACH_START.emit(n)&&r),"psXReachEnd"===e&&(r=!1!==o.PS_X_REACH_END.emit(n)&&r),"psXReachStart"===e&&(r=!1!==o.PS_X_REACH_START.emit(n)&&r),r},null,null)),i["\u0275did"](2,999424,[[1,4]],0,Rm,[i.NgZone,i.KeyValueDiffers,i.ElementRef,i.PLATFORM_ID,[2,Dm]],{disabled:[0,"disabled"],config:[1,"config"]},{PS_SCROLL_Y:"psScrollY",PS_SCROLL_X:"psScrollX",PS_SCROLL_UP:"psScrollUp",PS_SCROLL_DOWN:"psScrollDown",PS_SCROLL_LEFT:"psScrollLeft",PS_SCROLL_RIGHT:"psScrollRight",PS_Y_REACH_END:"psYReachEnd",PS_Y_REACH_START:"psYReachStart",PS_X_REACH_END:"psXReachEnd",PS_X_REACH_START:"psXReachStart"}),(t()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","ps-content"]],null,null,null,null,null)),i["\u0275ncd"](null,0),(t()(),i["\u0275and"](16777216,null,null,1,null,X_)),i["\u0275did"](6,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.disabled,n.config),t(e,6,0,n.scrollIndicators)},function(t,e){t(e,1,0,e.component.usePSClass)})}var Q_=i["\u0275crt"]({encapsulation:2,styles:[".font-picker{position:absolute;z-index:1000;top:250px;left:30px;display:flex;flex-direction:column;width:280px;height:320px;min-width:200px;min-height:240px;border:#777 solid 1px;cursor:default;user-select:none;font-family:'Open Sans',sans-serif;background-color:#fff}.font-picker[hidden]{display:none}.font-picker input,.font-picker select{width:100%;padding:4px;border:none;border-bottom:2px solid #cfcfcf;outline:0;font-size:14px;line-height:18px;text-align:left;background:0 0;transition:border .3s ease}.font-picker input:active,.font-picker input:focus,.font-picker input:hover,.font-picker select:active,.font-picker select:focus,.font-picker select:hover{border-bottom:2px solid #999}.font-picker input:invalid,.font-picker select:invalid{border-bottom:2px solid #e74c3c;box-shadow:none}.font-picker input::-webkit-inner-spin-button,.font-picker input::-webkit-outer-spin-button,.font-picker select::-webkit-inner-spin-button,.font-picker select::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.font-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.font-picker .arrow-left{top:10px;left:231px;border-width:5px 10px;border-color:transparent transparent transparent #777}.font-picker .arrow-right{top:10px;left:-20px;border-width:5px 10px;border-color:transparent #777 transparent transparent}.font-picker .arrow-top{top:0;left:10px;border-width:10px 5px;border-color:#777 transparent transparent transparent}.font-picker .arrow-bottom{top:-20px;left:10px;border-width:10px 5px;border-color:transparent transparent #777 transparent}.font-picker .search-box{position:relative}.font-picker .search-field{box-sizing:border-box;padding:12px 48px 12px 16px}.font-picker .search-field:disabled{opacity:.5;cursor:not-allowed;background-color:#888}.font-picker .search-reset{position:absolute;top:0;right:0;padding:0 16px;cursor:pointer;font-size:31px;color:#777;transition:color .3s ease}.font-picker .search-reset:hover{color:#555}.font-picker .load-text{padding:16px;font-size:12px;text-align:center;color:#000}.font-picker .font-list{position:relative;overflow:hidden;flex:1 1 auto}.font-picker .font-list .font-item{position:relative;padding:8px 16px;cursor:pointer}.font-picker .font-list .font-item.active{font-weight:700}.font-picker .font-list .font-item.active.selected{cursor:default;font-weight:400;background:#e6e6e6}.font-picker .font-list .font-item .font-info{margin:4px 0}.font-picker .font-list .font-item .font-info .font-name{font-size:14px;text-transform:capitalize;color:#555}.font-picker .font-list .font-item .font-info .not-available{float:right;width:24px;margin:-8px -8px 0 0;font-size:24px;font-weight:900;font-family:'Open Sans',sans-serif;text-align:center;text-transform:none;color:#ef8b80}.font-picker .font-list .font-item .font-info .not-available::after{content:'This font is not from Google Fonts. If you select it, you might have to inject it manually.';position:absolute;z-index:10;top:0;right:12px;left:12px;opacity:0;padding:12px 16px;margin:0 auto;border-radius:2px;pointer-events:none;font-size:13px;font-weight:400;text-align:left;color:#fff;background:rgba(60,60,60,.8);transition:opacity 150ms ease}.font-picker .font-list .font-item .font-info .not-available:hover{color:#ea6153}.font-picker .font-list .font-item .font-info .not-available:hover::after{opacity:1}.font-picker .font-list .font-item .font-text{padding:4px 0;font-size:16px;text-align:right;color:#999}.font-picker .font-list .font-group{display:flex;flex:none}.font-picker .font-list .font-group .group-line{flex:1 1 auto;height:2px;margin-top:14px;margin-right:12px;background:#e74c3c}.font-picker .font-list .font-group .group-line.black{background:#000}.font-picker .font-list .font-group .group-text{overflow:hidden;box-sizing:border-box;max-width:75%;padding:8px 12px;font-size:11px;font-weight:700;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#e74c3c}.font-picker .font-list .font-group .group-text.black{color:#000}.font-picker .font-options{display:flex;box-sizing:border-box;padding:8px;border-top:2px solid #cfcfcf}.font-picker .font-options .left{flex:1 1 auto;padding:0 2px}.font-picker .font-options .left .style-select{text-transform:capitalize}.font-picker .font-options .left .style-select:disabled{background-color:#777}.font-picker .font-options .right{padding:0 2px}.font-picker .font-options .right .size-select{width:48px;text-align:center}.font-picker .button-area{padding:0 4px 4px;border-top:1px solid #aaa;text-align:right}.font-picker .button-area .fp-cancel-button-class,.font-picker .button-area .fp-upload-button-class{display:inline-block;margin:8px;text-align:center;text-transform:uppercase}"],data:{}});function Z_(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","load-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["Loading fonts list..."]))],null,null)}function J_(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","not-available"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["!"]))],null,null)}function $_(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","font-item"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSelectFont(t.context.$implicit)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{active:0,selected:1}),i["\u0275did"](3,278528,null,0,A,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{"font-family":0}),(t()(),i["\u0275eld"](5,0,null,null,4,"div",[["class","font-info"]],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[["class","font-name"]],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,["",""])),(t()(),i["\u0275and"](16777216,null,null,1,null,J_)),i["\u0275did"](9,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,"font-item",t(e,2,0,e.context.$implicit.family.toLowerCase()==n.font.family.toLowerCase(),n.selectedFont)),t(e,3,0,t(e,4,0,e.context.$implicit.family)),t(e,9,0,!e.context.$implicit.files)},function(t,e){t(e,7,0,e.context.$implicit.family)})}function tC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,3,"div",[["class","font-group"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"div",[["class","group-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[["class","group-line"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,2,null,$_)),i["\u0275did"](6,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),i["\u0275pid"](0,Um,[])],function(t,e){var n=e.component;t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform(n.presetFonts,0,n.loadedFonts)),n.trackFont)},function(t,e){t(e,3,0,e.component.fpPresetLabel)})}function eC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","font-item"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSelectFont(t.context.$implicit)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{active:0,selected:1}),i["\u0275did"](3,278528,null,0,A,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{"font-family":0}),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[["class","font-info"]],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[["class","font-name"]],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,["",""]))],function(t,e){var n=e.component;t(e,1,0,"font-item",t(e,2,0,e.context.$implicit.family.toLowerCase()==n.font.family.toLowerCase(),n.selectedFont)),t(e,3,0,t(e,4,0,e.context.$implicit.family))},function(t,e){t(e,7,0,e.context.$implicit.family)})}function nC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"option",[],null,null,null,null,null)),i["\u0275did"](1,147456,null,0,Po,[i.ElementRef,i.Renderer2,[2,Ro]],{value:[0,"value"]},null),i["\u0275did"](2,147456,null,0,jo,[i.ElementRef,i.Renderer2,[8,null]],{value:[0,"value"]},null),(t()(),i["\u0275ted"](3,null,["",""])),i["\u0275ppd"](4,1)],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,t(e,4,0,i["\u0275nov"](e.parent.parent.parent,0),e.context.$implicit)))})}function iC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["class","left"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,7,"select",[["class","style-select"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(t,e,n){var r=!0,o=t.component;return"change"===e&&(r=!1!==i["\u0275nov"](t,2).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,2).onTouched()&&r),"change"===e&&(r=!1!==o.onFontStyleChange(n,o.font)&&r),"ngModelChange"===e&&(r=!1!==(o.font.style=n)&&r),r},null,null)),i["\u0275did"](2,16384,null,0,Ro,[i.Renderer2,i.ElementRef],null,null),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Ro]),i["\u0275did"](4,671744,null,0,gl,[[8,null],[8,null],[8,null],[2,bo]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,ko,null,[gl]),i["\u0275did"](6,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,nC)),i["\u0275did"](8,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,4,0,!n.font.styles,n.font.style),t(e,8,0,n.font.styles)},function(t,e){t(e,1,0,i["\u0275nov"](e,6).ngClassUntouched,i["\u0275nov"](e,6).ngClassTouched,i["\u0275nov"](e,6).ngClassPristine,i["\u0275nov"](e,6).ngClassDirty,i["\u0275nov"](e,6).ngClassValid,i["\u0275nov"](e,6).ngClassInvalid,i["\u0275nov"](e,6).ngClassPending)})}function rC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,12,"div",[["class","right"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,11,"input",[["max","100"],["min","1"],["pattern","[0-9]*"],["type","number"]],[[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,o=t.component;return"input"===e&&(r=!1!==i["\u0275nov"](t,4)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,4).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,4)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,4)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==i["\u0275nov"](t,5).onChange(n.target.value)&&r),"input"===e&&(r=!1!==i["\u0275nov"](t,5).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,5).onTouched()&&r),"change"===e&&(r=!1!==o.onFontSizeChange(n,o.font)&&r),r},null,null)),i["\u0275did"](2,278528,null,0,C,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](3,{"size-select":0}),i["\u0275did"](4,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275did"](5,16384,null,0,Eo,[i.Renderer2,i.ElementRef],null,null),i["\u0275did"](6,540672,null,0,Sl,[],{pattern:[0,"pattern"]},null),i["\u0275prd"](1024,null,po,function(t){return[t]},[Sl]),i["\u0275prd"](1024,null,bo,function(t,e){return[t,e]},[Co,Eo]),i["\u0275did"](9,671744,null,0,gl,[[8,null],[2,po],[8,null],[2,bo]],{model:[0,"model"]},null),i["\u0275ppd"](10,1),i["\u0275prd"](2048,null,ko,null,[gl]),i["\u0275did"](12,16384,null,0,Jo,[ko],null,null)],function(t,e){var n=e.component;t(e,2,0,t(e,3,0,n.fpStyleSelect)),t(e,6,0,"[0-9]*"),t(e,9,0,i["\u0275unv"](e,9,0,t(e,10,0,i["\u0275nov"](e.parent.parent,1),n.font.size)))},function(t,e){t(e,1,0,i["\u0275nov"](e,6).pattern?i["\u0275nov"](e,6).pattern:null,i["\u0275nov"](e,12).ngClassUntouched,i["\u0275nov"](e,12).ngClassTouched,i["\u0275nov"](e,12).ngClassPristine,i["\u0275nov"](e,12).ngClassDirty,i["\u0275nov"](e,12).ngClassValid,i["\u0275nov"](e,12).ngClassInvalid,i["\u0275nov"](e,12).ngClassPending)})}function oC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,4,"div",[["class","font-options"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,iC)),i["\u0275did"](3,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,rC)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.fpStyleSelect),t(e,5,0,n.fpSizeSelect)},null)}function lC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onUploadFont()&&i),i},null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275inlineInterpolate"](1,"",n.fpUploadButtonClass,"")),t(e,1,0,n.fpUploadButtonText)})}function aC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCancelSelect()&&i),i},null,null)),(t()(),i["\u0275ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275inlineInterpolate"](1,"",n.fpCancelButtonClass,"")),t(e,1,0,n.fpCancelButtonText)})}function sC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"div",[["class","button-area"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,lC)),i["\u0275did"](2,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275ted"](-1,null,[" "])),(t()(),i["\u0275and"](16777216,null,null,1,null,aC)),i["\u0275did"](5,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.fpUploadButton),t(e,5,0,n.fpCancelButton)},null)}function uC(t){return i["\u0275vid"](0,[i["\u0275pid"](0,Bm,[]),i["\u0275pid"](0,Vm,[]),i["\u0275qud"](402653184,1,{dialogElement:0}),i["\u0275qud"](402653184,2,{scrollbar:0}),(t()(),i["\u0275eld"](4,0,[[1,0],["dialogPopup",1]],null,27,"div",[["class","font-picker"]],[[8,"hidden",0],[4,"height","px"],[4,"width","px"],[4,"top","px"],[4,"left","px"],[4,"position",null]],null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,0,"div",[],[[8,"className",0],[4,"top","px"]],null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,8,"div",[["class","search-box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](7,0,null,null,5,"input",[["class","search-field"],["placeholder","Search from Google Web Fonts..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==i["\u0275nov"](t,8)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==i["\u0275nov"](t,8).onTouched()&&r),"compositionstart"===e&&(r=!1!==i["\u0275nov"](t,8)._compositionStart()&&r),"compositionend"===e&&(r=!1!==i["\u0275nov"](t,8)._compositionEnd(n.target.value)&&r),r},null,null)),i["\u0275did"](8,16384,null,0,Co,[i.Renderer2,i.ElementRef,[2,_o]],null,null),i["\u0275prd"](1024,null,bo,function(t){return[t]},[Co]),i["\u0275did"](10,540672,null,0,vl,[[8,null],[8,null],[2,bo]],{form:[0,"form"]},null),i["\u0275prd"](2048,null,ko,null,[vl]),i["\u0275did"](12,16384,null,0,Jo,[ko],null,null),(t()(),i["\u0275eld"](13,0,null,null,1,"div",[["class","search-reset"]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSearchReset(n)&&i),i},null,null)),(t()(),i["\u0275ted"](-1,null,["\xd7"])),(t()(),i["\u0275and"](16777216,null,null,1,null,Z_)),i["\u0275did"](16,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](17,0,null,null,10,"perfect-scrollbar",[["class","font-list"]],[[1,"fxFlex",0],[2,"ps-show-limits",null],[2,"ps-show-active",null]],[[null,"psYReachEnd"]],function(t,e,n){var i=!0;return"psYReachEnd"===e&&(i=!1!==t.component.renderMore.next(n)&&i),i},K_,Y_)),i["\u0275did"](18,507904,[[2,4],["dialogScrollbar",4]],0,Pm,[i.ChangeDetectorRef,i.ElementRef],{config:[0,"config"]},{PS_Y_REACH_END:"psYReachEnd"}),(t()(),i["\u0275and"](16777216,null,0,1,null,tC)),i["\u0275did"](20,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](21,0,null,0,3,"div",[["class","font-group"]],null,null,null,null,null)),(t()(),i["\u0275eld"](22,0,null,null,1,"div",[["class","group-text black"]],null,null,null,null,null)),(t()(),i["\u0275ted"](23,null,["",""])),(t()(),i["\u0275eld"](24,0,null,null,0,"div",[["class","group-line black"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,0,2,null,eC)),i["\u0275did"](26,802816,null,0,S,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),i["\u0275pid"](0,Um,[]),(t()(),i["\u0275and"](16777216,null,null,1,null,oC)),i["\u0275did"](29,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,sC)),i["\u0275did"](31,16384,null,0,T,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,10,0,n.searchTerm),t(e,16,0,n.loading),t(e,18,0,n.config),t(e,20,0,n.presetVisible&&n.fpPresetFonts.length),t(e,26,0,i["\u0275unv"](e,26,0,i["\u0275nov"](e,27).transform(n.currentFonts,0,n.loadedFonts))),t(e,29,0,n.selectedFont&&(n.fpStyleSelect||n.fpSizeSelect)),t(e,31,0,n.fpUploadButton||n.fpCancelButton)},function(t,e){var n=e.component;t(e,4,0,!n.open,n.fpHeight,n.fpWidth,n.top,n.left,n.position),t(e,5,0,i["\u0275inlineInterpolate"](1,"arrow arrow-",n.fpPosition,""),n.arrowTop),t(e,7,0,i["\u0275nov"](e,12).ngClassUntouched,i["\u0275nov"](e,12).ngClassTouched,i["\u0275nov"](e,12).ngClassPristine,i["\u0275nov"](e,12).ngClassDirty,i["\u0275nov"](e,12).ngClassValid,i["\u0275nov"](e,12).ngClassInvalid,i["\u0275nov"](e,12).ngClassPending),t(e,13,0,!n.searchTerm.value),t(e,17,0,"auto",i["\u0275nov"](e,18).autoPropagation,i["\u0275nov"](e,18).scrollIndicators),t(e,23,0,n.listLabel)})}var cC=i["\u0275ccf"]("font-picker",Fm,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"font-picker",[],null,null,null,uC,Q_)),i["\u0275did"](1,114688,null,0,Fm,[i.ChangeDetectorRef,i.ElementRef,Lm],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),hC=i["\u0275crt"]({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{background-color:#fff}"]],data:{}});function dC(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i["\u0275did"](1,212992,null,0,lr,[or,i.ViewContainerRef,i.ComponentFactoryResolver,[8,null],i.ChangeDetectorRef],null,null),(t()(),i["\u0275ted"](-1,null,["\n\n\n"]))],function(t,e){t(e,1,0)},null)}var pC,fC=i["\u0275ccf"]("app-root",so,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,dC,hC)),i["\u0275did"](1,114688,null,0,so,[ue,ro],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),gC=function(){function t(t,e,n){this.auth=t,this.router=e,this.notify=n}return t.prototype.canActivate=function(t,e){var n=this;return this.auth.user.pipe(Object(Te.u)(1),Object(Te.k)(function(t){return!!t}),Object(Te.v)(function(t){t||n.router.navigate(["/login"])}))},t}(),mC=n("sbrb"),vC=function(){function t(){}return t.prototype.getExifOrientedImage=function(t){return new Promise(function(e,n){mC.getData(t,function(){var n=mC.getAllTags(t).Orientation;if(n){var i=document.createElement("canvas"),r=i.getContext("2d"),o=t.width,l=t.height;if([5,6,7,8].indexOf(n)>-1?(i.width=l,i.height=o):(i.width=o,i.height=l),r){switch(n){case 2:r.transform(-1,0,0,1,o,0);break;case 3:r.transform(-1,0,0,-1,o,l);break;case 4:r.transform(1,0,0,-1,0,l);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,l,0);break;case 7:r.transform(0,-1,-1,0,l,o);break;case 8:r.transform(0,-1,1,0,0,o);break;default:r.transform(1,0,0,1,0,0)}r.drawImage(t,0,0,o,l);var a=new Image;a.width=o,a.height=l,a.onload=function(){e(a)},a.src=i.toDataURL()}}else e(t)})})},t}();!function(t){t.NO_FILES_RECEIVED="NO_FILES_RECEIVED",t.CANVAS_CONTEXT_IDENTIFIER_NOT_SUPPORTED="CANVAS_CONTEXT_IDENTIFIER_NOT_SUPPORTED",t.NOT_BE_ABLE_TO_COMPRESS_ENOUGH="NOT_BE_ABLE_TO_COMPRESS_ENOUGH"}(pC||(pC={}));var yC=n("ftaU"),bC=n.n(yC),wC=function(){function t(t){this._ngxPicaExifService=t,this.picaResizer=new bC.a,this.MAX_STEPS=20,this.picaResizer&&this.picaResizer.resize||(this.picaResizer=new window.pica)}return t.prototype.resizeImages=function(t,e,n,i){var r=this,o=new Ee.a,l=t.length;if(l>0){var a=new Ee.a,s=0,u=a.subscribe(function(c){r.resizeImage(c,e,n,i).subscribe(function(e){s++,o.next(e),s<l?a.next(t[s]):(o.complete(),u.unsubscribe())},function(t){o.error({file:c,err:t})})});a.next(t[s])}else o.error({err:pC.NO_FILES_RECEIVED}),o.complete();return o.asObservable()},t.prototype.resizeImage=function(t,e,n,i){var r=this,o=new Ee.a,l=document.createElement("canvas"),a=l.getContext("2d"),s=new Image;return a?(s.onload=function(){r._ngxPicaExifService.getExifOrientedImage(s).then(function(u){window.URL.revokeObjectURL(s.src),l.width=u.width,l.height=u.height,a.drawImage(u,0,0);var c,h=a.getImageData(0,0,u.width,u.height);i&&i.aspectRatio&&i.aspectRatio.keepAspectRatio&&(c=i.aspectRatio.forceMinDimensions?Math.max(e/h.width,n/h.height):Math.min(e/h.width,n/h.height),e=Math.round(h.width*c),n=Math.round(h.height*c));var d=document.createElement("canvas");d.width=e,d.height=n,r.picaResize(t,l,d,i).catch(function(t){return o.error(t)}).then(function(t){o.next(t)})})},s.src=window.URL.createObjectURL(t)):o.error(pC.CANVAS_CONTEXT_IDENTIFIER_NOT_SUPPORTED),o.asObservable()},t.prototype.compressImages=function(t,e){var n=this,i=new Ee.a,r=t.length;if(r>0){var o=new Ee.a,l=0,a=o.subscribe(function(s){n.compressImage(s,e).subscribe(function(e){l++,i.next(e),l<r?o.next(t[l]):(i.complete(),a.unsubscribe())},function(t){i.error({file:s,err:t})})});o.next(t[l])}else i.error({err:pC.NO_FILES_RECEIVED}),i.complete();return i.asObservable()},t.prototype.compressImage=function(t,e){var n=this,i=new Ee.a;if(this.bytesToMB(t.size)<=e)setTimeout(function(){i.next(t)});else{var r=document.createElement("canvas"),o=r.getContext("2d"),l=new Image;o?(l.onload=function(){n._ngxPicaExifService.getExifOrientedImage(l).then(function(a){window.URL.revokeObjectURL(l.src),r.width=a.width,r.height=a.height,o.drawImage(a,0,0),n.getCompressedImage(r,t.type,1,e,0).catch(function(t){return i.error(t)}).then(function(e){var r=n.blobToFile(e,t.name,t.type,(new Date).getTime());i.next(r)})})},l.src=window.URL.createObjectURL(t)):i.error(pC.CANVAS_CONTEXT_IDENTIFIER_NOT_SUPPORTED)}return i.asObservable()},t.prototype.getCompressedImage=function(t,e,n,i,r){var o=this;return new Promise(function(l,a){o.picaResizer.toBlob(t,e,n).catch(function(t){return a(t)}).then(function(e){o.checkCompressedImageSize(t,e,n,i,r).catch(function(t){return a(t)}).then(function(t){l(t)})})})},t.prototype.checkCompressedImageSize=function(t,e,n,i,r){var o=this;return new Promise(function(l,a){r>o.MAX_STEPS&&a(pC.NOT_BE_ABLE_TO_COMPRESS_ENOUGH),o.bytesToMB(e.size)<i?l(e):l(o.getCompressedImage(t,e.type,n-.1*n,i,r+1))})},t.prototype.picaResize=function(t,e,n,i){var r=this;return new Promise(function(o,l){r.picaResizer.resize(e,n,i).catch(function(t){return l(t)}).then(function(e){return r.picaResizer.toBlob(e,t.type)}).then(function(e){var n=r.blobToFile(e,t.name,t.type,(new Date).getTime());o(n)})})},t.prototype.blobToFile=function(t,e,n,i){return new File([t],e,{type:n,lastModified:i})},t.prototype.bytesToMB=function(t){return t/1048576},t}(),_C=function(){function t(){this.imageExtensions=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga"]}return t.prototype.isImage=function(t){var e=t.name.toLowerCase().substr(t.name.lastIndexOf(".")+1);return-1!==this.imageExtensions.indexOf(e)},t}(),CC=function(){function t(){}return t.prototype.close=function(t){},t.prototype.dismiss=function(t){},t}(),xC=function(){function t(t,e,n,i){var r=this;this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=i,t.instance.dismissEvent.subscribe(function(t){r.dismiss(t)}),this.result=new Promise(function(t,e){r._resolve=t,r._reject=e}),this.result.then(null,function(){})}return Object.defineProperty(t.prototype,"componentInstance",{get:function(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance},set:function(t){},enumerable:!0,configurable:!0}),t.prototype.close=function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())},t.prototype.dismiss=function(t){this._windowCmptRef&&(this._beforeDismiss&&!1===this._beforeDismiss()||(this._reject(t),this._removeModalElements()))},t.prototype._removeModalElements=function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null},t}(),SC=function(){function t(t,e,n,i){this._applicationRef=t,this._injector=e,this._componentFactoryResolver=n,this._windowAttributes=["backdrop","centered","keyboard","size","windowClass"],this._backdropAttributes=["backdropClass"],this._document=i}return t.prototype.open=function(t,e,n,i){var r=sw(i.container)?this._document.querySelector(i.container):this._document.body;if(!r)throw new Error('The specified modal container "'+(i.container||"body")+'" was not found in the DOM.');var o=new CC,l=this._getContentRef(t,i.injector||e,n,o),a=!1!==i.backdrop?this._attachBackdrop(r):null,s=this._attachWindowComponent(r,l),u=new xC(s,l,a,i.beforeDismiss);return o.close=function(t){u.close(t)},o.dismiss=function(t){u.dismiss(t)},this._applyWindowOptions(s.instance,i),a&&a.instance&&this._applyBackdropOptions(a.instance,i),u},t.prototype._attachBackdrop=function(t){var e=this._componentFactoryResolver.resolveComponentFactory(h_).create(this._injector);return this._applicationRef.attachView(e.hostView),t.appendChild(e.location.nativeElement),e},t.prototype._attachWindowComponent=function(t,e){var n=this._componentFactoryResolver.resolveComponentFactory(m_).create(this._injector,e.nodes);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n},t.prototype._applyWindowOptions=function(t,e){this._windowAttributes.forEach(function(n){sw(e[n])&&(t[n]=e[n])})},t.prototype._applyBackdropOptions=function(t,e){this._backdropAttributes.forEach(function(n){sw(e[n])&&(t[n]=e[n])})},t.prototype._getContentRef=function(t,e,n,r){return n?n instanceof i.TemplateRef?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r):new C_([])},t.prototype._createFromTemplateRef=function(t,e){var n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new C_([n.rootNodes],n)},t.prototype._createFromString=function(t){var e=this._document.createTextNode(""+t);return new C_([[e]])},t.prototype._createFromComponent=function(t,e,n,r){var o=t.resolveComponentFactory(n),l=i.ReflectiveInjector.resolveAndCreate([{provide:CC,useValue:r}],e),a=o.create(l);return this._applicationRef.attachView(a.hostView),new C_([[a.location.nativeElement]],a.hostView,a)},t}(),EC=function(){function t(t,e,n){this._moduleCFR=t,this._injector=e,this._modalStack=n}return t.prototype.open=function(t,e){return void 0===e&&(e={}),this._modalStack.open(this._moduleCFR,this._injector,t,e)},t}(),TC=function(){var t={Up:1,Down:3,Right:6,Left:8,UpMirrored:2,DownMirrored:4,LeftMirrored:5,RightMirrored:7,NotJpeg:-1,NotDefined:-2};return t[t.Up]="Up",t[t.Down]="Down",t[t.Right]="Right",t[t.Left]="Left",t[t.UpMirrored]="UpMirrored",t[t.DownMirrored]="DownMirrored",t[t.LeftMirrored]="LeftMirrored",t[t.RightMirrored]="RightMirrored",t[t.NotJpeg]="NotJpeg",t[t.NotDefined]="NotDefined",t}(),kC=function(){function t(){}return t.getOrientation=function(t,e){var n=new FileReader;try{n.onload=function(t){var i=new DataView(n.result);if(65496!==i.getUint16(0,!1))return e(-2);for(var r=i.byteLength,o=2;o<r;){var l=i.getUint16(o,!1);if(o+=2,65505===l){if(1165519206!==i.getUint32(o+=2,!1))return e(-1);var a=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,a);var s=i.getUint16(o,a);o+=2;for(var u=0;u<s;u++)if(274===i.getUint16(o+12*u,a))return e(i.getUint16(o+12*u+8,a))}else{if(65280!=(65280&l))break;o+=i.getUint16(o,!1)}}return e(-1)},n.readAsArrayBuffer(t)}catch(t){return e(0)}},t.uploadFile=function(e){return new Promise(function(n,i){var r=e.createElement("input");e.setStyle(r,"display","none"),e.setProperty(r,"type","file"),e.listen(r,"click",function(t){t.target.value=null}),e.listen(r,"change",function(e){var r=e.target.files[0],o=new FileReader;o.onloadend=function(e){try{t.getOrientation(r,function(t){n({image:o.result,orientation:t})})}catch(e){i(e)}};try{o.readAsDataURL(r)}catch(t){console.warn("ngx-image-compress - probably no file have been selected: "+t),i("No file selected")}}),r.click()})},t.compress=function(t,e,n,i,r){return void 0===i&&(i=50),void 0===r&&(r=50),new Promise(function(o,l){r/=100,i/=100;var a=new Image;a.onload=function(){var l,s,u=n.createElement("canvas"),c=u.getContext("2d");if(l=a.naturalWidth,s=a.naturalHeight,e===TC.Right||e===TC.Left){var h=l;l=s,s=h}u.width=l*i,u.height=s*i;var d=Math.PI/180;e===TC.Up?c.drawImage(a,0,0,u.width,u.height):e===TC.Right?(c.save(),c.rotate(90*d),c.translate(0,-u.width),c.drawImage(a,0,0,u.height,u.width),c.restore()):e===TC.Left?(c.save(),c.rotate(-90*d),c.translate(-u.width,0),c.drawImage(a,0,0,u.height,u.width),c.restore()):e===TC.Down?(c.save(),c.rotate(180*d),c.translate(-u.width,-u.height),c.drawImage(a,0,0,u.width,u.height),c.restore()):c.drawImage(a,0,0,u.width,u.height);var p=t.substr(5,t.split(";")[0].length-5),f=u.toDataURL(p,r);o(f)},a.src=t})},t.byteCount=function(t){return encodeURI(t).split(/%..|./).length-1},t}(),AC=function(){function t(t){this.DOC_ORIENTATION=TC,this.render=t.createRenderer(null,null)}return t.prototype.byteCount=function(t){return kC.byteCount(t)},t.prototype.uploadFile=function(){return kC.uploadFile(this.render)},t.prototype.compressFile=function(t,e,n,i){return void 0===n&&(n=50),void 0===i&&(i=50),kC.compress(t,e,this.render,n,i)},t}();function DC(t){var e=function(t){return new Se.b(function(e){return t.on("state_changed",function(t){return e.next(t)},function(t){return e.error(t)},function(){return e.complete()}),function(){return t.cancel()}})}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(Object(Te.k)(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function OC(t,e){return{getDownloadURL:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular(Object(Se.i)(e.zone.runOutsideAngular(function(){return t.getDownloadURL()}))))},getMetadata:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular(Object(Se.i)(e.zone.runOutsideAngular(function(){return t.getMetadata()}))))},delete:function(){return Object(Se.i)(t.delete())},child:function(n){return OC(t.child(n),e)},updateMetatdata:function(e){return Object(Se.i)(t.updateMetadata(e))},updateMetadata:function(e){return Object(Se.i)(t.updateMetadata(e))},put:function(e,n){return DC(t.put(e,n))},putString:function(e,n,i){return DC(t.putString(e,n,i))}}}var IC=new i.InjectionToken("angularfire2.storageBucket"),RC=function(){function t(t,e,n,i,r){this.scheduler=new kr(r,i),this.storage=r.runOutsideAngular(function(){return Mr(t,e).storage(n||void 0)})}return t.prototype.ref=function(t){return OC(this.storage.ref(t),this.scheduler)},t.prototype.upload=function(t,e,n){return OC(this.storage.ref(t),this.scheduler).put(e,n)},Object(l.__decorate)([Object(l.__param)(0,Object(i.Inject)(Ir)),Object(l.__param)(1,Object(i.Optional)()),Object(l.__param)(1,Object(i.Inject)(Rr)),Object(l.__param)(2,Object(i.Optional)()),Object(l.__param)(2,Object(i.Inject)(IC)),Object(l.__param)(3,Object(i.Inject)(i.PLATFORM_ID))],t)}(),PC=(n("D8I6"),function(){}),MC=new i.InjectionToken("angularfire2.functions.region"),NC=new i.InjectionToken("angularfire2.functions.origin"),jC=MC,LC=function(){function t(t,e,n,i,r,o){this.scheduler=new kr(i,n),this.functions=i.runOutsideAngular(function(){return Mr(t,e).functions(r||void 0)}),o&&this.functions.useFunctionsEmulator(o)}return t.prototype.httpsCallable=function(t){var e=this,n=this.functions.httpsCallable(t);return function(t){var i=Object(Se.i)(n(t));return e.scheduler.runOutsideAngular(i.pipe(Object(Te.k)(function(t){return t.data})))}},Object(l.__decorate)([Object(l.__param)(0,Object(i.Inject)(Ir)),Object(l.__param)(1,Object(i.Optional)()),Object(l.__param)(1,Object(i.Inject)(Rr)),Object(l.__param)(2,Object(i.Inject)(i.PLATFORM_ID)),Object(l.__param)(4,Object(i.Optional)()),Object(l.__param)(4,Object(i.Inject)(jC)),Object(l.__param)(5,Object(i.Optional)()),Object(l.__param)(5,Object(i.Inject)(NC))],t)}(),FC=(n("aEs4"),function(){}),VC=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),BC=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),UC=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),qC=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),WC=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}(),HC=function(){function t(e){var n=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):Object.keys(e).forEach(function(t){var i=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),i.forEach(function(e){return n.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=t.slice(e+1).trim();n.set(i,r)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,i){return t(n,e._normalizedNames.get(i),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,i){var r=[];n.forEach(function(t){return r.push.apply(r,t.split(","))}),e[t._normalizedNames.get(i)]=r}),e},t.prototype.getAll=function(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),zC=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,i=t.headers,r=t.statusText,o=t.type,l=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=i?i:null,this.statusText=null!=r?r:null,this.type=null!=o?o:null,this.url=null!=l?l:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),GC=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:UC.Default,headers:new HC})||this}return Object(l.__extends)(e,t),e}(zC),YC=function(){};function XC(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return BC.Get;case"POST":return BC.Post;case"PUT":return BC.Put;case"DELETE":return BC.Delete;case"OPTIONS":return BC.Options;case"HEAD":return BC.Head;case"PATCH":return BC.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}var KC=function(t){return t>=200&&t<300},QC=function(){function t(){}return t.prototype.encodeKey=function(t){return ZC(t)},t.prototype.encodeValue=function(t){return ZC(t)},t}();function ZC(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var JC=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new QC),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t="");var e=new Map;return t.length>0&&t.split("&").forEach(function(t){var n=t.indexOf("="),i=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],r=i[0],o=i[1],l=e.get(r)||[];l.push(o),e.set(r,l)}),e}(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0,i.push(t[0]),e.paramsMap.set(n,i)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var i=e.paramsMap.get(n)||[],r=0;r<t.length;++r)i.push(t[r]);e.paramsMap.set(n,i)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0;for(var r=0;r<t.length;++r)i.push(t[r]);e.paramsMap.set(n,i)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,i){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(i)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),$C=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof JC)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),n=0,i=t.length;n<i;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),tx=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}($C),ex=/^\)\]\}',?\n/,nx=function(){function t(t,e,n){var i=this;this.request=t,this.response=new Oe.Observable(function(r){var o=e.build();o.open(BC[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(o.withCredentials=t.withCredentials);var l=function(){var e=1223===o.status?204:o.status,i=null;204!==e&&"string"==typeof(i="undefined"==typeof o.response?o.responseText:o.response)&&(i=i.replace(ex,"")),0===e&&(e=i?200:0);var l,a=HC.fromResponseHeaderString(o.getAllResponseHeaders()),s=("responseURL"in(l=o)?l.responseURL:/^X-Request-URL:/m.test(l.getAllResponseHeaders())?l.getResponseHeader("X-Request-URL"):null)||t.url,u=new zC({body:i,status:e,headers:a,statusText:o.statusText||"OK",url:s});null!=n&&(u=n.merge(u));var c=new tx(u);if(c.ok=KC(e),c.ok)return r.next(c),void r.complete();r.error(c)},a=function(t){var e=new zC({body:t,type:UC.Error,status:o.status,statusText:o.statusText});null!=n&&(e=n.merge(e)),r.error(new tx(e))};if(i.setDetectedContentType(t,o),null==t.headers&&(t.headers=new HC),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return o.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=o.responseType)switch(t.responseType){case WC.ArrayBuffer:o.responseType="arraybuffer";break;case WC.Json:o.responseType="json";break;case WC.Text:o.responseType="text";break;case WC.Blob:o.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return o.addEventListener("load",l),o.addEventListener("error",a),o.send(i.request.getBody()),function(){o.removeEventListener("load",l),o.removeEventListener("error",a),o.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case qC.NONE:break;case qC.JSON:e.setRequestHeader("content-type","application/json");break;case qC.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case qC.TEXT:e.setRequestHeader("content-type","text/plain");break;case qC.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),ix=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=W().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),rx=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new nx(t,this._browserXHR,this._baseResponseOptions)},t}(),ox=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,i=t.body,r=t.url,o=t.search,l=t.params,a=t.withCredentials,s=t.responseType;this.method=null!=e?XC(e):null,this.headers=null!=n?n:null,this.body=null!=i?i:null,this.url=null!=r?r:null,this.params=this._mergeSearchParams(l||o),this.withCredentials=null!=a?a:null,this.responseType=null!=s?s:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new HC(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof JC?t.clone():"string"==typeof t?new JC(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new JC;return Object.keys(t).forEach(function(i){var r=t[i];Array.isArray(r)?r.forEach(function(t){return e._appendParam(i,t,n)}):e._appendParam(i,r,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),lx=function(t){function e(){return t.call(this,{method:BC.Get,headers:new HC})||this}return Object(l.__extends)(e,t),e}(ox),ax=function(t){function e(e){var n=t.call(this)||this,i=e.url;n.url=e.url;var r,o=e.params||e.search;if(o&&(r="object"!=typeof o||o instanceof JC?o.toString():function(t){var e=new JC;return Object.keys(t).forEach(function(n){var i=t[n];i&&Array.isArray(i)?i.forEach(function(t){return e.append(n,t.toString())}):e.append(n,i.toString())}),e}(o).toString()).length>0){var l="?";-1!=n.url.indexOf("?")&&(l="&"==n.url[n.url.length-1]?"":"&"),n.url=i+l+r}return n._body=e.body,n.method=XC(e.method),n.headers=new HC(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return Object(l.__extends)(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return qC.JSON;case"application/x-www-form-urlencoded":return qC.FORM;case"multipart/form-data":return qC.FORM_DATA;case"text/plain":case"text/html":return qC.TEXT;case"application/octet-stream":return this._body instanceof dx?qC.ARRAY_BUFFER:qC.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?qC.NONE:this._body instanceof JC?qC.FORM:this._body instanceof cx?qC.FORM_DATA:this._body instanceof hx?qC.BLOB:this._body instanceof dx?qC.ARRAY_BUFFER:this._body&&"object"==typeof this._body?qC.JSON:qC.TEXT},e.prototype.getBody=function(){switch(this.contentType){case qC.JSON:case qC.FORM:return this.text();case qC.FORM_DATA:return this._body;case qC.TEXT:return this.text();case qC.BLOB:return this.blob();case qC.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}($C),sx=function(){},ux="object"==typeof window?window:sx,cx=ux.FormData||sx,hx=ux.Blob||sx,dx=ux.ArrayBuffer||sx;function px(t,e){return t.createConnection(e).response}function fx(t,e,n,i){return t.merge(new ox(e?{method:e.method||n,url:e.url||i,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:i}))}var gx=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=px(this._backend,new ax(fx(this._defaultOptions,e,BC.Get,t)));else{if(!(t instanceof ax))throw new Error("First argument must be a url string or Request instance.");n=px(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new ax(fx(this._defaultOptions,e,BC.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new ax(fx(this._defaultOptions.merge(new ox({body:e})),n,BC.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new ax(fx(this._defaultOptions.merge(new ox({body:e})),n,BC.Put,t)))},t.prototype.delete=function(t,e){return this.request(new ax(fx(this._defaultOptions,e,BC.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new ax(fx(this._defaultOptions.merge(new ox({body:e})),n,BC.Patch,t)))},t.prototype.head=function(t,e){return this.request(new ax(fx(this._defaultOptions,e,BC.Head,t)))},t.prototype.options=function(t,e){return this.request(new ax(fx(this._defaultOptions,e,BC.Options,t)))},t}();function mx(){return new ix}function vx(t,e){return new gx(t,e)}var yx,bx=function(){},wx=function(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1},_x=function(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement="bottom-left"},Cx=function(){this.closeOthers=!1},xx=function(){this.interval=5e3,this.wrap=!0,this.keyboard=!0},Sx=function(){},Ex=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.parse=function(t){if(t){var e=t.trim().split("-");if(1===e.length&&lw(e[0]))return{year:rw(e[0]),month:null,day:null};if(2===e.length&&lw(e[0])&&lw(e[1]))return{year:rw(e[0]),month:rw(e[1]),day:null};if(3===e.length&&lw(e[0])&&lw(e[1])&&lw(e[2]))return{year:rw(e[0]),month:rw(e[1]),day:rw(e[2])}}return null},e.prototype.format=function(t){return t?t.year+"-"+(lw(t.month)?uw(t.month):"")+"-"+(lw(t.day)?uw(t.day):""):""},e}(Sx),Tx=function(){this.autoClose=!0,this.placement="bottom-left"},kx=function(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1},Ax=function(){this.max=10,this.readonly=!1,this.resettable=!1},Dx=function(){this.justify="start",this.orientation="horizontal",this.type="tabs"},Ox=function(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"},Ix=function(){},Rx=function(){},Px=function(){},Mx=function(){},Nx=(n("zF5W"),function(){}),jx=(this&&this.__extends||Object.setPrototypeOf||Array,this&&this.__extends||Object.setPrototypeOf||Array,[Ng,{provide:Lg,useFactory:jg},{provide:Bg,useFactory:Fg,deps:[Ng]}]),Lx=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:jx}},t}(),Fx=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Cx]}},t}(),Vx=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Xb]}},t}(),Bx=(Object(i.forwardRef)(function(){return Bx}),function(){function t(t){this._label=t,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"focused",{set:function(t){this._label.focused=t,t||this.onTouched()},enumerable:!0,configurable:!0}),t.prototype.onInputChange=function(t){var e=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(e),this.onTouched(),this.writeValue(e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t,this._label.disabled=t},t.prototype.writeValue=function(t){this.checked=t===this.valueChecked,this._label.active=this.checked},t}()),Ux=(Object(i.forwardRef)(function(){return qx}),0),qx=function(){function t(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+Ux++,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this.setDisabledState(t)},enumerable:!0,configurable:!0}),t.prototype.onRadioChange=function(t){this.writeValue(t.value),this.onChange(t.value)},t.prototype.onRadioValueUpdate=function(){this._updateRadiosValue()},t.prototype.register=function(t){this._radios.add(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._disabled=t,this._updateRadiosDisabled()},t.prototype.unregister=function(t){this._radios.delete(t)},t.prototype.writeValue=function(t){this._value=t,this._updateRadiosValue()},t.prototype._updateRadiosValue=function(){var t=this;this._radios.forEach(function(e){return e.updateValue(t._value)})},t.prototype._updateRadiosDisabled=function(){this._radios.forEach(function(t){return t.updateDisabled()})},t}(),Wx=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}();!function(t){t[t.LEFT="left"]="LEFT",t[t.RIGHT="right"]="RIGHT"}(yx||(yx={}));var Hx=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[xx]}},t}(),zx=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),Gx=(Object(i.forwardRef)(function(){return Gx}),Object(i.forwardRef)(function(){return Gx}),function(){function t(t,e,n,r,o,l,a,s,u){var c=this;this._parserFormatter=t,this._elRef=e,this._vcRef=n,this._renderer=r,this._cfr=o,this._service=a,this._calendar=s,this._ngbDateAdapter=u,this._cRef=null,this._disabled=!1,this.autoClose=!0,this.placement="bottom-left",this.dateSelect=new i.EventEmitter,this.navigate=new i.EventEmitter,this._onChange=function(t){},this._onTouched=function(){},this._validatorChange=function(){},this._zoneSubscription=l.onStable.subscribe(function(){c._cRef&&__(c._elRef.nativeElement,c._cRef.location.nativeElement,c.placement,"body"===c.container)})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.registerOnValidatorChange=function(t){this._validatorChange=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.validate=function(t){var e=t.value;if(null===e||void 0===e)return null;var n=this._fromDateStruct(this._ngbDateAdapter.fromModel(e));return this._calendar.isValid(n)?this.minDate&&n.before(iw.from(this.minDate))?{ngbDate:{requiredBefore:this.minDate}}:this.maxDate&&n.after(iw.from(this.maxDate))?{ngbDate:{requiredAfter:this.maxDate}}:void 0:{ngbDate:{invalid:t.value}}},t.prototype.writeValue=function(t){this._model=this._fromDateStruct(this._ngbDateAdapter.fromModel(t)),this._writeModelValue(this._model)},t.prototype.manualDateChange=function(t,e){void 0===e&&(e=!1),this._model=this._fromDateStruct(this._parserFormatter.parse(t)),this._onChange(this._model?this._ngbDateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)},t.prototype.isOpen=function(){return!!this._cRef},t.prototype.open=function(){var t=this;if(!this.isOpen()){var e=this._cfr.resolveComponentFactory(i_);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._ngbDateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(function(e){t.writeValue(e),t._onChange(e)}),this._cRef.instance.focus(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._cRef.location.nativeElement)}},t.prototype.close=function(){this.isOpen()&&(this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null)},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype.navigateTo=function(t){this.isOpen()&&this._cRef.instance.navigateTo(t)},t.prototype.onBlur=function(){this._onTouched()},t.prototype.ngOnChanges=function(t){(t.minDate||t.maxDate)&&this._validatorChange()},t.prototype.ngOnDestroy=function(){this.close(),this._zoneSubscription.unsubscribe()},t.prototype._applyDatepickerInputs=function(t){var e=this;["dayTemplate","displayMonths","firstDayOfWeek","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t.startDate=this.startDate||this._model},t.prototype._applyPopupStyling=function(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.setStyle(t,"padding","0"),this._renderer.addClass(t,"show")},t.prototype._subscribeForDatepickerOutputs=function(t){var e=this;t.navigate.subscribe(function(t){return e.navigate.emit(t)}),t.select.subscribe(function(t){e.dateSelect.emit(t),e.autoClose&&e.close()})},t.prototype._writeModelValue=function(t){this._renderer.setProperty(this._elRef.nativeElement,"value",this._parserFormatter.format(t)),this.isOpen()&&(this._cRef.instance.writeValue(this._ngbDateAdapter.toModel(t)),this._onTouched())},t.prototype._fromDateStruct=function(t){var e=t?new iw(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null},t}()),Yx=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yx(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.isValid=function(t){return t&&lw(t.year)&&lw(t.month)&&lw(t.day)&&!isNaN(this.toGregorian(t).getTime())},e.prototype.setDay=function(t,e){e=+e;var n=this.getDaysInIslamicMonth(t.month,t.year);if(e<=0)for(;e<=0;)t=this.setMonth(t,t.month-1),e+=n=this.getDaysInIslamicMonth(t.month,t.year);else if(e>n)for(;e>n;)e-=n,t=this.setMonth(t,t.month+1),n=this.getDaysInIslamicMonth(t.month,t.year);return t.day=e,t},e.prototype.setMonth=function(t,e){return e=+e,t.year=t.year+Math.floor((e-1)/12),t.month=Math.floor(((e-1)%12+12)%12)+1,t},e.prototype.setYear=function(t,e){return t.year=+e,t},e.prototype._isIslamicLeapYear=function(t){return(14+11*t)%30<11},e.prototype._getMonthStart=function(t,e){return Math.ceil(29.5*e)+354*(t-1)+Math.floor((3+11*t)/30)},e.prototype._getYearStart=function(t){return 354*(t-1)+Math.floor((3+11*t)/30)},e}(zw),Kx=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Qx(t){var e=t.getFullYear();return e%4==0&&e%100!=0||e%400==0}function Zx(t,e){return t-e*Math.floor(t/e)}var Jx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kx(e,t),e.prototype.fromGregorian=function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),o=1721424.5+365*(n-1)+Math.floor((n-1)/4)+-Math.floor((n-1)/100)+Math.floor((n-1)/400)+Math.floor((367*(i+1)-362)/12+(i+1<=2?0:Qx(e)?-1:-2)+r),l=(o=Math.floor(o)+.5)-1948439.5,a=Math.floor((30*l+10646)/10631),s=Math.ceil((l-29-this._getYearStart(a))/29.5);s=Math.min(s,11);var u=Math.ceil(l-this._getMonthStart(a,s))+1;return new iw(a,s+1,u)},e.prototype.toGregorian=function(t){var e=t.year,n=t.day+Math.ceil(29.5*(t.month-1))+354*(e-1)+Math.floor((3+11*e)/30)+1948439.5-1,i=Math.floor(n-.5)+.5,r=i-1721425.5,o=Math.floor(r/146097),l=Zx(r,146097),a=Math.floor(l/36524),s=Zx(l,36524),u=Math.floor(s/1461),c=Zx(s,1461),h=Math.floor(c/365),d=400*o+100*a+4*u+h;4!==a&&4!==h&&d++;var p=i-(1721425.5+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)),f=i<1721424.5+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)+Math.floor(739/12+(Qx(new Date(d,3,1))?-1:-2)+1)?0:Qx(new Date(d,3,1))?1:2,g=Math.floor((12*(p+f)+373)/367),m=1721424.5+365*(d-1)+Math.floor((d-1)/4)-Math.floor((d-1)/100)+Math.floor((d-1)/400)+Math.floor((367*g-362)/12+(g<=2?0:Qx(new Date(d,g-1,1))?-1:-2)+1);return new Date(d,g-1,i-m+1)},e.prototype.getDaysInIslamicMonth=function(t,e){e+=Math.floor(t/13);var n=29+(t=(t-1)%12+1)%2;return 12===t&&this._isIslamicLeapYear(e)&&n++,n},e.prototype.getNext=function(t,e,n){switch(void 0===e&&(e="d"),void 0===n&&(n=1),t=iw.from(t),e){case"y":return(t=this.setYear(t,t.year+n)).month=1,t.day=1,t;case"m":return(t=this.setMonth(t,t.month+n)).day=1,t;case"d":return this.setDay(t,t.day+n);default:return t}},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=this.toGregorian(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=t[(11-e)%7],i=this.toGregorian(n);i.setDate(i.getDate()+4-(i.getDay()||7));var r=i.getTime(),o=this.toGregorian(new iw(n.year,1,1));return Math.floor(Math.round((r-o.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return this.fromGregorian(new Date)},e}(Xx);this&&this.__extends||Object.setPrototypeOf||Array,new Date(1882,10,12),new Date(2174,10,25),new Jx;var $x,tS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:zw,useClass:Gw},{provide:gw,useClass:mw},{provide:Sx,useClass:Ex},{provide:e_,useClass:n_},$w]}},t}(),eS=(this&&this.__extends||Object.setPrototypeOf||Array,function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Tx]}},t}()),nS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[EC,SC]}},t}(),iS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[kx]}},t}(),rS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[S_]}},t}(),oS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[wx]}},t}();!function(t){t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}($x||($x={})),Object(i.forwardRef)(function(){return aS});var lS,aS=function(){function t(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new i.EventEmitter,this.leave=new i.EventEmitter,this.rateChange=new i.EventEmitter(!0),this.onChange=function(t){},this.onTouched=function(){},this.max=t.max,this.readonly=t.readonly}return t.prototype.ariaValueText=function(){return this.nextRate+" out of "+this.max},t.prototype.enter=function(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)},t.prototype.handleBlur=function(){this.onTouched()},t.prototype.handleClick=function(t){this.update(this.resettable&&this.rate===t?0:t)},t.prototype.handleKeyDown=function(t){if($x[ow(t.which)])switch(t.preventDefault(),t.which){case $x.ArrowDown:case $x.ArrowLeft:this.update(this.rate-1);break;case $x.ArrowUp:case $x.ArrowRight:this.update(this.rate+1);break;case $x.Home:this.update(0);break;case $x.End:this.update(this.max)}},t.prototype.ngOnChanges=function(t){t.rate&&this.update(this.rate)},t.prototype.ngOnInit=function(){this.contexts=Array.from({length:this.max},function(t,e){return{fill:0,index:e}}),this._updateState(this.rate)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.reset=function(){this.leave.emit(this.nextRate),this._updateState(this.rate)},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.update=function(t,e){void 0===e&&(e=!0);var n=function(t,e,n){return void 0===n&&(n=0),Math.max(Math.min(t,e),n)}(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)},t.prototype.writeValue=function(t){this.update(t,!1),this._changeDetectorRef.markForCheck()},t.prototype._getFillValue=function(t){var e=this.nextRate-t;return e>=1?100:e<1&&e>0?Number.parseInt((100*e).toFixed(2)):0},t.prototype._updateState=function(t){var e=this;this.nextRate=t,this.contexts.forEach(function(t,n){return t.fill=e._getFillValue(n)})},t}(),sS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Ax]}},t}(),uS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Dx]}},t}(),cS=function(){function t(t,e,n){this.hour=rw(t),this.minute=rw(e),this.second=rw(n)}return t.prototype.changeHour=function(t){void 0===t&&(t=1),this.updateHour((isNaN(this.hour)?0:this.hour)+t)},t.prototype.updateHour=function(t){this.hour=lw(t)?(t<0?24+t:t)%24:NaN},t.prototype.changeMinute=function(t){void 0===t&&(t=1),this.updateMinute((isNaN(this.minute)?0:this.minute)+t)},t.prototype.updateMinute=function(t){lw(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN},t.prototype.changeSecond=function(t){void 0===t&&(t=1),this.updateSecond((isNaN(this.second)?0:this.second)+t)},t.prototype.updateSecond=function(t){lw(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN},t.prototype.isValid=function(t){return void 0===t&&(t=!0),lw(this.hour)&&lw(this.minute)&&(!t||lw(this.second))},t.prototype.toString=function(){return(this.hour||0)+":"+(this.minute||0)+":"+(this.second||0)},t}(),hS=(Object(i.forwardRef)(function(){return hS}),function(){function t(t){this.onChange=function(t){},this.onTouched=function(){},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}return t.prototype.writeValue=function(t){this.model=t?new cS(t.hour,t.minute,t.second):new cS,this.seconds||t&&lw(t.second)||(this.model.second=0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.changeHour=function(t){this.model.changeHour(t),this.propagateModelChange()},t.prototype.changeMinute=function(t){this.model.changeMinute(t),this.propagateModelChange()},t.prototype.changeSecond=function(t){this.model.changeSecond(t),this.propagateModelChange()},t.prototype.updateHour=function(t){var e=this.model.hour>=12,n=rw(t);this.model.updateHour(this.meridian&&(e&&n<12||!e&&12===n)?n+12:n),this.propagateModelChange()},t.prototype.updateMinute=function(t){this.model.updateMinute(rw(t)),this.propagateModelChange()},t.prototype.updateSecond=function(t){this.model.updateSecond(rw(t)),this.propagateModelChange()},t.prototype.toggleMeridian=function(){this.meridian&&this.changeHour(12)},t.prototype.formatHour=function(t){return lw(t)?uw(this.meridian?t%12==0?12:t%12:t%24):uw(NaN)},t.prototype.formatMinSec=function(t){return uw(t)},t.prototype.setFormControlSize=function(){return{"form-control-sm":"small"===this.size,"form-control-lg":"large"===this.size}},t.prototype.setButtonSize=function(){return{"btn-sm":"small"===this.size,"btn-lg":"large"===this.size}},t.prototype.ngOnChanges=function(t){t.seconds&&!this.seconds&&this.model&&!lw(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))},t.prototype.propagateModelChange=function(t){void 0===t&&(t=!0),t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange({hour:this.model.hour,minute:this.model.minute,second:this.model.second}):this.onChange(null)},t}()),dS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Ox]}},t}(),pS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[D_]}},t}(),fS=n("D4VV"),gS=n("oxbf"),mS=n("x5SG");!function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowDown=40]="ArrowDown"}(lS||(lS={})),Object(i.forwardRef)(function(){return yS});var vS=0,yS=function(){function t(t,e,n,r,o,l,a){var s=this;this._elementRef=t,this._viewContainerRef=e,this._renderer=n,this._injector=r,this.placement="bottom-left",this.selectItem=new i.EventEmitter,this.popupId="ngb-typeahead-"+vS++,this._onTouched=function(){},this._onChange=function(t){},this.container=l.container,this.editable=l.editable,this.focusFirst=l.focusFirst,this.showHint=l.showHint,this.placement=l.placement,this._valueChanges=Object(Se.j)(t.nativeElement,"input",function(t){return t.target.value}),this._resubscribeTypeahead=new Se.a(null),this._popupService=new x_(B_,r,e,n,o),this._zoneSubscription=a.onStable.subscribe(function(){s.isPopupOpen()&&__(s._elementRef.nativeElement,s._windowRef.location.nativeElement,s.placement,"body"===s.container)})}return t.prototype.ngOnInit=function(){var t=this,e=gS.a.call(this._valueChanges,function(e){t._inputValueBackup=e,t.editable&&t._onChange(e)}),n=fS.a.call(e,this.ngbTypeahead),i=gS.a.call(n,function(){t.editable||t._onChange(void 0)}),r=mS.a.call(this._resubscribeTypeahead,function(){return i});this._subscription=this._subscribeToUserInput(r)},t.prototype.ngOnDestroy=function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.writeValue=function(t){this._writeInputValue(this._formatItemForInput(t))},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype.onDocumentClick=function(t){t.target!==this._elementRef.nativeElement&&this.dismissPopup()},t.prototype.dismissPopup=function(){this.isPopupOpen()&&(this._closePopup(),this._writeInputValue(this._inputValueBackup))},t.prototype.isPopupOpen=function(){return null!=this._windowRef},t.prototype.handleBlur=function(){this._resubscribeTypeahead.next(null),this._onTouched()},t.prototype.handleKeyDown=function(t){if(this.isPopupOpen()&&lS[ow(t.which)])switch(t.which){case lS.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case lS.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case lS.Enter:case lS.Tab:var e=this._windowRef.instance.getActive();sw(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup();break;case lS.Escape:t.preventDefault(),this._resubscribeTypeahead.next(null),this.dismissPopup()}},t.prototype._openPopup=function(){var t=this;this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(function(e){return t._selectResultClosePopup(e)}),this._windowRef.instance.activeChangeEvent.subscribe(function(e){return t.activeDescendant=e}),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement))},t.prototype._closePopup=function(){this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0},t.prototype._selectResult=function(t){var e=!1;this.selectItem.emit({item:t,preventDefault:function(){e=!0}}),this._resubscribeTypeahead.next(null),e||(this.writeValue(t),this._onChange(t))},t.prototype._selectResultClosePopup=function(t){this._selectResult(t),this._closePopup()},t.prototype._showHint=function(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){var t=this._inputValueBackup.toLowerCase(),e=this._formatItemForInput(this._windowRef.instance.getActive());t===e.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+e.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,e.length])):this.writeValue(this._windowRef.instance.getActive())}},t.prototype._formatItemForInput=function(t){return t&&this.inputFormatter?this.inputFormatter(t):ow(t)},t.prototype._writeInputValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",ow(t))},t.prototype._subscribeToUserInput=function(t){var e=this;return t.subscribe(function(t){t&&0!==t.length?(e._openPopup(),e._windowRef.instance.focusFirst=e.focusFirst,e._windowRef.instance.results=t,e._windowRef.instance.term=e._elementRef.nativeElement.value,e.resultFormatter&&(e._windowRef.instance.formatter=e.resultFormatter),e.resultTemplate&&(e._windowRef.instance.resultTemplate=e.resultTemplate),e._windowRef.instance.resetActive(),e._windowRef.changeDetectorRef.detectChanges(),e._showHint()):e._closePopup()})},t.prototype._unsubscribeFromUserInput=function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null},t}(),bS=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[_x]}},t}(),wS=function(){},_S=function(){function t(){}return t.forRoot=function(){return{ngModule:wS}},t}(),CS=n("xHiO"),xS=function(){},SS=function(){},ES=i["\u0275cmf"](o,[so],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[Gl,Rg,wb,Eb,og,Yb,$b,c_,f_,b_,A_,P_,G_,cC,fC]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](5120,i.LOCALE_ID,i["\u0275q"],[[3,i.LOCALE_ID]]),i["\u0275mpd"](4608,b,w,[i.LOCALE_ID,[2,y]]),i["\u0275mpd"](5120,i.IterableDiffers,i["\u0275n"],[]),i["\u0275mpd"](5120,i.KeyValueDiffers,i["\u0275o"],[]),i["\u0275mpd"](4608,ue,ce,[L]),i["\u0275mpd"](6144,i.Sanitizer,null,[ue]),i["\u0275mpd"](4608,jt,Lt,[]),i["\u0275mpd"](5120,ut,function(t,e,n,i,r){return[new Mt(t,e),new Ut(n),new Ft(i,r)]},[L,i.NgZone,L,L,jt]),i["\u0275mpd"](4608,ct,ct,[ut,i.NgZone]),i["\u0275mpd"](135680,pt,pt,[L]),i["\u0275mpd"](4608,wt,wt,[ct,pt]),i["\u0275mpd"](6144,i.RendererFactory2,null,[wt]),i["\u0275mpd"](6144,dt,null,[pt]),i["\u0275mpd"](4608,i.Testability,i.Testability,[i.NgZone]),i["\u0275mpd"](4608,tt,tt,[L]),i["\u0275mpd"](4608,ot,ot,[L]),i["\u0275mpd"](5120,_e,Ce,[L,i.APP_ID]),i["\u0275mpd"](5120,mi,_r,[er]),i["\u0275mpd"](4608,cr,cr,[]),i["\u0275mpd"](6144,sr,null,[cr]),i["\u0275mpd"](135680,hr,hr,[er,i.NgModuleFactoryLoader,i.Compiler,i.Injector,sr]),i["\u0275mpd"](4608,ur,ur,[]),i["\u0275mpd"](5120,Er,Sr,[Cr]),i["\u0275mpd"](5120,i.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[Er]),i["\u0275mpd"](4608,jr,jr,[Ir,[2,Rr],i.PLATFORM_ID,i.NgZone]),i["\u0275mpd"](4608,to,to,[Ir,[2,Rr],[2,Yr],[2,Kr],i.PLATFORM_ID,i.NgZone,[2,Xr]]),i["\u0275mpd"](4608,no,no,[]),i["\u0275mpd"](4608,ro,ro,[jr,to,er,no]),i["\u0275mpd"](4608,gC,gC,[ro,er,no]),i["\u0275mpd"](4608,El,El,[]),i["\u0275mpd"](4608,Ao,Ao,[]),i["\u0275mpd"](4608,$g,$g,[]),i["\u0275mpd"](4608,xa,Sa,[L,i.PLATFORM_ID,_a]),i["\u0275mpd"](4608,Ea,Ea,[xa,Ca]),i["\u0275mpd"](5120,ga,function(t){return[t]},[Ea]),i["\u0275mpd"](4608,ba,ba,[]),i["\u0275mpd"](6144,ya,null,[ba]),i["\u0275mpd"](4608,wa,wa,[ya]),i["\u0275mpd"](6144,Jl,null,[wa]),i["\u0275mpd"](4608,Zl,Ta,[Jl,i.Injector]),i["\u0275mpd"](4608,pa,pa,[Zl]),i["\u0275mpd"](4608,vC,vC,[]),i["\u0275mpd"](4608,wC,wC,[vC]),i["\u0275mpd"](4608,_C,_C,[]),i["\u0275mpd"](4608,SC,SC,[i.ApplicationRef,i.Injector,i.ComponentFactoryResolver,L]),i["\u0275mpd"](4608,EC,EC,[i.ComponentFactoryResolver,i.Injector,SC]),i["\u0275mpd"](4608,Lm,Lm,[pa,Nm]),i["\u0275mpd"](4608,Ng,Ng,[]),i["\u0275mpd"](5120,Lg,jg,[]),i["\u0275mpd"](5120,Bg,Fg,[Ng]),i["\u0275mpd"](4608,Ma,Ma,[to,ro,pa]),i["\u0275mpd"](4608,Ya,Ya,[Ir,[2,Rr],[2,Tr],i.PLATFORM_ID,i.NgZone]),i["\u0275mpd"](4608,Ja,Ja,[to,ro,pa,Ya]),i["\u0275mpd"](4608,ns,ns,[ro,to,pa,Ma,Ja]),i["\u0275mpd"](4608,AC,AC,[i.RendererFactory2]),i["\u0275mpd"](5120,Pr,Mr,[Ir,[2,Rr]]),i["\u0275mpd"](4608,RC,RC,[Ir,[2,Rr],[2,IC],i.PLATFORM_ID,i.NgZone]),i["\u0275mpd"](4608,LC,LC,[Ir,[2,Rr],i.PLATFORM_ID,i.NgZone,[2,MC],[2,NC]]),i["\u0275mpd"](4608,VC,VC,[]),i["\u0275mpd"](4608,zC,GC,[]),i["\u0275mpd"](5120,YC,mx,[]),i["\u0275mpd"](4608,rx,rx,[VC,zC,YC]),i["\u0275mpd"](4608,ox,lx,[]),i["\u0275mpd"](5120,gx,vx,[rx,ox]),i["\u0275mpd"](4608,Xb,Xb,[]),i["\u0275mpd"](4608,wx,wx,[]),i["\u0275mpd"](4608,D_,D_,[]),i["\u0275mpd"](4608,_x,_x,[]),i["\u0275mpd"](4608,Cx,Cx,[]),i["\u0275mpd"](4608,xx,xx,[]),i["\u0275mpd"](4608,zw,Gw,[]),i["\u0275mpd"](4608,gw,mw,[]),i["\u0275mpd"](4608,Sx,Ex,[]),i["\u0275mpd"](4608,e_,n_,[]),i["\u0275mpd"](4608,$w,$w,[]),i["\u0275mpd"](4608,Tx,Tx,[]),i["\u0275mpd"](4608,kx,kx,[]),i["\u0275mpd"](4608,S_,S_,[]),i["\u0275mpd"](4608,Ax,Ax,[]),i["\u0275mpd"](4608,Dx,Dx,[]),i["\u0275mpd"](4608,Ox,Ox,[]),i["\u0275mpd"](512,j,j,[]),i["\u0275mpd"](1024,i.ErrorHandler,be,[]),i["\u0275mpd"](1024,i.NgProbeToken,function(){return[gr()]},[]),i["\u0275mpd"](512,Cr,Cr,[i.Injector]),i["\u0275mpd"](256,i.APP_ID,"serverApp",[]),i["\u0275mpd"](2048,et,null,[i.APP_ID]),i["\u0275mpd"](1024,i.APP_INITIALIZER,function(t,e,n,i,r){return[(o=t,lt("probe",st),lt("coreTokens",Object(l.__assign)({},at,(o||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return st}),xr(e),nt(n,i,r)];var o},[[2,i.NgProbeToken],Cr,et,L,i.Injector]),i["\u0275mpd"](512,i.ApplicationInitStatus,i.ApplicationInitStatus,[[2,i.APP_INITIALIZER]]),i["\u0275mpd"](131584,i.ApplicationRef,i.ApplicationRef,[i.NgZone,i["\u0275Console"],i.Injector,i.ErrorHandler,i.ComponentFactoryResolver,i.ApplicationInitStatus]),i["\u0275mpd"](512,i.ApplicationModule,i.ApplicationModule,[i.ApplicationRef]),i["\u0275mpd"](512,we,we,[[3,we]]),i["\u0275mpd"](512,xe,xe,[]),i["\u0275mpd"](1024,pr,yr,[[3,er]]),i["\u0275mpd"](512,Un,qn,[]),i["\u0275mpd"](512,or,or,[]),i["\u0275mpd"](256,dr,{},[]),i["\u0275mpd"](1024,u,vr,[a,[2,c],dr]),i["\u0275mpd"](512,h,h,[u]),i["\u0275mpd"](512,i.Compiler,i.Compiler,[]),i["\u0275mpd"](512,i.NgModuleFactoryLoader,i.SystemJsNgModuleLoader,[i.Compiler,[2,i.SystemJsNgModuleLoaderConfig]]),i["\u0275mpd"](1024,Ki,function(){return[[{path:"login",component:Ul},{path:"",component:yg,canActivate:[gC]},{path:":money",component:yg,canActivate:[gC]},{path:":money/:idC",component:yg,canActivate:[gC]},{path:":idC/:campagne_id/:budget/:dailyBudget/:numberOfDays",component:yg,canActivate:[gC]},{path:":idC/:budget/:dailyBudget/:numberOfDays",component:yg,canActivate:[gC]},{path:"ads/:name/:idC/:idA/:ad_group_id/:campaign_id",component:Gm},{path:"ads/:name/:idC/:idA/:ad_group_id/:campaign_id/:money/:id_ad_firebase",component:Gm},{path:"ads/:name/:idC/:idA/:ad_group_id/:campaign_id/:budget/:dailyBudget/:numberOfDays/:id_ad_firebase",component:Gm},{path:"ssr",component:_b},{path:"campaign/:id",component:eg,canActivate:[gC]}]]},[]),i["\u0275mpd"](1024,er,wr,[i.ApplicationRef,Un,or,h,i.Injector,i.NgModuleFactoryLoader,i.Compiler,Ki,dr,[2,Zi],[2,Yi]]),i["\u0275mpd"](512,mr,mr,[[2,pr],[2,er]]),i["\u0275mpd"](512,Ix,Ix,[]),i["\u0275mpd"](512,Rx,Rx,[]),i["\u0275mpd"](512,kl,kl,[]),i["\u0275mpd"](512,Dl,Dl,[]),i["\u0275mpd"](512,Px,Px,[]),i["\u0275mpd"](512,Al,Al,[]),i["\u0275mpd"](512,nm,nm,[]),i["\u0275mpd"](512,ka,ka,[]),i["\u0275mpd"](512,Aa,Aa,[]),i["\u0275mpd"](512,ap,ap,[]),i["\u0275mpd"](512,Op,Op,[]),i["\u0275mpd"](512,Mx,Mx,[]),i["\u0275mpd"](512,Nx,Nx,[]),i["\u0275mpd"](512,Lx,Lx,[]),i["\u0275mpd"](512,Fx,Fx,[]),i["\u0275mpd"](512,Vx,Vx,[]),i["\u0275mpd"](512,Wx,Wx,[]),i["\u0275mpd"](512,Hx,Hx,[]),i["\u0275mpd"](512,zx,zx,[]),i["\u0275mpd"](512,tS,tS,[]),i["\u0275mpd"](512,eS,eS,[]),i["\u0275mpd"](512,nS,nS,[]),i["\u0275mpd"](512,iS,iS,[]),i["\u0275mpd"](512,rS,rS,[]),i["\u0275mpd"](512,oS,oS,[]),i["\u0275mpd"](512,sS,sS,[]),i["\u0275mpd"](512,uS,uS,[]),i["\u0275mpd"](512,dS,dS,[]),i["\u0275mpd"](512,pS,pS,[]),i["\u0275mpd"](512,bS,bS,[]),i["\u0275mpd"](512,_S,_S,[]),i["\u0275mpd"](512,Mm,Mm,[]),i["\u0275mpd"](512,qm,qm,[]),i["\u0275mpd"](512,CS.LazyLoadImageModule,CS.LazyLoadImageModule,[]),i["\u0275mpd"](512,xS,xS,[]),i["\u0275mpd"](512,SS,SS,[]),i["\u0275mpd"](512,Nr,Nr,[]),i["\u0275mpd"](512,eo,eo,[]),i["\u0275mpd"](512,Lr,Lr,[]),i["\u0275mpd"](512,PC,PC,[]),i["\u0275mpd"](512,FC,FC,[]),i["\u0275mpd"](512,bx,bx,[]),i["\u0275mpd"](512,Xa,Xa,[]),i["\u0275mpd"](512,wS,wS,[]),i["\u0275mpd"](512,o,o,[]),i["\u0275mpd"](256,Ir,{apiKey:"AIzaSyC_cYQskL_dKhkt-aQ1ayHt8ia2NQYEHTs",authDomain:"comparez.firebaseapp.com",databaseURL:"https://comparez.firebaseio.com",projectId:"comparez",storageBucket:"gs://comparez.appspot.com/",messagingSenderId:"975260713071"},[]),i["\u0275mpd"](256,Rr,"firestarter",[]),i["\u0275mpd"](256,Yr,!0,[]),i["\u0275mpd"](256,Xr,void 0,[]),i["\u0275mpd"](256,_a,"XSRF-TOKEN",[]),i["\u0275mpd"](256,Ca,"X-XSRF-TOKEN",[])])});Object(i.enableProdMode)(),ye().bootstrapModuleFactory(ES)},x5SG:function(t,e,n){"use strict";e.a=function(t){return Object(i.t)(t)(this)};var i=n("Nyrq")},xCWu:function(t,e,n){(function(t,i){var r;!function(i){var o,l=2147483647,a=36,s=1,u=26,c=38,h=700,d=72,p=128,f="-",g=/^xn--/,m=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=a-s,w=Math.floor,_=String.fromCharCode;function C(t){throw new RangeError(y[t])}function x(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function S(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+x((t=t.replace(v,".")).split("."),e).join(".")}function E(t){for(var e,n,i=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function T(t){return x(t,function(t){var e="";return t>65535&&(e+=_((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+_(t)}).join("")}function k(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,n){var i=0;for(t=n?w(t/h):t>>1,t+=w(t/e);t>b*u>>1;i+=a)t=w(t/b);return w(i+(b+1)*t/(t+c))}function D(t){var e,n,i,r,o,c,h,g,m,v,y,b=[],_=t.length,x=0,S=p,E=d;for((n=t.lastIndexOf(f))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&C("not-basic"),b.push(t.charCodeAt(i));for(r=n>0?n+1:0;r<_;){for(o=x,c=1,h=a;r>=_&&C("invalid-input"),((g=(y=t.charCodeAt(r++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:a)>=a||g>w((l-x)/c))&&C("overflow"),x+=g*c,!(g<(m=h<=E?s:h>=E+u?u:h-E));h+=a)c>w(l/(v=a-m))&&C("overflow"),c*=v;E=A(x-o,e=b.length+1,0==o),w(x/e)>l-S&&C("overflow"),S+=w(x/e),x%=e,b.splice(x++,0,S)}return T(b)}function O(t){var e,n,i,r,o,c,h,g,m,v,y,b,x,S,T,D=[];for(b=(t=E(t)).length,e=p,n=0,o=d,c=0;c<b;++c)(y=t[c])<128&&D.push(_(y));for(i=r=D.length,r&&D.push(f);i<b;){for(h=l,c=0;c<b;++c)(y=t[c])>=e&&y<h&&(h=y);for(h-e>w((l-n)/(x=i+1))&&C("overflow"),n+=(h-e)*x,e=h,c=0;c<b;++c)if((y=t[c])<e&&++n>l&&C("overflow"),y==e){for(g=n,m=a;!(g<(v=m<=o?s:m>=o+u?u:m-o));m+=a)D.push(_(k(v+(T=g-v)%(S=a-v),0))),g=w(T/S);D.push(_(k(g,0))),o=A(n,x,i==r),n=0,++i}++n,++e}return D.join("")}o={version:"1.4.1",ucs2:{decode:E,encode:T},decode:D,encode:O,toASCII:function(t){return S(t,function(t){return m.test(t)?"xn--"+O(t):t})},toUnicode:function(t){return S(t,function(t){return g.test(t)?D(t.slice(4).toLowerCase()):t})}},void 0===(r=(function(){return o}).call(e,n,e,t))||(t.exports=r)}()}).call(e,n("3IRH")(t),n("DuR2"))},xHiO:function(t,e,n){"use strict";var i=n("TToO").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var r=n("WT6e"),o=n("pMHI");e.LazyLoadImageModule=function(){return i([r.NgModule({declarations:[o.LazyLoadImageDirective],exports:[o.LazyLoadImageDirective]})],function(){})}()},xaZU:function(t,e,n){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(l(t),function(l){var a=encodeURIComponent(i(l))+n;return r(t[l])?o(t[l],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[l]))}).join(e):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var l=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},xpN4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("0nHL"),r=n("Nyrq");i.b.prototype.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.s.apply(void 0,t)(this)}},ypnx:function(t,e,n){"use strict";(function(e){t.exports=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,l,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(a-1),l=0;l<o.length;)o[l++]=arguments[l];return e.nextTick(function(){t.apply(null,o)})}}}:e}).call(e,n("W2nU"))},yviF:function(t,e,n){"use strict";var i,r=(i=n("O4tu"))&&"object"==typeof i&&"default"in i?i.default:i;t.exports=r},"z+gd":function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r="undefined"!=typeof t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},l=2,a=20,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function a(){n&&(n=!1,t()),i&&u()}function s(){o(a)}function u(){var t=Date.now();if(n){if(t-r<l)return;i=!0}else n=!0,i=!1,setTimeout(s,e);r=t}return u}(this.refresh.bind(this),a)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),h=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},p=v(0,0,0,0);function f(t){return parseFloat(t)||0}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+f(t["border-"+n+"-width"])},0)}var m="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function v(t,e,n,i){return{x:t,y:e,width:n,height:i}}var y=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,i?m(t)?function(t){var e=t.getBBox();return v(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var i=d(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n];e[r]=f(t["padding-"+r])}return e}(i),o=r.left+r.right,l=r.top+r.bottom,a=f(i.width),s=f(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=g(i,"left","right")+o),Math.round(s+l)!==n&&(s-=g(i,"top","bottom")+l)),!function(t){return t===d(t).document.documentElement}(t)){var u=Math.round(a+o)-e,c=Math.round(s+l)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(c)&&(s-=c)}return v(r.left,r.top,a,s)}(t):p);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(){return function(t,e){var n,i,r,o,l,a,s,u=(i=(n=e).x,r=n.y,o=n.width,l=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(a.prototype),h(s,{x:i,y:r,width:o,height:l,top:r,right:i+o,bottom:l+r,left:i}),s);h(this,{target:t,contentRect:u})}}(),w=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),_="undefined"!=typeof WeakMap?new WeakMap:new n,C=function(){return function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new w(e,n,this);_.set(this,i)}}();["observe","unobserve","disconnect"].forEach(function(t){C.prototype[t]=function(){var e;return(e=_.get(this))[t].apply(e,arguments)}}),e.a="undefined"!=typeof r.ResizeObserver?r.ResizeObserver:C}).call(e,n("DuR2"))},zF5W:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";var t="10.1.0";function e(t){t.preventDefault()}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,n){n>0&&(l(t,e),setTimeout(function(){a(t,e)},n))}function r(t){return Array.isArray(t)?t:[t]}function o(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function l(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function a(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function u(t,e){return 100/(e-t)}function c(t,e){return 100*e/(t[1]-t[0])}function h(t,e){for(var n=1;t>=e[n];)n+=1;return n}function d(e,i,r){var o;if("number"==typeof i&&(i=[i]),"[object Array]"!==Object.prototype.toString.call(i))throw new Error("noUiSlider ("+t+"): 'range' contains invalid value.");if(!n(o="min"===e?0:"max"===e?100:parseFloat(e))||!n(i[0]))throw new Error("noUiSlider ("+t+"): 'range' value isn't numeric.");r.xPct.push(o),r.xVal.push(i[0]),o?r.xSteps.push(!isNaN(i[1])&&i[1]):isNaN(i[1])||(r.xSteps[0]=i[1]),r.xHighestCompleteStep.push(0)}function p(t,e,n){if(!e)return!0;n.xSteps[t]=c([n.xVal[t],n.xVal[t+1]],e)/u(n.xPct[t],n.xPct[t+1]);var i=Math.ceil(Number(((n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t]).toFixed(3))-1);n.xHighestCompleteStep[t]=n.xVal[t]+n.xNumSteps[t]*i}function f(t,e,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i,r=[];for(i in t)t.hasOwnProperty(i)&&r.push([t[i],i]);for(r.sort(r.length&&"object"==typeof r[0][0]?function(t,e){return t[0][0]-e[0][0]}:function(t,e){return t[0]-e[0]}),i=0;i<r.length;i++)d(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)p(i,this.xNumSteps[i],this)}f.prototype.getMargin=function(e){var n=this.xNumSteps[0];if(n&&e/n%1!=0)throw new Error("noUiSlider ("+t+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&c(this.xVal,e)},f.prototype.toStepping=function(t){return function(t,e,n){if(n>=t.slice(-1)[0])return 100;var i,r,o=h(n,t);return r=e[o],(i=e[o-1])+function(t,e){return c(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([t[o-1],t[o]],n)/u(i,r)}(this.xVal,this.xPct,t)},f.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var i,r=h(n,e);return function(t,e){return e*(t[1]-t[0])/100+t[0]}([t[r-1],t[r]],(n-(i=e[r-1]))*u(i,e[r]))}(this.xVal,this.xPct,t)},f.prototype.getStep=function(t){return function(t,e,n,i){if(100===i)return i;var r,o,l=h(i,t);return n?i-(r=t[l-1])>((o=t[l])-r)/2?o:r:e[l-1]?t[l-1]+function(t,e){return Math.round(t/e)*e}(i-t[l-1],e[l-1]):i}(this.xPct,this.xSteps,this.snap,t)},f.prototype.getNearbySteps=function(t){var e=h(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e-0],step:this.xNumSteps[e-0],highestStep:this.xHighestCompleteStep[e-0]}}},f.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(o);return Math.max.apply(null,t)},f.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var g={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function m(e){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(e))return!0;throw new Error("noUiSlider ("+t+"): 'format' requires 'to' and 'from' methods.")}function v(e,i){if(!n(i))throw new Error("noUiSlider ("+t+"): 'step' is not numeric.");e.singleStep=i}function y(e,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+t+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+t+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new f(n,e.snap,e.singleStep)}function b(e,n){if(n=r(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+t+"): 'start' option is incorrect.");e.handles=n.length,e.start=n}function w(e,n){if(e.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'snap' option must be a boolean.")}function _(e,n){if(e.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animate' option must be a boolean.")}function C(e,n){if(e.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animationDuration' option must be a number.")}function x(e,n){var i,r=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(i=1;i<e.handles;i++)r.push(n);r.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==e.handles+1)throw new Error("noUiSlider ("+t+"): 'connect' option doesn't match handle count.");r=n}e.connect=r}function S(e,n){switch(n){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+t+"): 'orientation' option is invalid.")}}function E(e,i){if(!n(i))throw new Error("noUiSlider ("+t+"): 'margin' option must be numeric.");if(0!==i&&(e.margin=e.spectrum.getMargin(i),!e.margin))throw new Error("noUiSlider ("+t+"): 'margin' option is only supported on linear sliders.")}function T(e,i){if(!n(i))throw new Error("noUiSlider ("+t+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(i),!e.limit||e.handles<2)throw new Error("noUiSlider ("+t+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function k(e,i){if(!n(i))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric.");if(0!==i){if(e.padding=e.spectrum.getMargin(i),!e.padding)throw new Error("noUiSlider ("+t+"): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider ("+t+"): 'padding' option must be a positive number.");if(e.padding>=50)throw new Error("noUiSlider ("+t+"): 'padding' option must be less than half the range.")}}function A(e,n){switch(n){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+t+"): 'direction' option was not recognized.")}}function D(e,n){if("string"!=typeof n)throw new Error("noUiSlider ("+t+"): 'behaviour' must be a string containing options.");var i=n.indexOf("tap")>=0,r=n.indexOf("drag")>=0,o=n.indexOf("fixed")>=0,l=n.indexOf("snap")>=0,a=n.indexOf("hover")>=0;if(o){if(2!==e.handles)throw new Error("noUiSlider ("+t+"): 'fixed' behaviour must be used with 2 handles");E(e,e.start[1]-e.start[0])}e.events={tap:i||l,drag:r,fixed:o,snap:l,hover:a}}function O(e,n){if(e.multitouch=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'multitouch' option must be a boolean.")}function I(e,n){if(!1!==n)if(!0===n){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(!0)}else{if(e.tooltips=r(n),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+t+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+t+"): 'tooltips' must be passed a formatter or 'false'.")})}}function R(t,e){t.ariaFormat=e,m(e)}function P(t,e){t.format=e,m(e)}function M(e,n){if(void 0!==n&&"string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+t+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=n}function N(e,n){if(void 0!==n&&"object"!=typeof n)throw new Error("noUiSlider ("+t+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var i in e.cssClasses={},n)n.hasOwnProperty(i)&&(e.cssClasses[i]=e.cssPrefix+n[i]);else e.cssClasses=n}function j(e,n){if(!0!==n&&!1!==n)throw new Error("noUiSlider ("+t+"): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=n}function L(e){var n={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:g,format:g},i={step:{r:!1,t:v},start:{r:!0,t:b},connect:{r:!0,t:x},direction:{r:!0,t:A},snap:{r:!1,t:w},animate:{r:!1,t:_},animationDuration:{r:!1,t:C},range:{r:!0,t:y},orientation:{r:!1,t:S},margin:{r:!1,t:E},limit:{r:!1,t:T},padding:{r:!1,t:k},behaviour:{r:!0,t:D},multitouch:{r:!0,t:O},ariaFormat:{r:!1,t:R},format:{r:!1,t:P},tooltips:{r:!1,t:I},cssPrefix:{r:!1,t:M},cssClasses:{r:!1,t:N},useRequestAnimationFrame:{r:!1,t:j}},r={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach(function(o){if(void 0===e[o]&&void 0===r[o]){if(i[o].r)throw new Error("noUiSlider ("+t+"): '"+o+"' is required.");return!0}i[o].t(n,void 0===e[o]?r[o]:e[o])}),n.pips=e.pips;var o=[["left","top"],["right","bottom"]];return n.style=o[n.dir][n.ort],n.styleOposite=o[n.dir?0:1][n.ort],n}return{version:t,create:function(n,o){if(!n||!n.nodeName)throw new Error("noUiSlider ("+t+"): create requires a single element, got: "+n);var u=function(n,o,u){var c,h,d,p,f,g,m,v=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},y=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),b=n,w=[],_=[],C=0,x=o.spectrum,S=[],E={},T=n.ownerDocument,k=T.documentElement,A=T.body;function D(t,e){var n=T.createElement("div");return e&&l(n,e),t.appendChild(n),n}function O(t,e){var n=D(t,o.cssClasses.origin),i=D(n,o.cssClasses.handle);return i.setAttribute("data-handle",e),i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",o.ort?"vertical":"horizontal"),0===e?l(i,o.cssClasses.handleLower):e===o.handles-1&&l(i,o.cssClasses.handleUpper),n}function I(t,e){return!!e&&D(t,o.cssClasses.connect)}function R(){var t;f&&((t=f).parentElement.removeChild(t),f=null)}function P(e){R();var n=e.mode,i=e.density||1,r=e.filter||!1,a=function(e,n,i){if("range"===e||"steps"===e)return x.xVal;if("count"===e){if(!n)throw new Error("noUiSlider ("+t+"): 'values' required for mode 'count'.");var r,o=100/(n-1),l=0;for(n=[];(r=l++*o)<=100;)n.push(r);e="positions"}return"positions"===e?n.map(function(t){return x.fromStepping(i?x.getStep(t):t)}):"values"===e?i?n.map(function(t){return x.fromStepping(x.getStep(x.toStepping(t)))}):n:void 0}(n,e.values||!1,e.stepped||!1),s=function(t,e,n){var i,r={},o=x.xVal[0],l=x.xVal[x.xVal.length-1],a=!1,s=!1,u=0;return i=n.slice().sort(function(t,e){return t-e}),(n=i.filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==o&&(n.unshift(o),a=!0),n[n.length-1]!==l&&(n.push(l),s=!0),n.forEach(function(i,o){var l,c,h,d,p,f,g,m,v=i,y=n[o+1];if("steps"===e&&(l=x.xNumSteps[o]),l||(l=y-v),!1!==v&&void 0!==y)for(l=Math.max(l,1e-7),c=v;c<=y;c=(c+l).toFixed(7)/1){for(m=(p=(d=x.toStepping(c))-u)/(g=Math.round(p/t)),h=1;h<=g;h+=1)r[(u+h*m).toFixed(5)]=["x",0];f=n.indexOf(c)>-1?1:"steps"===e?2:0,!o&&a&&(f=0),c===y&&s||(r[d.toFixed(5)]=[c,f]),u=d}}),r}(i,n,a),u=e.format||{to:Math.round};return f=b.appendChild(function(t,e,n){var i=T.createElement("div"),r=[o.cssClasses.valueNormal,o.cssClasses.valueLarge,o.cssClasses.valueSub],a=[o.cssClasses.markerNormal,o.cssClasses.markerLarge,o.cssClasses.markerSub],s=[o.cssClasses.valueHorizontal,o.cssClasses.valueVertical],u=[o.cssClasses.markerHorizontal,o.cssClasses.markerVertical];function c(t,e){var n=e===o.cssClasses.value;return e+" "+(n?s:u)[o.ort]+" "+(n?r:a)[t]}return l(i,o.cssClasses.pips),l(i,0===o.ort?o.cssClasses.pipsHorizontal:o.cssClasses.pipsVertical),Object.keys(t).forEach(function(r){!function(t,r){r[1]=r[1]&&e?e(r[0],r[1]):r[1];var l=D(i,!1);l.className=c(r[1],o.cssClasses.marker),l.style[o.style]=t+"%",r[1]&&((l=D(i,!1)).className=c(r[1],o.cssClasses.value),l.style[o.style]=t+"%",l.innerText=n.to(r[0]))}(r,t[r])}),i}(s,r,u))}function M(){var t=c.getBoundingClientRect(),e="offset"+["Width","Height"][o.ort];return 0===o.ort?t.width||c[e]:t.height||c[e]}function N(t,e,n,i){var r=function(r){return!b.hasAttribute("disabled")&&(a=o.cssClasses.tap,((l=b).classList?!l.classList.contains(a):!new RegExp("\\b"+a+"\\b").test(l.className))&&!!(r=function(t,e,n){var i,r,l=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),u=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(u=!0),l&&o.multitouch){var c=function(t){return t.target===n||n.contains(t.target)};if("touchstart"===t.type){var h=Array.prototype.filter.call(t.touches,c);if(h.length>1)return!1;i=h[0].pageX,r=h[0].pageY}else{var d=Array.prototype.find.call(t.changedTouches,c);if(!d)return!1;i=d.pageX,r=d.pageY}}else if(l){if(t.touches.length>1)return!1;i=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY}return e=e||s(T),(a||u)&&(i=t.clientX+e.x,r=t.clientY+e.y),t.pageOffset=e,t.points=[i,r],t.cursor=a||u,t}(r,i.pageOffset,i.target||e))&&!(t===v.start&&void 0!==r.buttons&&r.buttons>1)&&(!i.hover||!r.buttons)&&(y||r.preventDefault(),r.calcPoint=r.points[o.ort],void n(r,i)));var l,a},l=[];return t.split(" ").forEach(function(t){e.addEventListener(t,r,!!y&&{passive:!0}),l.push([t,r])}),l}function j(t){var e,n,i,r,l,a,u=100*(t-(n=o.ort,i=(e=c).getBoundingClientRect(),l=(r=e.ownerDocument).documentElement,a=s(r),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),n?i.top+a.y-l.clientTop:i.left+a.x-l.clientLeft))/M();return o.dir?100-u:u}function F(t,e,n,i){var r=n.slice(),o=[!t,t],l=[t,!t];i=i.slice(),t&&i.reverse(),i.length>1?i.forEach(function(t,n){var i=H(r,t,r[t]+e,o[n],l[n],!1);!1===i?e=0:(e=i-r[t],r[t]=i)}):o=l=[!0];var a=!1;i.forEach(function(t,i){a=Y(t,n[t]+e,o[i],l[i])||a}),a&&i.forEach(function(t){V("update",t),V("slide",t)})}function V(t,e,n){Object.keys(E).forEach(function(i){var r=i.split(".")[0];t===r&&E[i].forEach(function(t){t.call(p,S.map(o.format.to),e,S.slice(),n||!1,w.slice())})})}function B(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&q(t,e)}function U(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return q(t,e);var n=(o.dir?-1:1)*(t.calcPoint-e.startCalcPoint);F(n>0,100*n/e.baseSize,e.locations,e.handleNumbers)}function q(t,n){n.handle&&(a(n.handle,o.cssClasses.active),C-=1),n.listeners.forEach(function(t){k.removeEventListener(t[0],t[1])}),0===C&&(a(b,o.cssClasses.drag),G(),t.cursor&&(A.style.cursor="",A.removeEventListener("selectstart",e))),n.handleNumbers.forEach(function(t){V("change",t),V("set",t),V("end",t)})}function W(t,n){var i;if(1===n.handleNumbers.length){var r=h[n.handleNumbers[0]];if(r.hasAttribute("disabled"))return!1;C+=1,l(i=r.children[0],o.cssClasses.active)}t.stopPropagation();var a=[],s=N(v.move,k,U,{target:t.target,handle:i,listeners:a,startCalcPoint:t.calcPoint,baseSize:M(),pageOffset:t.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:t.buttons,locations:w.slice()}),u=N(v.end,k,q,{target:t.target,handle:i,listeners:a,handleNumbers:n.handleNumbers}),c=N("mouseout",k,B,{target:t.target,handle:i,listeners:a,handleNumbers:n.handleNumbers});a.push.apply(a,s.concat(u,c)),t.cursor&&(A.style.cursor=getComputedStyle(t.target).cursor,h.length>1&&l(b,o.cssClasses.drag),A.addEventListener("selectstart",e,!1)),n.handleNumbers.forEach(function(t){V("start",t)})}function H(t,e,n,i,r,l){return h.length>1&&(i&&e>0&&(n=Math.max(n,t[e-1]+o.margin)),r&&e<h.length-1&&(n=Math.min(n,t[e+1]-o.margin))),h.length>1&&o.limit&&(i&&e>0&&(n=Math.min(n,t[e-1]+o.limit)),r&&e<h.length-1&&(n=Math.max(n,t[e+1]-o.limit))),o.padding&&(0===e&&(n=Math.max(n,o.padding)),e===h.length-1&&(n=Math.min(n,100-o.padding))),n=x.getStep(n),!((n=Math.max(Math.min(n,100),0))===t[e]&&!l)&&n}function z(t){return t+"%"}function G(){_.forEach(function(t){h[t].childNodes[0].style.zIndex=3+(h.length+(w[t]>50?-1:1)*t)})}function Y(t,e,n,i){return!1!==(e=H(w,t,e,n,i,!1))&&(function(t,e){w[t]=e,S[t]=x.fromStepping(e);var n=function(){h[t].style[o.style]=z(e),X(t),X(t+1)};window.requestAnimationFrame&&o.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}(t,e),!0)}function X(t){if(d[t]){var e=0,n=100;0!==t&&(e=w[t-1]),t!==d.length-1&&(n=w[t]),d[t].style[o.style]=z(e),d[t].style[o.styleOposite]=z(100-n)}}function K(t,e){null!==t&&!1!==t&&("number"==typeof t&&(t=String(t)),!1===(t=o.format.from(t))||isNaN(t)||Y(e,x.toStepping(t),!1,!1))}function Q(t,e){var n=r(t),l=void 0===w[0];e=void 0===e||!!e,n.forEach(K),o.animate&&!l&&i(b,o.cssClasses.tap,o.animationDuration),_.forEach(function(t){Y(t,w[t],!0,!1)}),G(),_.forEach(function(t){V("update",t),null!==n[t]&&e&&V("set",t)})}function Z(){var t=S.map(o.format.to);return 1===t.length?t[0]:t}function J(t,e){E[t]=E[t]||[],E[t].push(e),"update"===t.split(".")[0]&&h.forEach(function(t,e){V("update",e)})}if(b.noUiSlider)throw new Error("noUiSlider ("+t+"): Slider was already initialized.");return function(t){l(t,o.cssClasses.target),l(t,0===o.dir?o.cssClasses.ltr:o.cssClasses.rtl),l(t,0===o.ort?o.cssClasses.horizontal:o.cssClasses.vertical),c=D(t,o.cssClasses.base)}(b),function(t,e){h=[],(d=[]).push(I(e,t[0]));for(var n=0;n<o.handles;n++)h.push(O(e,n)),_[n]=n,d.push(I(e,t[n+1]))}(o.connect,c),p={destroy:function(){for(var t in o.cssClasses)o.cssClasses.hasOwnProperty(t)&&a(b,o.cssClasses[t]);for(;b.firstChild;)b.removeChild(b.firstChild);delete b.noUiSlider},steps:function(){return w.map(function(t,e){var n=x.getNearbySteps(t),i=S[e],r=n.thisStep.step,o=null;!1!==r&&i+r>n.stepAfter.startValue&&(r=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===t?r=null:0===t&&(o=null);var l=x.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(l))),null!==o&&!1!==o&&(o=Number(o.toFixed(l))),[o,r]})},on:J,off:function(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(E).forEach(function(t){var i=t.split(".")[0],r=t.substring(i.length);e&&e!==i||n&&n!==r||delete E[t]})},get:Z,set:Q,reset:function(t){Q(o.start,t)},__moveHandles:function(t,e,n){F(t,e,w,n)},options:u,updateOptions:function(t,e){var n=Z(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(e){void 0!==t[e]&&(u[e]=t[e])});var r=L(u);i.forEach(function(e){void 0!==t[e]&&(o[e]=r[e])}),x=r.spectrum,o.margin=r.margin,o.limit=r.limit,o.padding=r.padding,o.pips&&P(o.pips),w=[],Q(t.start||n,e)},target:b,removePips:R,pips:P},(g=o.events).fixed||h.forEach(function(t,e){N(v.start,t.children[0],W,{handleNumbers:[e]})}),g.tap&&N(v.start,c,function(t){t.stopPropagation();var e=j(t.calcPoint),n=function(t){var e=100,n=!1;return h.forEach(function(i,r){if(!i.hasAttribute("disabled")){var o=Math.abs(w[r]-t);o<e&&(n=r,e=o)}}),n}(e);if(!1===n)return!1;o.events.snap||i(b,o.cssClasses.tap,o.animationDuration),Y(n,e,!0,!0),G(),V("slide",n,!0),V("update",n,!0),V("change",n,!0),V("set",n,!0),o.events.snap&&W(t,{handleNumbers:[n]})},{}),g.hover&&N(v.move,c,function(t){var e=j(t.calcPoint),n=x.getStep(e),i=x.fromStepping(n);Object.keys(E).forEach(function(t){"hover"===t.split(".")[0]&&E[t].forEach(function(t){t.call(p,i)})})},{hover:!0}),g.drag&&d.forEach(function(t,e){if(!1!==t&&0!==e&&e!==d.length-1){var n=h[e-1],i=h[e],r=[t];l(t,o.cssClasses.draggable),g.fixed&&(r.push(n.children[0]),r.push(i.children[0])),r.forEach(function(t){N(v.start,t,W,{handles:[n,i],handleNumbers:[e-1,e]})})}}),Q(o.start),o.pips&&P(o.pips),o.tooltips&&(m=h.map(function(t,e){return!!o.tooltips[e]&&D(t.firstChild,o.cssClasses.tooltip)}),J("update",function(t,e,n){if(m[e]){var i=t[e];!0!==o.tooltips[e]&&(i=o.tooltips[e].to(n[e])),m[e].innerHTML=i}})),J("update",function(t,e,n,i,r){_.forEach(function(t){var e=h[t],i=H(w,t,0,!0,!0,!0),l=H(w,t,100,!0,!0,!0),a=r[t],s=o.ariaFormat.to(n[t]);e.children[0].setAttribute("aria-valuemin",i.toFixed(1)),e.children[0].setAttribute("aria-valuemax",l.toFixed(1)),e.children[0].setAttribute("aria-valuenow",a.toFixed(1)),e.children[0].setAttribute("aria-valuetext",s)})}),p}(n,L(o),o);return n.noUiSlider=u,u}}})?i.apply(e,[]):i)||(t.exports=r)}},[1]);